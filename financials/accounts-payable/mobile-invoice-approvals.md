---
title: "Счет-фактура утверждений"
description: "Мобильные возможности в Microsoft Dynamics 365 for Operations позволяют пользователю бизнес мобильным взаимодействие разработки. Для более сложных сценариев платформы также приступим разработчикам расширить возможности при необходимости. Наиболее эффективным способом узнать о новых концепций на мобильный должно пройти через процесс конструирования несколько сценариев. Этот раздел предназначен для предоставления практический подход к разработке сценариев мобильных устройств, используя утверждения накладных для мобильных устройств как вариант использования поставщика. В этом разделе помогут разработать другие варианты скриптов и могут также применяться к другим сценариям, которые не относятся к накладным поставщиков."
author: twheeloc
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User, IT Pro
ms.search.scope: Operations, Core
ms.custom: 262034
ms.assetid: 9db38b3f-26b3-436e-8449-7ff243568a18
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
translationtype: Human Translation
ms.sourcegitcommit: c8c96dc9705688308dd4a5c720700ddc17657d75
ms.openlocfilehash: 30229c0d24aed0bd927993b9af76b32d9bb073ee
ms.lasthandoff: 03/31/2017


---

# <a name="mobile-invoice-approvals"></a>Счет-фактура утверждений

Мобильные возможности в Microsoft Dynamics 365 for Operations позволяют пользователю бизнес мобильным взаимодействие разработки. Для более сложных сценариев платформы также приступим разработчикам расширить возможности при необходимости. Наиболее эффективным способом узнать о новых концепций на мобильный должно пройти через процесс конструирования несколько сценариев. Этот раздел предназначен для предоставления практический подход к разработке сценариев мобильных устройств, используя утверждения накладных для мобильных устройств как вариант использования поставщика. В этом разделе помогут разработать другие варианты скриптов и могут также применяться к другим сценариям, которые не относятся к накладным поставщиков.

<a name="prerequisites"></a>Необходимые условия
-------------

| Необходимые условия                                                                                            | описание                                                                                                                                                          |
|---------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Предварительно ознакомьтесь руководством по мобильных Intel                                                                                |(/ dynamics365/операций/отклонения itpro/мобильного приложений / mobile-platform.md)                                                                                                  |
| Dynamics 365 для операций                                                                             | Microsoft Dynamics для операций платформы и среды с Microsoft Dynamics 365 операций версии 1611 обновление 3 (ноябрь 2016)                   |
| Установите исправление 3204341 КБ.                                                                              | Регистратор задач ошибочно можно записывать две команды закрытия для раскрывающегося списка диалоговые окна, которые оно будет указано в Dynamics 365 для обновления платформы операции 3 (ноябрь 2016 обновления) |
| Установите исправление 3207800 КБ.                                                                              | Это исправление позволяет вложения для просмотра на клиентском компьютере мобильных устройств, оно будет указано в Dynamics 365 для обновления платформы операции 3 (ноябрь 2016 обновления).           |
| Установите исправление 3208224 КБ.                                                                              | Код приложения для мобильного телефона поставщика приложения утверждения накладной, которое она входит в приложение Microsoft Dynamics AX 7.0.1 (май 2016).                          |
| Android или операций ввода-вывода или с мобильного приложения, которые установлены для Dynamics 365 for Operations устройства Windows | Найдите приложение в хранилище соответствующие приложения.                                                                                                                     |

## <a name="introduction"></a>Введение
Мобильные утверждения для накладных поставщика требуется три исправления, описанные в разделе «Необходимые условия». Эти исправления не предоставляют рабочую область для утверждения накладных. Чтобы узнать, что рабочая область в контексте мобильных устройств, считывается мобильных подтверждений, которая описана в разделе «Необходимые условия». Должны быть составлены рабочей области утверждений накладной. 

Все организации средство и определяет свой бизнес-процесс для накладных поставщика по-разному. Прежде чем выполнить проектирование более мобильные возможности для утверждения накладных поставщика, следует рассмотреть следующие аспекты бизнес-процесса. Смысл является использование этих точек данных, как можно оптимизировать работу пользователей на устройстве.

-   Какие поля в заголовке накладной пользователь захочет увидеть во взаимодействии с мобильных устройств и в каком порядке?
-   Какие поля из строк накладной пользователь захочет увидеть во взаимодействии с мобильных устройств и в каком порядке?
-   Сколько строк накладной нет в накладной? Применить данное правило 80-20 и оптимизации 80 процентов.
-   Пользователям потребуется ознакомиться распределения по бухгалтерским счетам (кодирование накладной) на мобильном устройстве во время проверок? Если Да, ответ на этот вопрос необходимо рассмотрите следующие вопросы:
    -   Для строки накладной, существуют ли количество распределения по бухгалтерским счетам (суммарная цена, налог с продаж, расходы, разбиения и т. д.)? Опять же применяются правила 80-20.
    -   Накладные также у распределения по бухгалтерским счетам в заголовке накладной? Если это так, эти распределения по бухгалтерским счетам были доступны на устройстве?

> [!NOTE]
> В этом разделе не объясняется, как изменить распределения по бухгалтерским счетам, поскольку эта функция не поддерживается в настоящее время для мобильных сценариев.

-   Пользователям потребуется ознакомиться вложения по накладной на устройстве?

Макет опыт мобильных устройств для утверждения накладных будет различаться в зависимости от ответов на эти вопросы. Целью является упрощение задач пользователей для бизнес-процесса на мобильный в организации. В оставшейся части этого раздела рассмотрим два варианта сценарии, основанные на другие ответы на предыдущие вопросы. 

В качестве общих рекомендаций, при работе с мобильным конструктора убедитесь, что публикация изменений во избежание потери обновлений.

## <a name="designing-a-simple-invoice-approval-scenario-for-contoso"></a>Разработка сценария утверждения счет-фактура для Contoso
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Атрибут сценария</th>
<th>Ответ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Какие поля в заголовке накладной пользователь захочет увидеть во взаимодействии с мобильных устройств и в каком порядке?</td>
<td><ol>
<li>Наименование Поставщика</li>
<li>Общее количество по накладной</li>
<li>Счет на</li>
<li>Номер накладной</li>
<li>Дата накладной</li>
<li>Описание накладной</li>
<li>Срок</li>
<li>Валюта накладной</li>
</ol></td>
</tr>
<tr class="even">
<td>Какие поля из строк накладной пользователь захочет увидеть во взаимодействии с мобильных устройств и в каком порядке?</td>
<td><ol>
<li>Категория закупаемой продукции</li>
<li>Количество</li>
<li>Цена за ед. изм.</li>
<li>Чистая сумма строки</li>
<li>Сумма по форме 1099</li>
</ol></td>
</tr>
<tr class="odd">
<td>Сколько строк накладной нет в накладной? Применить данное правило 80-20 и оптимизации 80 процентов.</td>
<td>1</td>
</tr>
<tr class="even">
<td>Пользователям потребуется ознакомиться распределения по бухгалтерским счетам (кодирование накладной) на мобильном устройстве во время проверок?</td>
<td>Да</td>
</tr>
<tr class="odd">
<td>Для строки накладной, существуют ли количество распределения по бухгалтерским счетам (расширенная цена, налог с продаж, расходы и т. д.)? Опять же применяются правила 80-20.</td>
<td>Расширенная цена: 2 налога: 0 расходы: 0</td>
</tr>
<tr class="even">
<td>Накладные также у распределения по бухгалтерским счетам в заголовке накладной? Если это так, эти распределения по бухгалтерским счетам были доступны на устройстве?</td>
<td>Не используется</td>
</tr>
<tr class="odd">
<td>Пользователям потребуется ознакомиться вложения по накладной на устройстве?</td>
<td>Да</td>
</tr>
</tbody>
</table>

### <a name="create-the-workspace"></a>Создание рабочей области

1.  В веб-браузер открыть Dynamics 365 для операций и войдите в систему.
2.  Добавить после входа **& режим = мобильных** по URL-адресу, как показано в следующем примере и обновление страницы: https://&lt;yoururl&gt;/? cmp = usmf & mi = DefaultDashboard**& режим = мобильных устройств**
3.  Щелкните **параметры** (устройств) кнопку в правом верхнем углу страницы, а затем щелкните **мобильного приложения**. В конструкторе мобильного приложения должен отображаться так же, как отображается регистратора задач.
4.  Щелкните **добавить** для создания новой рабочей области. Для этого примера назовите рабочей области **Мои утверждения**.
5.  Введите описание.
6.  Выберите цвет рабочей области. Цвет рабочей области будут использоваться для общий стиль качества работы мобильных для этой рабочей области.
7.  Выберите значок для рабочей области.
8.  Щелкните **сделать**
9.  Щелкните **публикация рабочей области** для сохранения изменений

### <a name="vendor-invoices-assigned-to-me"></a>Накладные поставщика, назначенные мне

Первая страница мобильных устройств, следует разрабатывать — список накладных, назначенных пользователю на рассмотрение. Для создания этой странице для мобильных устройств, используйте **VendMobileInvoiceAssignedToMeListPage** страницы в Dynamics 365 для операций. Прежде чем завершить эту процедуру, убедитесь, что в этой накладной поставщика, по крайней мере один назначен вам для проверки, и имеет два распределения строки накладной. Эта настройка соответствует требованиям для этого сценария.

1.  В Dynamics 365 для операций URL-адреса, необходимо заменить имя элемента меню с **VendMobileInvoiceAssignedToMeListPage** для открытия мобильных версии **ожидающих накладных поставщика, назначенных мне** страницу списка в **Расчеты с поставщиками** модуля. В зависимости от количества накладных, в системе назначенных вам на этой странице отображаются для тех накладных. Для поиска конкретной накладной, можно использовать фильтр в левой части окна. Тем не менее не требуют определенной накладной для этого примера. Нам просто нужно некоторые накладной, назначенные вам, которая позволяет разрабатывать страницы мобильного устройства. Новые страницы, доступные были разработаны специально для разработки сценариев мобильных устройств для накладной поставщика. Таким образом необходимо использовать эти страницы. URL-адрес должен иметь вид следующий URL-адрес, и после ввода, страница, которая показана на рисунке должно отображаться: https://&lt;yourURL&gt;/? cmp = usmf & mi =**VendMobileInvoiceAssignedToMeListPage**& режим = мобильных [![ожидающих накладных поставщика, назначенных мне странице](./media/mobile-invoice-approvals01-1024x281.png)](./media/mobile-invoice-approvals01.png)
2.  Щелкните **параметры** (устройств) кнопку в правом верхнем углу страницы, а затем щелкните **мобильного приложения**
3.  Выберите рабочую область и щелкните **изменение**
4.  Щелкните **страницу установки** для создания первой страницы для мобильных устройств.
5.  Введите имя, например **Мои счета поставщика**и описание, таких как **накладные поставщика, назначенные мне на рассмотрение**.
6.  Click **Done**.
7.  В конструкторе мобильных устройств на **поля**, щелкните **выберите поля**. На странице списка столбцов должно быть сходство ниже. [![Столбцы в накладные поставщиков, ожидающие обработки страницы, назначенных мне](./media/mobile-invoice-approvals02-1024x117.png)](./media/mobile-invoice-approvals02.png)
8.  Добавьте необходимые столбцы со страницы списка, необходимо показать пользователям на странице мобильного. Порядок, в котором добавляются является порядок отображения полей для конечного пользователя. Единственный способ изменить порядок полей будет повторно, выбрав все поля. В зависимости от требований данного сценария следующих восьми поля являются обязательными. Тем не менее некоторые пользователи возможно потребуется восемь полей слишком больших объемов данных на мобильном устройстве. Таким образом будут показаны только наиболее важные поля в представлении мобильного списка. Остальные поля отображаются в табличном представлении разработка будет позже. Пока мы добавим следующие поля. Щелкните знак "плюс" (**+**) в этих столбцов, чтобы добавить к странице мобильных устройств.
    1.  Наименование Поставщика
    2.  Общее количество по накладной
    3.  Счет на
    4.  Номер накладной
    5.  Дата накладной

    После добавления поля странице мобильных устройств должно быть сходство ниже. [![Страница после добавления поля](./media/mobile-invoice-approvals03.png)](./media/mobile-invoice-approvals03.png)
9.  Необходимо добавить следующие столбцы теперь, чтобы мы можно было включить действия рабочего процесса.
    1.  Показать завершить задачу
    2.  Показать делегировать задачу
    3.  Отображение отзыва задачи
    4.  Отображение Отклонение задачи
    5.  Отображение запроса завершения задачи
    6.  Отображение задачи повторной отправки

10. Щелкните **сделать**, чтобы выйти из режима редактирования.
11. Щелкните **Назад** и затем **сделать** для выхода из рабочей области
12. Щелкните **публикация рабочей области** чтобы сохранить результаты работы.
13. Включить **отображение накладной итоговая поставщиков, ожидающих обработки накладных список** в форме параметров с поставщиками учетных записей в разделе **накладной**. Обратите внимание, что этот параметр, только включив итоги по накладным будет рассчитываться для отображения на странице списка накладных поставщиков, ожидающие обработки. Это новая возможность в рамках предварительно реквизитов оперативное исправление 3208224.

### <a name="vendor-invoice-details"></a>Сведения о накладных поставщика

Для создания на странице сведения о накладной для мобильных устройств, используйте **VendMobileInvoiceHeaderDetails** страницы в Dynamics 365 для операций. Обратите внимание, что, в зависимости от количества накладных, которые имеются в системе, на этой странице отображаются старой накладной (накладная, которая была создана первой). Для поиска конкретной накладной, можно использовать фильтр в левой части окна. Тем не менее не требуют определенной накладной для этого примера. Мы просто необходима для некоторых данных накладной разрабатывается странице для мобильных устройств. [![Страница бизнес-правила](./media/mobile-invoice-approvals04-1024x425.png)](./media/mobile-invoice-approvals04.png)

1.  В Dynamics 365 for Operations URL-адрес, необходимо заменить имя элемента меню с **VendMobileInvoiceHeaderDetails**, чтобы открыть форму
2.  Откройте конструктор мобильных устройств из **параметры** кнопку (производительность).
3.  Щелкните **редактирование** кнопку для запуска режима редактирования в рабочей области.
4.  Выберите ** Мои счета поставщика ** страницу, созданную ранее, а затем щелкните **редактирование**.
5.  На **поля**, щелкните **сетки** в заголовке столбца.
6.  Щелкните **свойства**&gt;**страницу установки**. **Примечание:** при нажатии кнопки **сетки** в заголовке и добавить страницу связи со сведениями о странице устанавливаются автоматически.
7.  Введите заголовок страницы, таких как **сведения о накладных**и описание, таких как **Просмотр заголовка накладной и сведений о**.
8.  Щелкните **выберите поля**. Обратите внимание, что, порядок, в котором добавляются порядок отображения полей для конечного пользователя. Единственный способ изменить порядок полей будет повторно, выбрав все поля.
9.  Добавьте следующие поля в заголовке, в соответствии с требованиями данного сценария:
    1.  Наименование Поставщика
    2.  Общее количество по накладной
    3.  Счет на
    4.  Номер накладной
    5.  Дата накладной
    6.  Описание накладной
    7.  Срок
    8.  Валюта накладной

10. Добавьте следующие поля в сетке строк на странице:
    1.  Категория закупаемой продукции
    2.  Количество
    3.  Цена за ед. изм.
    4.  Чистая сумма строки
    5.  Сумма по форме 1099

11. После добавления всех полей из двух предыдущих шагов, щелкните **сделать**. Страницы должно быть сходство ниже. [![Страница после добавления поля](./media/mobile-invoice-approvals05.png)](./media/mobile-invoice-approvals05.png)
12. Щелкните **сделать**, чтобы выйти из режима редактирования.
13. Щелкните **Назад** и затем **сделать** для выхода из рабочей области
14. Щелкните **публикация рабочей области** чтобы сохранить результаты работы

### <a name="workflow-actions"></a>Действия workflow-процесса

Чтобы добавить действия workflow-процесса, используйте **VendMobileInvoiceHeaderDetails** страницы в Dynamics 365 для операций. Чтобы открыть эту страницу, замените имя пункта меню, в URL-адрес, как было сделано ранее. Откройте конструктор мобильных **параметры** кнопку (производительность). Выполните следующие действия для добавления действия workflow-процесса на странице сведений.

1.  Щелкните **редактирование** кнопку для запуска режима редактирования в рабочей области.
2.  Выберите **сведения о накладных** страницу, созданную ранее, а затем щелкните **редактирование**.
3.  На **действия**, щелкните **добавить действие**.
4.  Введите заголовок действий, таких как **утвердить**и описание, таких как **утверждение накладной**. Обратите внимание, что название действия, которое вводится здесь становится имя действия, которое отображается для пользователя в мобильных приложениях.
5.  Click **Done**.
6.  Щелкните **выберите поля**.
7.  Пройти через workflow-процесс **VendMobileInvoiceHeaderDetails** странице, после чего выполнить действие, которое вы хотите записать. Убедитесь, что ввести комментарии рабочего процесса во время этого процесса, таким образом, чтобы в поле Комментарии также включается в качества работы мобильных.
8.  После выполнения действия бизнес-правила, нажмите кнопку **сделать** на выполнение этой задачи Выбор полей.
9.  Щелкните **сделать**, чтобы выйти из режима редактирования.
10. Щелкните **Назад** и затем **сделать** для выхода из рабочей области
11. Щелкните **публикация рабочей области** чтобы сохранить результаты работы
12. Повторите шаги 3-11 для записи всех действий требуется бизнес-правила. Обратите внимание, что требование, которое у назначенных вам счетов, которые находятся в состоянии право действия workflow-процесса, необходимо разработать для.
13. Откройте Блокнот или Microsoft Visual Studio и вставьте следующий код. Сохраните файл как файл .js. Этот код выполняет следующие операции:
    1.  Он скрывает дополнительные связанные с workflow-столбцы, которые ранее были добавлены на странице мобильного списка. Мы добавлены этих столбцов, чтобы приложение имеет этих сведений в контексте можно сделать следующий шаг.
    2.  На основании шага бизнес-процесса, который активен, оно применяется логику, чтобы отобразить только те действия.

Обратите внимание, что имя страниц и других элементов управления в коде JS должны быть одинаковыми из рабочей области.

1.  основной функцией (metadataService, dataService, cacheService, $q) {возврат {библиотеки: функции (appMetadata) {/ / скрыть элементы управления, которые должны быть metadataService.configureControl присутствует, но не видны ("Мои--накладных поставщика,"ShowAccept", {скрытые: true}); metadataService.configureControl (" мою--накладных поставщика, "ShowApprove", {скрытые: true}); metadataService.configureControl ("мою--накладных поставщика,"ShowReject", {скрытые: true}); metadataService.configureControl (" мою--накладных поставщика, "ShowDelegate", {скрытые: true}); metadataService.configureControl ("мою--накладных поставщика,"ShowRequestChange", {скрытые: true}); metadataService.configureControl (" мою--накладных поставщика, "ShowRecall", {скрытые: true}); metadataService.configureControl ("мою--накладных поставщика,"ShowComplete", {скрытые: true}); metadataService.configureControl (" {мою--накладных поставщика, "ShowResubmit", скрытые: true}); }, pageInit: функцией (pageMetadata, параметры) {Если (pageMetadata.Name == «Счет сведения») {/ / отображение действия бизнес-правила в зависимости от бизнес-правила шаг metadataService.configureAction ("Принять", {видимой: true}); metadataService.configureAction ("Одобрить", {видимой: true}); metadataService.configureAction ("Отклонить", {видимой: true}); metadataService.configureAction ("Делегат", {видимой: true}); metadataService.configureAction ("запрос изменения", {видимой: true}); metadataService.configureAction ("Отзыв", {видимой: true}); metadataService.configureAction ("Завершено", {видимой: ИСТИНА}); metadataService.configureAction ("Повторной отправки", {видимой: true});

                       var entityContextParts = params.pageContext.split(':');
                       var data = dataService.getEntityData(entityContextParts[0], entityContextParts[1]);

                       var acceptControl = data.getPropertyValue('VendInvoiceInfoTable/showAccept');
                       var approveControl = data.getPropertyValue('VendInvoiceInfoTable/showApprove');
                       var rejectControl = data.getPropertyValue('VendInvoiceInfoTable/showReject');
                       var delegateControl = data.getPropertyValue('VendInvoiceInfoTable/showDelegate');
                       var requestChangeControl = data.getPropertyValue('VendInvoiceInfoTable/showRequestChange');
                       var recallControl = data.getPropertyValue('VendInvoiceInfoTable/showRecall');
                       var completeControl = data.getPropertyValue('VendInvoiceInfoTable/showComplete');
                       var resubmitControl = data.getPropertyValue('VendInvoiceInfoTable/showResubmit');

                       var showAcceptControl = Boolean(acceptControl == 1);
                       var showApproveControl = Boolean(approveControl == 1);
                       var showRejectControl = Boolean(rejectControl == 1);
                      var showDelegateControl = Boolean(delegateControl == 1);
                       var showRequestChangeControl = Boolean(requestChangeControl == 1);
                       var showRecallControl = Boolean(recallControl == 1);
                       var showCompleteControl = Boolean(completeControl == 1);
                       var showResubmitControl = Boolean(resubmitControl == 1);

                       metadataService.configureAction('Accept', { visible: showAcceptControl });
                       metadataService.configureAction('Approve', { visible: showApproveControl });
                       metadataService.configureAction('Reject', { visible: showRejectControl });
                       metadataService.configureAction('Delegate', { visible: showDelegateControl });
                       metadataService.configureAction('Request-change', { visible: showRequestChangeControl });
                       metadataService.configureAction('Recall', { visible: showRecallControl });
                       metadataService.configureAction('Complete', { visible: showCompleteControl });
                     metadataService.configureAction('Resubmit', { visible: showResubmitControl });
                   }
                 },
           };
        }

2.  Отправка файла кода в рабочей области, выбрав **логику** вкладка
3.  Щелкните **сделать**, чтобы выйти из режима редактирования.
4.  Щелкните **Назад** и затем **сделать** для выхода из рабочей области
5.  Щелкните **публикация рабочей области** чтобы сохранить результаты работы

### <a name="vendor-invoice-attachments"></a>Вложения накладной поставщика

1.  Щелкните **параметры** (устройств) кнопку в правом верхнем углу страницы, а затем щелкните **мобильного приложения**
2.  Щелкните **редактирование** кнопку для запуска режима редактирования в рабочей области.
3.  Выберите ** сведения о накладных ** страницу, созданную ранее, а затем щелкните **редактирование**.
4.  Настройка **Управление документами** параметр для **Да** как показано ниже. **Примечание:** при наличии требований нет, чтобы показывать вложения на мобильном устройстве, можно оставить данный параметр **нет**, что является значением по умолчанию.
5.  [![docmanagement](./media/docmanagement-216x300.png)](./media/docmanagement.png)
6.  Щелкните **сделать**, чтобы выйти из режима редактирования.
7.  Щелкните **Назад** и затем **сделать** для выхода из рабочей области
8.  Щелкните **публикация рабочей области** чтобы сохранить результаты работы

### <a name="vendor-invoice-line-distributions"></a>Распределения строки накладной поставщика

Требования для данного сценария убедитесь, что будет только уровня строк распределения, а накладная всегда будет только одна строка. Поскольку эта ситуация является простой, работа пользователя на мобильном устройстве также должен быть достаточно простым, пользователю не нужно выполнять детализацию несколько уровней для просмотра распределений. Накладные поставщика в Dynamics 365 for Operations включить отображение все распределения из заголовка накладной. Такая ситуация, что нужно для мобильных сценария. Поэтому следует воспользоваться **VendMobileInvoiceAllDistributionTree** страница для разработки мобильных сценарий в этой части. 

> [!NOTE] 
> Знание требований помогают решить, какие определенную страницу следует использовать и как точно оптимизировать мобильных опыт для пользователя, когда нам разработать сценарий. Во втором сценарии Корпорация Майкрософт будет использовать в другую страницу для отображения распределений, потому что отличаются требования для данного сценария.

1.  В URL-АДРЕСЕ замените имя пункта меню, оценки. Страница, которая отображается должен соответствовать показателю ниже. [![Все страницы распределений](./media/mobile-invoice-approvals06.png)](./media/mobile-invoice-approvals06.png)
2.  Откройте конструктор мобильных устройств из **параметры** кнопку (производительность).
3.  Щелкните **редактирование** кнопку для запуска режима редактирования в рабочей области. **Примечание:** будет отображаться автоматически создавать две новые страницы. Система создает эти страницы, поскольку включено управление документами в предыдущем разделе. Можно игнорировать эти новые страницы.
4.  Щелкните **страницу установки**.
5.  Введите заголовок страницы, например **учет представление**и описание, таких как **представления учета для накладной**.
6.  Click **Done**.
7.  На **поля**, щелкните **выберите поля**, выберите следующие поля на странице распределения и нажмите кнопку **сделать**:
    1.  Сумма, руб.
    2.  Валютное
    3.  Счет ГК

> [!NOTE] 
> Не был выбран пункт **описание** столбца в сетке распределения, поскольку требования для данного сценария подтверждает, что суммарная цена только суммы, которая будет распределений для. Таким образом пользователю не требуется другое поле для определения типа суммы, для распределения. Однако в следующем сценарии мы **будут** использовать эту информацию, поскольку указать требования для данного сценария, что другие типы сумм имеют распределения (например, налог).
8.  Щелкните **сделать**, чтобы выйти из режима редактирования.
9.  Щелкните **Назад** и затем **сделать** для выхода из рабочей области
10. Щелкните **публикация рабочей области** чтобы сохранить результаты работы

**Примечание:****учет представление** страницу для мобильных устройств в настоящее время не привязано к мобильным страницам, которые до этого момента мы разработаны. Так как пользователь должен иметь возможности перехода к **представления учета** со страницы **сведения о накладных** страницы на мобильном устройстве, необходимо предоставить переход от **сведения о накладных** чтобы **представления учета** страницы. Мы установления Навигация с помощью дополнительной логики через JavaScript.

1.  Открыть JS-файла, созданного ранее и добавьте строки, выделенные в следующем коде. Этот код выполняет следующие операции:
    1.  Она помогает гарантировать, что пользователь не может подняться непосредственно из рабочей области для **учет представление** страницы.
    2.  Он устанавливает управления перемещением из **сведения о накладных** чтобы **учет представление** страницы.

> [!NOTE] 
> Имя страницы и других элементов управления в коде JS должны быть одинаковыми из рабочей области.

1.  основной функцией (metadataService, dataService, cacheService, $q) {возврат {библиотеки: функции (appMetadata) {/ / скрыть элементы управления, которые должны быть metadataService.configureControl присутствует, но не видны ("Мои--накладных поставщика,"ShowAccept", {скрытые: true}); metadataService.configureControl (" мою--накладных поставщика, "ShowApprove", {скрытые: true}); metadataService.configureControl ("мою--накладных поставщика,"ShowReject", {скрытые: true}); metadataService.configureControl (" мою--накладных поставщика, "ShowDelegate", {скрытые: true}); metadataService.configureControl ("мою--накладных поставщика,"ShowRequestChange", {скрытые: true}); metadataService.configureControl (" мою--накладных поставщика, "ShowRecall", {скрытые: true}); metadataService.configureControl ("мою--накладных поставщика,"ShowComplete", {скрытые: true}); metadataService.configureControl (" {мою--накладных поставщика, "ShowResubmit", скрытые: true}); Скрыть страницы не подходит для корневой metadataService.hideNavigation('View-accounting') переходов; Ссылку, чтобы просмотреть metadataService.addLink учета ("— сведения о накладной," Просмотр учета "," Просмотр учета навигации управления ","Просмотр учета", true); }, pageInit: функцией (pageMetadata, параметры) {Если (pageMetadata.Name == «Счет сведения») {/ / отображение действия бизнес-правила в зависимости от бизнес-правила шаг metadataService.configureAction ("Принять", {видимой: true}); metadataService.configureAction ("Одобрить", {видимой: true}); metadataService.configureAction ("Отклонить", {видимой: true}); metadataService.configureAction ("Делегат", {видимой: true}); metadataService.configureAction ("запрос изменения", {видимой: true}); metadataService.configureAction ("Отзыв", {видимой: true}); metadataService.configureAction ("Завершено", {видимой: ИСТИНА}); metadataService.configureAction ("Повторной отправки", {видимой: true});

                       var entityContextParts = params.pageContext.split(':');
                       var data = dataService.getEntityData(entityContextParts[0], entityContextParts[1]);

                       var acceptControl = data.getPropertyValue('VendInvoiceInfoTable/showAccept');
                       var approveControl = data.getPropertyValue('VendInvoiceInfoTable/showApprove');
                       var rejectControl = data.getPropertyValue('VendInvoiceInfoTable/showReject');
                       var delegateControl = data.getPropertyValue('VendInvoiceInfoTable/showDelegate');
                       var requestChangeControl = data.getPropertyValue('VendInvoiceInfoTable/showRequestChange');
                       var recallControl = data.getPropertyValue('VendInvoiceInfoTable/showRecall');
                       var completeControl = data.getPropertyValue('VendInvoiceInfoTable/showComplete');
                       var resubmitControl = data.getPropertyValue('VendInvoiceInfoTable/showResubmit');

                       var showAcceptControl = Boolean(acceptControl == 1);
                       var showApproveControl = Boolean(approveControl == 1);
                     var showRejectControl = Boolean(rejectControl == 1);
                       var showDelegateControl = Boolean(delegateControl == 1);
                       var showRequestChangeControl = Boolean(requestChangeControl == 1);
                       var showRecallControl = Boolean(recallControl == 1);
                       var showCompleteControl = Boolean(completeControl == 1);
                       var showResubmitControl = Boolean(resubmitControl == 1);

                       metadataService.configureAction('Accept', { visible: showAcceptControl });
                       metadataService.configureAction('Approve', { visible: showApproveControl });
                       metadataService.configureAction('Reject', { visible: showRejectControl });
                       metadataService.configureAction('Delegate', { visible: showDelegateControl });
                       metadataService.configureAction('Request-change', { visible: showRequestChangeControl });
                       metadataService.configureAction('Recall', { visible: showRecallControl });
                       metadataService.configureAction('Complete', { visible: showCompleteControl });
                       metadataService.configureAction('Resubmit', { visible: showResubmitControl });
        }
                 },
           };
        }

2.  Отправка файла кода в рабочей области, выбрав **логику** вкладке поверх предыдущего кода
3.  Щелкните **сделать**, чтобы выйти из режима редактирования.
4.  Щелкните **Назад** и затем **сделать** для выхода из рабочей области
5.  Щелкните **публикация рабочей области** чтобы сохранить результаты работы

### <a name="validation"></a>Проверка

С мобильных устройств откройте приложение и подключитесь к данных Dynamics 365 для экземпляра операций. Убедитесь, что вход компании где накладных поставщика, назначенных для пользователя на рассмотрение. Необходимо выполнить следующие действия:

-   См. **Мои утверждения** рабочей области.
-   Перейти в **Мои утверждения** рабочей области и см. в разделе **Мои счета поставщика** страницы.
-   Перейти в **Мои счета поставщика** страницы и просмотреть список накладных, которые назначены вам.
-   Перейти к одному из накладных и просмотреть сведения заголовка накладной и строк данных.
-   На странице сведений о появится ссылка вложения и перейдите по этой ссылке можно перейти к списку вложения и просматривать вложения.
-   На странице сведений о см. ссылку на **Просмотр учета** страницы и использовать эту ссылку для перехода к странице распределений и просмотра распределений.
-   На странице сведений выберите **действия** меню в нижней или выполнить действия бизнес-правил, применимых к этапу документооборота.

## <a name="designing-a-complex-invoice-approval-scenario-for-fabrikam"></a>Разработка сценария утверждения сложной накладной компании Fabrikam
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Атрибут сценария</th>
<th>Ответ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Какие поля в заголовке накладной пользователь захочет увидеть во взаимодействии с мобильных устройств и в каком порядке?</td>
<td><ol>
<li>Наименование Поставщика</li>
<li>Сумма накладной</li>
<li>Счет на</li>
<li>Номер накладной</li>
<li>Дата накладной</li>
<li>Описание накладной</li>
<li>Срок</li>
<li>Валюта накладной</li>
</ol></td>
</tr>
<tr class="even">
<td>Какие поля из строк накладной пользователь захочет увидеть во взаимодействии с мобильных устройств и в каком порядке?</td>
<td><ol>
<li>Категория закупаемой продукции</li>
<li>Количество</li>
<li>Цена за ед. изм.</li>
<li>Чистая сумма строки</li>
<li>Сумма по форме 1099</li>
</ol></td>
</tr>
<tr class="odd">
<td>Сколько строк накладной нет в накладной? Применить данное правило 80-20 и оптимизации 80 процентов.</td>
<td>5</td>
</tr>
<tr class="even">
<td>Пользователям потребуется ознакомиться распределения по бухгалтерским счетам (кодирование накладной) на мобильном устройстве во время проверок?</td>
<td>Да</td>
</tr>
<tr class="odd">
<td>Для строки накладной, существуют ли количество распределения по бухгалтерским счетам (расширенная цена, налог с продаж, расходы и т. д.)? Опять же применяются правила 80-20.</td>
<td>Расширенная цена: 2 налога: расходы 2: 2</td>
</tr>
<tr class="even">
<td>Накладные также у распределения по бухгалтерским счетам в заголовке накладной? Если это так, эти распределения по бухгалтерским счетам были доступны на устройстве?</td>
<td>Не используется</td>
</tr>
<tr class="odd">
<td>Пользователям потребуется ознакомиться вложения по накладной на устройстве?</td>
<td>Да</td>
</tr>
</tbody>
</table>

### <a name="exercise"></a>Упражнения

Можно сделать следующие варианты для сценария 1, в соответствии с требованиями для сценарий 2. Этот раздел служит в качестве упражнения, которые можно выполнить для обучающих целей.

1.  Так как несколько строк накладной в сценарии 2, следующие изменения в структуре поможет оптимизировать работу пользователей на мобильном устройстве:
    1.  Вместо просмотра строки накладной на странице сведения (как и в сценарии 1), пользователи могут выбирать для просмотра строк на отдельной странице мобильных устройств.
    2.  Так как в этом случае ожидается более одной строки накладной, если **VendMobileInvoiceAllDistributionTree** страница используется для создания распределений страницы для мобильных устройств (как и в сценарии 1), может вызвать путаницу для пользователя сопоставить строки для распределения. Таким образом, использовать **VendMobileInvoiceLineDistributionTree** страницы для создания распределений страницы.
    3.  В идеальном случае распределений должны отображаться в контексте строку накладной, в этом случае. Таким образом Убедитесь в том, что пользователь может перейти в строку, чтобы увидеть страницу распределений. Используйте возможность связи страницы для установления детализации, так же, как это было выполнено для страницы заголовка и сведений в сценарии 1.

2.  Так как более одного типа сумма должна в распределениях в сценарии 2 (налог с продаж, расходы и т. д.), будет полезно отобразить описание типа суммы. (Мы указана эта информация в сценарии 1.)

## <a name="conclusion"></a>Заключение
Мобильных платформ и возможности приложений позволяют разрабатывать сценариев мобильных устройств, которые были оптимизированы для пользователей в организации. В примерах в этом разделе приведены на основании, можно попробуйте другие варианты и создания различных приложений конкретной задачи.


