---
title: "Рекомендации по импорту ваучеров с помощью объекта \"Общий журнал\""
description: "В этом разделе приводятся советы по импорту данных в общий журнал с помощью объекта \"Общий журнал\"."
author: twheeloc
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Application User
ms.reviewer: twheeloc
ms.search.scope: Core, Operations
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: 2771a31b5a4d418a27de0ebe1945d1fed2d8d6d6
ms.openlocfilehash: 688fa17072cb340d6d02be31528339fb98601825
ms.contentlocale: ru-ru
ms.lasthandoff: 11/03/2017

---

# <a name="best-practices-for-importing-vouchers-using-the-general-journal-entity"></a>Рекомендации по импорту ваучеров с помощью объекта "Общий журнал"

[!include[banner](../includes/banner.md)]


В этом разделе приводятся советы по импорту данных в общий журнал с помощью объекта "Общий журнал".  

Объект "Общий журнал" можно использовать для импорта ваучеров с типом счета или типом корр. счета **Главная книга, Клиент, Поставщик или Банк**. Ваучер может вводиться в виде одной строки, используя как поле **Счет**, так и поле **Корр. счет**, или в виде ваучера с несколькими строками, где используется только поле **Счет** (а поле **Корр. счет** остается пустым на каждой строке). Объект "Общий журнал" поддерживает не все типы счетов. Вместо этого существуют другие объекты для сценариев, в которых требуются различные комбинации типов счетов. Например, чтобы импортировать проводку по проекту используйте объект "Журнал расходов по проекту". Каждый объект предназначен для поддержки конкретных сценариев, что означает, что дополнительные поля могут быть доступны в объектах для этих сценариев, но отсутствовать в объектах для других сценариев.

## <a name="setup"></a>Настройка
Прежде чем выполнять импорт с помощью объекта "Общий журнал", проверьте следующие настройки:

-   **Настройка номерных серий для номера партии журнала** — по умолчанию при импорте с помощью объекта "Общий журнал" номер партии журнала использует номерную серию, определенную в параметрах главной книги. Если задать для номерной серии номера пакета журнала значение **Вручную**, номер по умолчанию не применяется. Эта настройка не поддерживается.
-   **Конфигурация финансовой аналитики** — каждая организация должна определить порядок финансовых аналитик при использовании объектов для импорта проводок. Порядок определяется для формата **Интеграция аналитик ГК** в разделе **Главная книга** &gt; **План счетов** &gt; **Аналитики** &gt; **Конфигурация финансовой аналитики для интеграции приложений** &gt; **Выбор информационных объектов**. Сегменты счета ГК, который импортируется, должны иметь тот же порядок. В противном случае произойдет ошибка во время импорта.

## <a name="general-journal-entity-setup"></a>Настройка объекта "Общий журнал"
Два параметра в модуле "Управление данными" влияют на способ применения номера партии журнала по умолчанию или номера ваучера:

-   **Обработки на основе набора** (в информационном объекте)
-   **Сгенерированный автоматически** (при сопоставлении полей)

В следующих разделах описывается влияние этих параметров и объясняется, как создаются номера партий журналов и номера ваучеров.

### <a name="journal-batch-number"></a>Номер партии журнала

-   Параметр **Обработка на основе набора** в объекте "Общий журнал" не влияет на способ создания номеров партий журналов.
-   Если в поле **Номер партии журнала** задано значение **Сгенерировано автоматически**, новый номер партии журнала создается для каждой импортируемой строки. Это поведение не рекомендуется. Параметр **Сгенерировано автоматически** расположен в проекте импорта в разделе **Просмотр карты** на вкладке **Сведения о сопоставлении**.
-   Если в поле **Номер партии журнала** не задано значение **Сгенерировано автоматически**, номер партии журнала создается следующим образом:
    -   Если номер партии журнала, определенный в импортируемом файле, совпадает с существующим неразнесенным ежедневным журналом, все строки, имеющие соответствующий номер партии журнала, импортируются в существующий журнал. Строки не импортируются в номер партии разнесенного журнала. Вместо этого создается новый номер.
    -   Если номер партии журнала, определенный в импортируемом файле, не совпадает с существующим неразнесенным ежедневным журналом, все строки с одинаковым номером партии журнала, группируются в новом журнале. Например, все строки, имеющие номер партии журнала 1, импортируются в новый журнал, и все строки, имеющие номер партии журнала 2, импортируются во второй новый журнал. Номер партии журнала создается с помощью номерной серии, определенной в параметрах главной книги.

### <a name="voucher-number"></a>Номер ваучера

-   При использовании параметра **Обработка на основе набора** в объекте "Общий журнал" номер ваучера должен быть предоставлен в импортируемом файле. Каждой проводке в общем журнале назначается номер ваучера, который предоставляется в импортируемом файле, даже если ваучер не сбалансирован. Если вы хотите использовать обработку на основе набора, но также хотите использовать номерную серию, определенную для номеров ваучеров, было предоставлено исправление для выпуска за февраль 2016 г. Исправление имеет номер 3170316 и доступно для загрузки в Lifecycle Services (LCS). Дополнительные сведения см. в разделе [Загрузка исправлений из Lifecycle Services](..\migration-upgrade\download-hotfix-lcs.md).
    -   Чтобы включить эту функциональность, в имени журнала, который используется для импорта, для поля **Выделение номеров при разноске** задайте значение **Да**.
    -   Номер ваучера по-прежнему должен быть определен в файле импорта. Однако этот номер является временным и заменяется номером ваучера при разноске журнала. Убедитесь, что строки журнала сгруппированы правильно по временному номеру ваучера. Например, при разноске найдено три строки, которые имеют временный номер ваучера 1. Временный номер ваучера всех трех строк заменяется следующим номером в номерной серии. Если эти три строки не являются сбалансированным объектом, ваучер не разносится. Затем, если найдены строки, имеющие временный номер ваучера 2, этот номер заменяется следующим номером ваучера в номерной серии и т. д.

<!-- -->

-   Если вы не используете параметр **Обработка на основе набора**, не требуется предоставлять номер ваучера в импортированном файле. Номера ваучеров создаются во время импорта на основе настройки имени журнала (**Только один ваучер**, **В связи с сальдо** и так далее). Например, если имя журнала определяется как **В связи с сальдо**, первая строка получает новый номер ваучера по умолчанию. Затем система оценивает строку, чтобы определить, равны ли дебеты кредитам. Если существует корр. счет в строке, следующая импортируемая строка получает новый номер ваучера. Если корр. счет не существует, система оценивает, равны ли дебеты кредитам при импорте каждой новой строки.
-   Если в поле **Номер ваучера** задано значение **Сгенерировано автоматически**, импорт завершится ошибкой. Параметр **Сгенерировано автоматически** для поля **Номер ваучера** не поддерживается.

По умолчанию объект "Общий журнал" использует обработку на основе набора. После оценки бизнес-требований организации можно изменить параметр **Обработка на основе набора**, щелкнув **Информационные объекты** в рабочей области **Управление данными**. Обработка на основе набора позволяет ускорить процесс импорта. Если вы не используете обработку на основе набора, импорт объекта "Общий журнал" будет проходить медленнее.




