---
title: "Настройка электронной отчетности для переноса данных в Power BI"
description: "В этом разделе описывается, как можно использовать конфигурацию электронной отчетности (ER), чтобы настроить перенос данных из вашего экземпляра Finance and Operations в службы Power BI. В качестве примера в этом разделе используются проводки Интрастат как бизнес-данные, которые необходимо перенести. Визуализация карты Power BI использует эти данные о проводках Интрастат для представления анализа мероприятий импорта или экспорта компании в отчете Power BI."
author: NickSelin
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.translationtype: HT
ms.sourcegitcommit: 2771a31b5a4d418a27de0ebe1945d1fed2d8d6d6
ms.openlocfilehash: 90749012c3eb4f3d1c275f0661f8cff43ec285a2
ms.contentlocale: ru-ru
ms.lasthandoff: 11/03/2017

---

# <a name="configure-electronic-reporting-to-pull-data-into-power-bi"></a><span data-ttu-id="120cb-105">Настройка электронной отчетности для переноса данных в Power BI</span><span class="sxs-lookup"><span data-stu-id="120cb-105">Configure Electronic reporting to pull data into Power BI</span></span>

[!include[banner](../includes/banner.md)]


<span data-ttu-id="120cb-106">В этом разделе описывается, как можно использовать конфигурацию электронной отчетности (ER), чтобы настроить перенос данных из вашего экземпляра Finance and Operations в службы Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-106">This topic explains how you can use your Electronic reporting (ER) configuration to arrange the transfer of data from your instance of Finance and Operations to Power BI services.</span></span> <span data-ttu-id="120cb-107">В качестве примера в этом разделе используются проводки Интрастат как бизнес-данные, которые необходимо перенести.</span><span class="sxs-lookup"><span data-stu-id="120cb-107">As an example, this topic uses Intrastat transactions as business data that must be transferred.</span></span> <span data-ttu-id="120cb-108">Визуализация карты Power BI использует эти данные о проводках Интрастат для представления анализа мероприятий импорта или экспорта компании в отчете Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-108">The Power BI map visualization uses this Intrastat transaction data to present a view for analysis of company import/export activities on the Power BI report.</span></span>

<a name="overview"></a><span data-ttu-id="120cb-109">Обзор</span><span class="sxs-lookup"><span data-stu-id="120cb-109">Overview</span></span>
--------

<span data-ttu-id="120cb-110">Microsoft Power BI представляет собой набор программных служб, приложений и соединителей, работающих вместе для превращения внешних источников данных в когерентные интерактивные знания с визуальным эффектом присутствия.</span><span class="sxs-lookup"><span data-stu-id="120cb-110">Microsoft Power BI is a collection of software services, apps, and connectors that work together to turn external sources of data into coherent, visually immersive, and interactive insights.</span></span> <span data-ttu-id="120cb-111">Электронная отчетность (ER) позволяет пользователям Microsoft Dynamics 365 for Finance and Operations легко настраивать источники данных и организовывать перенос данных из Dynamics 365 for Finance and Operations в Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-111">Electronic reporting (ER) lets users of Microsoft Dynamics 365 for Finance and Operations easily configure data sources and arrange the transfer of data from Finance and Operations to Power BI.</span></span> <span data-ttu-id="120cb-112">Данные переносятся как файлы в формате листа OpenXML (файл книги Microsoft Excel).</span><span class="sxs-lookup"><span data-stu-id="120cb-112">The data is transferred as files in the OpenXML worksheet (Microsoft Excel workbook file) format.</span></span> <span data-ttu-id="120cb-113">Перенесенные файлы хранятся на сервере Microsoft SharePoint Server, заданного для этой цели.</span><span class="sxs-lookup"><span data-stu-id="120cb-113">The transferred files are stored on a Microsoft SharePoint Server that has been configured for that purpose.</span></span> <span data-ttu-id="120cb-114">Сохраненные файлов используются в Power BI для создания отчетов, которые включают визуализации (таблицы, диаграммы, карты и т. д.).</span><span class="sxs-lookup"><span data-stu-id="120cb-114">The stored files are used in Power BI to make reports that include visualizations (tables, charts, maps, and so on).</span></span> <span data-ttu-id="120cb-115">Отчеты Power BI совместно используются пользователями Power BI, а доступ к ним возможен с панелей мониторинга Power BI и со страниц Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="120cb-115">Power BI reports are shared with Power BI users, and they are accessed in Power BI dashboards and on Finance and Operations pages.</span></span> <span data-ttu-id="120cb-116">В этом раздел рассматриваются следующие задачи:</span><span class="sxs-lookup"><span data-stu-id="120cb-116">This topic explains the following tasks:</span></span>

-   <span data-ttu-id="120cb-117">Настройка Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="120cb-117">Configure Finance and Operations.</span></span>
-   <span data-ttu-id="120cb-118">Подготовка конфигурации формата ER для получения данных из Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="120cb-118">Prepare your ER format configuration to get data from Finance and Operations.</span></span>
-   <span data-ttu-id="120cb-119">Настройка среды ER для переноса данных в Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-119">Configure the ER environment to transfer data to Power BI.</span></span>
-   <span data-ttu-id="120cb-120">Использование перенесенных данных для создания отчета Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-120">Use transferred data to create a Power BI report.</span></span>
-   <span data-ttu-id="120cb-121">Обеспечение доступа к отчету Power BI из Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="120cb-121">Make the Power BI report accessible in Finance and Operations.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="120cb-122">Необходимые условия</span><span class="sxs-lookup"><span data-stu-id="120cb-122">Prerequisites</span></span>
<span data-ttu-id="120cb-123">Для выполнения примера из этого раздела необходимы следующие возможности доступа:</span><span class="sxs-lookup"><span data-stu-id="120cb-123">To complete the example in this topic, you must have the following access:</span></span>

-   <span data-ttu-id="120cb-124">Доступ к Finance and Operations для одной из следующих ролей:</span><span class="sxs-lookup"><span data-stu-id="120cb-124">Access to Finance and Operations for one of the following roles:</span></span>
    -   <span data-ttu-id="120cb-125">Разработчик электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="120cb-125">Electronic reporting developer</span></span>
    -   <span data-ttu-id="120cb-126">Консультант по функциональным возможностям электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="120cb-126">Electronic reporting functional consultant</span></span>
    -   <span data-ttu-id="120cb-127">Системный администратор</span><span class="sxs-lookup"><span data-stu-id="120cb-127">System administrator</span></span>
-   <span data-ttu-id="120cb-128">Доступ к SharePoint Server, который настроен для использования с Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="120cb-128">Access to the SharePoint Server that is configured for use with Finance and Operations</span></span>
-   <span data-ttu-id="120cb-129">Доступ к платформе Power BI</span><span class="sxs-lookup"><span data-stu-id="120cb-129">Access to the Power BI framework</span></span>

## <a name="configure-document-management-parameters"></a><span data-ttu-id="120cb-130">Настройка параметров управления документооборотом</span><span class="sxs-lookup"><span data-stu-id="120cb-130">Configure document management parameters</span></span>
1.  <span data-ttu-id="120cb-131">На странице **Параметры управления документами** настройте доступ к SharePoint Server, который будет использоваться в компании, в которую вы выполнили вход (компания DEMF в этом примере).</span><span class="sxs-lookup"><span data-stu-id="120cb-131">On the **Document management parameters** page, configure access to the SharePoint Server that will be used in the company that you're signed in to (the DEMF company in this example).</span></span>
2.  <span data-ttu-id="120cb-132">Протестируйте подключение к SharePoint Server, чтобы убедиться, что вы получили доступ.</span><span class="sxs-lookup"><span data-stu-id="120cb-132">Test the connection to the SharePoint Server to make sure that you've been granted access.</span></span> <span data-ttu-id="120cb-133">[![Страница параметров управления документами](./media/ger-power-bi-sharepoint-server-setting-1024x369.png)](./media/ger-power-bi-sharepoint-server-setting.png)</span><span class="sxs-lookup"><span data-stu-id="120cb-133">[![Document management parameters page](./media/ger-power-bi-sharepoint-server-setting-1024x369.png)](./media/ger-power-bi-sharepoint-server-setting.png)</span></span>
3.  <span data-ttu-id="120cb-134">Откройте настроенный сайт SharePoint.</span><span class="sxs-lookup"><span data-stu-id="120cb-134">Open the configured SharePoint site.</span></span> <span data-ttu-id="120cb-135">Создайте новую папку, в которой ER будет хранить файлы Excel с бизнес-данными, которые требуются отчетам Power BI как наборы данных Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-135">Create a new folder where ER will store Excel files that have the business data that the Power BI reports require as a source of Power BI datasets.</span></span>
4.  <span data-ttu-id="120cb-136">В Finance and Operations на странице **Типы документов** создайте новый тип документа, который будет использоваться для получения доступа к папке SharePoint, только что созданной.</span><span class="sxs-lookup"><span data-stu-id="120cb-136">In Finance and Operations, on the **Document types** page, create a new document type that will be used to access the SharePoint folder that you just created.</span></span> <span data-ttu-id="120cb-137">Введите **Файл** в поле **Группа** и **SharePoint** в поле **Местоположение**, затем введите адрес папки SharePoint.</span><span class="sxs-lookup"><span data-stu-id="120cb-137">Enter **File** in the **Group** field and **SharePoint** in the **Location** field, and then enter the address of the SharePoint folder.</span></span> <span data-ttu-id="120cb-138">[![Страница типов документов](./media/ger-power-bi-sharepoint-document-type-1024x485.png)](./media/ger-power-bi-sharepoint-document-type.png)</span><span class="sxs-lookup"><span data-stu-id="120cb-138">[![Document types page](./media/ger-power-bi-sharepoint-document-type-1024x485.png)](./media/ger-power-bi-sharepoint-document-type.png)</span></span>

## <a name="configure-er-parameters"></a><span data-ttu-id="120cb-139">Настройка параметров ER</span><span class="sxs-lookup"><span data-stu-id="120cb-139">Configure ER parameters</span></span>
1.  <span data-ttu-id="120cb-140">В рабочей области **Электронная отчетность** нажмите ссылку **Параметры электронной отчетности**.</span><span class="sxs-lookup"><span data-stu-id="120cb-140">In the **Electronic reporting** workspace, click the **Electronic reporting parameters** link.</span></span>
2.  <span data-ttu-id="120cb-141">На вкладке **Вложения** выберите тип документа **Файл** для всех полей.</span><span class="sxs-lookup"><span data-stu-id="120cb-141">On the **Attachments** tab, select the **File** document type for all the fields.</span></span>
3.  <span data-ttu-id="120cb-142">В рабочей области **Электронная отчетность** сделайте необходимого поставщика активным, нажав **Установить как активное**.</span><span class="sxs-lookup"><span data-stu-id="120cb-142">In the **Electronic reporting** workspace, make the required provider active by clicking **Set active**.</span></span> <span data-ttu-id="120cb-143">Для получения дополнительных сведений просмотрите руководство по задаче **ER Выбор поставщика услуг**.</span><span class="sxs-lookup"><span data-stu-id="120cb-143">For more information, play the **ER Select service provider** task guide.</span></span>

## <a name="use-an-er-data-model-as-the-source-of-data"></a><span data-ttu-id="120cb-144">Использование модели данных ER в качестве источника данных</span><span class="sxs-lookup"><span data-stu-id="120cb-144">Use an ER data model as the source of data</span></span>
<span data-ttu-id="120cb-145">Необходимо иметь модель данных ER в качестве источника бизнес-данных, которые будут использоваться в отчетах Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-145">You must have an ER data model as the source of business data that will be used on Power BI reports.</span></span> <span data-ttu-id="120cb-146">Эта модель данных загружается из репозитория конфигураций ER.</span><span class="sxs-lookup"><span data-stu-id="120cb-146">This data model is uploaded from the ER configurations repository.</span></span> <span data-ttu-id="120cb-147">Дополнительные сведения см. в разделе [Загрузка конфигураций электронной отчетности из Lifecycle Services](download-electronic-reporting-configuration-lcs.md) или просмотрите руководство по задаче **ER Импорт конфигурации из Lifecycle Services** .</span><span class="sxs-lookup"><span data-stu-id="120cb-147">For more information, see [Download Electronic reporting configurations from Lifecycle Services](download-electronic-reporting-configuration-lcs.md), or play the **ER Import a configuration from Lifecycle Services** task guide.</span></span> <span data-ttu-id="120cb-148">Выбор **Интрастат** как модель данных, которая будет загружена из выбранного репозитория конфигураций ER.</span><span class="sxs-lookup"><span data-stu-id="120cb-148">Select **Intrastat** as the data model that will be uploaded from the selected ER configurations repository.</span></span> <span data-ttu-id="120cb-149">(В этом примере используется версия 1 модели.) Затем можно получить доступ к конфигурации модели ER **Интрастат** на странице **Конфигурации**.</span><span class="sxs-lookup"><span data-stu-id="120cb-149">(In this example, version 1 of the model is used.) You can then access the **Intrastat** ER model configuration on the **Configurations** page.</span></span> <span data-ttu-id="120cb-150">[![Страница конфигураций](./media/ger-power-bi-data-model-1024x371.png)](./media/ger-power-bi-data-model.png)</span><span class="sxs-lookup"><span data-stu-id="120cb-150">[![Configurations page](./media/ger-power-bi-data-model-1024x371.png)](./media/ger-power-bi-data-model.png)</span></span>

## <a name="design-an-er-format-configuration"></a><span data-ttu-id="120cb-151">Создание конфигурации формата ER</span><span class="sxs-lookup"><span data-stu-id="120cb-151">Design an ER format configuration</span></span>
<span data-ttu-id="120cb-152">Необходимо создать новую конфигурацию формата ER, которая использует модель данных **Интрастат** в качестве источника бизнес-данных.</span><span class="sxs-lookup"><span data-stu-id="120cb-152">You must create a new ER format configuration that uses the **Intrastat** data model as the source of business data.</span></span> <span data-ttu-id="120cb-153">Эта конфигурация формата должна создавать выходные результаты в виде электронных документов в формате OpenXML (файл Excel).</span><span class="sxs-lookup"><span data-stu-id="120cb-153">This format configuration must generate output results as electronic documents in OpenXML (Excel file) format.</span></span> <span data-ttu-id="120cb-154">Для получения дополнительных сведений просмотрите руководство по задаче **ER Создание конфигурации для отчетов в формате OPENXML**.</span><span class="sxs-lookup"><span data-stu-id="120cb-154">For more information, play the **ER Create a configuration for reports in OPENXML format** task guide.</span></span> <span data-ttu-id="120cb-155">Назовите новую конфигурацию **Мероприятия импорта или экспорта**, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="120cb-155">Name the new configuration **Import / export activities**, as shown in the following illustration.</span></span> <span data-ttu-id="120cb-156">Используйте Excel-файл [Данные ER — сведения импорта и экспорта](https://go.microsoft.com/fwlink/?linkid=845208) в качестве шаблона при проектировании формат ER.</span><span class="sxs-lookup"><span data-stu-id="120cb-156">Use the [ER data - import and export details](https://go.microsoft.com/fwlink/?linkid=845208) Excel file as a template when you design the ER format.</span></span> <span data-ttu-id="120cb-157">(Сведения о том, как импортировать шаблон формата, см. в руководстве по задаче.) [![Конфигурация мероприятий импорта и экспорта](media/ger-power-bi-format-configuration.png)](media/ger-power-bi-format-configuration.png) Для изменения конфигурации формата **Мероприятия импорта или экспорта** выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="120cb-157">(For information about how to import a format template, play the task guide.) [![Import / export activities configuration](media/ger-power-bi-format-configuration.png)](media/ger-power-bi-format-configuration.png) To modify the **Import / export activities** format configuration, follow these steps.</span></span>

1.  <span data-ttu-id="120cb-158">Выберите **Конструктор**.</span><span class="sxs-lookup"><span data-stu-id="120cb-158">Click **Designer**.</span></span>
2.  <span data-ttu-id="120cb-159">На вкладке **Формат** задайте имя элемента файла для данного формата **Выходной файл Excel**.</span><span class="sxs-lookup"><span data-stu-id="120cb-159">On the **Format** tab, name the file element for this format **Excel output file**.</span></span> <span data-ttu-id="120cb-160">[![Элемент выходного файла Excel](./media/ger-power-bi-format-configuration-file-element-name-1024x395.png)](./media/ger-power-bi-format-configuration-file-element-name.png)</span><span class="sxs-lookup"><span data-stu-id="120cb-160">[![Excel output file element](./media/ger-power-bi-format-configuration-file-element-name-1024x395.png)](./media/ger-power-bi-format-configuration-file-element-name.png)</span></span>
3.  <span data-ttu-id="120cb-161">На вкладке **Сопоставление** укажите имя файла Excel, который будет создавать каждый раз при выполнении этого формата.</span><span class="sxs-lookup"><span data-stu-id="120cb-161">On the **Mapping** tab, specify the name of the Excel file that will be generated whenever this format is run.</span></span> <span data-ttu-id="120cb-162">Настройте связанное выражение для возврата значения **Данные импорта и экспорта** (расширения имени файла XLSX будет добавлено автоматически).</span><span class="sxs-lookup"><span data-stu-id="120cb-162">Configure the related expression to return the value **Import and export details** (the .xlsx file name extension will be added automatically).</span></span> <span data-ttu-id="120cb-163">[![Конструктор форматов](./media/ger-power-bi-format-configuration-output-file-name-1024x396.png)](./media/ger-power-bi-format-configuration-output-file-name.png)</span><span class="sxs-lookup"><span data-stu-id="120cb-163">[![Format designer](./media/ger-power-bi-format-configuration-output-file-name-1024x396.png)](./media/ger-power-bi-format-configuration-output-file-name.png)</span></span>
4.  <span data-ttu-id="120cb-164">Добавьте новый элемент источника данных для данного формата.</span><span class="sxs-lookup"><span data-stu-id="120cb-164">Add a new data source item for this format.</span></span> <span data-ttu-id="120cb-165">(Это перечисление необходимо для дальнейшего связывания данных.)</span><span class="sxs-lookup"><span data-stu-id="120cb-165">(This enumeration will be required for further data binding.)</span></span>
    1.  <span data-ttu-id="120cb-166">Назовите этот источник данных **direction\_enum**.</span><span class="sxs-lookup"><span data-stu-id="120cb-166">Name the data source **direction\_enum**.</span></span>
    2.  <span data-ttu-id="120cb-167">Выберите **Перечисление модели данных** как тип источника данных.</span><span class="sxs-lookup"><span data-stu-id="120cb-167">Select **Data model enumeration** as the data source type.</span></span>
    3.  <span data-ttu-id="120cb-168">Задайте ссылку на перечисление модели данных **Направление**.</span><span class="sxs-lookup"><span data-stu-id="120cb-168">Refer to the **Direction** data model enumeration.</span></span>

    <span data-ttu-id="120cb-169">[![direction\_enum](./media/ger-power-bi-format-configuration-mapping-added-enum-1024x454.png)](./media/ger-power-bi-format-configuration-mapping-added-enum.png)</span><span class="sxs-lookup"><span data-stu-id="120cb-169">[![direction\_enum](./media/ger-power-bi-format-configuration-mapping-added-enum-1024x454.png)](./media/ger-power-bi-format-configuration-mapping-added-enum.png)</span></span>
5.  <span data-ttu-id="120cb-170">Завершите привязку элементов модели данных **Интрастат** и элементов созданного формата, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="120cb-170">Complete the binding of elements of the **Intrastat** data model and elements of the designed format, as shown in the following illustration.</span></span> <span data-ttu-id="120cb-171">[![Завершение привязки](./media/ger-power-bi-format-configuration-mapping-details-1024x454.png)](./media/ger-power-bi-format-configuration-mapping-details.png)</span><span class="sxs-lookup"><span data-stu-id="120cb-171">[![Completing the binding](./media/ger-power-bi-format-configuration-mapping-details-1024x454.png)](./media/ger-power-bi-format-configuration-mapping-details.png)</span></span>

<span data-ttu-id="120cb-172">После выполнения формат ER создает выходной результат в формате Excel.</span><span class="sxs-lookup"><span data-stu-id="120cb-172">After it's run, the ER format generates the output result in Excel format.</span></span> <span data-ttu-id="120cb-173">Он отправляет сведения проводок Интрастат в выходной результат и делит их как проводки, которые описывают мероприятия импорта или мероприятия экспорта.</span><span class="sxs-lookup"><span data-stu-id="120cb-173">It sends the details of the Intrastat transactions to the output result, and separates them as transactions that describe either import activities or export activities.</span></span> <span data-ttu-id="120cb-174">Нажмите **Выполнить**, чтобы проверить новый формат ER для списка проводок Интрастат на странице **Интрастат** (**Налог** &gt; **Декларации** &gt; **Внешняя торговля** &gt; **Интрастат**).</span><span class="sxs-lookup"><span data-stu-id="120cb-174">Click **Run** to test the new ER format for the list of Intrastat transactions on the **Intrastat** page (**Tax** &gt; **Declarations** &gt; **Foreign trade** &gt; **Intrastat**).</span></span> <span data-ttu-id="120cb-175">[![Страница Интрастат](./media/ger-power-bi-format-test-run-transactions-1024x322.png)](./media/ger-power-bi-format-test-run-transactions.png) Создается следующий выходной результат.</span><span class="sxs-lookup"><span data-stu-id="120cb-175">[![Intrastat page](./media/ger-power-bi-format-test-run-transactions-1024x322.png)](./media/ger-power-bi-format-test-run-transactions.png) The following output result is generated.</span></span> <span data-ttu-id="120cb-176">Файла называется **Сведения об импорте и экспорте.xlsx**, как указано в настройках формата.</span><span class="sxs-lookup"><span data-stu-id="120cb-176">The file is named **Import and export details.xlsx**, as you specified in the format settings.</span></span> <span data-ttu-id="120cb-177">[![Import and export details.xlsx](./media/ger-power-bi-format-test-run-output-1024x472.png)](./media/ger-power-bi-format-test-run-output.png)</span><span class="sxs-lookup"><span data-stu-id="120cb-177">[![Import and export details.xlsx](./media/ger-power-bi-format-test-run-output-1024x472.png)](./media/ger-power-bi-format-test-run-output.png)</span></span>

## <a name="configure-the-er-destination"></a><span data-ttu-id="120cb-178">Настройка места назначения ER</span><span class="sxs-lookup"><span data-stu-id="120cb-178">Configure the ER destination</span></span>
<span data-ttu-id="120cb-179">Необходимо настроить платформу ER для отправки выходного результата новой конфигурации формата ER особенным способом.</span><span class="sxs-lookup"><span data-stu-id="120cb-179">You must configure the ER framework to send the output result of the new ER format configuration in a special way.</span></span>

-   <span data-ttu-id="120cb-180">Выходной результат необходимо отправить в папку выбранного SharePoint Server.</span><span class="sxs-lookup"><span data-stu-id="120cb-180">The output result must be sent to the folder of the selected SharePoint Server.</span></span>
-   <span data-ttu-id="120cb-181">Каждое выполнение конфигурации формата должно создавать новую версию того же файла Excel.</span><span class="sxs-lookup"><span data-stu-id="120cb-181">Each execution of the format configuration must create a new version of same Excel file.</span></span>

<span data-ttu-id="120cb-182">На странице **Электронная отчетность** (**Управление организацией** &gt; **Электронная отчетность**), нажмите пункт **Место назначения электронной отчетности** и добавьте новое местоположение.</span><span class="sxs-lookup"><span data-stu-id="120cb-182">On the **Electronic reporting** page (**Organization administration** &gt; **Electronic reporting**), click the **Electronic reporting destination** item, and add a new destination.</span></span> <span data-ttu-id="120cb-183">В поле **Ссылка** выберите конфигурацию формата **Мероприятия импорта или экспорта**, созданную ранее.</span><span class="sxs-lookup"><span data-stu-id="120cb-183">In the **Reference** field, select the **Import / export activities** format configuration that you created earlier.</span></span> <span data-ttu-id="120cb-184">Выполните следующие шаги для добавления записи назначения нового файла для ссылки.</span><span class="sxs-lookup"><span data-stu-id="120cb-184">Follow these steps to add a new file destination record for the reference.</span></span>

1.  <span data-ttu-id="120cb-185">В поле **Имя** введите заголовок места назначения файла.</span><span class="sxs-lookup"><span data-stu-id="120cb-185">In the **Name** field, enter the title of the file destination.</span></span>
2.  <span data-ttu-id="120cb-186">В поле **Имя файла** выберите имя **Выходной файл Excel** для компонента формата файла Excel.</span><span class="sxs-lookup"><span data-stu-id="120cb-186">In the **File name** field, select the name **Excel output file** for the Excel file format component.</span></span>

<span data-ttu-id="120cb-187">Нажмите кнопку **Настройки** для новой записи назначения.</span><span class="sxs-lookup"><span data-stu-id="120cb-187">Click the **Settings** button for the new destination record.</span></span> <span data-ttu-id="120cb-188">Затем в диалоговом окне **Параметры места назначения** выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="120cb-188">Then, in the **Destination settings** dialog box, follow these steps.</span></span>

1.  <span data-ttu-id="120cb-189">На вкладке **Power BI** задайте для параметра **Включено** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="120cb-189">On the **Power BI** tab, set the **Enabled** option to **Yes**.</span></span>
2.  <span data-ttu-id="120cb-190">В поле **SharePoint** выберите тип документов **Общие**, созданный ранее.</span><span class="sxs-lookup"><span data-stu-id="120cb-190">In the **SharePoint** field, select the **Shared** document type that you created earlier.</span></span>

## <a name="schedule-execution-of-the-configured-er-format"></a><span data-ttu-id="120cb-191">Планирование выполнения настроенного формата ER</span><span class="sxs-lookup"><span data-stu-id="120cb-191">Schedule execution of the configured ER format</span></span>
<span data-ttu-id="120cb-192">На странице **Конфигурации** (**Управление организацией** &gt; **Электронная отчетность** &gt; **Конфигурации**) в дереве конфигураций выберите конфигурацию **Мероприятия импорта или экспорта**, созданную ранее.</span><span class="sxs-lookup"><span data-stu-id="120cb-192">On the **Configurations** page (**Organization administration** &gt; **Electronic reporting** &gt; **Configurations**), in the configurations tree, select the **Import / export activities** configuration that you created earlier.</span></span> <span data-ttu-id="120cb-193">Измените статус версии 1.1 с **Черновик** на **Завершено**, чтобы этот формат стал доступным для использования.</span><span class="sxs-lookup"><span data-stu-id="120cb-193">Change the status of version 1.1 from **Draft** to **Complete** to make this format available for use.</span></span> <span data-ttu-id="120cb-194">[![Страница "Конфигурации"](./media/ger-power-bi-format-configuration-complete-1024x401.png)](./media/ger-power-bi-format-configuration-complete.png) Выберите завершенную версию конфигурации **Мероприятия импорта или экспорта**, затем нажмите **Выполнить**.</span><span class="sxs-lookup"><span data-stu-id="120cb-194">[![Configurations page](./media/ger-power-bi-format-configuration-complete-1024x401.png)](./media/ger-power-bi-format-configuration-complete.png) Select the completed version of the **Import / export activities** configuration, and then click **Run**.</span></span> <span data-ttu-id="120cb-195">Обратите внимание, что настроенное место назначения применяется к выходному результату, создаваемому в формате Excel.</span><span class="sxs-lookup"><span data-stu-id="120cb-195">Note that the configured destination is applied to the output result that is generated in Excel format.</span></span> <span data-ttu-id="120cb-196">Задайте для параметра **Пакетная обработка** значение **Да**, чтобы выполнить этот отчет в режиме, не требующем участия пользователя.</span><span class="sxs-lookup"><span data-stu-id="120cb-196">Set the **Batch processing** option to **Yes** to run this report in unattended mode.</span></span> <span data-ttu-id="120cb-197">Нажмите **Повторение** для планирования необходимого повторения этого пакетного выполнения.</span><span class="sxs-lookup"><span data-stu-id="120cb-197">Click **Recurrence** to schedule the required recurrence of this batch execution.</span></span> <span data-ttu-id="120cb-198">Повторение определяет, как часто обновленные данные будут перемещаться из Finance and Operations в Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-198">The recurrence defines how often the updated data will be transferred from Finance and Operations to Power BI.</span></span> <span data-ttu-id="120cb-199">[![Диалоговое окно "Параметры электронного отчета"](./media/ger-power-bi-format-configuration-run-to-schedule-1024x413.png)](./media/ger-power-bi-format-configuration-run-to-schedule.png) После настройки задание выполнения отчета ER можно найти на странице **Пакетные задания** (**Администрирование системы &gt; Запросы &gt; Пакетные задания**).</span><span class="sxs-lookup"><span data-stu-id="120cb-199">[![Electronic report parameters dialog box](./media/ger-power-bi-format-configuration-run-to-schedule-1024x413.png)](./media/ger-power-bi-format-configuration-run-to-schedule.png) After it's configured, you can find the ER report execution job on the **Batch jobs** page (**System administration &gt; Inquiries &gt; Batch jobs**).</span></span> <span data-ttu-id="120cb-200">[![Страница "Пакетные задания"](./media/ger-power-bi-format-configuration-running-job-1024x410.png)](./media/ger-power-bi-format-configuration-running-job.png) Когда это задание запускается впервые, место назначения создает новый файл Excel с настроенным именем в выбранной папке SharePoint.</span><span class="sxs-lookup"><span data-stu-id="120cb-200">[![Batch jobs page](./media/ger-power-bi-format-configuration-running-job-1024x410.png)](./media/ger-power-bi-format-configuration-running-job.png) When this job is run for the first time, the destination creates a new Excel file that has the configured name in the selected SharePoint folder.</span></span> <span data-ttu-id="120cb-201">При каждом последующем выполнении этой задачи место назначения создает новую версию этого файла Excel.</span><span class="sxs-lookup"><span data-stu-id="120cb-201">Every subsequent time that the job is run, the destination creates a new version of this Excel file.</span></span> <span data-ttu-id="120cb-202">[![Новая версия файла Excel](./media/ger-power-bi-output-file-in-sharepoint-server-folder-2-1024x412.png)](./media/ger-power-bi-output-file-in-sharepoint-server-folder-2.png)</span><span class="sxs-lookup"><span data-stu-id="120cb-202">[![New version of the Excel file](./media/ger-power-bi-output-file-in-sharepoint-server-folder-2-1024x412.png)](./media/ger-power-bi-output-file-in-sharepoint-server-folder-2.png)</span></span>

## <a name="create-a-power-bi-dataset-by-using-the-output-result-of-the-er-format"></a><span data-ttu-id="120cb-203">Создание набора данных Power BI с помощью выходного результата формата ER</span><span class="sxs-lookup"><span data-stu-id="120cb-203">Create a Power BI dataset by using the output result of the ER format</span></span>
<span data-ttu-id="120cb-204">Выполните вход в Power BI и откройте существующую группу Power BI (рабочую область) или создайте новую группу.</span><span class="sxs-lookup"><span data-stu-id="120cb-204">Sign in to Power BI, and either open an existing Power BI group (workspace) or create a new group.</span></span> <span data-ttu-id="120cb-205">Нажмите **Добавить** под полем **Файлы** в разделе **Импорт или подключение с данными** или нажмите значок "плюс" (**+**) рядом с **Наборы данных** в левой области.</span><span class="sxs-lookup"><span data-stu-id="120cb-205">Either click **Add** under **Files** in the **Import or Connect to Data** section, or click the plus sign (**+**) next to **Datasets** in the left pane.</span></span> <span data-ttu-id="120cb-206">[![Создание набора данных](./media/ger-power-bi-add-dataset-1024x524.png)](./media/ger-power-bi-add-dataset.png) Выберите параметр **SharePoint — сайты рабочих групп**, затем введите путь SharePoint Server, используемый вами (**https://ax7partner.litware.com** в нашем примере).</span><span class="sxs-lookup"><span data-stu-id="120cb-206">[![Creating a dataset](./media/ger-power-bi-add-dataset-1024x524.png)](./media/ger-power-bi-add-dataset.png) Select the **SharePoint – Team sites** option, and then enter the path of SharePoint Server that you're using (**https://ax7partner.litware.com** in our example).</span></span> <span data-ttu-id="120cb-207">Затем перейдите к папке **/Shared Documents/GER data/PowerBI** и выберите файл Excel, созданный в качестве источника данных для нового набора данных Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-207">Then browse to the **/Shared Documents/GER data/PowerBI** folder, and select the Excel file that you created as the source of data for the new Power BI dataset.</span></span> <span data-ttu-id="120cb-208">[![Выбор файла Excel](./media/ger-power-bi-add-dataset-select-excel-file-1024x522.png)](./media/ger-power-bi-add-dataset-select-excel-file.png) Щелкните **Подключить**, затем щелкните **Импорт**.</span><span class="sxs-lookup"><span data-stu-id="120cb-208">[![Selecting the Excel file](./media/ger-power-bi-add-dataset-select-excel-file-1024x522.png)](./media/ger-power-bi-add-dataset-select-excel-file.png) Click **Connect**, and then click **Import**.</span></span> <span data-ttu-id="120cb-209">Новый набор данных создается, основанный на выбранном файле Excel.</span><span class="sxs-lookup"><span data-stu-id="120cb-209">A new dataset is created that is based on the selected Excel file.</span></span> <span data-ttu-id="120cb-210">Набор данных можно также добавить автоматически к вновь созданной панели мониторинга.</span><span class="sxs-lookup"><span data-stu-id="120cb-210">The dataset can also be added automatically to the newly created dashboard.</span></span> <span data-ttu-id="120cb-211">[![Набор данных на панели мониторинга](./media/ger-power-bi-added-dataset-1024x489.png)](./media/ger-power-bi-added-dataset.png) Настройте график обновления для данного набора данных, чтобы использовать принудительное периодическое обновление.</span><span class="sxs-lookup"><span data-stu-id="120cb-211">[![Dataset on the dashboard](./media/ger-power-bi-added-dataset-1024x489.png)](./media/ger-power-bi-added-dataset.png) Configure the refresh schedule for this dataset to force a periodic update.</span></span> <span data-ttu-id="120cb-212">Периодические обновления обеспечивает потребление новых бизнес-данных, поступающих из Finance and Operations, путем периодического выполнения отчета с новыми версиями файла Excel, созданных в SharePoint Server.</span><span class="sxs-lookup"><span data-stu-id="120cb-212">Periodic updates enable the consumption of new business data that comes from Finance and Operations via periodic execution of the ER report through new versions of the Excel file that are created on the SharePoint Server.</span></span>

## <a name="create-a-power-bi-report-by-using-the-new-dataset"></a><span data-ttu-id="120cb-213">Создание отчета Power BI. используя новый набор данных</span><span class="sxs-lookup"><span data-stu-id="120cb-213">Create a Power BI report by using the new dataset</span></span>
<span data-ttu-id="120cb-214">Для создания нового отчета Power BI нажмите созданный вами набор данных Power BI **Сведения об импорте и экспорте**.</span><span class="sxs-lookup"><span data-stu-id="120cb-214">To create a new Power BI report, click the **Import and export details** Power BI dataset that you created.</span></span> <span data-ttu-id="120cb-215">Затем настройте визуализацию.</span><span class="sxs-lookup"><span data-stu-id="120cb-215">Then configure the visualization.</span></span> <span data-ttu-id="120cb-216">Например, выберите визуализацию **Картограмма** и настройте ее следующим образом:</span><span class="sxs-lookup"><span data-stu-id="120cb-216">For example, select the **Filled map** visualization, and configure it as follows:</span></span>

-   <span data-ttu-id="120cb-217">Назначьте поле **CountryOrigin** набора данных полю **Местоположение** визуализации карты.</span><span class="sxs-lookup"><span data-stu-id="120cb-217">Assign the **CountryOrigin** dataset field to the **Location** field of the map visualization.</span></span>
-   <span data-ttu-id="120cb-218">Назначьте поле **Amount** набора данных полю **Насыщенность цвета** визуализации карты.</span><span class="sxs-lookup"><span data-stu-id="120cb-218">Assign the **Amount** dataset field to the **Color saturation** field of the map visualization.</span></span>
-   <span data-ttu-id="120cb-219">Добавьте поля **Мероприятие** и **Год** набора данных в коллекцию полей **Фильтры** визуализации карты.</span><span class="sxs-lookup"><span data-stu-id="120cb-219">Add the **Activity** and **Year** dataset fields to the **Filters** fields collection of the map visualization.</span></span>

<span data-ttu-id="120cb-220">Сохраните отчет Power BI как **Отчет со сведениями об импорте и экспорте**.</span><span class="sxs-lookup"><span data-stu-id="120cb-220">Save the Power BI report as **Import and export details report**.</span></span> <span data-ttu-id="120cb-221">[![Отчет со сведениями об импорте и экспорте](./media/ger-power-bi-added-report-1024x498.png)](./media/ger-power-bi-added-report.png) Обратите внимание, что карта показывает страны или регионы, упоминаемые в файле Excel (Австрия и Швейцария в этом примере).</span><span class="sxs-lookup"><span data-stu-id="120cb-221">[![Import and export details report](./media/ger-power-bi-added-report-1024x498.png)](./media/ger-power-bi-added-report.png) Note that the map shows the countries/regions that are mentioned in the Excel file (Austria and Switzerland in this example).</span></span> <span data-ttu-id="120cb-222">Эти страны или регионы покрашены, чтобы показать пропорции сумм по накладным для каждого.</span><span class="sxs-lookup"><span data-stu-id="120cb-222">These countries/regions are colored to show the proportion of invoiced amounts for each.</span></span> <span data-ttu-id="120cb-223">Обновите список проводок Интрастат.</span><span class="sxs-lookup"><span data-stu-id="120cb-223">Update the list of Intrastat transactions.</span></span> <span data-ttu-id="120cb-224">Проводки экспорта из Италии добавляются.</span><span class="sxs-lookup"><span data-stu-id="120cb-224">The export transaction that originated from Italy is added.</span></span> <span data-ttu-id="120cb-225">[![Список проводок Интрастат](./media/ger-power-bi-new-run-new-transaction-1024x321.png)](./media/ger-power-bi-new-run-new-transaction.png) Подождите следующего запланированного выполнения отчета ER и следующего запланированного обновления набора данных Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-225">[![Intrastat transactions list](./media/ger-power-bi-new-run-new-transaction-1024x321.png)](./media/ger-power-bi-new-run-new-transaction.png) Wait for the next scheduled execution of the ER report and the next scheduled update of the Power BI dataset.</span></span> <span data-ttu-id="120cb-226">Затем просмотрите отчет Power BI (выберите отображение только проводок импорта).</span><span class="sxs-lookup"><span data-stu-id="120cb-226">Then review the Power BI report (select to show import transactions only).</span></span> <span data-ttu-id="120cb-227">На обновленной карте теперь отображается Италия.</span><span class="sxs-lookup"><span data-stu-id="120cb-227">The updated map now shows Italy.</span></span> <span data-ttu-id="120cb-228">[![Обновленная карта](./media/ger-power-bi-new-run-new-map-1024x511.png)](./media/ger-power-bi-new-run-new-map.png)</span><span class="sxs-lookup"><span data-stu-id="120cb-228">[![Updated map](./media/ger-power-bi-new-run-new-map-1024x511.png)](./media/ger-power-bi-new-run-new-map.png)</span></span>

## <a name="access-power-bi-report-in-finance-and-operations"></a><span data-ttu-id="120cb-229">Доступ к отчету Power BI из Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="120cb-229">Access Power BI report in Finance and Operations</span></span>
<span data-ttu-id="120cb-230">Настройте интеграцию между Finance and Operations и Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-230">Set up the integration between Finance and Operations and Power BI.</span></span> <span data-ttu-id="120cb-231">Для получения дополнительных сведений см. раздел [Настройка интеграции Power BI для рабочих областей](configure-power-bi-integration.md).</span><span class="sxs-lookup"><span data-stu-id="120cb-231">For more information, see [Configuring Power BI integration for workspaces](configure-power-bi-integration.md).</span></span> <span data-ttu-id="120cb-232">На странице рабочей области **Электронная отчетность**, которая поддерживает интеграцию Power BI (**Управление организацией** &gt; **Рабочие области** &gt; **Рабочая область электронной отчетности**) щелкните **Параметры** &gt; **Открытие каталога отчетов**.</span><span class="sxs-lookup"><span data-stu-id="120cb-232">On the **Electronic reporting** workspace page that supports Power BI integration (**Organization administration** &gt; **Workspaces** &gt; **Electronic reporting workspace**), click **Options** &gt; **Open report catalog**.</span></span> <span data-ttu-id="120cb-233">Выберите созданный вами отчет Power BI **Сведения об импорте и экспорте**, чтобы показать этот отчет как пункт действий на выбранной странице.</span><span class="sxs-lookup"><span data-stu-id="120cb-233">Select the **Import and export details** Power BI report that you created, to show that report as an action item on the selected page.</span></span> <span data-ttu-id="120cb-234">Нажмите на пункт действия, чтобы открыть страницу Finance and Operations, на которой отображается отчет, созданный в Power BI.</span><span class="sxs-lookup"><span data-stu-id="120cb-234">Click the action item to open the Finance and Operations page that shows the report that you designed in Power BI.</span></span> <span data-ttu-id="120cb-235">[![Отчет со сведениями об импорте и экспорте](./media/ger-power-bi-review-bi-report-in-ax-form-1024x586.png)](./media/ger-power-bi-review-bi-report-in-ax-form.png)</span><span class="sxs-lookup"><span data-stu-id="120cb-235">[![Import and export details report](./media/ger-power-bi-review-bi-report-in-ax-form-1024x586.png)](./media/ger-power-bi-review-bi-report-in-ax-form.png)</span></span>

<a name="see-also"></a><span data-ttu-id="120cb-236">См. также</span><span class="sxs-lookup"><span data-stu-id="120cb-236">See also</span></span>
--------

[<span data-ttu-id="120cb-237">Места назначения электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="120cb-237">Electronic reporting destinations</span></span>](electronic-reporting-destinations.md)

[<span data-ttu-id="120cb-238">Обзор электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="120cb-238">Electronic reporting overview</span></span>](general-electronic-reporting.md)




