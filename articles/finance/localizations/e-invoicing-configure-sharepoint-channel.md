---
title: Настройка канала SharePoint
description: В этой статье объясняется, как настроить канал Microsoft SharePoint для обработки входящих электронных накладных.
author: dkalyuzh
ms.date: 02/09/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kfend
ms.custom:
- "97423"
- intro-internal
ms.assetid: ''
ms.search.region: Global
ms.author: janeaug
ms.search.validFrom: 2020-07-08
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: 89538adde4d14212fb0deccad05f828d146f16db
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/03/2022
ms.locfileid: "8910051"
---
# <a name="configure-a-sharepoint-channel"></a>Настройка канала SharePoint

[!include [banner](../includes/banner.md)]

В качестве предварительного условия для настройки канала Microsoft SharePoint для обработки входящих документов выполните шаги, описанные в разделе [Настройка подключения SharePoint](e-invoicing-create-sharepoint-connection.md).

Затем можно использовать канал SharePoint для импорта электронных накладных поставщиков из файлов, которые хранятся в ваших папках SharePoint.

1. На вашем сайте SharePoint создайте следующие папки:

    - **Главная папка** — папка, из которой служба будет обрабатывать файлы.
    - **Папка архива** — папка, в которой будут храниться обработанные файлы.
    - **Папка ошибок** — папка, в которую система перемещает файлы в случае ошибки обработки.

2. В службе Regulatory Configuration Service (RCS) выберите созданную вами функцию электронного выставления накладных. Убедитесь, что выбрана версия со статусом **Черновик**.
3. На вкладке **Настройки** выберите **Добавить**.
4. В раскрывающемся диалоговом окне **Создать настройку функции** в группе полей **Создать** выберите параметр **Пользовательская настройка**.
5. В группе полей **Тип настройки** выберите параметр **Канал данных**.
6. В поле **Выберите канал данных** выберите **Папка SharePoint**.
7. Выберите **Создать**.
8. Выберите созданную строку, затем выберите **Изменить**.
9. На вкладке **Канал данных** в разделе **Параметры** задайте следующие обязательные поля.

    | Поле                 | Описание |
    |-----------------------|-------------|
    | Канал данных          | Введите уникальное имя для обозначения канала данных. Имя может содержать не более 10 символов. На него будут ссылаться правила применимости и связанные приложения в процессе обмена данными. |
    | Адрес SharePoint    | Введите URL-адрес SharePoint. Например, введите `<domain>.sharepoint.com`. |
    | ИД приложения        | Введите имя секрета Azure Key Vault, который содержит ИД учетной записи пользователя SharePoint. Этот секрет должен быть создан в хранилище ключей Key Vault и настроен в среде службы. Значением является значение **идентификатора приложения (клиента)** из раздела [Настройка подключения SharePoint](e-invoicing-create-sharepoint-connection.md). |
    | Секрет приложения    | Введите имя секрета Key Vault, который содержит пароль учетной записи пользователя SharePoint. Значением является значение **Секрет регистрации приложения** из раздела [Настройка подключения SharePoint](e-invoicing-create-sharepoint-connection.md). |
    | Имя сайта             | Введите имя сайта SharePoint. |
    | Имя библиотеки документов | Введите имя библиотеки документов SharePoint. |
    | Таймаут               | Введите максимальное время в миллисекундах (мс), в течение которого система должна ожидать отклика. Значение по умолчанию составляет 10 000 мс (10 секунд). |
    | Главная папка           | Укажите источник импорта файлов или папку, из которой служба должна обрабатывать файлы. |
    | Папка архива        | Указывается папка, в которой должны храниться обработанные файлы. |
    | Папка ошибок          | Укажите папку, в которую система должна перемещать файлы в случае ошибки обработки. |
    | Максимальный размер файла         | Введите максимальный размер (в байтах) одного обрабатываемого файла. Значение по умолчанию — 20 000 000 байт. |
    | Максимальное количество файлов      | Введите максимальное количество файлов для обработки за одно действие. Если не требуется ограничивать количество файлов, установите значение равным **0** (нулю). |
    | Фильтр файла           | Введите строку для фильтрации по имени файла. Это поле является необязательным. Поддерживается простая маска, такая как **\*smth\*.ext**, где каждая звездочка (\*) представляет ноль или более вхождений любого символа. Например, введите **\*.pdf**, чтобы настроить канал для чтения PDF-файлов. |
    | Пользовательское имя файла      | Введите пользовательское имя файла от клиента. |

10. На вкладке **Правила применимости** проверьте и обновите критерии, если требуется. Значение поля **Канал** должно быть равно значению, введенному в поле **Канал данных** на предыдущем шаге.
11. Выберите **Сохранить** и закройте страницу.
