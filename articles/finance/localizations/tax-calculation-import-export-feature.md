---
title: Импорт и экспорт расчетов налогов
description: В этой статье приводятся сведения о функциях импорта и экспорта службы расчета налогов.
author: Kai-Cloud
ms.date: 10/17/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application user
ms.reviewer: kfend
ms.custom: ''
ms.search.region: Global
ms.author: kailiang
ms.search.validFrom: 2021-11-15
ms.dyn365.ops.version: 10.0.23
ms.openlocfilehash: 8666d4971e36279ebd2b1396de7cab37680980e6
ms.sourcegitcommit: 40c80a617b903c2b26e44b41147e0021c5cb680d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2022
ms.locfileid: "9690242"
---
# <a name="import-and-export-tax-calculations"></a>Импорт и экспорт расчетов налогов

В этой статье приводятся сведения о функциях импорта и экспорта службы расчета налогов. Эта функция помогает обеспечить гибкий и эффективный интерфейс конфигурации.

## <a name="import-and-export-tax-codes"></a>Импорт и экспорт налоговых кодов

### <a name="export-templates"></a>Экспорт шаблонов

1. Выполните вход [Regulatory Configuration Service (RCS)](https://marketing.configure.global.dynamics.com/).
2. В рабочей области **Функции глобализации** выберите **Функции**, затем выберите плитку **Расчет налога**.
3. Выберите существующую функцию или [создайте новую функцию](global-get-started-with-tax-calculation-service.md#set-up-tax-calculation-in-rcs).
4. В сетке **Версии** выберите **Изменить**.
5. На странице функции **Расчет налогов** задайте [версию конфигурации](global-get-started-with-tax-calculation-service.md#set-up-tax-calculation-in-rcs).
6. На вкладке **Налоговые коды** выберите **Импорт**.
7. Выберите **Экспорт шаблона налогового кода**, чтобы загрузить файл **TaxCodesTemplate.zip**.
8. Распакуйте файл **TaxCodesTemplate.zip**. Шаблоны налоговых кодов сжимаются отдельно в соответствии со значением параметра **База для расчета**.
9. Распакуйте **By Net Amount.zip**, чтобы получить следующие файлы с разделителями-запятыми (CSV):

    - **TaxCode.csv** — введите налоговые коды.
    - **TaxLimit.csv** — введите налоговые ограничения для каждого налогового кода.
    - **TaxRate.csv** — введите налоговые ставки для каждого налогового кода.

> [!NOTE]
> По умолчанию в шаблонах доступны записи для налогового кода **Образец**. Если налоговый код **Образец** не удаляется из CSV-файла, он будет импортирован в эту функцию.

### <a name="import-tax-codes"></a>Импорт налоговых кодов

Выполните следующие действия, чтобы импортировать налоговый код **Образец** в шаблоне в вашу функцию расчета налогов.

1. В RCS на странице функции **Расчет налогов** на вкладке **Налоговые коды** выберите **Импорт**.
2. Выберите **Обзор**, найдите и выберите файл **TaxCode.csv**, затем в поле **Целевая таблица** выберите **Налоговый код**.
3. Выберите **ОК**, чтобы импортировать налоговый код.
4. Найдите и выберите файл **TaxRate.csv**, затем в поле **Целевая таблица** выберите **Ставка налога**.
5. Выберите **ОК**, чтобы импортировать ставку налога.
6. Найдите и выберите файл **TaxLimit.csv**, затем в поле **Целевая таблица** выберите **Налоговый лимит**.
7. Выберите **ОК**, чтобы импортировать налоговый лимит.

Можно также непосредственно импортировать ZIP-файл, содержащий все три CSV-файла. Таким образом, можно легко и быстро завершить импорт.

1. В RCS на странице функции **Расчет налогов** на вкладке **Налоговые коды** выберите **Импорт**.
2. Выберите **Обзор**, найдите и выберите файл **By Net Amount.zip**, затем выберите **ОК**.

### <a name="export-tax-codes"></a>Экспорт налоговых кодов

1. В RCS на странице функции **Расчет налогов** на вкладке **Налоговые коды** выберите **Экспорт**.

    Кнопка **Экспорт** доступна, когда в сетке **Налоговые коды** имеется хотя бы один налоговый код.

2. Выберите **ОК**, чтобы экспортировать все налоговые коды функции в ZIP-файл.

> [!NOTE]
> Используйте экспортированный файл в качестве шаблона для импорта налоговых кодов в соответствующую функцию.

## <a name="import-and-export-applicability-rules"></a>Импорт и экспорт правил применимости

### <a name="export-applicability-rules"></a>Экспорт правил применимости

1. Войдите в [RCS](https://marketing.configure.global.dynamics.com/).
2. В рабочей области **Функции глобализации** выберите **Функции**, затем выберите плитку **Расчет налога**.
3. Выберите существующую функцию или [создайте новую функцию](global-get-started-with-tax-calculation-service.md#set-up-tax-calculation-in-rcs).
4. В сетке **Версии** выберите **Изменить**.
5. На странице функции **Расчет налогов** задайте [версию конфигурации](global-get-started-with-tax-calculation-service.md#set-up-tax-calculation-in-rcs).
6. На вкладке **Применимость налоговой группы** выберите строки в сетке **Настройка применимости налоговой группы**.
7. Выберите кнопку **Открыть в Microsoft Office** и затем выберите **Матрица динамической применимости налоговой службы**.

    [![Экспорт правил применимости в Microsoft Excel на странице функция расчета налогов.](./media/tax-cal-import-export-1.png)](./media/tax-cal-import-export-1.png)

8. Выберите **Загрузить**, чтобы экспортировать выбранные строки в лист Microsoft Excel.

### <a name="import-applicability-rules"></a>Импорт правил применимости

Загруженный лист Excel содержит структуру сетки **Настройка применимости налоговой группы**. Новые правила можно добавлять непосредственно в лист. После завершения необходимо выполнить следующие действия, чтобы импортировать новые правила назад в сетку **Настройки применимости налоговой группы**.

1. В листе Excel выберите и скопируйте строки для импорта.
2. В RCS на странице функции **Расчет налога** на вкладке **Применимость налоговой группы** выберите **Добавить**, чтобы вставить пустую запись в нижней части сетки **Настройка применимости налоговой группы**.
3. Нажмите сочетание клавиш **CTRL+V**, чтобы вставить скопированные строки в сетку.
4. Нажмите **Сохранить**.

## <a name="import-feature-demo-data"></a>Импорт демонстрационных данных функции

Выполните следующие действия, чтобы импортировать демонстрационные данные функции.

1. Войдите в [RCS](https://marketing.configure.global.dynamics.com/).
2. В рабочей области **Функции глобализации** выберите **Функции**, затем выберите плитку **Расчет налога**.
3. Выберите **Импорт**, затем на странице **Импорт функции из глобального репозитория** выберите **Синхронизировать**. 
4. В таблице выберите функцию **демонстрационные-данные-функции-расчета-налога**, затем выберите **Импорт**.
5. Выберите **Просмотр** для просмотра налоговых кодов, групп и правил применимости, которые определены в импортированной функции.
6. В Finance переключитесь на юридическое лицо **DEMF**, затем перейдите к пункту **Налог** \> **Настройка** \> **Конфигурация налога** \> **Параметры расчета налогов**.
7. На вкладке **Общие** выберите **Включить службу расчета налогов**.
8. В поле **Имя настройки функции** выберите **демонстрационные-данные-функции-расчета-налога**.
9. Выберите **Период сопоставления** и **Группа разноски ГК** для новых демонстрационных кодов налога, затем выберите **Подтвердить**.
10. Нажмите **Сохранить**.

> [!NOTE]
> Демонстрационная функция **демонстрационные-данные-функции-расчета-налога** основана на версии функции **40.54.234** и предназначена для демонстрационного юридического лица **DEMF**. Убедитесь, что Finance и RCS обновлены до версии 10.0.26 или более поздних версий.
