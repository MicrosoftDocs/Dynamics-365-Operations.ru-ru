---
title: Синхронизировать фактические данные проекта непосредственно из Project Service Automation в журнал интеграции проекта для разноски в Finance and Operations
description: В этой теме обсуждаются шаблоны и базовые задачи, которые используются для синхронизации фактических значений непосредственно из Microsoft Dynamics 365 Project Service Automation в Finance and Operations.
author: KimANelson
manager: AnnBe
ms.date: 07/20/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: knelson
ms.search.validFrom: 2016-11-28
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: 0aeaa1ee4c35ca42a5382b3c7ff3519cba52996c
ms.sourcegitcommit: 2460d0da812c45fce67a061386db52e0ae46b0f3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/30/2019
ms.locfileid: "2250538"
---
# <a name="synchronize-project-actuals-directly-from-project-service-automation-to-the-project-integration-journal-for-posting-in-finance-and-operations"></a><span data-ttu-id="c9490-103">Синхронизировать фактические данные проекта непосредственно из Project Service Automation в журнал интеграции проекта для разноски в Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="c9490-103">Synchronize project actuals directly from Project Service Automation to the project integration journal for posting in Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="c9490-104">В этой теме обсуждаются шаблоны и базовые задачи, которые используются для синхронизации фактических данных проекта непосредственно из Dynamics 365 Project Service Automation в Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-104">This topic describes the templates and underlying tasks that are used to synchronize project actuals directly from Dynamics 365 Project Service Automation to Dynamics 365 Finance.</span></span>

<span data-ttu-id="c9490-105">Шаблон синхронизирет транзакции из Project Service Automation в промежуточную таблицу в Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-105">The template synchronizes transactions from Project Service Automation into a staging table in Finance.</span></span> <span data-ttu-id="c9490-106">После завершения синхронизации **необходимо** импортировать данные из промежуточной таблицы в журнал интеграции.</span><span class="sxs-lookup"><span data-stu-id="c9490-106">After synchronization is completed, you **must** import the data from the staging table into the integration journal.</span></span>

> [!NOTE]
> - <span data-ttu-id="c9490-107">Интеграция фактических данных проекта доступна начиная с версии 8.0.1.</span><span class="sxs-lookup"><span data-stu-id="c9490-107">Project actuals integration is available starting in version 8.0.1.</span></span>
> - <span data-ttu-id="c9490-108">При использовании Enterprise edition 7.3.0 после установки обновлений КБ 4132657 и 4132660 КБ, можно использовать шаблоны для интеграции задачи проекта, категорий транзакций расходов, оценок часов, оценок расходов и фактических данных и для настройки функции блокировки.</span><span class="sxs-lookup"><span data-stu-id="c9490-108">If you're using Enterprise edition 7.3.0 after you install KB 4132657 and KB 4132660, you will be able to use the templates to integrate project tasks, expense transaction categories, hour estimates, expense estimates, and actuals, and to configure functionality locking.</span></span> <span data-ttu-id="c9490-109">Если необходимо сбросить распределения по бухгалтерским счетам, рекомендуется также установить КБ 4131710.</span><span class="sxs-lookup"><span data-stu-id="c9490-109">If you must reset the accounting distributions, we recommend that you also install KB 4131710.</span></span>
> - <span data-ttu-id="c9490-110">Если при использовании версии 7.3.0 вы переносите проводки по сборам из Project Service Automation, чтобы включить эти расходы в накладную проекта необходимо установить KB 4345320.</span><span class="sxs-lookup"><span data-stu-id="c9490-110">If you're using version 7.3.0, and you are bringing fee transactions over from Project Service Automation, you must install KB 4345320 in order to include those fees in the project invoice.</span></span>
> - <span data-ttu-id="c9490-111">При своевременном вводе суммы налога или проводок расходов в Project Service Automation необходимо установить Project Service Automation Update 7.</span><span class="sxs-lookup"><span data-stu-id="c9490-111">If you're entering sales tax amounts on time or expense transactions in Project Service Automation, you must install Project Service Automation Update 7.</span></span> <span data-ttu-id="c9490-112">В противном случае фактические данные налога не будут связаны с ассоциированным временем или фактическими данными о расходах, и они не будут синхронизированы с Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-112">Otherwise, the tax actuals won't be linked to the associated time or expense actuals, and they won't be synchronized to Finance.</span></span> <span data-ttu-id="c9490-113">Для получения дополнительных сведений обратитесь в службу поддержки.</span><span class="sxs-lookup"><span data-stu-id="c9490-113">For more information, contact Support.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance"></a><span data-ttu-id="c9490-114">Поток данных для Project Service Automation в Finance</span><span class="sxs-lookup"><span data-stu-id="c9490-114">Data flow for Project Service Automation to Finance</span></span>

<span data-ttu-id="c9490-115">Решение по интеграции Project Service Automation с Finance использует функцию интеграции данных для синхронизации данных между экземплярами Project Service Automation и Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-115">The Project Service Automation to Finance integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance.</span></span> <span data-ttu-id="c9490-116">Шаблоны интеграции, доступные при использовании функции интеграции данных, включают поток данных по фактическим данным проекта из Project Service Automation в Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-116">The integration templates that are available with the Data integration feature enable the flow of data about project actuals from Project Service Automation to Finance.</span></span>

<span data-ttu-id="c9490-117">На следующем рисунке показано, как данные синхронизируются между Project Service Automation и Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-117">The following illustration shows how the data is synchronized between Project Service Automation and Finance.</span></span>

<span data-ttu-id="c9490-118">[![Поток данных для интеграции Project Service Automation с Finance and Operations](./media/ProjectActualsFlow.jpg)](./media/ProjectActualsFlow.jpg)</span><span class="sxs-lookup"><span data-stu-id="c9490-118">[![Data flow for Project Service Automation integration with Finance and Operations](./media/ProjectActualsFlow.jpg)](./media/ProjectActualsFlow.jpg)</span></span>

## <a name="project-actuals-from-project-service-automation"></a><span data-ttu-id="c9490-119">Фактические данные по проекту из Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="c9490-119">Project actuals from Project Service Automation</span></span>

### <a name="template-and-tasks"></a><span data-ttu-id="c9490-120">Шаблон и задачи</span><span class="sxs-lookup"><span data-stu-id="c9490-120">Template and tasks</span></span>

<span data-ttu-id="c9490-121">Для доступа к доступным шаблонам в центре администрирования Microsoft PowerApps выберите **Проекты** и выберите в правом верхнем углу **Новый проект** для выбора общих шаблонов.</span><span class="sxs-lookup"><span data-stu-id="c9490-121">To access the available templates, in the Microsoft PowerApps admin center, select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="c9490-122">Следующий шаблон и базовые задачи используются для синхронизации фактических данных по проекту из Project Service Automation в Finance:</span><span class="sxs-lookup"><span data-stu-id="c9490-122">The following template and underlying tasks are used to synchronize project actuals from Project Service Automation to Finance:</span></span>

- <span data-ttu-id="c9490-123">**Имя шаблона в интеграции данных:** Фактические данные по проекту (PSA в Fin and Ops)</span><span class="sxs-lookup"><span data-stu-id="c9490-123">**Name of the template in Data integration:** Project actuals (PSA to Fin and Ops)</span></span>
- <span data-ttu-id="c9490-124">**Имя задач в проекте:**</span><span class="sxs-lookup"><span data-stu-id="c9490-124">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="c9490-125">Фактические данные</span><span class="sxs-lookup"><span data-stu-id="c9490-125">Actuals</span></span>
    - <span data-ttu-id="c9490-126">TransactionConnections</span><span class="sxs-lookup"><span data-stu-id="c9490-126">TransactionConnections</span></span>

### <a name="entity-set"></a><span data-ttu-id="c9490-127">Набор объектов</span><span class="sxs-lookup"><span data-stu-id="c9490-127">Entity set</span></span>

| <span data-ttu-id="c9490-128">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="c9490-128">Project Service Automation</span></span> | <span data-ttu-id="c9490-129">Финансы</span><span class="sxs-lookup"><span data-stu-id="c9490-129">Finance</span></span>                                   |
|----------------------------|----------------------------------------------------------|
| <span data-ttu-id="c9490-130">Фактические данные</span><span class="sxs-lookup"><span data-stu-id="c9490-130">Actuals</span></span>                    | <span data-ttu-id="c9490-131">Объект интеграции для фактических данных проекта</span><span class="sxs-lookup"><span data-stu-id="c9490-131">Integration entity for project actuals</span></span>                   |
| <span data-ttu-id="c9490-132">Связи проводок</span><span class="sxs-lookup"><span data-stu-id="c9490-132">Transaction Connections</span></span>    | <span data-ttu-id="c9490-133">Объект интеграции для связей проводок по проекту</span><span class="sxs-lookup"><span data-stu-id="c9490-133">Integration entity for project transaction relationships</span></span> |

### <a name="entity-flow"></a><span data-ttu-id="c9490-134">Поток объектов</span><span class="sxs-lookup"><span data-stu-id="c9490-134">Entity flow</span></span>

<span data-ttu-id="c9490-135">Фактические данные проекта управляются в Project Service Automation и синхронизируются с журналом интеграции проекта в Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-135">Project actuals are managed in Project Service Automation, and they are synchronized to the project integration journal in Finance.</span></span> <span data-ttu-id="c9490-136">Учет применяется на основе финансовых аналитик по умолчанию и настройки разноски.</span><span class="sxs-lookup"><span data-stu-id="c9490-136">The accounting will be applied based on default financial dimensions and the posting setup.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="c9490-137">Необходимые условия</span><span class="sxs-lookup"><span data-stu-id="c9490-137">Prerequisites</span></span>

<span data-ttu-id="c9490-138">Прежде чем произойдет синхронизация фактических данных, необходимо настроить параметры интеграции Project Service Automation и синхронизировать проекты, задачи по проекту и категории транзакции расходов для проекта.</span><span class="sxs-lookup"><span data-stu-id="c9490-138">Before synchronization of actuals can occur, you must configure the Project Service Automation integration parameters and synchronize projects, project tasks, and project expense transaction categories.</span></span>

### <a name="power-query"></a><span data-ttu-id="c9490-139">Power Query</span><span class="sxs-lookup"><span data-stu-id="c9490-139">Power Query</span></span>

<span data-ttu-id="c9490-140">В шаблоне фактических данных по проекту необходимо использовать Microsoft Power Query для Excel для выполнения следующих задач:</span><span class="sxs-lookup"><span data-stu-id="c9490-140">In the project actuals template, you must use Microsoft Power Query for Excel to complete these tasks:</span></span>

- <span data-ttu-id="c9490-141">Преобразование типа транзакции в Project Service Automation в правильный тип транзакции в Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-141">Transform the transaction type in Project Service Automation to the correct transaction type in Finance.</span></span> <span data-ttu-id="c9490-142">Это преобразование уже определено в шаблоне фактических данных проекта (PSA и Fin and Ops).</span><span class="sxs-lookup"><span data-stu-id="c9490-142">This transformation is already defined in the Project actuals (PSA to Fin and Ops) template.</span></span>
- <span data-ttu-id="c9490-143">Преобразуйте тип выставления счетов в Project Service Automation в правильный тип выставления счетов в Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-143">Transform the billing type in Project Service Automation to the correct billing type in Finance.</span></span> <span data-ttu-id="c9490-144">Это преобразование уже определено в шаблоне фактических данных проекта (PSA и Fin and Ops).</span><span class="sxs-lookup"><span data-stu-id="c9490-144">This transformation is already defined in the Project actuals (PSA to Fin and Ops) template.</span></span> <span data-ttu-id="c9490-145">Тип выставления счетов сопоставляется со свойством строки на основе конфигурации на странице **Параметры интеграции Project Service Automation**.</span><span class="sxs-lookup"><span data-stu-id="c9490-145">The billing type is then mapped to the line property, based on the configuration on the **Project Service Automation integration parameters** page.</span></span>
- <span data-ttu-id="c9490-146">Отфильтруйте определенные подразделения ресурсов, которые должны быть синхронизированы с помощью этого шаблона.</span><span class="sxs-lookup"><span data-stu-id="c9490-146">Filter to specific resource organizational units that must be synchronized with this template.</span></span>
- <span data-ttu-id="c9490-147">Если фактические данные по внутрихолдинговым значениям времени или внутрихолдинговые расходам будут синхронизированы с Finance, следует преобразовать контрактное подразделение в правильное юридическое лицо в Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-147">If intercompany time or intercompany expense actuals will be synchronized to Finance, you must transform the contract organizational unit to the correct legal entity in Finance.</span></span> <span data-ttu-id="c9490-148">В шаблоне фактических данных по проекту (PSA в Fin and Ops) определен столбец условий на основе демонстрационных данных.</span><span class="sxs-lookup"><span data-stu-id="c9490-148">In the Project actuals (PSA to Fin and Ops) template, a conditional column is defined based on demo data.</span></span> <span data-ttu-id="c9490-149">Необходимо обновить последний вставленный столбец с условиями с указанием правильных юридических лиц.</span><span class="sxs-lookup"><span data-stu-id="c9490-149">You must update the last inserted conditional column to the correct legal entities.</span></span> <span data-ttu-id="c9490-150">В противном случае может произойти ошибка интеграции или неправильные фактические транзакции могут быть импортированы в Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-150">Otherwise, either an integration error might occur, or incorrect actual transactions might be imported into Finance.</span></span>
- <span data-ttu-id="c9490-151">Если фактические данные по внутрихолдинговым значениям времени или внутрихолдинговые расходам не будет синхронизированы с Finance, необходимо удалить последний вставленный столбец с условиями из шаблона.</span><span class="sxs-lookup"><span data-stu-id="c9490-151">If intercompany time or intercompany expense actuals won't be synchronized to Finance, you must delete the last inserted conditional column from your template.</span></span> <span data-ttu-id="c9490-152">В противном случае может произойти ошибка интеграции или неправильные фактические транзакции могут быть импортированы в Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-152">Otherwise, either an integration error might occur, or incorrect actual transactions might be imported into Finance.</span></span>

#### <a name="contract-organizational-unit"></a><span data-ttu-id="c9490-153">Контрактное подразделение</span><span class="sxs-lookup"><span data-stu-id="c9490-153">Contract organizational unit</span></span>
<span data-ttu-id="c9490-154">Чтобы обновить вставленный в шаблон столбец с условиями, щелкните стрелку **Сопоставить**, чтобы открыть соответствие.</span><span class="sxs-lookup"><span data-stu-id="c9490-154">To update the inserted conditional column in the template, click the **Map** arrow to open the mapping.</span></span> <span data-ttu-id="c9490-155">Выберите ссылку **Расширенный запрос и фильтрация**, чтобы открыть Power Query.</span><span class="sxs-lookup"><span data-stu-id="c9490-155">Select the **Advanced Query and Filtering** link to open Power Query.</span></span>

- <span data-ttu-id="c9490-156">При использовании шаблона по умолчанию для фактических данных проекта (PSA и Fin and Ops) в Power Query выберите последнее **Вставленное условие** из раздела **Примененные действия**.</span><span class="sxs-lookup"><span data-stu-id="c9490-156">If you're using the default Project actuals (PSA to Fin and Ops) template, in Power Query, select the last **Inserted Condition** from the **Applied Steps** section.</span></span> <span data-ttu-id="c9490-157">В записи **Функция** замените **USSI** на имя юридического лица, которое должно использоваться при интеграции.</span><span class="sxs-lookup"><span data-stu-id="c9490-157">In the **Function** entry, replace **USSI** with the name of the legal entity that should be used with the integration.</span></span> <span data-ttu-id="c9490-158">Введите требуемые дополнительные условия в запись **Функция** и обновите условие **else** из **USMF** на правильное юридическое лицо.</span><span class="sxs-lookup"><span data-stu-id="c9490-158">Add additional conditions to the **Function** entry as you require, and update the **else** condition from **USMF** to the correct legal entity.</span></span>
- <span data-ttu-id="c9490-159">При создании нового шаблона необходимо добавить этот столбец для поддержки внутрихолдингового времени и расходов.</span><span class="sxs-lookup"><span data-stu-id="c9490-159">If you're creating a new template, you must add the column to support intercompany time and expenses.</span></span> <span data-ttu-id="c9490-160">Выберите **Добавить столбец с условиями** и введите имя для столбца, например **LegalEntity**.</span><span class="sxs-lookup"><span data-stu-id="c9490-160">Select **Add Conditional Column**, and enter a name for the column, such as **LegalEntity**.</span></span> <span data-ttu-id="c9490-161">Введите условие для столбца, где если **msdyn\_contractorganizationalunitid.msdyn\_name** является \<организационным подразделением\>, то \<введите юридическое лицо\>; в противном случае значение null.</span><span class="sxs-lookup"><span data-stu-id="c9490-161">Enter a condition for the column, where, if **msdyn\_contractorganizationalunitid.msdyn\_name** is \<organizational unit\>, then \<enter the legal entity\>; else null.</span></span>

### <a name="template-mapping-in-data-integration"></a><span data-ttu-id="c9490-162">Сопоставление шаблона в интеграции данных</span><span class="sxs-lookup"><span data-stu-id="c9490-162">Template mapping in Data integration</span></span>

<span data-ttu-id="c9490-163">На следующих рисунках показан пример соответствия задания шаблона при интеграции данных.</span><span class="sxs-lookup"><span data-stu-id="c9490-163">The following illustrations show an example of the template task mapping in Data integration.</span></span> <span data-ttu-id="c9490-164">Соответствие показывает, какие данные полей будут синхронизированы из Project Service Automation в Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-164">The mapping shows the field information that will be synchronized from Project Service Automation to Finance.</span></span>

<span data-ttu-id="c9490-165">[![Соответствие шаблона](./media/ActualsMapping.jpg)](./media/ActualsMapping.jpg)</span><span class="sxs-lookup"><span data-stu-id="c9490-165">[![Template mapping](./media/ActualsMapping.jpg)](./media/ActualsMapping.jpg)</span></span>

<span data-ttu-id="c9490-166">[![Соответствие шаблона](./media/TransactionConnections.jpg)](./media/TransactionConnections.jpg)</span><span class="sxs-lookup"><span data-stu-id="c9490-166">[![Template mapping](./media/TransactionConnections.jpg)](./media/TransactionConnections.jpg)</span></span>

## <a name="import-from-staging-table-after-integration-from-project-service-automation"></a><span data-ttu-id="c9490-167">Импорт из промежуточной таблицы после интеграции из Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="c9490-167">Import from staging table after integration from Project Service Automation</span></span>

<span data-ttu-id="c9490-168">Периодический процесс импорта из промежуточной таблицы должен запускаться после синхронизации фактических данных из Project Service Automation в Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-168">The Import from staging table periodic process must be run after the synchronization of actuals from Project Service Automation to Finance.</span></span> <span data-ttu-id="c9490-169">Этот процесс импортирует транзакции по проекту из промежуточной таблицы в журнал интеграции Project Service Automation, где применяется учет, и импортированные транзакции могут быть разнесены.</span><span class="sxs-lookup"><span data-stu-id="c9490-169">This process will import the project transactions from the staging table into the Project Service Automation integration journal, where the accounting is applied and the imported transactions can be posted.</span></span> <span data-ttu-id="c9490-170">Рекомендуется запускать этот процесс в пакетном режиме; при необходимости можно настроить его в виде повторяющегося пакетного задания.</span><span class="sxs-lookup"><span data-stu-id="c9490-170">We recommend that you run this process in batch mode; it can optionally be set up to run as a recurring batch.</span></span>

## <a name="update-actuals-from-finance"></a><span data-ttu-id="c9490-171">Обновление фактических данных из Finance</span><span class="sxs-lookup"><span data-stu-id="c9490-171">Update actuals from Finance</span></span>

### <a name="template-and-tasks"></a><span data-ttu-id="c9490-172">Шаблон и задачи</span><span class="sxs-lookup"><span data-stu-id="c9490-172">Template and tasks</span></span>

<span data-ttu-id="c9490-173">Следующий шаблон и базовые задачи используются для синхронизации номера ваучера и налогов для разнесенных проводок из Finance в Project Service Automation:</span><span class="sxs-lookup"><span data-stu-id="c9490-173">The following template and underlying tasks are used to synchronize the voucher number and sales taxes for posted project transactions from Finance to Project Service Automation:</span></span>

- <span data-ttu-id="c9490-174">**Имя шаблона в интеграции данных:** Обновление фактических данных (Fin Ops и PSA)</span><span class="sxs-lookup"><span data-stu-id="c9490-174">**Name of the template in Data integration:** Project actuals update (Fin Ops to PSA)</span></span>
- <span data-ttu-id="c9490-175">**Имя задач в проекте:**</span><span class="sxs-lookup"><span data-stu-id="c9490-175">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="c9490-176">Фактические данные</span><span class="sxs-lookup"><span data-stu-id="c9490-176">Actuals</span></span> 
    - <span data-ttu-id="c9490-177">TransactionConnections</span><span class="sxs-lookup"><span data-stu-id="c9490-177">TransactionConnections</span></span>

### <a name="entity-set"></a><span data-ttu-id="c9490-178">Набор объектов</span><span class="sxs-lookup"><span data-stu-id="c9490-178">Entity set</span></span>

| <span data-ttu-id="c9490-179">Финансы</span><span class="sxs-lookup"><span data-stu-id="c9490-179">Finance</span></span>                                                  | <span data-ttu-id="c9490-180">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="c9490-180">Project Service Automation</span></span> |
|----------------------------------------------------------|----------------------------|
| <span data-ttu-id="c9490-181">Объект интеграции для фактических данных проекта</span><span class="sxs-lookup"><span data-stu-id="c9490-181">Integration entity for project actuals</span></span>                   | <span data-ttu-id="c9490-182">Фактические данные</span><span class="sxs-lookup"><span data-stu-id="c9490-182">Actuals</span></span>                    |
| <span data-ttu-id="c9490-183">Объект интеграции для связей проводок по проекту</span><span class="sxs-lookup"><span data-stu-id="c9490-183">Integration entity for project transaction relationships</span></span> | <span data-ttu-id="c9490-184">Связи проводок</span><span class="sxs-lookup"><span data-stu-id="c9490-184">Transaction Connections</span></span>    |

### <a name="entity-flow"></a><span data-ttu-id="c9490-185">Поток объектов</span><span class="sxs-lookup"><span data-stu-id="c9490-185">Entity flow</span></span>

<span data-ttu-id="c9490-186">Фактические данные проекта управляются в Project Service Automation и синхронизируются с журналом интеграции проекта в Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-186">Project actuals are managed in Project Service Automation, and they are synchronized to the project integration journal in Finance.</span></span> <span data-ttu-id="c9490-187">После разноски фактических данных в Finance они обновляются в Project Service Automation с кодом ваучера из Finance.</span><span class="sxs-lookup"><span data-stu-id="c9490-187">After actuals are posted in Finance, they are updated in Project Service Automation with the voucher number from Finance.</span></span> <span data-ttu-id="c9490-188">Если налоги были добавлены в Finance, в Project Service Automation создаются новые фактические данные по налогу.</span><span class="sxs-lookup"><span data-stu-id="c9490-188">If sales taxes were added in Finance, new tax actuals are created in Project Service Automation.</span></span>

### <a name="power-query"></a><span data-ttu-id="c9490-189">Power Query</span><span class="sxs-lookup"><span data-stu-id="c9490-189">Power Query</span></span>

<span data-ttu-id="c9490-190">В шаблоне обновления фактических данных по проекту необходимо использовать Power Query для выполнения следующих задач:</span><span class="sxs-lookup"><span data-stu-id="c9490-190">In the project actuals update template, you must use Power Query to complete these tasks:</span></span>

- <span data-ttu-id="c9490-191">Преобразование типа транзакции в Finance в правильный тип транзакции в Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="c9490-191">Transform the transaction type in Finance to the correct transaction type in Project Service Automation.</span></span> <span data-ttu-id="c9490-192">Это преобразование уже определено в шаблоне обновления фактических данных проекта (PSA и Fin and Ops).</span><span class="sxs-lookup"><span data-stu-id="c9490-192">This transformation is already defined in the Project actuals update (Fin Ops to PSA) template.</span></span>
- <span data-ttu-id="c9490-193">Преобразуйте тип выставления счетов в Finance в правильный тип выставления счетов в Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="c9490-193">Transform the billing type in Finance to the correct billing type in Project Service Automation.</span></span> <span data-ttu-id="c9490-194">Это преобразование уже определено в шаблоне обновления фактических данных проекта (PSA и Fin and Ops).</span><span class="sxs-lookup"><span data-stu-id="c9490-194">This transformation is already defined in the Project actuals update (Fin Ops to PSA) template.</span></span>

### <a name="template-mapping-in-data-integration"></a><span data-ttu-id="c9490-195">Сопоставление шаблона в интеграции данных</span><span class="sxs-lookup"><span data-stu-id="c9490-195">Template mapping in Data integration</span></span>

<span data-ttu-id="c9490-196">На следующих рисунках показаны примеры соответствия задания шаблона при интеграции данных.</span><span class="sxs-lookup"><span data-stu-id="c9490-196">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="c9490-197">Соответствие показывает, какие данные полей будут синхронизированы из Finance в Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="c9490-197">The mapping shows the field information that will be synchronized from Finance to Project Service Automation.</span></span>

<span data-ttu-id="c9490-198">[![Соответствие шаблона](./media/ActualsUpdateMapping.jpg)](./media/ActualsUpdateMapping.jpg)</span><span class="sxs-lookup"><span data-stu-id="c9490-198">[![Template mapping](./media/ActualsUpdateMapping.jpg)](./media/ActualsUpdateMapping.jpg)</span></span>

<span data-ttu-id="c9490-199">[![Соответствие шаблона](./media/TransactionConnectionsUpdate.jpg)](./media/TransactionConnectionsUpdate.jpg)</span><span class="sxs-lookup"><span data-stu-id="c9490-199">[![Template mapping](./media/TransactionConnectionsUpdate.jpg)](./media/TransactionConnectionsUpdate.jpg)</span></span>
