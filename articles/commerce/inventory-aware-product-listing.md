---
title: Список продуктов, поддерживающий запасы
description: В этой статье описывается, как организации могут настроить страницы списка продуктов на веб-сайте электронной коммерции Microsoft Dynamics 365 Commerce так, чтобы они были осведомлены о запасах.
author: boycez
ms.date: 08/31/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: boycez
ms.search.validFrom: 2022-08-23
ms.openlocfilehash: 2a65dedf2da62fcd92169077d75a0f3b7832a86d
ms.sourcegitcommit: b1df4db7facb5e7094138836c41a65c4a158f01d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2022
ms.locfileid: "9473749"
---
# <a name="inventory-aware-product-listing"></a>Список продуктов, поддерживающий запасы

[!include [banner](../includes/banner.md)]

В этой статье описывается, как организации могут настроить страницы списка продуктов на веб-сайте электронной коммерции Microsoft Dynamics 365 Commerce так, чтобы они были осведомлены о запасах. Страницы списка продуктов включают целевые страницы категории и страницы результатов поиска.

Покупатели обычно ожидают, что обнаружение продуктов на всем сайте электронной коммерции должно учитывать запасы, чтобы они могли решать, что делать, если продукта нет на складе. Модули категории и результатов поиска из [библиотеки модулей Commerce](starter-kit-overview.md) могут быть настроены для включения данных запасов. Таким образом они могут предоставлять следующие возможности:

- Отображение меток уровней запасов вместе с продуктами.
- Скрытие продуктов, отсутствующих в запасах, из списка продуктов.
- Перемещение продуктов, отсутствующих на складе, в конец страниц списков продуктов.
- Поддержка фильтрации продуктов на основе запасов.

Чтобы включить эти возможности, необходимо сначала включить функцию **Расширенное обнаружение продуктов электронной коммерции для учета запасов** в Commerce headquarters.

> [!NOTE]
> В Commerce версии 10.0.29 и новее, функция **Расширенное обнаружение продуктов электронной коммерции для учета запасов** включена по умолчанию.

## <a name="set-up-product-attribute-for-inventory-availability"></a>Настройка атрибута продукта для доступности запасов

Список продуктов, поддерживающий запасы, использует структуру атрибутов продукта. В качестве необходимого условия необходимо создать специальный атрибут продукта для сбора данных о доступности запасов.

Чтобы настроить атрибут продукта для доступности запасов в Commerce headquarters, выполните следующие шаги.

1. Перейдите в **Retail и Commerce \> ИТ Retail и Commerce \> Продукты и запасы \> Заполнить атрибуты продукта уровнем запасов**.
1. В диалоговом окне **Заполнить атрибуты продукта уровнем запасов** в поле **Имя атрибута и типа продукта** введите настраиваемое имя для специального атрибута продукта, который будет создан для сбора данных инвентаризации.
1. В поле **Доступность запасов на основе** выберите тип количества, на котором должен основываться расчет уровня запасов: **Физически доступно** или **Доступное общее количество**.
1. Установите для параметра **Пакетная обработка** значение **Да**.
1. Нажмите **ОК**.

> [!NOTE]
> Для согласованного расчета уровня запасов между страницами веб-сайта электронной коммерции обязательно выберите одинаковый тип количества в поле **Доступность запасов на основе** для задания **Заполнить атрибуты продукта уровнем запасов** и для параметра **На основе уровня запасов** в конструкторе сайтов Commerce.

Следующим шагом после создания специального атрибута продукта является настройка атрибута для интернет-канала.

Чтобы настроить атрибут для интернет-канала в Commerce headquarters, выполните следующие шаги.

1. Перейдите в раздел **Retail и Commerce \> Настройка канала \> Категории каналов и атрибуты продуктов**.
1. Выберите интернет-канал, для которого требуется включить возможности списка продуктов с учетом запасов.
1. Выберите и откройте соответствующую группу атрибутов, затем добавьте к ней новый атрибут продукта.
1. Перейдите в раздел **Розничная торговля и коммерция \> ИТ розничной торговли и коммерции \> График распределения** и выполните задание **1150** (**Каталог**). Рекомендуется также запланировать это задание как процесс пакетной обработки, выполняемый с такой же периодичностью, что и задание **Заполнить атрибуты продукта уровнем запасов**.

> [!NOTE]
> В Commerce версии 10.0.26 и более ранних после добавления атрибута продукта доступности запасов в группу атрибутов необходимо также выбрать **Задать метаданные атрибута**, затем включить параметры **Показать атрибут для канала**, **Возможно извлечение**, **Возможно уточнение** и **Возможен запрос** для нового атрибута продукта.

## <a name="configure-the-display-behavior-for-out-of-stock-products-on-product-listing-pages"></a>Настройка поведения отображения для отсутствующих на складе продуктов на страницах списка продуктов

После выполнения всех вышеперечисленных шагов настройки уточнения на страницах категорий и результатов поиска будут иметь параметр фильтрации на основе запасов. Для каждой плитки продукта, отображаемой на странице, будет отображаться метка уровня запасов.

На странице категории и результатов поиска отображаются продукты на главном уровне, а не на уровне вариантов продукта. Уровень запасов, отображаемый рядом с каждым продуктом, является сводным уровнем запасов, определяемым уровнем запасов всех вариантов продукта. Уровень запасов для варианта рассчитывается на основе запасов в наличии для этого варианта на складе по умолчанию в интернет-канале в Commerce headquarters. Уровень запасов основного продукта имеет два возможных значения, представляющих состояния "в наличии" и "нет в наличии". Основной продукт считается недоступным на складе, когда на складе нет его вариантов. В противном случае продукт считается "в наличии". Метка для значения извлекается из определения [уровня запасов](inventory-buffers-levels.md). Если уровень запасов не определен, метки по умолчанию (на английском языке) имеют вид **В наличии** и **Нет в наличии**.

Можно настроить параметр **Параметры запасов для страниц списков продуктов** в конструкторе сайтов Commerce, чтобы управлять отображением отсутствующих на складе продуктов на странице категории и результатов поиска. Для получения дополнительной информации о см. раздел [Применение настроек запасов](inventory-settings.md).

[!INCLUDE[footer-include](../includes/footer-banner.md)]
