---
title: Модуль карты
description: В этой статье описываются модули карты, а также описывается, как настраивать их в Microsoft Dynamics 365 Commerce.
author: anupamar-ms
ms.date: 09/15/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2020-02-10
ms.dyn365.ops.version: Release 10.0.13
ms.custom: ''
ms.assetid: ''
ms.search.industry: ''
ms.openlocfilehash: d72091baf2f216bfbe33950950f8917c3ba1ba5c
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/12/2022
ms.locfileid: "9283355"
---
# <a name="map-module"></a>Модуль карты

[!include [banner](includes/banner.md)]


В этой статье описываются модули карты, а также описывается, как настраивать их в Microsoft Dynamics 365 Commerce.

Модуль карты показывает местоположение магазинов на интерактивной карте, которая отображается с помощью [веб-элемента управления Карт Bing V8](/bingmaps/v8-web-control/). Требуется ключ API карт Bing, который должен быть добавлен на страницу общих параметров в центральном офисе Commerce. Модули карты предоставляют различающиеся представления, такие как дорога, с воздуха и улицы, которые пользователи могут выбрать для просмотра местоположений на карте. Они также позволяют выполнять такие действия, как масштабирование и использование местоположения пользователя.

Модуль карты взаимодействует с модулем выбора магазина, чтобы определить географическое местоположение магазинов, которые должны быть визуализированы на карте. Модули выбора магазина и карты взаимодействуют, когда пользователь выбирает магазин в одном из этих модулей на странице сайта. Модули карты могут быть расширены для других сценариев, помимо взаимодействия с модулями выбора магазина. Однако необходимо выполнить настройку модуля.

> [!NOTE]
> Модуль карты доступен в выпуске Dynamics 365 Commerce 10.0.13.

На следующем рисунке показан пример модуля карты, используемый на странице местоположений магазинов.

![Пример модуля выбора магазина.](./media/ecommerce-Storelocator.PNG)

## <a name="module-properties"></a>Свойства модуля

| Имя свойства             | значение                 | описание |
|---------------------------|-----------------------|-------------|
| Заголовок | Текст | Заголовок модуля. |
| Параметры кнопки: значок по умолчанию | Изображение | Изображение символа канцелярской кнопки для использования в магазинах, отображаемых на карте. |
| Параметры кнопки: значок "Активно" | Изображение | Изображение символа канцелярской кнопки для использования для магазина, отображаемого на карте. |
| Параметры кнопки: цвет значка по умолчанию | Символьная строка | Текстовое или шестнадцатеричное значение цвета символа кнопки. |
| Параметры кнопки: цвет значка "Активно" | Символьная строка | Текстовое или шестнадцатеричное значение цвета выбранных символов кнопки. |
| Показать индекс | **True** или **False** | Если это свойство имеет значение **Истина**, то у каждого символа кнопки, который обозначает магазин, будет показан индекс. Этот индекс будет соответствовать индексу в представлении списка, который отображается в модуле выбора магазина. |

## <a name="add-allowed-mapping-urls-to-a-sites-content-security-policy-directives"></a>Добавление разрешенных URL-адресов для сопоставления в директивы политики безопасности содержимого сайта

Для взаимодействия модуля карты с Картами Bing необходимо убедиться, что следующие URL-адреса сопоставления разрешены в политике безопасности содержимого сайта (CSP). Эта настройка выполняется в построителе сайтов Commerce путем добавления разрешенных URL-адресов в различные директивы CSP для сайта (например, **img-src**). Дополнительные сведения см. в разделе [Политика безопасности содержимого](manage-csp.md). 

- В директиву **connect-src** добавьте **&#42;.bing.com**.
- В директиву **img-src**, добавьте **&#42;.virtualearth.net**.
- В директиву **script-src** добавьте **&#42;.bing.com, &#42;.virtualearth.net**.
- В директиву **script style-src** добавьте **&#42;.bing.com**.

## <a name="add-a-map-module-to-a-page"></a>Добавление модуля карты на страницу

Подробные сведения о настройке модуля карты на странице см. в разделе [Модуль выбора магазина](store-selector.md). 
 
## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор библиотеки модулей](starter-kit-overview.md)

[Модуль поля покупки](add-buy-box.md)

[Модуль корзины](add-cart-module.md)

[Модуль выбора магазина](store-selector.md)

[Управление картами Bing для вашей организации](./dev-itpro/manage-bing-maps.md)

[Веб-элемент управления Карт Bing V8](/bingmaps/v8-web-control/)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
