---
title: Проверка работоспособности для периферийных устройств и услуг POS-терминалов
description: В этом разделе представлен обзор операции проверки работоспособности в POS-терминале.
author: rubendel
manager: AnnBe
ms.date: 03/06/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.custom: 141393
ms.assetid: e23e944c-15de-459d-bcc5-ea03615ebf4c
ms.search.region: Global
ms.search.industry: Retail
ms.author: rubendel
ms.search.validFrom: 2019-03-31
ms.dyn365.ops.version: AX 7.0.1
ms.openlocfilehash: 59e2505345d82f47efebfba6cc6f3403d03acc84
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2021
ms.locfileid: "5000542"
---
# <a name="health-check-for-pos-peripherals-and-services"></a><span data-ttu-id="79633-103">Проверка работоспособности для периферийных устройств и услуг POS-терминалов</span><span class="sxs-lookup"><span data-stu-id="79633-103">Health check for POS peripherals and services</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="79633-104">В этом разделе описывается операция проверки работоспособности в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="79633-104">This topic describes the health check operation in the point of sale (POS).</span></span>

## <a name="overview"></a><span data-ttu-id="79633-105">Обзор</span><span class="sxs-lookup"><span data-stu-id="79633-105">Overview</span></span>

<span data-ttu-id="79633-106">Розничные магазины могут быть сложными средами, в которых используются многие приложения и устройства.</span><span class="sxs-lookup"><span data-stu-id="79633-106">Retail stores can be complex environments where many applications and devices are used.</span></span> <span data-ttu-id="79633-107">По мере расширения операций может стать сложно обеспечивать стабильную работу операций из-за зависимости от, например, периферийных устройств, которые могут ломаться или случайно отсоединяться в течение дня.</span><span class="sxs-lookup"><span data-stu-id="79633-107">As operations grow, it can become difficult to ensure that operations always run smoothly, because of dependencies on, for example, peripherals that can break or accidentally become unplugged over the course of a day.</span></span> <span data-ttu-id="79633-108">Устранение неполадок, связанных с устройствами и службами, может быть дорогостоящим для крупных магазинов и не менее неприятным при небольших операциях.</span><span class="sxs-lookup"><span data-stu-id="79633-108">Troubleshooting for issues that are related to devices and services can be costly for larger merchants and equally frustrating for smaller operations.</span></span>

<span data-ttu-id="79633-109">Microsoft Dynamics 365 Commerce версии 10.0.10 и более поздних версий включают в себя операцию проверки работоспособности, которая поможет предотвратить некоторые из этих затрат и разочарований.</span><span class="sxs-lookup"><span data-stu-id="79633-109">Microsoft Dynamics 365 Commerce versions 10.0.10 and later include a health check operation that can help prevent some of this cost and frustration.</span></span> <span data-ttu-id="79633-110">Эта операция предоставляет метод для тестирования устройств непосредственно из POS-терминала вне нормальных операций.</span><span class="sxs-lookup"><span data-stu-id="79633-110">This operation provides a method for testing devices directly from the POS outside of normal operations.</span></span> <span data-ttu-id="79633-111">Таким образом, она может помочь предприятиям розничной торговли обнаруживать проблемы до их возникновения.</span><span class="sxs-lookup"><span data-stu-id="79633-111">Therefore, it can help retailers detect issues before they occur.</span></span>

## <a name="key-terms"></a><span data-ttu-id="79633-112">Ключевые термины</span><span class="sxs-lookup"><span data-stu-id="79633-112">Key terms</span></span>

| <span data-ttu-id="79633-113">Срок</span><span class="sxs-lookup"><span data-stu-id="79633-113">Term</span></span> | <span data-ttu-id="79633-114">описание</span><span class="sxs-lookup"><span data-stu-id="79633-114">Description</span></span> |
|---|---|
| <span data-ttu-id="79633-115">Периферийное устройство</span><span class="sxs-lookup"><span data-stu-id="79633-115">Peripheral</span></span> | <span data-ttu-id="79633-116">Любое устройство, используемое приложением POS для выполнения проводок и других операций в магазине.</span><span class="sxs-lookup"><span data-stu-id="79633-116">Any device that the POS application uses to facilitate transactions and other operations in the store.</span></span> <span data-ttu-id="79633-117">Примерами являются кассовые ящики, сканеры штрих-кодов и платежные терминалы.</span><span class="sxs-lookup"><span data-stu-id="79633-117">Examples include cash drawers, bar code scanners, and payment terminals.</span></span> |
| <span data-ttu-id="79633-118">Сервис</span><span class="sxs-lookup"><span data-stu-id="79633-118">Service</span></span> | <span data-ttu-id="79633-119">В данном разделе услуга — это дополнительное приложение, от которого зависит приложение POS для выполнения проводок и ежедневных операций.</span><span class="sxs-lookup"><span data-stu-id="79633-119">In this topic, a service is an ancillary application that the POS application depends on to perform transactions and daily operations.</span></span> <span data-ttu-id="79633-120">Примерами являются приложения, которые помогают в расчетах налогов или поставок.</span><span class="sxs-lookup"><span data-stu-id="79633-120">Examples include apps that help with tax or shipping calculations.</span></span> |

## <a name="health-check-operation"></a><span data-ttu-id="79633-121">Операция проверки работоспособности</span><span class="sxs-lookup"><span data-stu-id="79633-121">Health check operation</span></span>

<span data-ttu-id="79633-122">Операция проверки работоспособности — это операция 717 на странице **Операции POS** в модуле Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="79633-122">The health check operation is operation 717 on the **POS Operations** page in Commerce Headquarters.</span></span> <span data-ttu-id="79633-123">Она может использоваться, когда POS находится в режиме без лотка.</span><span class="sxs-lookup"><span data-stu-id="79633-123">It can be used while the POS is in non-drawer mode.</span></span> <span data-ttu-id="79633-124">Однако аппаратная станция должна быть активной.</span><span class="sxs-lookup"><span data-stu-id="79633-124">However, a hardware station must be active.</span></span>

<span data-ttu-id="79633-125">По умолчанию в ходе проверки работоспособности проверяются только устройства, настроенные в профиле оборудования для аппаратной станции, которая активна в данный момент для ККМ.</span><span class="sxs-lookup"><span data-stu-id="79633-125">By default, the health check tests only devices that are configured in the hardware profile for the hardware station that is currently active for a register.</span></span> <span data-ttu-id="79633-126">Если ККМ использует несколько аппаратных станций в течение дня; чтобы выполнить проверки работоспособности для всех этих устройств, она должна быть подключена к одной аппаратной станции за один раз.</span><span class="sxs-lookup"><span data-stu-id="79633-126">If a register uses multiple hardware stations over the course of a day, to do health checks for all of them, it must connect to one hardware station at a time.</span></span> <span data-ttu-id="79633-127">Нет проверки работоспособности на уровне магазина.</span><span class="sxs-lookup"><span data-stu-id="79633-127">There is no store-level health check.</span></span> <span data-ttu-id="79633-128">Однако этот тип проверки может быть выполнен с помощью расширения Commerce Server.</span><span class="sxs-lookup"><span data-stu-id="79633-128">However, it's possible that this type of check can be done through Commerce Server extensibility.</span></span>

### <a name="out-of-box-health-checks"></a><span data-ttu-id="79633-129">Готовые проверки работоспособности</span><span class="sxs-lookup"><span data-stu-id="79633-129">Out-of-box health checks</span></span>

| <span data-ttu-id="79633-130">Вид</span><span class="sxs-lookup"><span data-stu-id="79633-130">Type</span></span> | <span data-ttu-id="79633-131">Подключение</span><span class="sxs-lookup"><span data-stu-id="79633-131">Connection</span></span> | <span data-ttu-id="79633-132">Подробно</span><span class="sxs-lookup"><span data-stu-id="79633-132">Details</span></span> |
|---|---|---|
| <span data-ttu-id="79633-133">Принтер</span><span class="sxs-lookup"><span data-stu-id="79633-133">Printer</span></span> | <span data-ttu-id="79633-134">OPOS</span><span class="sxs-lookup"><span data-stu-id="79633-134">OPOS</span></span> | <span data-ttu-id="79633-135">Эта проверка проверяет базовую связь и внедрение объектов для функций POS-терминала (OPOS).</span><span class="sxs-lookup"><span data-stu-id="79633-135">This check tests basic object linking and embedding for POS (OPOS) functions.</span></span> <span data-ttu-id="79633-136">Далее приводятся некоторые примеры.</span><span class="sxs-lookup"><span data-stu-id="79633-136">Here are some examples:</span></span><ul><li><span data-ttu-id="79633-137">Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="79633-137">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="79633-138">Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="79633-138">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> |
| <span data-ttu-id="79633-139">Строковый дисплей</span><span class="sxs-lookup"><span data-stu-id="79633-139">Line display</span></span> | <span data-ttu-id="79633-140">OPOS</span><span class="sxs-lookup"><span data-stu-id="79633-140">OPOS</span></span> | <span data-ttu-id="79633-141">Эта проверка проверяет основные функции OPOS.</span><span class="sxs-lookup"><span data-stu-id="79633-141">This check tests basic OPOS functions.</span></span> <span data-ttu-id="79633-142">Далее приводятся некоторые примеры.</span><span class="sxs-lookup"><span data-stu-id="79633-142">Here are some examples:</span></span><ul><li><span data-ttu-id="79633-143">Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="79633-143">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="79633-144">Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="79633-144">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> |
| <span data-ttu-id="79633-145">Двойной дисплей</span><span class="sxs-lookup"><span data-stu-id="79633-145">Dual display</span></span> | <span data-ttu-id="79633-146">Windows</span><span class="sxs-lookup"><span data-stu-id="79633-146">Windows</span></span> | <span data-ttu-id="79633-147">Эта проверка гарантирует, что операционная система обнаружит второй дисплей Windows.</span><span class="sxs-lookup"><span data-stu-id="79633-147">This check ensures that the operating system detects a second Windows display.</span></span> | 
| <span data-ttu-id="79633-148">MSR/считыватель магнитных карт</span><span class="sxs-lookup"><span data-stu-id="79633-148">MSR</span></span> | <span data-ttu-id="79633-149">OPOS</span><span class="sxs-lookup"><span data-stu-id="79633-149">OPOS</span></span> | <span data-ttu-id="79633-150">Эта проверка проверяет основные функции OPOS.</span><span class="sxs-lookup"><span data-stu-id="79633-150">This check tests basic OPOS functions.</span></span> <span data-ttu-id="79633-151">Далее приводятся некоторые примеры.</span><span class="sxs-lookup"><span data-stu-id="79633-151">Here are some examples:</span></span><ul><li><span data-ttu-id="79633-152">Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="79633-152">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="79633-153">Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="79633-153">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> |
| <span data-ttu-id="79633-154">Трассант</span><span class="sxs-lookup"><span data-stu-id="79633-154">Drawer</span></span> | <span data-ttu-id="79633-155">OPOS</span><span class="sxs-lookup"><span data-stu-id="79633-155">OPOS</span></span> | <span data-ttu-id="79633-156">Эта проверка проверяет основные функции OPOS.</span><span class="sxs-lookup"><span data-stu-id="79633-156">This check tests basic OPOS functions.</span></span> <span data-ttu-id="79633-157">Далее приводятся некоторые примеры.</span><span class="sxs-lookup"><span data-stu-id="79633-157">Here are some examples:</span></span><ul><li><span data-ttu-id="79633-158">Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="79633-158">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="79633-159">Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="79633-159">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> | 
| <span data-ttu-id="79633-160">Сканер</span><span class="sxs-lookup"><span data-stu-id="79633-160">Scanner</span></span> | <span data-ttu-id="79633-161">OPOS</span><span class="sxs-lookup"><span data-stu-id="79633-161">OPOS</span></span> | <span data-ttu-id="79633-162">Эта проверка проверяет основные функции OPOS.</span><span class="sxs-lookup"><span data-stu-id="79633-162">This check tests basic OPOS functions.</span></span> <span data-ttu-id="79633-163">Далее приводятся некоторые примеры.</span><span class="sxs-lookup"><span data-stu-id="79633-163">Here are some examples:</span></span><ul><li><span data-ttu-id="79633-164">Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="79633-164">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="79633-165">Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="79633-165">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> | 
| <span data-ttu-id="79633-166">Шкала</span><span class="sxs-lookup"><span data-stu-id="79633-166">Scale</span></span> | <span data-ttu-id="79633-167">OPOS</span><span class="sxs-lookup"><span data-stu-id="79633-167">OPOS</span></span> | <span data-ttu-id="79633-168">Эта проверка проверяет основные функции OPOS.</span><span class="sxs-lookup"><span data-stu-id="79633-168">This check tests basic OPOS functions.</span></span> <span data-ttu-id="79633-169">Далее приводятся некоторые примеры.</span><span class="sxs-lookup"><span data-stu-id="79633-169">Here are some examples:</span></span><ul><li><span data-ttu-id="79633-170">Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="79633-170">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="79633-171">Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="79633-171">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> |
| <span data-ttu-id="79633-172">Клавиатура для набора ПИН-кода</span><span class="sxs-lookup"><span data-stu-id="79633-172">PIN pad</span></span> | <span data-ttu-id="79633-173">OPOS</span><span class="sxs-lookup"><span data-stu-id="79633-173">OPOS</span></span> | <span data-ttu-id="79633-174">Эта проверка проверяет основные функции OPOS.</span><span class="sxs-lookup"><span data-stu-id="79633-174">This check tests basic OPOS functions.</span></span> <span data-ttu-id="79633-175">Далее приводятся некоторые примеры.</span><span class="sxs-lookup"><span data-stu-id="79633-175">Here are some examples:</span></span><ul><li><span data-ttu-id="79633-176">Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span><span class="sxs-lookup"><span data-stu-id="79633-176">Open: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</span></span></li><li><span data-ttu-id="79633-177">Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span><span class="sxs-lookup"><span data-stu-id="79633-177">Close: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</span></span></li></ul> |
| <span data-ttu-id="79633-178">Платежный терминал</span><span class="sxs-lookup"><span data-stu-id="79633-178">Payment terminal</span></span> | <span data-ttu-id="79633-179">SDK платежей</span><span class="sxs-lookup"><span data-stu-id="79633-179">Payments SDK</span></span> | <span data-ttu-id="79633-180">Эта проверка проверяет основные функции платежного терминала, предоставляемые SDK платежей.</span><span class="sxs-lookup"><span data-stu-id="79633-180">This check tests basic payment terminal functions provided by the Payments SDK.</span></span> <ul><li><span data-ttu-id="79633-181">Блокировать</span><span class="sxs-lookup"><span data-stu-id="79633-181">Lock</span></span></li><li><span data-ttu-id="79633-182">BeginTransaction</span><span class="sxs-lookup"><span data-stu-id="79633-182">BeginTransaction</span></span></li><li><span data-ttu-id="79633-183">EndTransaction</span><span class="sxs-lookup"><span data-stu-id="79633-183">EndTransaction</span></span></li><li><span data-ttu-id="79633-184">ReleaseDevice</span><span class="sxs-lookup"><span data-stu-id="79633-184">ReleaseDevice</span></span></li><li><span data-ttu-id="79633-185">Близкие</span><span class="sxs-lookup"><span data-stu-id="79633-185">Close</span></span></li></ul> |

### <a name="using-the-health-check-operation-in-the-pos"></a><span data-ttu-id="79633-186">Использование операции проверки работоспособности на POS-терминале</span><span class="sxs-lookup"><span data-stu-id="79633-186">Using the health check operation in the POS</span></span>

<span data-ttu-id="79633-187">При запуске операции проверки работоспособности в POS-терминале в области справа перечисляются настроенные устройства и отображается состояние каждого устройства.</span><span class="sxs-lookup"><span data-stu-id="79633-187">When the health check operation is initiated in the POS, a pane on the right lists the configured devices and shows the status of each device.</span></span> <span data-ttu-id="79633-188">Чтобы выполнить проверку работоспособности для отдельного устройства, выберите устройство, затем выберите **Проверить выбранные**.</span><span class="sxs-lookup"><span data-stu-id="79633-188">To do a health check for a single device, select the device, and then select **Test selected**.</span></span> <span data-ttu-id="79633-189">Чтобы выполнить проверку работоспособности для всех устройств, выберите **Проверить все**.</span><span class="sxs-lookup"><span data-stu-id="79633-189">To do a health check for all devices, select **Test all**.</span></span> <span data-ttu-id="79633-190">Функция **Проверить все** проверяет все устройства, по одному, и обновляет статус каждого устройства в столбце **Статус**.</span><span class="sxs-lookup"><span data-stu-id="79633-190">The **Test all** function tests all the devices, one at a time, and updates the status of each device in the **Status** column.</span></span>

<span data-ttu-id="79633-191">Столбец **Последняя проверка** показывает, когда была выполнена последняя проверка работоспособности для каждого устройства.</span><span class="sxs-lookup"><span data-stu-id="79633-191">The **Last check** column shows when the health check was last done for each device.</span></span>

<span data-ttu-id="79633-192">Если проверка работоспособности устройства проходит (то есть, если ошибок не обнаружено), статус устройства будет **ОК**.</span><span class="sxs-lookup"><span data-stu-id="79633-192">If the health check for a device passes (that is, if no errors are encountered), the device's status will be **OK**.</span></span> <span data-ttu-id="79633-193">Если проверка работоспособности заканчивается сбоем, статус указывает на то, что произошла ошибка.</span><span class="sxs-lookup"><span data-stu-id="79633-193">If the health check fails, the status will indicate that there was an error.</span></span> <span data-ttu-id="79633-194">В этом случае в области справа отображаются сведения, имеющие отношение к ошибке, либо указывается, что пользователь должен связаться с администратором системы.</span><span class="sxs-lookup"><span data-stu-id="79633-194">In this case, the pane on the right provides details that are related to the error, or it instructs the user to contact the system admin.</span></span>

<span data-ttu-id="79633-195">Некоторые устройства, такие как блокировка клавиатуры OPOS, не имеют готовых тестов проверки работоспособности.</span><span class="sxs-lookup"><span data-stu-id="79633-195">Some devices, such as the OPOS keylock, don't have out-of-box health check tests.</span></span> <span data-ttu-id="79633-196">Если тест проверки работоспособности не обнаружен для какого-либо используемого устройства, статус будет **Не поддерживается**.</span><span class="sxs-lookup"><span data-stu-id="79633-196">If a health check test isn't detected for any device that is used, the status will be **Not supported**.</span></span>

### <a name="extending-health-checks"></a><span data-ttu-id="79633-197">Расширение проверок работоспособности</span><span class="sxs-lookup"><span data-stu-id="79633-197">Extending health checks</span></span>

<span data-ttu-id="79633-198">Готовые тесты проверки работоспособности настраиваются так, чтобы дать понятные сообщения для типичных ошибок.</span><span class="sxs-lookup"><span data-stu-id="79633-198">The out-of-box health check tests are configured to provide some user-friendly messages for typical errors.</span></span> <span data-ttu-id="79633-199">Однако покрываются не все сценарии.</span><span class="sxs-lookup"><span data-stu-id="79633-199">However, not all scenarios are covered.</span></span> <span data-ttu-id="79633-200">Благодаря расширению торговцы могут сопоставлять понятные пользователям сообщения с ошибками, которые могут быть специфическими для их среды.</span><span class="sxs-lookup"><span data-stu-id="79633-200">Through extensibility, merchants can map user-friendly messages to errors that might be specific to their environment.</span></span>

<span data-ttu-id="79633-201">Пользовательские проверки работоспособности также могут быть созданы для проверки устройств, которые не поддерживаются в готовом виде, или для проверки любых служб, от которых зависит POS-терминал.</span><span class="sxs-lookup"><span data-stu-id="79633-201">Custom health checks can also be created to test devices that aren't supported out of the box, or to test any services that the POS depends on.</span></span>

## <a name="related-articles"></a><span data-ttu-id="79633-202">Связанные статьи</span><span class="sxs-lookup"><span data-stu-id="79633-202">Related articles</span></span>

[<span data-ttu-id="79633-203">Триггеры и вывод на печать в Modern POS (MPOS)</span><span class="sxs-lookup"><span data-stu-id="79633-203">Modern POS (MPOS) triggers and printing</span></span>](dev-itpro/pos-trigger-printing.md)
