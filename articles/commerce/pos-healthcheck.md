---
title: Проверка работоспособности для периферийных устройств и услуг POS-терминалов
description: В этом разделе представлен обзор операции проверки работоспособности в POS-терминале.
author: rubendel
manager: AnnBe
ms.date: 03/06/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Operations, Retail
ms.custom: 141393
ms.assetid: e23e944c-15de-459d-bcc5-ea03615ebf4c
ms.search.region: Global
ms.search.industry: Retail
ms.author: rubendel
ms.search.validFrom: 2019-03-31
ms.dyn365.ops.version: AX 7.0.1
ms.openlocfilehash: 1a4ecdbd64bdb0ae3eee9d82bd9ef2cbfcab7567
ms.sourcegitcommit: 48c39c0c0949fe48b3536d9d2d0e451d561ff5c6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/09/2020
ms.locfileid: "3112374"
---
# <a name="health-check-for-pos-peripherals-and-services"></a>Проверка работоспособности для периферийных устройств и услуг POS-терминалов

[!include [banner](includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

В этом разделе описывается операция проверки работоспособности в POS-терминале.

## <a name="overview"></a>Обзор

Розничные магазины могут быть сложными средами, в которых используются многие приложения и устройства. По мере расширения операций может стать сложно обеспечивать стабильную работу операций из-за зависимости от, например, периферийных устройств, которые могут ломаться или случайно отсоединяться в течение дня. Устранение неполадок, связанных с устройствами и службами, может быть дорогостоящим для крупных магазинов и не менее неприятным при небольших операциях.

Microsoft Dynamics 365 Commerce версии 10.0.10 и более поздних версий включают в себя операцию проверки работоспособности, которая поможет предотвратить некоторые из этих затрат и разочарований. Эта операция предоставляет метод для тестирования устройств непосредственно из POS-терминала вне нормальных операций. Таким образом, она может помочь предприятиям розничной торговли обнаруживать проблемы до их возникновения.

## <a name="key-terms"></a>Ключевые термины

| Срок | описание |
|---|---|
| Периферийное устройство | Любое устройство, используемое приложением POS для выполнения проводок и других операций в магазине. Примерами являются кассовые ящики, сканеры штрих-кодов и платежные терминалы. |
| Сервис | В данном разделе услуга — это дополнительное приложение, от которого зависит приложение POS для выполнения проводок и ежедневных операций. Примерами являются приложения, которые помогают в расчетах налогов или поставок. |

## <a name="health-check-operation"></a>Операция проверки работоспособности

Операция проверки работоспособности — это операция 717 на странице **Операции POS** в модуле Commerce Headquarters. Она может использоваться, когда POS находится в режиме без лотка. Однако аппаратная станция должна быть активной.

По умолчанию в ходе проверки работоспособности проверяются только устройства, настроенные в профиле оборудования для аппаратной станции, которая активна в данный момент для ККМ. Если ККМ использует несколько аппаратных станций в течение дня; чтобы выполнить проверки работоспособности для всех этих устройств, она должна быть подключена к одной аппаратной станции за один раз. Нет проверки работоспособности на уровне магазина. Однако этот тип проверки может быть выполнен с помощью расширения Commerce Server.

### <a name="out-of-box-health-checks"></a>Готовые проверки работоспособности

| Вид | Подключение | Подробно |
|---|---|---|
| Принтер | OPOS | Эта проверка проверяет базовую связь и внедрение объектов для функций POS-терминала (OPOS). Далее приводятся некоторые примеры.<ul><li>Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</li><li>Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</li></ul> |
| Строковый дисплей | OPOS | Эта проверка проверяет основные функции OPOS. Далее приводятся некоторые примеры.<ul><li>Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</li><li>Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</li></ul> |
| Двойной дисплей | Windows | Эта проверка гарантирует, что операционная система обнаружит второй дисплей Windows. | 
| MSR/считыватель магнитных карт | OPOS | Эта проверка проверяет основные функции OPOS. Далее приводятся некоторые примеры.<ul><li>Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</li><li>Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</li></ul> |
| Трассант | OPOS | Эта проверка проверяет основные функции OPOS. Далее приводятся некоторые примеры.<ul><li>Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</li><li>Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</li></ul> | 
| Сканер | OPOS | Эта проверка проверяет основные функции OPOS. Далее приводятся некоторые примеры.<ul><li>Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</li><li>Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</li></ul> | 
| Шкала | OPOS | Эта проверка проверяет основные функции OPOS. Далее приводятся некоторые примеры.<ul><li>Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</li><li>Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</li></ul> |
| Клавиатура для набора ПИН-кода | OPOS | Эта проверка проверяет основные функции OPOS. Далее приводятся некоторые примеры.<ul><li>Открыть: **Open** &gt; **ClaimDevice** &gt; **DeviceEnabled=True**</li><li>Закрыть: **DeviceEnabled=False** &gt; **ReleaseDevice** &gt; **Close**</li></ul> |
| Платежный терминал | SDK платежей | Эта проверка проверяет основные функции платежного терминала, предоставляемые SDK платежей. <ul><li>Блокировать</li><li>BeginTransaction</li><li>EndTransaction</li><li>ReleaseDevice</li><li>Близкие</li></ul> |

### <a name="using-the-health-check-operation-in-the-pos"></a>Использование операции проверки работоспособности на POS-терминале

При запуске операции проверки работоспособности в POS-терминале в области справа перечисляются настроенные устройства и отображается состояние каждого устройства. Чтобы выполнить проверку работоспособности для отдельного устройства, выберите устройство, затем выберите **Проверить выбранные**. Чтобы выполнить проверку работоспособности для всех устройств, выберите **Проверить все**. Функция **Проверить все** проверяет все устройства, по одному, и обновляет статус каждого устройства в столбце **Статус**.

Столбец **Последняя проверка** показывает, когда была выполнена последняя проверка работоспособности для каждого устройства.

Если проверка работоспособности устройства проходит (то есть, если ошибок не обнаружено), статус устройства будет **ОК**. Если проверка работоспособности заканчивается сбоем, статус указывает на то, что произошла ошибка. В этом случае в области справа отображаются сведения, имеющие отношение к ошибке, либо указывается, что пользователь должен связаться с администратором системы.

Некоторые устройства, такие как блокировка клавиатуры OPOS, не имеют готовых тестов проверки работоспособности. Если тест проверки работоспособности не обнаружен для какого-либо используемого устройства, статус будет **Не поддерживается**.

### <a name="extending-health-checks"></a>Расширение проверок работоспособности

Готовые тесты проверки работоспособности настраиваются так, чтобы дать понятные сообщения для типичных ошибок. Однако покрываются не все сценарии. Благодаря расширению торговцы могут сопоставлять понятные пользователям сообщения с ошибками, которые могут быть специфическими для их среды.

Пользовательские проверки работоспособности также могут быть созданы для проверки устройств, которые не поддерживаются в готовом виде, или для проверки любых служб, от которых зависит POS-терминал.

## <a name="related-articles"></a>Связанные статьи

[Расширяемость триггеров Modern POS (MPOS) и Cloud POS](https://docs.microsoft.com/dynamics365/commerce/dev-itpro/modern-pos-trigger-extensibility)
