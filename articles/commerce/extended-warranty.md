---
title: Создание и настройка расширенных гарантий
description: В этом разделе описываются расширенные гарантии, а также описывается, как создавать и настраивать их в Microsoft Dynamics 365 Commerce.
author: sijoshi
ms.date: 06/08/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: ''
ms.author: sijoshi
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: ''
ms.openlocfilehash: 699c285ba0f92df4ccc05790b813ff423c01b62a
ms.sourcegitcommit: c08a9d19eed1df03f32442ddb65a2adf1473d3b6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/06/2021
ms.locfileid: "6353836"
---
# <a name="create-and-configure-extended-warranties"></a>Создание и настройка расширенных гарантий

[!include [banner](includes/banner.md)]

В этом разделе описываются расширенные гарантии, а также описывается, как создавать и настраивать их в Microsoft Dynamics 365 Commerce.

## <a name="overview"></a>Обзор

Клиенты все чаще выбирают расширенную техническую поддержку и услуги при покупке продуктов, особенно потребительских товаров, продаваемых на премиальном ценевом уровне, таких как телефоны и компьютеры. Представляя расширенные гарантии для приобретения, розничные предприятия могут помочь в создании постоянных клиентов. Расширенные гарантии позволяют клиентам знать, куда они могут обратиться для обслуживания и поддержки. Таким образом, они могут быть уверены в том, что их проблемы будут обработаны эффективно.

Расширенные гарантии могут продаваться клиентам в канале розничной торговли во время первоначальной покупки продукта. Кроме того, они могут быть проданы в течение ограниченного времени после первоначальной покупки.

### <a name="warranty-item-setup"></a>Настройка гарантийной номенклатуры

Dynamics 365 Commerce предоставляет функции, позволяющие создать номенклатуру гарантии и настроить для нее атрибуты. Эти атрибуты включают связь между продуктом и гарантийной номенклатурой, ценой гарантии и сроком действия гарантии. После настройки и запуска в организационном подразделение гарантийной номенклатуры розничный продавец может продавать гарантии через терминалы MPOS, интернет-магазины и другие каналы розничной торговли.

### <a name="warranty-item-sales"></a>Продажи гарантийной номенклатуры

Расширенные гарантии продаются в канале розничной торговли во время первоначальной покупки продукта. Кроме того, они могут быть проданы в течение ограниченного времени после первоначальной покупки.

На POS-терминале при добавлении соответствующего продукта в корзину клиента продавцам выводится запрос на добавление расширенной гарантии. Таким образом, в качестве части потока продаж представлена возможность расширенных или перекрестных продаж.

Клиенты также могут вернуться позже и купить расширенную гарантию для продукта, который им ранее был приобретен. В этих случаях продавец может просматривать исходную проводку и продавать клиенту соответствующую расширенную гарантийную номенклатуру.

### <a name="warranty-terminology"></a>Гарантийная терминология

В следующей таблице определены некоторые условия, соответствующие условиям гарантии.

| Срок | описание |
|------------------------------|--------------|
| Расширенная гарантия/гарантия | *Расширенная гарантия* означает соглашение на обслуживание или контракт, которые предоставляют продленную гарантию для клиентов. Расширенная гарантия включает дополнительную услугу замены или ремонта товаров в течение срока действия расширенной гарантии. |
| Гарантия изготовителя | *Гарантия изготовителя* (часто называемая *ограниченной гарантией*) — это гарантия, которую клиенты получают при покупке продукта. Вот несколько особенностей гарантии изготовителя:<ul><li>Гарантийная стоимость включается в стоимость продукта. Клиентам не приходится платить никакую дополнительную сумму за гарантию изготовителя.</li><li>В зависимости от категории продукта, гарантия изготовителя обычно длится 30 дней, 6 месяцев или один год. (Для большинства бытовой электроники гарантия длится один год.)</li><li>Гарантия охватывает все дефекты, которые вызваны механическими или электрическими сбоями. Покрытие является ограниченным, и оно не включает никаких случайных повреждений приобретенного продукта. Клиенты, желающие защищать продукты, которые они приобрели, от повседневных повреждений, должны вкладываться в расширенную гарантию. Расширенные гарантии длятся от двух до десяти лет, в зависимости от категории продукта. Они также имеют более широкий охват и охватывают ежедневные неприятности, такие как падения, разлив жидкости и пятна.</li></ul> |
| Номенклатура гарантии | *Номенклатура гарантии* — это расширенная гарантия, которая продается для гарантийной номенклатуры. Примером является план защиты ноутбуков от случайных повреждений на два года. |
| Гарантийная номенклатура | *Гарантийная номенклатура* — это сериализованный продукт, для которого продана гарантия. Например, портативный компьютер — это гарантийная номенклатура, для которой продаются расширенные гарантии сроком на два и три года. |
| Гарантийная группа | *Гарантийная группа* является отношением между гарантийными номенклатурами и номенклатурами гарантии. В POS используются гарантийные группы для определения того, какие номенклатуры гарантии должны предлагаться продавцами при добавлении гарантийной номенклатуры в корзину клиента. |
| Гарантийная политика | *Гарантийная политика* — это сущность, создаваемая в Commerce при продаже гарантийной политики. Гарантийная политика включает такие сведения, как даты начала и окончания приобретенной номенклатуры гарантии, условия, а также серийный номер продукта, покрываемого гарантией. Номера политик гарантии могут использоваться совместно с клиентами, так что они имеют ссылку на номенклатуру расширенной гарантии, которую они приобрели. |

## <a name="create-a-warranty-item"></a>Создание номенклатуры гарантии

Чтобы создать номенклатуру гарантии в модуле Commerce, выполните следующие действия.

1. Перейдите в раздел **Розничная торговля и коммерция \> Продукты и категории \> Продукты**.
1. Выберите **Создать** для создания номенклатуры гарантии.
1. В диалоговом окне **Новый продукт** в поле **Тип продукта** выберите **Услуга**.
1. В поле **Подтип продукта** выберите **Продукт**.
1. В поле **Тип услуги продукта** выберите **Услуга**.
1. В поле **Название продукта** введите название продукта.
1. В поле **Категория розничной торговли** выберите значение в раскрывающемся списке, затем выберите **ОК**.
1. В поле **Номер продукта** введите номер продукта.
1. Нажмите **ОК**.
1. На странице **Сведения о продукте** на экспресс-вкладке **Гарантия** задайте поля **Единицы времени** и **Продолжительность**.

    | Имя поля | значение | описание |
    |------------|-------|-------------|
    | Единица времени | **Дни**, **Недели**, **Месяцы** или **Года** | В этом поле указывается единица времени, используемая для данной гарантии. |
    | Продолжительность | Положительное целое число | В этом поле указывается срок действия гарантии в выбранной единице времени. |

    Например, для двухлетней гарантии установите для поля **Единица времени** значение **Годы**, а для поля **Продолжительность** — значение **2**. Можно также установить для поля **Единица времени** значение **Месяцы**, а для поля **Продолжительность** — **24**, как показано на следующем рисунке.

    ![Страница сведений о продукте для номенклатуры гарантии.](./media/ew-time-properties.png)

1. Выберите **Сохранить**, чтобы сохранить номенклатуру гарантии.
1. Выпустите гарантийный продукт для компании, чтобы его можно было продавать. Дополнительные сведения см. в разделе [Настройка розничных продуктов](set-up-retail-products.md).
1. На странице **Сведения о выпущенном продукте** на экспресс-вкладке **Гарантия** задайте значение в полях **База диапазона цен**, **Нижняя граница** и **Верхняя граница**.

    | Имя поля | значение | описание |
    |------------|-------|-------------|
    | Базовый диапазон цен | **Нет**, **Базовая цена** или **Отпускная цена** | <ul><li>**Нет** — значения **Нижняя граница** и **Верхняя граница** для диапазонов цен не применимы.</li><li>**Базовая цена** — данная гарантия применима, если базовая цена (то есть цена без скидок) в гарантийной номенклатуре находится между значениями **Нижняя граница** и **Верхняя граница**, указанными здесь, в зависимости от цены гарантийной номенклатуры.</li><li>**Отпускная цена** — это значение зарезервировано для использования в будущем.</li></ul> |
    | Нижняя граница, Верхняя граница | Положительное целое число | Эти поля определяют ограничения верхней и нижней цен для гарантийной номенклатуры, а также способ применения текущей гарантии к гарантийной номенклатуре. Эти ограничения могут быть основаны на базовой цене гарантийной номенклатуры (также известной как предлагаемая изготовителем розничная цена \[MSRP\]). Если в поле **База диапазона цен** установлено значение **Базовая цена**, только гарантийная номенклатура (продукт), имеющая базовую цену между значениями **Нижняя граница** и **Верхняя граница**, приведет к созданию запроса на добавление номенклатуры гарантии на POS-терминале. |

    Например, на следующем рисунке показано, что поле **База диапазона цен** имеет значение **Базовая цена**, для поля **Нижняя граница** устанавливается значение 500 долларов США, а для поля **Верхняя граница** устанавливается значение 1000 долларов США.
    
    ![Страница сведений о выпущенном продукте для номенклатуры гарантии.](./media/ew-release-product-details.png)

1. Назначьте номенклатуру гарантии в канал, где оно будет продаваться. Дополнительные сведения см. в разделе [Настройка ассортиментов](set-up-assortments.md).

### <a name="example"></a>Пример

Гарантийная номенклатура "ноутбук" (продукт) имеет базовую цену 999 долларов США и имеются две номенклатуры гарантии для ноутбука:

- Гарантия\_1 имеет нижний предел 500 долларов США и верхний предел 1000 долларов США, а поле **База диапазона цен** установлено равным значению **Базовая цена**.
- Гарантия\_2 имеет нижний предел 1001 доллар США и верхний предел 2000 долларов США, а поле **База диапазона цен** установлено равным значению **Базовая цена**.

В этом случае при добавлении к клиентской корзине гарантийной номенклатуры "ноутбук" выводится приглашение добавить гарантию\_1, потому что цена ноутбука находится между нижним и верхним ограничениями гарантии\_1.

> [!NOTE]
> В этом примере если необходимо отобразить запросы как для гарантии\_1, так и для гарантии\_2, независимо от цены гарантийной номенклатуры, установите для поля **База диапазона цен** значение **Нет**.

## <a name="configure-channel-specific-settings"></a>Настройка параметров для конкретных каналов

Настройки для конкретных каналов позволяют указать, следует ли предлагать на POS-терминале добавить номенклатуру гарантии, когда в корзину клиента добавляется гарантийная номенклатура.

Чтобы задать настройку для конкретного канала в модуле Commerce, выполните следующие действия.

1. Выберите **Retail и Commerce \> Продукты и категории \> Гарантия \> Настройки гарантии**.
1. На вкладке **Для конкретных каналов** в столбце **Запрос о гарантии** для вашего канала выполните одно из следующих действий:

    - Установите этот флажок, если при добавлении в корзину гарантийной номенклатуры должна быть показана номенклатура гарантии на POS-терминале.
    - Снимите этот флажок, если при добавлении в корзину гарантийной номенклатуры на должна быть показана номенклатура гарантии на POS-терминале.

1. Выполните задание **1070**, чтобы синхронизировать данные с каналом.

## <a name="configure-a-number-sequence-for-warranty-policies"></a>Настройка номерной серии для политик гарантийного обслуживания

Каждая гарантийная политика однозначно определяется номером гарантийной политики, созданным номерной серией. Дополнительные сведения о номерных сериях см. в разделе [Обзор номерных серий](../fin-ops-core/fin-ops/organization-administration/number-sequence-overview.md).

Для настройки номерной серии для политик гарантии в Commerce выполните следующие действия.

1. Выберите **Retail и Commerce \> Продукты и категории \> Гарантия \> Настройки гарантии**.
1. На вкладке **Номерные серии** в строке для ссылки **Политика гарантии** введите или выберите значение в поле **Код номерной серии**.

## <a name="set-up-a-warranty-group"></a>Настройка гарантийной группы

Гарантийная группа является отношением между гарантийными номенклатурами и номенклатурами гарантии. В POS используются гарантийные группы для определения того, какие номенклатуры гарантии должны предлагаться продавцами при добавлении гарантийной номенклатуры в корзину клиента.

Для настройки гарантийной группы в Commerce выполните следующие действия.

1. Выберите **Retail и Commerce \> Продукты и категории \> Гарантия \> Гарантийные группы**.
1. Выберите **Создать** для создания гарантийной группы.
1. В поле **Имя** введите название новой группы.
1. На экспресс-вкладке **Общие** в поле **Описание** введите описание группы.
1. В экспресс-вкладке **Продукты гарантии** выберите **Добавить строку** для добавления номенклатуры гарантии.
1. В поле **Порядок отображения** введите число для ранжирования гарантийной группы на POS-терминале. Номенклатуры гарантии отображаются на POS-терминале в порядке возрастания ранга в приглашении гарантии.
1. В экспресс-вкладке **Гарантийные продукты** выберите **Добавить строку** для добавления гарантийных продуктов.
1. Если номенклатура гарантии применима ко всей категории гарантийных номенклатур (продуктов), выберите категорию в поле **Категория**. Если номенклатура гарантии применима к определенной гарантийной номенклатуре (продукту), выберите продукт в поле **Продукт**.
1. На экспресс-вкладке **Применимые каналы** выберите **Добавить строку**, чтобы добавить канал, в котором должна продаваться номенклатура гарантии.
1. Выберите **Сохранить**, чтобы сохранить конфигурацию.
1. Выберите **Опубликовать**, чтобы опубликовать гарантийную группу.
1. Выполните задание **1040**, чтобы синхронизировать данные с каналом.

## <a name="sell-warranty-items-at-the-pos"></a>Продажа номенклатур гарантии на POS-терминале

Две POS-операции позволяют продавцам продавать номенклатуры гарантии в рабочей процессе покупок клиентами:

- **Добавить гарантию** — эта операция запускает предложение, в котором отображаются применимые гарантии для гарантийной номенклатуры, которая выбрана в корзине.
- **Добавить гарантию в существующую проводку** — эта операция позволяет продавцам продавать гарантии для гарантийной номенклатуры, которая была продана ранее. Продавцы могут найти исходную проводку для гарантийной номенклатуры, вводя номер чека для проводки.

На следующем рисунке показан пример страницы POS-терминала с запросом о добавлении номенклатуры гарантии для текущей покупки гарантийной номенклатуры.

![Пример запроса на добавление номенклатуры гарантии для текущей покупки.](./media/ew-sell-warranty.png)

На следующем рисунке показан пример функции для добавления номенклатуры гарантии для гарантийной номенклатуры, которая была продана ранее.

![Пример функции для добавления номенклатуры гарантии для ранее проданной гарантийной номенклатуры.](./media/ew-add-warranty-existing.png)

## <a name="process-warranty-transactions"></a>Обработка проводок по гарантии

Когда гарантийные обязательства продаются в проводках с наличными, после разноски проводок в центральном офисе Commerce пользователи Commerce могут выполнить задание **Обработать проводки по гарантиям**, чтобы обработать проводки по гарантии и создать гарантийные политики.

Чтобы обработать проводку по гарантии в центральном офисе Commerce, выполните следующие действия.

1. Выберите **Retail и Commerce \> Продукты и категории \> Гарантия \> Обработать проводки по гарантиям**.
1. В диалоговом окне **Выбор узлов организации** выберите значение в поле **Организационная иерархия**.
1. В списке узлы **Доступные узлы организации** выберите отдельный магазин или, если необходимо создать пакетное задание для группы магазинов, узел.
1. Выберите кнопку со стрелкой вправо, чтобы добавить выбранное в список **Выбранные узлы организации**.
1. Выберите вкладку **Выполнять в фоновом режиме**.
1. Установите для параметра **Пакетная обработка** значение **Да**, затем выберите **Повторение**.
1. В диалоговом окне **Определение повторения** в поле **Дата начала** выберите или введите начальную дату повторения.
1. В поле **Время начала** выберите или введите время начала повторения.
1. Выполните одно из следующих действий.

    - Выберите вариант **Нет конечной даты**, если повторение никогда не должно заканчиваться.
    - Выберите параметр **Окончание после**, если повторение должно заканчиваться после определенного числа запусков. Если выбран этот параметр, введите число запусков.
    - Выберите вариант **Завершить до**, если повторение должно заканчиваться к конкретной дате. Если выбран этот параметр, выберите или введите дату.

1. Нажмите **ОК**.
1. Нажмите **ОК**.

## <a name="warranty-policies"></a>Гарантийные политики

При продаже расширенной гарантии автоматически создается сущность гарантийной политики. Номера политик гарантии могут использоваться совместно с клиентами, так что они имеют ссылку на номенклатуру гарантии, которую они приобрели. Свойства гарантийных политик включают эффективную дату начала и дату истечения срока действия гарантии, положения и условия, а также серийный номер гарантийного продукта, для которого была продана гарантия.

> [!NOTE]
> Свойства политики гарантии создаются автоматически при создании сущностей политики гарантии. В настоящее время их невозможно настроить или изменить вручную.

В следующей таблице описаны свойства и значения политики гарантии. В центральном офисе Commerce таблица базы данных называется WARRANTYPOLICY.

| Имя свойства | значение | описание |
|---------------|-------|-------------|
| PolicyNumber | Символьная строка (максимум 20 символов) | Номер гарантийной политики |
| WarrantiedItemId | Символьная строка (максимум 20 символов) | Идентификатор гарантийной номенклатуры |
| WarrantiedInventoryLotId | Символьная строка (максимум 20 символов) | Идентификатор складского лота гарантийной номенклатуры |
| WarrantiedSerialNumber | Символьная строка (максимум 20 символов) | Серийный номер гарантийной номенклатуры |
| WarrantiedFulfilledDate | Дата | Дата выполнения гарантийной номенклатуры |
| WarrantyItemId | Символьная строка (максимум 20 символов) | Идентификатор номенклатуры гарантии |
| WarrantyInventoryLotId | Символьная строка (максимум 20 символов) | Идентификатор складского лота номенклатуры гарантии |
| WarrantySalesDate | Дата | Дата продажи номенклатуры гарантии |
| WarrantyEffectiveDate | Дата | Эффективная дата гарантийной политики |
| WarrantyExpirationDate | Дата | Дата окончания срока действия гарантийной политики |
| CustAccount | Символьная строка (максимум 20 символов) | Номер счета клиента |
| Состояние | **Создано**, **Аннулировано**, **Эффективно** или **Срок действия истек** | Состояние гарантийной политики |
| Основание | Символьная строка (максимум 255 символов) | Замечания о гарантийной политике такие как положения и условия |

## <a name="frequently-asked-questions-faq"></a>Вопросы и ответы (часто задаваемые вопросы)

**Почему я не вижу запроса о гарантии в POS?**

Убедитесь, что в каналу назначена гарантийная номенклатура. Кроме того, убедитесь, что гарантийная группа настроена таким образом, что она включает соответствующий канал.

**Почему при попытке добавления гарантии к существующей проводке и вводе номера чека для клиента не отображаются ни одной позиции строки проводки?**

Чеки могут быть найдены только в том случае, если выполняется задание загрузки (задание P) для отправки чеков в центральный офис Commerce. Чтобы запустить задание P, выберите **Retail и Commerce \> ИТ Retail и Commerce \> График распределения**, выберите задание **P-0001**, затем выберите **Запустить сейчас**.

**Почему функция гарантии применима только к продуктам с серийными номерами?**

Гарантия — это услуга, предоставляемая для конкретного уникального продукта. В Dynamics 365 продукт может быть однозначно определен только с помощью серийного номера.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Настройка розничных продуктов](set-up-retail-products.md)

[Настройка ассортиментов](set-up-assortments.md)

[Обзор номерных серий](../fin-ops-core/fin-ops/organization-administration/number-sequence-overview.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]