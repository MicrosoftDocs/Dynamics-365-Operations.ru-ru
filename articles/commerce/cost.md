---
title: Конфигурация затрат для распределенного управления заказами (DOM)
description: В этом разделе описывается функциональность конфигурации затрат для распределенного управления заказами (DOM) в Dynamics 365 Commerce.
author: josaw1
manager: AnnBe
ms.date: 12/05/2018
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-12-15
ms.dyn365.ops.version: ''
ms.openlocfilehash: b96780745e8dd8a6e2b46a3286bf4a6a307d886c
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2021
ms.locfileid: "5001057"
---
# <a name="cost-configuration-for-distributed-order-management-dom"></a>Конфигурация затрат для распределенного управления заказами (DOM)

[!include [banner](../includes/banner.md)]

Организации учитывают несколько компонентов затрат, чтобы определить оптимальную точку для выполнения заказа. Некоторые из этих компонентов затрат представляют собой затраты на отгрузку, обработку и упаковку. Сочетание этих затрат рассчитывается для определения точки выполнения.

Когда первая итерация распределенного управления заказами (DOM) в Dynamics 365 Commerce оптимизировала назначение заказов точкам выполнения, она учитывала только расстояние. Хотя расстояние может быть связано с затратами, это не то же самое, что затраты. Например, затраты на срочный способ доставки превышают затраты на доставку в течение трех или семи дней на то же расстояние.

Функция конфигурации затрат позволяет компаниям розничной торговли определять и настраивать дополнительные компоненты затрат, которые будут рассчитываться и учитываться для определения оптимальной точки выполнения строк заказов.

При настройке компонентов затрат решатель DOM использует только эти определения затрат для определения оптимальной точки выполнения заказа. Он не будет учитывать компонент расстояния в качестве затрат. Однако, если не настроен ни один компонент затрат, решатель DOM будет использовать компонент расстояния как затраты для определения оптимальной точки выполнения заказа.

## <a name="set-up-cost-components"></a>Настройка компонентов затрат

В системе можно определить два основных типа компонентов затрат: **Отгрузка** и **Прочие**.

Оба типа компонентов затрат поддерживают несколько баз расчета, как показано в следующей таблице.

<table>
<thead>
<tr>
<th>Тип компонента затрат</th>
<th>Основа расчета</th>
</tr>
</thead>
<tbody>
<tr>
<td>Отгрузка</td>
<td>
<ul>
<li>Простой</li>
<li>Многоуровневый</li>
</ul>
</td>
</tr>
<tr>
<td>Прочие</td>
<td>
<ul>
<li>Заказ на продажу</li>
<li>Строка продажи</li>
<li>Местонахождение</li>
</ul>
</td>
</tr>
</tbody>
</table>

### <a name="shipping-cost-component-type"></a>Тип компонента затрат "Отгрузка"

В этом разделе описывается, как настроить каждое сочетание типа компонента затрат **Отгрузка** и основу расчета для затрат на отгрузку. В нем также объясняется, как решатель DOM использует каждое сочетание.

#### <a name="cost-component-type--shipping-and-calculation-basis--simple"></a>Тип компонента затрат = Отгрузка; Основа расчета = Простой

Если используется сочетание типа компонента затрат **Отгрузка** и основа расчета **Простой**, затраты на отгрузку для режима доставки основываются на себестоимости или расстоянии.

Для этого сочетания необходимо настроить следующие поля:

- **Коэффициент стоимости** — введите уникальный идентификатор для коэффициента стоимости.
- **Описание** — введите имя и описание коэффициента стоимости.
- **Дата начала** и **Дата окончания** — эти поля можно использовать, чтобы ограничить коэффициент стоимости для конкретного диапазона дат. Если оставить эти поля пустыми, коэффициент стоимости действителен в течение неопределенного периода.
- **Активно** — указывает, активен ли коэффициент стоимости. DOM учитывает только активные коэффициенты стоимости, связанные с профилем выполнения.
- **Компания** — укажите юридическое лицо, для которого настроен коэффициент стоимости. Все строки критериев расчета должны быть для одного и того же юридического лица.
- **Режимы доставки** — укажите режимы доставки, для которых настроены затраты.
- **Тип расчета** — укажите, как должны рассчитываться затраты для конкретного режима доставки. Поддерживаются два типа расчета:

    - **Фиксированный** — для режима доставки используется себестоимость. При выборе этого типа расчета поле **Стоимость** определяет себестоимость.
    - **На единицу расстояния** — стоимость режима доставки рассчитывается как себестоимость, указанная в поле **Стоимость**, умноженная на расстояние между адресом поставки и местонахождениями.

- **Стоимость** — укажите себестоимость, используемую в сочетании с полем **Тип расчета** для расчета стоимости режима доставки.

#### <a name="cost-component-type--shipping-and-calculation-basis--tiered"></a>Тип компонента затрат = Отгрузка; Основа расчета = Многоуровневый

Если используется сочетание типа компонента затрат **Отгрузка** и основа расчета **Многоуровневый**, затраты на отгрузку для режима доставки основываются на себестоимости или расстоянии. Однако в этом сочетании расстояние основано на многоуровневом диапазоне расстояний.

Для этого сочетания необходимо настроить следующие поля:

- **Коэффициент стоимости** — введите уникальный идентификатор для коэффициента стоимости.
- **Описание** — введите имя и описание коэффициента стоимости.
- **Стоимость по умолчанию** — укажите стоимость, которая должна использоваться для режима доставки, если расстояние между адресом поставки и местонахождением не соответствует ни одному из многоуровневых расстояний для режима доставки.
- **Дата начала** и **Дата окончания** — эти поля можно использовать, чтобы ограничить коэффициент стоимости для конкретного диапазона дат. Если оставить эти поля пустыми, коэффициент стоимости действителен в течение неопределенного периода.
- **Активно** — указывает, активен ли коэффициент стоимости. DOM учитывает только активные коэффициенты стоимости, связанные с профилем выполнения.
- **Компания** — укажите юридическое лицо, для которого настроен коэффициент стоимости. Все строки критериев расчета должны быть для одного и того же юридического лица.
- **Режимы доставки** — укажите режимы доставки, для которых настроены затраты.
- **Тип расстояния** — укажите, является ли определение многоуровневого расстояния расстоянием по воздуху или по дороге.
- **Единицы расстояния** — укажите единицу измерения, в которой измеряется многоуровневое расстояние.
- **Расстояние от** — укажите начальный диапазон для многоуровневого расстояния.
- **Расстояние до** — укажите конечный диапазон для многоуровневого расстояния.
- **Тип расчета** — укажите, как должны рассчитываться затраты для конкретного режима доставки и многоуровневого расстояния. Поддерживаются два типа расчета:

    - **Фиксированный** — для режима доставки используется себестоимость. При выборе этого типа расчета поле **Стоимость** определяет себестоимость.
    - **На единицу расстояния** — стоимость режима доставки и многоуровневого расстояния рассчитывается как себестоимость, указанная в поле **Стоимость**, умноженная на расстояние между адресом поставки и местонахождениями.

- **Стоимость** — укажите себестоимость, используемую в сочетании с полем **Тип расчета** для расчета стоимости режима доставки.

> [!NOTE]
> - При определении многоуровневых расстояний система проверяет, что нет отсутствующих или перекрывающихся расстояний.
> - Тип расстояния, используемый для режима доставки, должен быть одинаковым для всех многоуровневых расстояний.

### <a name="other-cost-component-type"></a>Тип компонента затрат "Прочие"

В этом разделе описывается, как настроить каждое сочетание типа компонента затрат **Прочие** "и другого типа затрат для затрат, не связанных с отгрузкой. В нем также объясняется, как решатель DOM использует каждое сочетание.

#### <a name="cost-component-type--other-and-other-cost-type--sales-order"></a>Тип компонента затрат = Прочие; Тип затрат "Прочие" = Заказ на продажу

Сочетание типа компонента затрат **Прочие** и типа затрат "Прочие" **Заказ на продажу** используется для определения затрат, не связанных с отгрузкой, на уровне заказа на продажу.

Для этого сочетания необходимо настроить следующие поля:

- **Коэффициент стоимости** — введите уникальный идентификатор для коэффициента стоимости.
- **Описание** — введите имя и описание коэффициента стоимости.
- **Дата начала** и **Дата окончания** — эти поля можно использовать, чтобы ограничить коэффициент стоимости для конкретного диапазона дат. Если оставить эти поля пустыми, коэффициент стоимости действителен в течение неопределенного периода.
- **Активно** — указывает, активен ли коэффициент стоимости. DOM учитывает только активные коэффициенты стоимости, связанные с профилем выполнения.
- **Стоимость** — укажите себестоимость для затрат, не связанных с отгрузкой, на уровне заказа на продажу.

#### <a name="cost-component-type--other-and-other-cost-type--sales-line"></a>Тип компонента затрат = Прочие; Тип затрат "Прочие" = Строка продажи

Сочетание типа компонента затрат **Прочие** и типа затрат "Прочие" **Строка продажи** используется для определения затрат, не связанных с отгрузкой, на уровне строки заказа на продажу.

Для этого сочетания необходимо настроить следующие поля:

- **Коэффициент стоимости** — введите уникальный идентификатор для коэффициента стоимости.
- **Описание** — введите имя и описание коэффициента стоимости.
- **Дата начала** и **Дата окончания** — эти поля можно использовать, чтобы ограничить коэффициент стоимости для конкретного диапазона дат. Если оставить эти поля пустыми, коэффициент стоимости действителен в течение неопределенного периода.
- **Активно** — указывает, активен ли коэффициент стоимости. DOM учитывает только активные коэффициенты стоимости, связанные с профилем выполнения.
- **Стоимость** — укажите себестоимость для затрат, не связанных с отгрузкой, на уровне строки заказа на продажу.

#### <a name="cost-component-type--other-and-other-cost-type--location"></a>Тип компонента затрат = Прочие; Тип затрат "Прочие" = Местонахождение

Сочетание типа компонента затрат **Прочие** и типа затрат "Прочие" **Местонахождение** используется для определения затрат, не связанных с отгрузкой, для группы местонахождений или отдельного местонахождения.

Для этого сочетания необходимо настроить следующие поля:

- **Коэффициент стоимости** — введите уникальный идентификатор для коэффициента стоимости.
- **Описание** — введите имя и описание коэффициента стоимости.
- **Дата начала** и **Дата окончания** — эти поля можно использовать, чтобы ограничить коэффициент стоимости для конкретного диапазона дат. Если оставить эти поля пустыми, коэффициент стоимости действителен в течение неопределенного периода.
- **Активно** — указывает, активен ли коэффициент стоимости. DOM учитывает только активные коэффициенты стоимости, связанные с профилем выполнения.
- **Группа выполнения** — укажите группу местонахождений, для которой определены затраты, не связанные с отгрузкой.
- **Точка выполнения** — укажите местонахождение, для которого определены затраты, не связанные с отгрузкой.

    > [!NOTE]
    > Невозможно указать группу выполнения и точку выполнения в одной строке для критериев расчета на основе местонахождения.

- **Стоимость** — укажите себестоимость для затрат, не связанных с отгрузкой, на уровне группы выполнение или на уровне точки выполнения.

> [!IMPORTANT]
> Чтобы в DOM учитывались эти затраты при выполнении, необходимо добавить коэффициент стоимости в соответствующий профиль выполнения.
