---
title: Сброс номеров чеков
description: В этом разделе описывается, как сбросить номера чеков, которые используются для различных действий, на желаемую дату (например, финансовый год или календарный год).
author: ShalabhjainMSFT
manager: AnnBe
ms.date: 03/12/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-Commerce
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail, Commerce
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: Retail, Commerce
ms.author: asharchw
ms.search.validFrom: 2020-01-14
ms.dyn365.ops.version: Application update 10.0.9
ms.openlocfilehash: e3243a69b98aae25ad8514890fb984c8a0d9f694
ms.sourcegitcommit: 218e22014a964b8b52fc0152e355b07b0b84ae2c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/16/2020
ms.locfileid: "3456581"
---
# <a name="reset-receipt-numbers"></a><span data-ttu-id="f930a-103">Сброс номеров чеков</span><span class="sxs-lookup"><span data-stu-id="f930a-103">Reset receipt numbers</span></span> 

[!include [banner](includes/banner.md)]

> [!NOTE]
> <span data-ttu-id="f930a-104">Перед использованием этой функции требуется выбрать свойство **Независимая последовательность** для всех типов чеков в профиле функциональности.</span><span class="sxs-lookup"><span data-stu-id="f930a-104">We require that you select the **Independent sequence** property for all receipt types in the functionality profile before using this feature.</span></span> <span data-ttu-id="f930a-105">Кроме того, системный часовой пояс устройства, в котором используется POS-терминал, должен соответствовать соответствующему часовому поясу магазина.</span><span class="sxs-lookup"><span data-stu-id="f930a-105">Also, the system time zone of the device, where the POS is being used, should match the corresponding store time zone.</span></span> <span data-ttu-id="f930a-106">Мы работаем над тем, чтобы избавиться от этих ограничений в будущих выпусках.</span><span class="sxs-lookup"><span data-stu-id="f930a-106">We are working to get rid of these limitations in a future release.</span></span> <span data-ttu-id="f930a-107">Перед использованием этой функции в производстве обратитесь в службу поддержки Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="f930a-107">Please contact Microsoft Support prior to using this feature in Production.</span></span>

<span data-ttu-id="f930a-108">Розничные продавцы формируют номера чеков для различных действий в магазине, таких как наличные деньги и выполнение проводок, проводки возврата, заказы клиентов, предложения и платежи.</span><span class="sxs-lookup"><span data-stu-id="f930a-108">Retailers generate receipt numbers for various actions in the store, such as cash and carry transactions, return transactions, customer orders, quotations, and payments.</span></span> <span data-ttu-id="f930a-109">Хотя розничные продавцы задают собственные форматы чеков, в некоторых странах и регионах действуют ограничения на эти форматы чеков.</span><span class="sxs-lookup"><span data-stu-id="f930a-109">Although retailers define their own receipt formats, some countries or regions have regulations that put restrictions on these receipt formats.</span></span> <span data-ttu-id="f930a-110">Например, такие постановления могут ограничивать количество символов в чеке, требовать последовательных номеров чеков, ограничивать специальные символы или требовать сброса номеров чеков в начале года.</span><span class="sxs-lookup"><span data-stu-id="f930a-110">For example, these regulations might limit the number of characters on the receipt, require consecutive receipt numbers, restrict some special characters, or require a reset of receipt numbers at the beginning of the year.</span></span> <span data-ttu-id="f930a-111">Microsoft Dynamics 365 Commerce делает процесс управления номерами чеков очень гибким, чтобы помочь продавцам обеспечить соответствие нормативным требованиям.</span><span class="sxs-lookup"><span data-stu-id="f930a-111">Microsoft Dynamics 365 Commerce makes the process of managing receipt numbers very flexible, to help retailers meet regulatory requirements.</span></span> <span data-ttu-id="f930a-112">В этой теме объясняется, как использовать функции для сброса номеров чека.</span><span class="sxs-lookup"><span data-stu-id="f930a-112">This topic explains how to use the functionality for resetting receipt numbers.</span></span>

<span data-ttu-id="f930a-113">В Commerce форматы чеков могут быть буквенно-цифровыми.</span><span class="sxs-lookup"><span data-stu-id="f930a-113">In Commerce, receipt formats can be alphanumeric.</span></span> <span data-ttu-id="f930a-114">В них можно поместить как статическое, так и динамическое содержимое.</span><span class="sxs-lookup"><span data-stu-id="f930a-114">You can put both static content and dynamic content in them.</span></span> <span data-ttu-id="f930a-115">Статическое содержимое включает алфавитные символы, цифры и специальные символы.</span><span class="sxs-lookup"><span data-stu-id="f930a-115">Static content includes alphabetic character, numbers, and special characters.</span></span> <span data-ttu-id="f930a-116">Динамическое содержимое включает один или несколько символов, представляющих такие сведения, как номер магазина, номер терминала, дата, месяц, год и номерные серии, которые автоматически увеличиваются.</span><span class="sxs-lookup"><span data-stu-id="f930a-116">Dynamic content includes one or more characters that represent information such as the store number, terminal number, date, month, year, and number sequences that are automatically incremented.</span></span> <span data-ttu-id="f930a-117">Эти форматы определяются в разделе **Нумерация чеков** в профиле функциональности.</span><span class="sxs-lookup"><span data-stu-id="f930a-117">The formats are defined in the **Receipt numbering** section of the functionality profile.</span></span> <span data-ttu-id="f930a-118">В следующей таблице описаны символы, которые представляют динамическое содержимое.</span><span class="sxs-lookup"><span data-stu-id="f930a-118">The following table describes the characters that represent the dynamic content.</span></span>

| <span data-ttu-id="f930a-119">Символы</span><span class="sxs-lookup"><span data-stu-id="f930a-119">Characters</span></span> | <span data-ttu-id="f930a-120">Описание</span><span class="sxs-lookup"><span data-stu-id="f930a-120">Description</span></span> |
|------------|-------------|
| <span data-ttu-id="f930a-121">С</span><span class="sxs-lookup"><span data-stu-id="f930a-121">S</span></span>          | <span data-ttu-id="f930a-122">Символ **S** используется для номера магазина.</span><span class="sxs-lookup"><span data-stu-id="f930a-122">The character **S** is used for the store number.</span></span> <span data-ttu-id="f930a-123">Например, если у магазина номер HOUSTON1, в формате **SSS** на чеке отображается "ON1".</span><span class="sxs-lookup"><span data-stu-id="f930a-123">For example, if a store is numbered HOUSTON1, the format **SSS** shows "ON1" on the receipt.</span></span> <span data-ttu-id="f930a-124">В формате **SSSSS** в чеке отображается "STON1".</span><span class="sxs-lookup"><span data-stu-id="f930a-124">The format **SSSSS** shows "STON1" on the receipt.</span></span> |
| <span data-ttu-id="f930a-125">T</span><span class="sxs-lookup"><span data-stu-id="f930a-125">T</span></span>          | <span data-ttu-id="f930a-126">Символ **T** используется для номера терминала.</span><span class="sxs-lookup"><span data-stu-id="f930a-126">The character **T** is used for the terminal number.</span></span> <span data-ttu-id="f930a-127">Например, если у терминала номер 0001, в формате **TTTT** на чеке отображается "0001".</span><span class="sxs-lookup"><span data-stu-id="f930a-127">For example, if a terminal is numbered 0001, the format **TTTT** shows "0001" on the receipt.</span></span> |
| <span data-ttu-id="f930a-128">К</span><span class="sxs-lookup"><span data-stu-id="f930a-128">C</span></span>          | <span data-ttu-id="f930a-129">Символ **C** используется для номера кода сотрудника.</span><span class="sxs-lookup"><span data-stu-id="f930a-129">The character **C** is used for the staff ID number.</span></span> <span data-ttu-id="f930a-130">Например, если у сотрудника имеет код 000160, в формате **CCCC** на чеке отображается "0160".</span><span class="sxs-lookup"><span data-stu-id="f930a-130">For example, if a staff member has an ID of 000160, the format **CCCC** shows "0160" on the receipt.</span></span> |
| <span data-ttu-id="f930a-131">ddd</span><span class="sxs-lookup"><span data-stu-id="f930a-131">ddd</span></span>        | <span data-ttu-id="f930a-132">Символы **ddd** соответствуют дню года в интервале от 1 до 366.</span><span class="sxs-lookup"><span data-stu-id="f930a-132">The characters **ddd** correspond to the day of the year, from 1 through 366.</span></span> <span data-ttu-id="f930a-133">Например, 15 января в формат **ddd** показано как "015" в чеке.</span><span class="sxs-lookup"><span data-stu-id="f930a-133">For example, on January 15, the format **ddd** shows "015" on the receipt.</span></span> |
| <span data-ttu-id="f930a-134">MM</span><span class="sxs-lookup"><span data-stu-id="f930a-134">MM</span></span>         | <span data-ttu-id="f930a-135">Символы **MM** используются для обозначения месяца и состоят из двух цифр.</span><span class="sxs-lookup"><span data-stu-id="f930a-135">The characters **MM** are used for the two-digit month.</span></span> <span data-ttu-id="f930a-136">Например, январь в формате **MM** показан как "01" в чеке.</span><span class="sxs-lookup"><span data-stu-id="f930a-136">For example, in January, the format **MM** show "01" on the receipt.</span></span> |
| <span data-ttu-id="f930a-137">DD</span><span class="sxs-lookup"><span data-stu-id="f930a-137">DD</span></span>         | <span data-ttu-id="f930a-138">Символы **DD** используются для обозначения дня месяца и состоят из двух цифр.</span><span class="sxs-lookup"><span data-stu-id="f930a-138">The characters **DD** are used for the two-digit day of the month.</span></span> <span data-ttu-id="f930a-139">Например, 15 января в формате **DD** показано как "15" в чеке.</span><span class="sxs-lookup"><span data-stu-id="f930a-139">For example, on January 15, the format **DD** shows "15" on the receipt.</span></span> |
| <span data-ttu-id="f930a-140">YY</span><span class="sxs-lookup"><span data-stu-id="f930a-140">YY</span></span>         | <span data-ttu-id="f930a-141">Символы **YY** используются для обозначения года и состоят из двух цифр.</span><span class="sxs-lookup"><span data-stu-id="f930a-141">The characters **YY** are used for the two-digit year.</span></span> <span data-ttu-id="f930a-142">Например, для любого месяца в году 2020 в формате **YY** отображается "20" в чеке.</span><span class="sxs-lookup"><span data-stu-id="f930a-142">For example, in any month during the year 2020, the format **YY** shows "20" on the receipt.</span></span> |
| \#         | <span data-ttu-id="f930a-143">Для последовательной нумерации используется знак решетки (**\#**).</span><span class="sxs-lookup"><span data-stu-id="f930a-143">A number sign (**\#**) is used for sequential numbering.</span></span> <span data-ttu-id="f930a-144">Например, в формате **####** показано "0001", "0002", "0003" и т. д. в чеке.</span><span class="sxs-lookup"><span data-stu-id="f930a-144">For example, the format **####** shows "0001," "0002," "0003," and so on, on the receipt.</span></span> |

<span data-ttu-id="f930a-145">Можно сбросить последовательную нумерацию чеков на конкретную дату.</span><span class="sxs-lookup"><span data-stu-id="f930a-145">You can reset the sequential numbering of the receipt on a specific date.</span></span> <span data-ttu-id="f930a-146">Затем для первой проводки, которая происходит после 12:00 на выбранную дату сброса, система сбрасывает номерную серию чека в 1.</span><span class="sxs-lookup"><span data-stu-id="f930a-146">Then, for the first transaction that occurs after 12:00 AM on the selected reset date, the system resets the receipt's number sequence to 1.</span></span> <span data-ttu-id="f930a-147">Можно также указать, будет ли сброс выполняться только один раз, или же он будет повторяться каждый год.</span><span class="sxs-lookup"><span data-stu-id="f930a-147">You can also specify whether the reset occurs only one time, or whether it recurs every year.</span></span> <span data-ttu-id="f930a-148">Если указан ежегодный период повторения, сброс производится автоматически каждый год, пока продавец не остановит.</span><span class="sxs-lookup"><span data-stu-id="f930a-148">If yearly recurrence is specified, the reset automatically occurs every year until the retailer chooses to stop it.</span></span> 

<span data-ttu-id="f930a-149">Чтобы сбросить, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="f930a-149">To turn on the reset, follow these steps.</span></span>

1. <span data-ttu-id="f930a-150">Перейдите в раздел **Retail и Commerce \> Настройка канала \> Настройка POS \> Профили POS \> Профили функциональности**.</span><span class="sxs-lookup"><span data-stu-id="f930a-150">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS profiles \> Functionality profiles**.</span></span>
1. <span data-ttu-id="f930a-151">На экспресс-вкладке **Нумерация чеков** выберите **Сбросить дату чеков**.</span><span class="sxs-lookup"><span data-stu-id="f930a-151">On the **Receipt numbering** FastTab, select **Reset number reset date**.</span></span>
1. <span data-ttu-id="f930a-152">В раскрывающемся диалоговом окне в поле **Дата сброса** выберите будущую дату, когда произойдет сброс.</span><span class="sxs-lookup"><span data-stu-id="f930a-152">In the drop-down dialog box, in the **Reset date** field, select a future date when the reset should occur.</span></span>
1. <span data-ttu-id="f930a-153">В поле **Тип сброса чеков** выберите **Только один раз** или **Ежегодно**.</span><span class="sxs-lookup"><span data-stu-id="f930a-153">In the **Reset receipt type** field, select **One time only** or **Yearly**.</span></span>
1. <span data-ttu-id="f930a-154">Нажмите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="f930a-154">Select **OK**.</span></span>

<span data-ttu-id="f930a-155">![Выбор даты сброса чека](media/Enable_receipt_reset.png "Выбор даты сброса чека")</span><span class="sxs-lookup"><span data-stu-id="f930a-155">![Selecting a receipt reset date](media/Enable_receipt_reset.png "Selecting a receipt reset date")</span></span>

<span data-ttu-id="f930a-156">После выбора даты она появляется в столбце **Следующая дата сброса чека**.</span><span class="sxs-lookup"><span data-stu-id="f930a-156">After you select a date, it appears in the **Next receipt number reset date** column.</span></span> <span data-ttu-id="f930a-157">Дата сброса применима для всех типов проводок чеков.</span><span class="sxs-lookup"><span data-stu-id="f930a-157">The reset date is applicable to all receipt transaction types.</span></span> <span data-ttu-id="f930a-158">Таким образом, номерная серия чеков будет сброшена для всех типов чеков.</span><span class="sxs-lookup"><span data-stu-id="f930a-158">Therefore, the receipt number sequence will be reset for all receipt types.</span></span>

<span data-ttu-id="f930a-159">Когда наступит дата сброса, номер чека сбрасывается для первой проводки каждого типа.</span><span class="sxs-lookup"><span data-stu-id="f930a-159">When the reset date arrives, the receipt number is reset for the first transaction of each type.</span></span> <span data-ttu-id="f930a-160">Кроме того, в профиле функциональности дата сброса перемещается с нового столбца **Следующая дата сброса чека** на текущий столбец **Текущая дата сброса чека**.</span><span class="sxs-lookup"><span data-stu-id="f930a-160">In addition, in the functionality profile, the reset date is moved from the **Next receipt number reset date** column to the **Current receipt number reset date** column.</span></span> <span data-ttu-id="f930a-161">Это изменение указывает на то, что если ККМ не используется в дату сброса, номер чека будет сброшен при *следующем использовании* ККМ.</span><span class="sxs-lookup"><span data-stu-id="f930a-161">This change indicates that if a register isn't used on the reset date, the receipt number will be reset the next time that the register *is* used.</span></span> <span data-ttu-id="f930a-162">Например, 3 декабря 2019 в качестве даты сброса выбрано **1 января 2020**.</span><span class="sxs-lookup"><span data-stu-id="f930a-162">For example, on December 3, 2019, you select **January 1, 2020**, as the reset date.</span></span> <span data-ttu-id="f930a-163">1 января, когда ККМ делают первую проводку, номер чека сбрасывается.</span><span class="sxs-lookup"><span data-stu-id="f930a-163">On January 1, when the registers make their first transaction, the receipt number are reset.</span></span> <span data-ttu-id="f930a-164">Однако в декабре и в январе одна ККМ не используется вообще, а затем используется в феврале.</span><span class="sxs-lookup"><span data-stu-id="f930a-164">However, one register isn't used at all during December and January, but then starts to be used in February.</span></span> <span data-ttu-id="f930a-165">В этом случае, так как было определено действие сброса, номер чека для этой ККМ будет сброшен, когда ККМ создаст свою первую проводку в феврале.</span><span class="sxs-lookup"><span data-stu-id="f930a-165">In this case, because a reset action was defined, the receipt number for that register will be reset when the register makes its first transaction in February.</span></span>

<span data-ttu-id="f930a-166">Можно использовать функцию **Очистить дату сброса** для очистки дат перезагрузки в будущем.</span><span class="sxs-lookup"><span data-stu-id="f930a-166">You can use the **Clear reset date** functionality to clear future reset dates.</span></span> <span data-ttu-id="f930a-167">Однако если дата сброса прошла раньше, ее невозможно отменить.</span><span class="sxs-lookup"><span data-stu-id="f930a-167">However, if the reset date occurred in the past, it can't be undone.</span></span> <span data-ttu-id="f930a-168">Таким образом, сброс будет выполняться для всех ККМ, в которых сброс еще не выполнялся.</span><span class="sxs-lookup"><span data-stu-id="f930a-168">Therefore, the reset will still occur for all registers where the reset hasn't yet occurred.</span></span>

> [!NOTE]
> <span data-ttu-id="f930a-169">В зависимости от выбранной даты сброса и формата чеков могут быть указаны повторяющиеся номера чеков.</span><span class="sxs-lookup"><span data-stu-id="f930a-169">Depending on the reset date that you select, and the receipt format, you might have duplicate receipt numbers.</span></span> <span data-ttu-id="f930a-170">Несмотря на то что система POS может обрабатывать такие ситуации, это увеличивает количество времени, необходимое для обработки возвратов, так как в связи с продажами должен быть выбран один из повторяющихся чеков.</span><span class="sxs-lookup"><span data-stu-id="f930a-170">Although the point of sale (POS) system can handle these situations, they increase the amount of time that is required to process returns, because sales associates must select among the duplicate receipts.</span></span> <span data-ttu-id="f930a-171">Другие сложности, которые связаны с очисткой данных, могут произойти в том случае, если дублирующиеся чеки не запланированы.</span><span class="sxs-lookup"><span data-stu-id="f930a-171">Other complications that are related to data cleanup can occur if the duplicate receipts weren't a planned consequence.</span></span> <span data-ttu-id="f930a-172">Поэтому рекомендуется использовать динамические символы (например, **ddd**, **MM**, **DD** и **YY**), чтобы предотвратить появление дубирующихся номеров чеков после сброса.</span><span class="sxs-lookup"><span data-stu-id="f930a-172">Therefore, we recommend that you use dynamic date characters (for example, **ddd**, **MM**, **DD**, and **YY**) to help prevent duplicate receipt numbers after a reset.</span></span>
