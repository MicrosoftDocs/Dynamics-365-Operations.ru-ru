---
title: Включение ADLS в среде Dynamics 365 Commerce
description: В этой теме объясняется, как включить и проверить Azure Data Lake Storage (ADLS) для среды Dynamics 365 Commerce, что является необходимым условием для включения рекомендаций по продукту.
author: bebeale
manager: AnnBe
ms.date: 02/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: ''
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: Retail, eCommerce
ms.author: bebeale
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: 068eb522bd44e02dd31d3337a051691a956637fc
ms.sourcegitcommit: b5ecde955a69f577de46e7db10e89caaedeb2b49
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/04/2020
ms.locfileid: "3025275"
---
# <a name="enable-adls-in-a-dynamics-365-commerce-environment"></a>Включение ADLS в среде Dynamics 365 Commerce

[!include [banner](includes/banner.md)]

В этой теме объясняется, как включить и проверить Azure Data Lake Storage (ADLS) для среды Dynamics 365 Commerce, что является необходимым условием для включения рекомендаций по продукту.

## <a name="overview"></a>Обзор

В решении Dynamics 365 Commerce все сведения о продуктах и проводках отслеживаются в хранилище объектов среды. Чтобы сделать эти данные доступными другим службам Dynamics 365, таким как анализ данных, бизнес-аналитика и персонализированные рекомендации, необходимо подключить среду к принадлежащему заказчику решению Azure Data Lake Storage Gen 2 (ADLS).

После настройки ADLS в среде все необходимые данные будут зеркально отражены из хранилища объектов, а также защищены и будут управляться клиентом.

Если в среде также включены рекомендации по продукту или персонализированные рекомендации, то в стеке рекомендаций по продукту будет предоставлен доступ к выделенной папке в ADLS, чтобы извлечь данные клиента и вычислить рекомендации на их основе.

## <a name="prerequisites"></a>Необходимые условия

У клиентов должны быть настроены ADLS в подписке Azure, которая им принадлежит. Этот раздел не охватывает покупку подписки Azure или настройки учетной записи хранения с ADLS.

Дополнительные сведения о ADLS см. в разделе [Официальная документация по ADLS](https://azure.microsoft.com/pricing/details/storage/data-lake).
  
## <a name="configuration-steps"></a>Шаги конфигурации

В этом разделе описываются этапы настройки, необходимые для включения ADLS в среде.

### <a name="enable-adls-in-the-environment"></a>Включение ADLS в среде

1. Выполните вход на портал операционных отделов организации для среды.
1. Выполните поиск **Системные параметры** и перейдите на вкладку **Подключения данных**. 
1. Установите для **Разрешить интеграцию с Data Lake** значение **Да**.
1. Установите для **Постепенное обновление Data Lake** значение **Да**.
1. Затем введите следующие необходимые сведения:
    1. **Код приложения** // **Секретный ключ приложения** // **DNS-имя** — требуется для подключения к KeyVault, где хранится секретный ключ ADLS.
    1. **Имя секрета** — имя секрета, хранящееся в KeyVault и используемое для аутентификации в ADLS.
1. Сохраните изменения в левом верхнем углу страницы.

На следующем рисунке показан пример конфигурации ADLS.

![Пример конфигурации ADLS](./media/exampleADLSConfig1.png)

### <a name="test-the-adls-connection"></a>Проверка подключения ADLS

1. Проверьте подключение к KeyVault с помощью ссылки **Проверка Azure Key Vault**.
1. Проверьте подключение к ADLS с помощью ссылки **Проверка хранилища Azure**.

> [!NOTE]
> Если проверка завершилась неудачно, проверьте правильность всех добавленных данных KeyVault, а затем повторите попытку.

После успешного выполнения проверки подключения необходимо включить автоматическое обновление для хранилища объектов.

Чтобы включить автоматическое обновление хранилища объектов, выполните следующие действия.

1. Найдите **Хранилище объектов**.
1. В списке слева перейдите к записи **RetailSales** и выберите **Правка**.
1. Убедитесь, что для **Автоматическое обновление включено** выбрано значение **Да**, выберите **Обновить**, а затем выберите **Сохранить**.

На следующем рисунке показан пример хранилища объектов с включенным автоматическим обновлением.

![Пример хранилища объектов с включенным автоматическим обновлением](./media/exampleADLSConfig2.png)

Теперь ADLS настроено для среды. 

Если это еще не было выполнено, выполните шаги, необходимые для [включения рекомендаций по продукту и персонализации](enable-product-recommendations.md) для среды.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор рекомендаций по продуктам](product-recommendations.md)

[Включить рекомендации по продуктам](enable-product-recommendations.md)

[Добавление списков рекомендации продуктов на страницы](add-reco-list-to-page.md)

[Добавление элемента управления рекомендациями на экране проводки на устройствах POS](../retail/add-recommendations-control-pos-screen.md?toc=/dynamics365/commerce/toc.json)


