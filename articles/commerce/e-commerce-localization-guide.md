---
title: Руководство по локализации электронной коммерции Dynamics 365 Commerce
description: В этой теме описывается, как локализовать сайт электронной коммерции Microsoft Dynamics 365 Commerce на дополнительные языки и сконфигурировать сайт для поддержки нескольких каналов.
author: bicyclingfool
ms.date: 04/29/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: stuharg
ms.search.validFrom: 2017-06-20
ms.openlocfilehash: 1e9d91036ceeb9161dc8ee903532b2cf3ca435e2
ms.sourcegitcommit: 26c726bd0b00935e3d2c31fdc5a3b2ae03a8a2b0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/30/2022
ms.locfileid: "8661531"
---
# <a name="dynamics-365-commerce-e-commerce-localization-guide"></a>Руководство по локализации электронной коммерции Dynamics 365 Commerce

[!include [banner](includes/banner.md)]

В этой теме описывается, как локализовать сайт электронной коммерции Microsoft Dynamics 365 Commerce на дополнительные языки и сконфигурировать сайт для поддержки нескольких каналов, а также рассматриваются концепции и терминология, относящиеся к этому процессу.

Возможности электронной коммерции в Dynamics 365 Commerce были разработаны для включения возможностей работы в сети, которые могут адаптироваться к отдельным странам и языкам, но в то же время допуская максимальное повторное использование шаблонов, страниц, содержимого и мультимедиа. Можно также создать базовый сайт, а затем расширить его на новые рынки, со временем добавив поддержку дополнительных стран и языков.

## <a name="definitions"></a>Определения

**Языковой стандарт, код языка**: языковой стандарт (также называемый кодом языка) определяет язык, связанный со страной или регионом. Например, код языка "fr-CA" связан с канадским французским языком.

**Базовый язык**: язык, на котором осуществляется разработка содержимого сайта перед его экспортом для локализации.

**Канал, интернет-магазин**: канал (также называемый интернет-магазином) определяет способы оплаты, группы цен, иерархии продуктов, ассортименты и продукты для интернет-магазина электронной коммерции.

## <a name="concepts"></a>Концепции

### <a name="url-driven-experience"></a>Интерфейс на основе URL-адреса

Сайты электронной коммерции Dynamics 365 Commerce служат для создания уникальных маркетизированных и локализованных интерфейсов для клиентов через каналы и коды языков. Каналы определяют уникальные продукты, категории, валюты и способы оплаты для рынка, а коды языка определяют язык содержимого, которое видят клиенты. Сайт электронной коммерции использует URL-адреса для различения маркетизованных и локализованных интерфейсов. URL-адреса сайта для этих уникальных интерфейсов каналов и языковых стандартов определяются для сайта на странице **Параметры сайтов \> Каналы** в конструкторе сайтов Dynamics 365 Commerce.

В конструкторе сайтов URL-адрес представляет собой комбинацию домена и пути, которая определяет точку входа для уникальной комбинации канала и языкового стандарта. В следующем примере вымышленный интернет-магазин под названием Fabrikam Inc. определяет четыре уникальных сочетания канала и языкового стандарта и сопоставляет каждую комбинацию с уникальным URL-адресом, который будет отображать содержимое для клиентов.

| Домен                     |  Путь      | Канал       |   Языковой стандарт     |
|------------------------|--------|--------------------------------|--------|
| `https://fabrikam.com` | /      | Расширенный интернет-магазин Fabrikam | ru  |
| `https://fabrikam.com` | /es    | Расширенный интернет-магазин Fabrikam | es     |
| `https://fabrikam.ca`  | /      | Интернет-магазин Contoso    | fr-ca  |
| `https://fabrikam.ca`  | /en-ca | Интернет-магазин Contoso    | en-ca  |

#### <a name="domain"></a>Домен

Домены устанавливаются при настройке сайта электронной коммерции в службах Microsoft Dynamics Lifecycle Services (LCS). После подготовки среды электронной коммерции можно добавить дополнительные домены, открыв запрос на обслуживание. Дополнительные сведения о порядке настройки доменов для сайтов электронной коммерции см. в разделе [Домены в Dynamics 365 Commerce](domains-commerce.md).

#### <a name="path"></a>Путь

- Путь представляет собой произвольную строку, которая в сочетании с доменом сопоставляется с уникальной комбинацией канала и языкового стандарта. В предыдущем примере строка, используемая в качестве пути, совпадает с идентификатором языкового стандарта, которому сопоставлен данный путь. Однако можно использовать и другой подход.
- Сочетание канала и языкового стандарта может быть сопоставлено с доменом и пустым путем ("/"). В предыдущем примере клиенты, посещающие `https://fabrikam.ca/`, получат продукцию и ассортименты для рынка Канады на канадском французском языке.
- Конструктор сайтов Commerce предотвращает создание дубликатов комбинаций домена и пути. Однако можно сопоставить дубликаты комбинаций канала и языкового стандарта с разной комбинацией домена и пути.

#### <a name="channel"></a>Канал

- Каналы (также называемые интернет-магазинами) определяют способы оплаты, группы цен, иерархии продуктов, ассортименты и продукты для интернет-магазина электронной коммерции.
- Каналы определяются, настраиваются и публикуются в Dynamics 365 Commerce Headquarters.
- Конструктор сайтов может обнаруживать интернет-магазины, настроенные в Commerce headquarters и доступные для сопоставления с сайтом.

Дополнительные сведения о каналах см. в разделе [Обзор каналов](channels-overview.md). Дополнительные сведения о настройке интернет-канала см. в разделе [Настройка интернет-канала](channel-setup-online.md).

#### <a name="locale"></a>Языковой стандарт

- Языковой стандарт — это фактический идентификатор, используемый при передаче XML-файлов в формате XLIFF для локализации. Языковые стандарты определяются и публикуются для каждого канала в Commerce Headquarters. Сведения о порядке настройки языков и каналов в конструкторе сайтов см. в следующем разделе.
- Один и тот же языковой стандарт может быть сопоставлен с несколькими каналами. Таким образом, на нескольких рынках может быть предложен общий язык.

## <a name="configure-languages-and-channels-for-your-e-commerce-site"></a>Настройка языков и каналов для сайта электронной коммерции

В готовом виде все сайты электронной коммерции Dynamics 365 Commerce настроены для использования одного интернет-канала и одного языка, независимо от того, начинаете ли вы с демонстрационного сайта Fabrikam или создаете новый веб-сайт с нуля.

В этой конфигурации клиенты и партнеры обычно разрабатывают все активы, которые будут использоваться в разных странах и языках. Эти активы включают шаблоны, страницы, фрагменты, содержимое и мультимедийные материалы. Все содержимое сайта разрабатывается на первом выбранном для сайта языке, или, если используется демонстрационный сайт Fabrikam, содержимое сайта будет разработано на английском языке.

![Стандартный сайт электронной коммерции Dynamics 365 Commerce](media/loc-guide-1.png)

> [!NOTE]
> Можно настроить демонстрационный сайт Fabrikam для дополнительного языка, чтобы можно было выполнить разработку содержимого на этом языке. Сведения о порядке добавления нового языка к сайту и каналу см. в разделе [Настройка дополнительного языка для сайта](#configure-an-additional-language-for-your-site) далее в этой теме.

Однако система управления содержимым (CMS) и модель страниц для сайтов электронной коммерции Dynamics 365 Commerce разработаны так, чтобы обеспечить расширение на новые рынки и языковые стандарты. Таким образом, через один сайт электронной коммерции можно управлять активами в интернет-магазине, охватывающем несколько рынков и языков.

![Сайт электронной коммерции Dynamics 365 Commerce, включающий несколько рынков и языков](media/loc-guide-2.png)

### <a name="configure-an-additional-language-for-your-site"></a>Настройка дополнительного языка для сайта

Процесс настройки нового языка для сайта электронной коммерции включает три шага.

#### <a name="step-1-add-the-language-to-your-channel-online-store-in-commerce-headquarters"></a>Шаг 1. Добавьте язык в ваш канал (интернет-магазин) в Commerce headquarters

1. В Commerce headquarters перейдите к каналу, в который необходимо добавить новый язык. Чтобы получить доступ к списку каналов, настроенных в Commerce headquarters, перейдите в раздел **Retail и Commerce \> Каналы \> Интернет-магазины**.
1. Откройте интернет-магазин, сопоставленный с вашим сайтом, выбрав его значение **Код канала розничной торговли**. Можно проверить интернет-магазин, сопоставленный с вашим сайтом, открыв страницу настройки сайта **Каналы** в конструкторе сайтов Commerce и посмотрев имя интернет-магазина в столбце **Каналы**. 
1. На экспресс- вкладке **Языки** выберите **Добавить**. В поле **Язык** выберите код языка для нового языка. Затем выберите **Сохранить**.
1. Перейдите в раздел **Розничная торговля и коммерция \> ИТ розничной торговли и коммерции \> График распределения** и выполните задание **1070 Конфигурация канала**. После завершения выполнения задания можно перейти к шагу 2 и добавить этот язык в канал для вашего сайта в конструкторе сайтов.

![Экспресс-вкладка «Языки» интернет-магазина в Commerce headquarters](media/loc-guide-3.png)

#### <a name="step-2-add-the-language-to-a-channel-in-site-builder"></a>Шаг 2. Добавление языка в канал в конструкторе сайтов

Чтобы добавить язык в канал в конструкторе сайтов, выполните следующие действия.

1. В конструкторе сайтов Commerce откройте сайт, затем откройте страницу **Каналы** в параметрах сайта.
1. Выберите название канала, в который требуется добавить язык.
1. В правой области выберите **Добавить языковой стандарт**.
1. В диалоговом окне **Добавить языковой стандарт** в области **Добавить языковой стандарт** выберите языковый стандарт для языка, который ранее был добавлен в канал в Commerce Headquarters.
1. Выберите домен и путь, которые клиенты будут запрашивать для просмотра вашего сайта в этом канале и языке.
1. Если необходимо, чтобы язык был языком по умолчанию для просмотра, создания и обновления страниц и фрагментов в конструкторе сайтов, установите флажок **Использовать как язык канала разработки по умолчанию**. 
    > [!NOTE]
    > Этот параметр влияет только на конструктор сайта. Он не влияет на интерфейс опубликованных сайтов для клиентов.
1. Нажмите **ОК**.
1. Выберите **Сохранить и опубликовать**.

#### <a name="step-3-localize-your-site-content"></a>Шаг 3. Локализация содержимого сайта

При возврате в представление **Страницы** в конструкторе сайтов Commerce новый язык будет доступен в селекторе каналов и языков в правом верхнем углу. Теперь можно создавать локализованные версии страниц на базовом языке.

Процесс локализации содержимого страниц и фрагментов рассматривается в разделе [Локализация содержимого сайта электронной коммерции](#localize-e-commerce-site-content) далее в этой теме.

### <a name="configure-a-new-channel-for-your-site"></a>Настройка нового канала для сайта

Сайты электронной коммерции Dynamics 365 Commerce могут предоставлять интерфейсы, определенные в нескольких интернет-каналах, настроенных в Commerce Headquarters. Сайт использует несколько каналов для отображения клиентам уникальной конфигурации способов оплаты, групп цен, иерархий продуктов, ассортиментов и набора продуктов. Канал обычно используется для настройки этих аналитик в соответствии с требованиями и предпочтениями для интерфейса, который связан с отдельными странами. Однако этот подход является бизнес-решением, которое принимает клиент. Это не является требованием.

Необходимые условия и задачи, связанные с настройкой канала (интернет-магазина), выходят за область данного документа. Дополнительные сведения о настройке интернет-канала в Commerce headquarters см. в разделе [Основы настройки канала](channels-overview.md#channel-setup-basics). Сведения о шагах и требованиях, относящихся к интернет-каналам, см. в разделе [Настройка интернет-канала](channel-setup-online.md).

Чтобы добавить канал к сайту в конструкторе сайтов, выполните следующие действия.

1. В конструкторе сайтов Commerce перейдите в раздел **Параметры сайта \> Каналы**. 
1. Выберите **Добавить канал**.
1. В диалоговом окне **Добавить канал** в пункте **Каналы** выберите канал, который необходимо добавить. 
    > [!NOTE]
    > Добавлять можно только те каналы, которые еще не были добавлены на сайт.
1. Выберите языковой стандарт по умолчанию для канала. При добавлении в канал новых языков можно изменить язык по умолчанию на один из них.
1. Укажите домен и путь, которые будут являться URL-адресом, предоставляющим содержимое и интерфейсы для этой комбинации канала и языка.
1. Нажмите **ОК**.
1. Выберите **Сохранить и опубликовать**.

## <a name="localize-e-commerce-site-content"></a>Локализация содержимого сайта электронной коммерции

### <a name="xliff-basics"></a>Основы XLIFF

XLIFF — это стандартный в отрасли формат файла для передачи локализуемого содержимого между средствами управления содержимым. Конструктор сайтов Commerce использует формат файлов XLIFF для экспорта содержимого страниц, фрагментов и метаданных изображений, чтобы их можно было локализовать и повторно импортировать.

Клиенты Microsoft Dynamics обычно работают со сторонними поставщиками локализации, например [Translated.com](https://translated.com/welcome), чтобы перевести свои XLIFF-файлы на нужные языки.

### <a name="localize-assets-in-site-builder"></a>Локализация активов в конструкторе сайтов

Следующие активы сайта электронной коммерции могут быть локализованы в окне конструктора сайтов:

- Страницы
- Фрагменты
- Мультимедийные активы
- Модули

Все новые страницы, фрагменты и мультимедийные ресурсы создаются в контексте канала и языка, которые в данный момент выбраны в средстве выбора канала и языкового стандарта. Этот язык обычно является "базовым языком", при условии, что дополнительные языки или каналы не были настроены. На сайтах, где настроено несколько каналов и языков, "базовый язык" определяется каналом и языковым стандартом, установленными в качестве значения по умолчанию на странице **Каналы** в параметрах сайта.

Шаги для локализации содержимого страниц, фрагментов и ресурсов мультимедиа аналогичны. Исключения и различия будут описаны в следующих разделах. Однако шаги для локализации содержимого модуля различаются. Дополнительные сведения см. в разделе [Локализация модулей](#localize-modules) далее в этой теме.

#### <a name="step-1-export-an-xliff-file"></a>Шаг 1. Экспорт XLIFF-файла

Чтобы экспортировать XLIFF-файл для страницы, фрагмента или изображения в конструкторе сайтов, выполните следующие действия.

1. Откройте ресурс, для которого требуется экспортировать содержимое на базовом языке, чтобы его можно было локализовать.
1. На панели команд выберите **Локализация \> Экспорт XLIFF**.
    > [!NOTE]
    > Параметр **Локализация** виден только в том случае, если ресурс находится в состоянии **Редактировать**.

XLIFF-файл с именем **\<assetname\>.xlf** будет загружен в папку загрузки браузера. Этот файл в формате XLIFF относится к ресурсу, для которого выполняется локализация. Вы будете экспортировать XLIFF-файл для каждого ресурса, который необходимо локализовать.

#### <a name="step-2-localize-the-xliff-file"></a>Шаг 2. Локализация XLIFF-файла

В большинстве случаев вы будете работать с поставщиком локализации для перевода XLIFF-файлов. Однако при локализации ресурсов своими силами или если вы хотите просто проверить процесс локализации, необходимо внести следующие изменения в XLIFF-файл:

- Добавьте атрибут целевого языка в элемент /xliff/file и задайте для него код языка, на который выполняется локализация. 
    > [!NOTE]
    > Этот код языка должен соответствовать коду языка на странице **Каналы** в параметрах сайта.
- Для каждого элемента //source добавьте родственный целевой элемент, где текстовое значение является локализованной версией содержимого этого исходного элемента.

Сведения о схеме, которая управляет файлами в формате XLIFF, см. в [Спецификации XLIFF 1.2](http://docs.oasis-open.org/xliff/xliff-core/xliff-core.html).

> [!NOTE]
> Чтобы локализовать ресурс на несколько языков, необходимо создать локализованный XLIFF-файл для каждого из этих языков.

#### <a name="step-3-import-the-localized-xliff-file"></a>Шаг 3. Импорт локализованного XLIFF-файла

Чтобы импортировать XLIFF-файл для ресурса, выполните следующие действия.

1. В конструкторе сайтов Commerce откройте актив, для которого требуется импортировать XLIFF-файл.
1. В селекторе каналов и языков в верхнем правом углу выберите канал и язык, для которого выполняется импорт локализованного содержимого.
1. На панели команд выберите **Локализация \> Импорт XLIFF**. Затем найдите и выберите локализованный XLIFF-файл для выбранного актива и языка.

После успешного импорта XLIFF-файла создается "вариант" страницы, фрагмента или актива. С этого момента все изменения, внесенные в локализованный вариант, будут влиять только на этот вариант. Они не влияют на базовый ресурс, на основе которого был получен данный вариант. Аналогично, изменения базового ресурса не повлияют на вариант этого ресурса. 

Однако в случае страниц можно вносить изменения во все варианты, изменяя шаблон или макет, к которым привязаны эти страницы. Аналогичным образом, изменения в фрагменте будут влиять на все страницы, которые зависят от этого варианта.

### <a name="images"></a>Изображения

Изображения могут отображаться на варианте странице или модуля только в том случае, если локализованы метаданные содержимого, связанные с этими изображениями. В настоящее время для локализации используется следующая метаданных в мультимедийном ресурсе:

- Альтернативный текст
- Описание
- Заголовок

В настоящее время нельзя локализовать двоичный файл для цифрового ресурса, например, изображения или видео. В настоящее время группа разработки продукта Dynamics 365 Commerce работает над этой возможностью.

### <a name="localize-modules"></a>Локализация модулей

Строки, которые отображаются как часть самого модуля (например, "Назад" и "Далее" в модуле карусели), локализуются отдельно от содержимого модуля. Инструкции см. в разделе [Локализация модуля](e-commerce-extensibility/localize-module.md).

## <a name="additional-resources"></a>Дополнительные ресурсы

[Глоссарий по модели страниц](page-elements-overview.md)

[Межканальное совместное использование](cross-channel-sharing.md)

[Локализация модуля](e-commerce-extensibility/localize-module.md)

[Файл определений модуля](e-commerce-extensibility/module-definition-file.md)

[Локализация ресурсов расширений Commerce и файлов меток](dev-itpro/extension-resource-localization.md)

[Глобализация модулей с помощью класса CultureInfoFormatter](e-commerce-extensibility/globalize-modules.md)

[Параметры приложения: темы](e-commerce-extensibility/app-settings.md#themes-section)
