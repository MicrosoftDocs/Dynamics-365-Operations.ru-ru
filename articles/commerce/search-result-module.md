---
title: Модуль результатов поиска
description: В этой статье описываются модули результатов поиска, а также описывается, как добавлять их к страницам сайта в Microsoft Dynamics 365 Commerce.
author: anupamar-ms
ms.date: 05/18/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.8
ms.search.industry: ''
ms.search.form: ''
ms.openlocfilehash: d10e9ed78dfc90833ff3c09021f863f6ef0b80d9
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/12/2022
ms.locfileid: "9286819"
---
# <a name="search-results-module"></a>Модуль результатов поиска

[!include [banner](includes/banner.md)]

В этой статье описываются модули результатов поиска, а также описывается, как добавлять их к страницам сайта в Microsoft Dynamics 365 Commerce.

Модуль результатов поиска возвращает результаты поиска продуктов и список подходящих уточнений для продуктов. Модули результатов поиска на сайтах Dynamics 365 Commerce могут использоваться для отображения страниц в следующих сценариях:

- Результаты поиска, которые инициируются поиском пользователя
- Результаты поиска, отображающие конкретный набор продуктов, например "Купить похожие"
- Списки продуктов, относящихся к категории

Дополнительные сведения о категориях и страницах результатов поиска см. в разделе [Обзор целевой страницы категории по умолчанию и страницы результатов поиска](category-search-page-overview.md).

На следующем рисунке показан пример страницы результатов поиска для категории на сайте Fabrikam.

![Пример страницы результатов поиска на сайте Fabrikam.](./media/SimpleCategoryLandingDressCategory.png)

## <a name="search-results-module-properties"></a>Свойства модуля результатов поиска

В следующей таблице перечислены свойства модулей результатов поиска вместе со значениями и описаниями.

| Свойство | Значения | описание |
|----------|--------|-------------|
| Номенклатур на странице | Целое число | Число номенклатур, которое должно отображаться на каждой странице. |
| Разрешить возврат на странице с описанием продукта | **True** или **False** | Если это свойство имеет значение **True**, то когда пользователь выбирает продукт на странице результатов поиска, в иерархической навигации на странице сведений о продукте (PDP), которая будет открыта, отобразится ссылка "Назад к результатам". |
| Развернуть уточнения | **Все**, **1**, **2**, **3** или **4** | Число лучших уточнений, которые должны быть развернуты при загрузке страницы. Например, если это свойство имеет значение **3**, будут развернуты первые три уточнения на странице. |
| Скрыть отображение иерархии категорий | **True** или **False** | Если это свойство имеет значение **True**, иерархия категорий на странице будет скрыта. Это свойство должно иметь значение **True**, если используется [модуль иерархической навигации](add-breadcrumb.md) для отображения иерархии категорий.|
| Включать атрибуты продукта в результаты поиска | **True** или **False** | Если это свойство имеет значение **True**, для продуктов в результатах поиска будут возвращаться атрибуты. Хотя эти атрибуты могут отображаться на сайте Commerce, требуется расширение.|
| Показывать цены для назначений | **True** или **False** | Если это свойство имеет значение **True**, цены назначения для продуктов будут отображаться в результатах поиска, когда вошедший пользователь перейдет на страницу. |
| Обновление панели уточнения | **True** или **False** | Если это свойство имеет значение **True**, при выборе уточнений панель уточнений будет обновлена. В этом режиме некоторые уточнения с множественным выбором будут вести себя как уточнения с единичным выбором при обновлении панели уточнений. |

> [!IMPORTANT]
> В Commerce версии 10.0.16 и последующих версиях конфигурацию **Показать цены назначений** можно использовать для отображения цен назначения на странице.
>
> В Commerce версии 10.0.20 и более поздних конфигурацию **Обновление панели уточнений** можно использовать для обновления панели уточнений во время выбора уточнения.

## <a name="supported-modules"></a>Поддерживаемые модули

Модуль результатов поиска поддерживает [модуль быстрого просмотра](quick-view-module.md), который позволяет пользователям просматривать сведения о продукте и добавлять номенклатуры в корзину со страницы результатов поиска.

## <a name="add-a-search-results-module-to-a-category-page"></a>Добавление модуля результатов поиска на страницу категорий

Чтобы добавить модуль результатов поиска на страницу категорий в конструкторе сайтов, выполните следующие действия.

1. Перейдите к пункту **Шаблоны**, выберите **Создать**, чтобы создать шаблон.
1. В диалоговом окне **Создать шаблон** введите имя **Результаты поиска**, затем выберите **ОК**.
1. В ячейке **Содержание** выберите многоточие (...), затем выберите **Добавить модуль**.
1. В диалоговом окне **Выбор модуля** выберите модуль **Страница по умолчанию**, затем выберите **ОК**.
1. В слоте **Главный** модуля **Страница по умолчанию** выберите многоточие (...), затем выберите **Добавить модуль**.
1. В диалоговом окне **Выбрать модуль** выберите модуль **Контейнер**, затем выберите **ОК**.
1. В ячейке **Контейнер** выберите многоточие (...), затем выберите **Добавить модуль**.
1. В диалоговом окне **Выбрать модуль** выберите модуль **Навигация**, затем выберите **ОК**.
1. В области свойств **Иерархическая навигация** введите значение **1** для **Мин. число вхождений**.
1. В ячейке **Контейнер** выберите многоточие (...), затем выберите **Добавить модуль**.
1. В диалоговом окне **Выбрать модуль** выберите модуль **Результаты поиска**, затем выберите **ОК**.
1. В области свойства **Результаты поиска** введите значение **1** для параметра **Мин. число вхождений**, затем задайте любые другие необходимые свойства для модуля результатов поиска. Настроив эти свойства в шаблоне, вы гарантируете, что все настройки конкретной страницы категорий будут автоматически включать эти параметры.
1. Выберите **Завершить редактирование**, а затем нажмите кнопку **Опубликовать**, чтобы опубликовать шаблон.
1. Перейдите к разделу **Страницы**, выберите **Создать**, чтобы создать страницу.
1. В диалоговом окне **Создать страницу** в разделе **Имя страницы** введите **Страница категорий**, затем выберите **Далее**.
1. В области **Выбор шаблона** выберите созданный шаблон **Результаты поиска** и выберите **Далее**.
1. В области **Выбор макета** выберите макет страницы (например, **Гибкий макет**), а затем нажмите кнопку **Далее**.
1. В области **Проверка и завершение** проверьте конфигурацию страницы. Если необходимо изменить сведения о странице, нажмите кнопку **Назад**. Если сведения на странице верны, выберите **Создать страницу**.
1. Выберите **Завершить редактирование** для возврата страницы, затем нажмите кнопку **Опубликовать**, чтобы опубликовать ее.

## <a name="enable-inventory-awareness-for-the-search-results-module"></a>Включение распознавания запасов для модуля результатов поиска

Клиенты обычно ожидают, что веб-сайт электронной коммерции должен знать о запасах в браузере, чтобы они могли решать, что делать, если для продукта нет запасов. Модуль результатов поиска может быть настроен для включения данных запасов и предоставления следующих возможностей:

- Отображение метки доступности запасов вместе с продуктом.
- Скрытие продуктов, отсутствующих в запасах, из списка продуктов.
- Отображение отсутствующих на складе продуктов в конце списка продуктов.
- Фильтрация продуктов в результатах поиска по уровням запасов.

Чтобы включить эти возможности, необходимо сначала включить функцию **Расширенное обнаружение продуктов электронной коммерции для учета запасов** в рабочей области **Управление функциями**.

> [!NOTE]
> Функция **Расширенное обнаружение продуктов электронной коммерции для учета запасов** доступна в выпуске Commerce версии 10.0.20 и позднее.

Поиск продуктов с учетом запасов использует атрибуты продукта для получения информации о доступности запасов. В качестве предварительного условия для функции необходимо создать специальные атрибуты продукта, для них должны быть введены данные запасов, и они должны быть добавлены к интернет-каналу. 

Чтобы создать специальные атрибуты продукта для поддержки модуля результатов поиска с учетом запасов, выполните следующие действия.

1. В headquarters перейдите к разделу **Розница и коммерция \> Розница и коммерция IT \> Продукты и запасы**.
1. Выберите и откройте **Заполнить атрибуты продукта уровнем запасов**.
1. В диалоговом окне укажите следующие сведения:

    1. В поле **Атрибут продукта и имя типа** введите имя для выделенного атрибута продукта, который будет создан для получения данных о наличии запасов.
    1. В поле **Доступность запасов на основе** выберите тип количества, на котором должен основываться расчет уровня запасов (например, **Физически доступно**). 

1. Запустите задание в фоновом режиме. Поскольку запасы продукта постоянно меняются в среде многоканального взаимодействия, настоятельно рекомендуется запланировать это задание как процесс пакетной обработки.

> [!NOTE]
> Для согласованного расчета уровня запасов между страницами и модулями на веб-сайте электронной коммерции обязательно установите одинаковый тип количества для параметра **Доступность запасов на основе** в Commerce headquarters и для параметра **На основе уровня запасов** в конструкторе сайтов Commerce. Дополнительные сведения о параметрах запасов в конструкторе сайтов см. в разделе [Применение настроек запасов](inventory-settings.md).

Чтобы настроить атрибуты продукта для интернет-канала, выполните следующие действия. 

1. В главном офисе перейдите в раздел **Розница и коммерция \> Настройка канала \> Категории каналов и атрибуты продуктов**.
1. Выберите интернет-канал, для которого требуется включить модуль результатов поиска с учетом запасов.
1. Выберите и откройте соответствующую группу атрибутов, затем добавьте к ней вновь созданный атрибут продукта.
1. Для версий Commerce до выпуска 10.0.27, выберите **Задать метаданные атрибута**, выберите вновь добавленный атрибут продукта, а затем включите параметр **Показать атрибут в канале**, **Возможно извлечение**, **Возможно уточнение** и **Возможен запрос**.
1. Перейдите в раздел **Розничная торговля и коммерция \> ИТ розничной торговли и коммерции \> График распределения** и выполните задание **1150 (Каталог)**. Если запланировать задание **Заполнить атрибуты продукта уровнем запасов** как процесс пакетной обработки, рекомендуется также запланировать задание 1150 как процесс пакетной обработки, выполняемый с такой же периодичностью.

> [!NOTE]
> Для продуктов, которые отображаются в модуле "результаты поиска", уровень запасов отображается на уровне главного продукта, а не на уровне отдельного варианта. Есть только два возможных значения: "доступно" и "нет на складе". Фактическая метка для значения извлекается из определения [профиля уровня запасов](inventory-buffers-levels.md). Основной продукт считается недоступным на складе, только когда на складе нет его вариантов.

После выполнения всех вышеперечисленных шагов уточнения на страницах результатов поиска покажут фильтр, основанный на запасах, и модуль результатов поиска будет получать данные запасов в фоновом режиме. Затем можно настроить параметр **Параметры запасов для страниц списков продуктов** в конструкторе сайтов Commerce, чтобы управлять отображением отсутствующих на складе продуктов в модуле "результаты поиска". Для получения дополнительной информации о см. раздел [Применение настроек запасов](inventory-settings.md).

## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор целевой страницы категории и страницы результатов поиска по умолчанию](category-search-page-overview.md)

[Обзор библиотеки модулей](starter-kit-overview.md)

[Модуль быстрого просмотра](quick-view-module.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
