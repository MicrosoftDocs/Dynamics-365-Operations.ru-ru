---
title: Модуль результатов поиска
description: В этом разделе описываются модули результатов поиска, а также описывается, как добавлять их к страницам сайта в Microsoft Dynamics 365 Commerce.
author: anupamar-ms
ms.date: 10/15/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: ''
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.8
ms.openlocfilehash: bae825ed7093494c48abac119c480be0dba4f951
ms.sourcegitcommit: 9c2bc045eafc05b39ed1a6b601ccef48bd62ec55
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/14/2021
ms.locfileid: "7919482"
---
# <a name="search-results-module"></a>Модуль результатов поиска

[!include [banner](includes/banner.md)]


В этом разделе описываются модули результатов поиска, а также описывается, как добавлять их к страницам сайта в Microsoft Dynamics 365 Commerce.

Модуль результатов поиска возвращает результаты поиска продуктов и список подходящих уточнений для продуктов. Модули результатов поиска на сайтах Dynamics 365 Commerce могут использоваться для отображения страниц в следующих сценариях:

- Результаты поиска, которые инициируются поиском пользователя
- Результаты поиска, отображающие конкретный набор продуктов, например "Купить похожие"
- Списки продуктов, относящихся к категории

Дополнительные сведения о категориях и страницах результатов поиска см. в разделе [Обзор целевой страницы категории по умолчанию и страницы результатов поиска](category-search-page-overview.md).

На следующем рисунке показан пример страницы результатов поиска для категории на сайте Fabrikam.

![Пример страницы результатов поиска на сайте Fabrikam.](./media/SimpleCategoryLandingDressCategory.png)

## <a name="search-results-module-properties"></a>Свойства модуля результатов поиска

В следующей таблице перечислены свойства модулей результатов поиска вместе со значениями и описаниями.

| Свойство | Значения | описание |
|----------|--------|-------------|
| Номенклатур на странице | Целое число | Число номенклатур, которое должно отображаться на каждой странице. |
| Разрешить возврат на странице с описанием продукта | **True** или **False** | Если это свойство имеет значение **True**, то когда пользователь выбирает продукт на странице результатов поиска, в иерархической навигации на странице сведений о продукте (PDP), которая будет открыта, отобразится ссылка "Назад к результатам". |
| Развернуть уточнения | **Все**, **1**, **2**, **3** или **4** | Число лучших уточнений, которые должны быть развернуты при загрузке страницы. Например, если это свойство имеет значение **3**, будут развернуты первые три уточнения на странице. |
| Скрыть отображение иерархии категорий | **True** или **False** | Если это свойство имеет значение **True**, иерархия категорий на странице будет скрыта. Это свойство должно иметь значение **True**, если используется [модуль иерархической навигации](add-breadcrumb.md) для отображения иерархии категорий.|
| Включать атрибуты продукта в результаты поиска | **True** или **False** | Если это свойство имеет значение **True**, для продуктов в результатах поиска будут возвращаться атрибуты. Хотя эти атрибуты могут отображаться на сайте Commerce, требуется расширение.|
| Показывать цены для назначений | **True** или **False** | Если это свойство имеет значение **True**, цены назначения для продуктов будут отображаться в результатах поиска, когда вошедший пользователь перейдет на страницу. |
| Обновление панели уточнения | **True** или **False** | Если это свойство имеет значение **True**, при выборе уточнений панель уточнений будет обновлена. В этом режиме некоторые уточнения с множественным выбором будут вести себя как уточнения с единичным выбором при обновлении панели уточнений. |

> [!IMPORTANT]
> В Commerce версии 10.0.16 и последующих версиях конфигурацию **Показать цены назначений** можно использовать для отображения цен назначения на странице.
>
> В Commerce версии 10.0.20 и более поздних конфигурацию **Обновление панели уточнений** можно использовать для обновления панели уточнений во время выбора уточнения.

## <a name="supported-modules"></a>Поддерживаемые модули

Модуль результатов поиска поддерживает [модуль быстрого просмотра](quick-view-module.md), который позволяет пользователям просматривать сведения о продукте и добавлять номенклатуры в корзину со страницы результатов поиска.

## <a name="add-a-search-results-module-to-a-category-page"></a>Добавление модуля результатов поиска на страницу категорий

Чтобы добавить модуль результатов поиска на страницу категории, выполните следующие действия.

1. Перейдите к пункту **Шаблоны**, выберите **Создать**, чтобы создать шаблон.
1. В диалоговом окне **Создать шаблон** введите имя **Результаты поиска**, затем выберите **ОК**.
1. В ячейке **Содержание** выберите многоточие (...), затем выберите **Добавить модуль**.
1. В диалоговом окне **Добавить модуль** выберите модуль **Страница по умолчанию**, затем выберите **ОК**.
1. В слоте **Главный** модуля **Страница по умолчанию** выберите многоточие (...), затем выберите **Добавить модуль**.
1. В диалоговом окне **Добавить модуль** выберите модуль **Контейнер**, затем выберите **ОК**.
1. В ячейке **Контейнер** выберите многоточие (...), затем выберите **Добавить модуль**.
1. В диалоговом окне **Добавить модуль** выберите модуль **Навигация**, затем выберите **ОК**.
1. В области свойств **Иерархическая навигация** введите значение **1** для **Мин. число вхождений**.
1. В ячейке **Контейнер** выберите многоточие (...), затем выберите **Добавить модуль**.
1. В диалоговом окне **Добавить модуль** выберите модуль **Результаты поиска**, затем выберите **ОК**.
1. В области свойства **Результаты поиска** введите значение **1** для параметра **Мин. число вхождений**, затем задайте любые другие необходимые свойства для модуля результатов поиска. Настроив эти свойства в шаблоне, вы гарантируете, что все настройки конкретной страницы категорий будут автоматически включать эти параметры.
1. Выберите **Завершить редактирование**, а затем нажмите кнопку **Опубликовать**, чтобы опубликовать шаблон.
1. Перейдите к разделу **Страницы**, выберите **Создать**, чтобы создать страницу.
1. В диалоговом окне **Выбор шаблона** выберите созданный вами шаблон **Результаты поиска**, введите **Страница категории** для параметра **Имя страницы**, затем выберите **ОК**. Так как все значения заданы в шаблоне, страница готова к публикации.
1. Выберите **Завершить редактирование** для возврата страницы, затем нажмите кнопку **Опубликовать**, чтобы опубликовать ее.

## <a name="enable-inventory-awareness-for-the-search-results-module"></a>Включение распознавания запасов для модуля результатов поиска

Клиенты обычно ожидают, что сайт электронной коммерции должен знать о запасах в браузере, чтобы они могли решать, что делать, если для продукта нет запасов. Модуль результатов поиска может быть улучшен таким образом, чтобы он включал данные запасов и предоставлял следующие возможности:

- Отображение метки доступности запасов вместе с продуктами.
- Скрытие отсутствующих на складе продуктов.
- Отображение отсутствующих на складе продуктов в конце списка результатов поиска.
    
Чтобы включить эти возможности, необходимо настроить следующие необходимые настройки в центральном офисе Commerce.

### <a name="enable-the-enhanced-e-commerce-product-discovery-to-be-inventory-aware-feature"></a>Включить функцию Расширенное обнаружение продуктов электронной коммерции для учета запасов

> [!NOTE]
> Функция **Расширенное обнаружение продуктов электронной коммерции для учета запасов** доступна в выпуске Commerce 10.0.20.

Для включения функции **Расширенное обнаружение продуктов электронной коммерции для учета запасов** в центральном офисе Commerce выполните следующие действия.

1. Перейдите в раздел **Рабочие области \> Управление функциями**.
1. Найдите функцию **Расширенное обнаружение продуктов электронной коммерции для учета запасов** и включите ее.

### <a name="configure-the-populate-product-attributes-with-inventory-level-job"></a>Настройка задания заполнения атрибутов продуктов уровнем запасов

Задание **Заполнить атрибуты продукта уровнем запасов** создает новый атрибут продукта для сбора доступности запасов, а затем этот атрибут назначается последнему значению уровня запасов для каждого основного продукта. Поскольку доступность запасов продукта или ассортимента, которые продаются, постоянно меняется, настоятельно рекомендуется запланировать задание как процесс пакетной обработки.

Чтобы настроить задание **Заполнить атрибуты продукта уровнем запасов** в центральном офисе Commerce, выполните следующие действия.

1. Перейдите в **Retail и Commerce \> ИТ Retail и Commerce \> Продукты и запасы**.
1. Выберите **Заполнить атрибуты продукта уровнем запасов**.
1. В диалоговом окне **Заполнить атрибуты продукта уровнем запасов** выполните следующие действия:

    1. В области **Параметры** в поле **Атрибут продукта и имя типа** введите имя для выделенного атрибута продукта, который будет создан для получения наличия запасов.
    1. В области **Параметры**, в поле **Доступность запасов на основе** выберите количество, на котором должен основываться расчет уровня запасов (например, **Физически доступно**).
    1. В поле **Выполнять в фоновом режиме** настройте задание для выполнения в фоновом режиме и, по желанию, включите параметр **Пакетная обработка**. 

> [!NOTE]
> Для согласованного расчета уровня запасов между PDP и страницами списка продуктов на сайте электронной коммерции установите одинаковое количество для параметра **Доступность запасов на основе** в центральном офисе Commerce параметра **На основе уровня запасов** в конструкторе сайтов Commerce. Дополнительные сведения о параметрах запасов в конструкторе сайтов см. в разделе [Применение настроек запасов](inventory-settings.md).

### <a name="configure-the-new-product-attribute"></a>Настройка нового атрибута продукта

После выполнения задания **Заполнить атрибуты продукта уровнем запасов** необходимо настроить вновь созданный атрибут продукта на сайте электронной коммерции, где требуется включить поддержку запасов для модуля результатов поиска.

Чтобы настроить новый атрибут продукта в центральном офисе Commerce, выполните следующие шаги.

1. Перейдите в раздел **Retail и Commerce \> Настройка канала \> Категории каналов и атрибуты продуктов** и выберите сайт электронной коммерции.
1. Выберите и откройте соответствующую группу атрибутов, добавьте к ней вновь созданный атрибут продукта, а затем закройте страницу.
1. Выберите **Задать метаданные атрибута**, выберите вновь добавленный атрибут продукта, а затем включите параметр **Показать атрибут в канале**, **Возможно извлечение**, **Возможно уточнение** и **Возможен запрос**.

> [!NOTE]
> Для продуктов, которые отображаются в модуле "результаты поиска", уровень запасов вводится на уровне главного продукта, а не на уровне отдельного варианта. Есть только два возможных значения: "доступно" и "нет на складе". Фактический текст для значений извлекается из определения [профиля уровня запасов](inventory-buffers-levels.md). Основной продукт считается недоступным на складе, только когда на складе нет его вариантов. Уровень запасов варианта определяется на основе определения профиля уровня запасов продукта. 

После выполнения всех вышеперечисленных шагов уточнения на страницах результатов поиска покажут фильтр, основанный на запасах, и модуль результатов поиска будет получать данные запасов в фоновом режиме. Затем можно настроить параметр **Параметры запасов для страниц списков продуктов** в конструкторе сайтов Commerce, чтобы управлять отображением отсутствующих на складе продуктов в модуле "результаты поиска". Для получения дополнительной информации о см. раздел [Применение настроек запасов](inventory-settings.md).

## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор целевой страницы категории и страницы результатов поиска по умолчанию](category-search-page-overview.md)

[Обзор библиотеки модулей](starter-kit-overview.md)

[Модуль быстрого просмотра](quick-view-module.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
