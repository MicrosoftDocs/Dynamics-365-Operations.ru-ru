---
title: Сопоставление каналов с сайтами электронной коммерции
description: В данной статье описаны некоторые наиболее часто встречающиеся сценарии сопоставления каналов в Microsoft Dynamics 365 Commerce, которые могут быть распространены для удовлетворения большинства других бизнес-потребностей.
author: samjarawan
ms.date: 05/11/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: v-chgriffin
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: samjar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 94c43df26e8d6e55a5b6d459b65066d5873e1063
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/03/2022
ms.locfileid: "8902771"
---
# <a name="map-channels-to-e-commerce-sites"></a>Сопоставление каналов с сайтами электронной коммерции

В данной статье описаны некоторые наиболее часто встречающиеся сценарии сопоставления каналов в Microsoft Dynamics 365 Commerce, которые могут быть распространены для удовлетворения большинства других бизнес-потребностей.

Dynamics 365 Commerce поддерживает множество бизнес-сценариев для сопоставления [интернет каналов](#channels), имеющих настроенные наборы продуктов, цен и скидок, с различными [сайтами электронной коммерции](#e-commerce-sites) для пользователей.

В этой статье рассмотрены следующие сценарии:

- **Канал, работающий с одним языком, обслуживающий один сайт электронной коммерции.** Например, данный сценарий может подразумевать использование сайта одного бренда, настроенного для рынка, использующего американский английский.
- **Канал, работающий с несколькими языками, обслуживающий один локализованный сайт электронной коммерции.** Например, данный сценарий может подразумевать использование сайта одного бренда, настроенного для рынка Канады, поддерживающего французский и английский языки. В данном сценарии пользователи, выбирающие разные языки, увидят одинаково оформленный сайт, но он будет локализован с использованием выбранного пользователем языка.
- **Канал, работающий с несколькими языками, предлагающий различное оформление сайта для каждого из языков.** Например, данный сценарий может подразумевать использование сайта одного бренда, настроенного для рынка Канады, поддерживающего французский и английский языки. В данном сценарии для каждого языка будет отображаться уникальное оформление сайта.
- **Несколько каналов (одноязычных и/или многоязычных), предлагающих одно локализованное оформление сайта.** Например, данный сценарий может подразумевать использование сайта одного бренда, настроенного для Австралии и Новой Зеландии. В данном сценарии для обеих стран будет использоваться одинаковое оформление сайта на английском языке, но для каждой страны будет настроен свой набор продуктов, валют, цен, скидок и способов доставки.
- **Несколько каналов (одноязычных и/или многоязычных), предлагающих различное оформление сайта для каждого из языков.** Например, данный сценарий может подразумевать использование сайта одного бренда, настроенного для Австралии, Канады и Германии на разных языках. В данном сценарии для каждой из стран будет использоваться уникальное оформление сайта, для которого будет настроен свой набор продуктов, валют, цен, скидок и способов доставки.

## <a name="channels"></a>Каналы

Канал (известный также как онлайн-магазин или интернет-канал) представляет собой магазин электронной коммерции в интернете, используемый для сопоставления продукции, цен, скидок, языков, способов оплаты, режимов доставки, центров исполнения заказов и прочих составляющих онлайн-торговли, которые будут представлены вашим онлайн-клиентам. Каналы создаются и управляются в Commerce headquarters и сопоставляются с одним [юридическим лицом](../fin-ops-core/fin-ops/organization-administration/organizations-organizational-hierarchies.md?toc=/dynamics365/commerce/toc.json#legal-entities). Это юридическое лицо обычно располагается в одной стране, требующей налоговой отчетности для канала, и потому настройки можно произвести с использованием одной валюты.

Дополнительные сведения о каналах см. в разделе [Обзор каналов](channels-overview.md). Дополнительные сведения о создании интернет-каналов см. в разделе [Настройка интернет-канала](channel-setup-online.md).

Приведенное ниже изображение Commerce headquarters демонстрирует стандартные интернет-каналы, которые развертываются в Dynamics 365 Commerce при выборе варианта с демонстрационными данными.

![Стандартные каналы для демонстрационных данных в Commerce headquarters.](media/channel-mapping-1.png)

## <a name="e-commerce-sites"></a>Сайты электронной коммерции

Сайт электронной коммерции содержит набор страниц сайта, которые клиенты используют для просмотра магазина и совершения покупок. Управление сайтами электронной коммерции осуществляется в конструкторе сайтов Commerce.

Дополнительные сведения о создании сайтов и управлении ими в конструкторе сайтов см. в разделе [Общие сведения о сайтах электронной коммерции](online-store-overview.md).

## <a name="common-channel-mapping-scenarios"></a>Распространенные сценарии сопоставления сайтов

Dynamics 365 Commerce поддерживает широкий спектр сценариев сопоставления сайтов. Сценарии сопоставления сайтов, описанные ниже, являются лишь частью всех возможных сценариев сопоставления. Они служат в качестве руководства, чтобы помочь вам спланировать любые варианты для ваших уникальных бизнес-потребностей. Вымышленный магазин спортивных товаров Adventure Works, сведения о котором присутствуют в демонстрационных данных Dynamics 365 Commerce, используется в качестве примера в каждом из сценариев.

### <a name="single-language-channel-that-has-a-single-e-commerce-site-experience"></a>Канал, работающий с одним языком, обслуживающий один сайт электронной коммерции

В простейшем из возможных сценариев один канал использует один язык для совершения продаж на одном рынке. Примером в данном сценарии служит онлайн-магазин Adventure Works, настроенный для работы только на рынке с использованием американского английского языка.

В следующем примере рассматривается конфигурация канала в Commerce headquarters. В этой конфигурации интернет-канал поддерживает лишь один язык (**en-us**), одну валюту (**доллар США (USD)**) и одну бизнес-сущность (**usrt**), используемую для налоговой отчетности.

![Значения для юридического лица, валюты и языка для онлайн-магазина Adventure Works выделены в Commerce headquarters.](media/channel-mapping-3.png)

Один интернет-канал можно сопоставить с одним сайтом электронной коммерции в конструкторе сайтов. Сведения о порядке создания нового сайта и сопоставления его с каналом см. в разделе [Сопоставление канала с сайтом в конструкторе сайтов](#map-a-channel-to-a-site-in-site-builder) этой статьи.

### <a name="multi-language-channel-that-has-a-single-localized-site-experience"></a>Канал, работающий с несколькими языками, обслуживающий один локализованный сайт электронной коммерции

В данном сценарии один канал поддерживает более одного языка. Таким образом, названия, описания и атрибуты продуктов могут быть локализованы в Commerce headquarters. Для того, чтобы предоставить полностью локализованный сайт, содержимое, относящееся к маркетингу, также можно локализовать в конструкторе коммерческих сайтов.

Ограничением в данном сценарии является то, что один канал можно настроить лишь с одной валютой, для одного юридического лица и одного набора товаров и цен. Такой вариант настройки лучше всего применим в странах, где в ходу одна валюта и несколько языков (например, в Канаде, где используются английский и французский языки), работает одно юридическое лицо и необходим лишь один набор товаров и цен.

Для каждого языка канала можно настроить отдельное доменное имя. Например, домен `www.adventure-works.ca` можно настроить для версии на канадском английском языке, а домен `www.adventure-works-fr.ca` можно настроить на обслуживание канадской французской версии сайта. В качестве альтернативы, можно разные языки канала настроить на использование одного домена, и тогда для каждого из языков будет использоваться отдельный путь. Например, домен `www.adventure-works.ca` можно настроить для версии на канадском английском языке, а затем путь `www.adventure-works.ca/fr` можно использовать для обслуживания канадской французской версии сайта. Можно также включить [Определение географического расположения](geo-detection-redirection.md) для автоматического перенаправления пользователя на правильный сайт, исходя из расположения пользователя.

Сведения о том, как разрешить пользователям вручную переключаться между языками см. в разделе [Добавление и настройка модуля выбора сайта](#add-and-configure-the-site-picker-module) этой статьи. Сведения о порядке настройки локализованных страниц и фрагментов см. в разделе [Управление содержимым сайта, на котором используются разные каналы и языки](#manage-site-content-that-has-multiple-channels-and-languages).

### <a name="multi-language-channel-that-has-a-different-site-experience-per-language"></a>Канал, работающий с несколькими языками, предлагающий различное оформление сайта для каждого из языков.

Вы можете отдать предпочтения сценарию, в котором один канал поддерживает более одного языка и предлагает совершенно отличные версии сайта для каждого из языков. Мы рекомендует использовать [варианты страниц](#implement-page-variants-for-each-language) на одном сайте для реализации такого сценария.

Другой способ — создать новый сайт электронной коммерции для каждого языка в конструкторе сайтов, а затем сопоставить каждый сайт с одним интернет-каналом и одним языком. В результате вы получите один интернет-канал, сопоставленный с несколькими сайтами электронной коммерции, по одному на каждый из языков. Этот метод с несколькими сайтами потребует больше усилий по управлению, поскольку в конструкторе сайтов придется управлять более чем одним сайтом.

### <a name="multiple-channels-single-language-andor-multi-language-that-have-a-single-localized-site-experience"></a>Несколько каналов (одноязычных и/или многоязычных), предлагающих одно локализованное оформление сайта

Для сайта с фирменным оформлением может потребоваться несколько интернет-каналов в разных регионах, чтобы предлагать различные валюты, наборы товаров и цен для каждого из каналов на одном сайте. Например, сайт Adventure Works может использовать интернет-канал для рынка Канады, использующий несколько языков, канал для рынка Северной Америки в одним языком и канал для рынка Германии, использующий один язык. В данном сценарии каждый из интернет-каналов будет настроен на юридическое лицо для конкретного региона, и может иметь такой же набор товаров, что и другие каналы, некоторые из этих товаров или собственный набор товаров. Каждый канал будет также предлагать собственные цены в валюте своего региона, использовать отдельные налоги, скидки и способы доставки.

В этом сценарии для каждого рынка можно настроить отдельное доменное имя. Например, домен `www.adventure-works.com` можно настроить для рынка Северной Америки, а домен `www.adventure-works.de` можно настроить на обслуживание немецкого рынка. Альтернативой этому может стать настройка отдельного пути для каждого из рынков. Например, домен `www.adventure-works.com` можно настроить для рынка Северной Америки, а затем путь `www.adventure-works.com/de` можно использовать для немецкого рынка. Можно также включить [Определение географического расположения](geo-detection-redirection.md) для автоматического перенаправления пользователей на правильный сайт, исходя из региона пользователя.

Возможно также реализовать на сайте раскрывающийся список, который позволит пользователям вручную переключаться на определенный рынок. Дополнительные сведения см. в разделе [Добавление и настройка модуля выбора сайта](#add-and-configure-the-site-picker-module) этой статьи.

Информацию о том, как настроить несколько каналов на одном сайте см. в разделе [Настройка нескольких каналов на сайте электронной коммерции](#configure-multiple-channels-on-an-e-commerce-site).

### <a name="multiple-channels-single-language-andor-multi-language-that-have-a-different-site-experience-per-channel"></a>Несколько каналов (одноязычных и/или многоязычных), предлагающих различное оформление сайта для каждого из языков

Вам может понадобиться использовать несколько каналов для одной торговой марки в разных регионах, и при этом отображать различное оформление сайта в каждом из регионов. Существует два метода реализации такого сценария.

- Используйте [варианты страниц](#implement-page-variants-for-each-language).
- Настройте отдельный сайт для каждого интернет-канала в конструкторе сайтов, а затем сопоставьте каждый сайт отдельному интернет-каналу и языку. Этот метод потребует больше усилий по управлению, поскольку в конструкторе сайтов придется управлять более чем одним сайтом.

## <a name="cross-channel-sharing"></a>Межканальное совместное использование

Использование межканального общего доступа полезно, когда несколько каналов на одном сайте могут делиться содержимым. Например, розничный продавец, имеющий несколько торговых марок и магазинов, сгруппированных на одной сайте, может совместно использовать некоторое содержимое в некоторых или всех витринах. Общее содержимое может содержать страницы с условиями обслуживания, условиями оплаты, методами доставки и часто задаваемыми вопросами. Дополнительные сведения см. в разделе [Включение и использование общего доступа к каналу](cross-channel-sharing.md).

## <a name="map-a-channel-to-a-site-in-site-builder"></a>Сопоставление канала с сайтом в конструкторе сайтов

Существует несколько различных способов создания и настройки сайтов для использования различных интернет-каналов.

### <a name="create-a-new-site"></a>Создание нового сайта

Вы можете создать совершенно новый сайт в конструкторе сайтов, выбрав **Новый сайт** на странице со списком **Сайты**. Затем в появившемся диалоговом окне **Новый сайт** вы можете выбрать интернет канал и язык по умолчанию для сайта, как показано на иллюстрации с примером ниже.

![Создание нового канала в конструкторе сайтов.](media/channel-mapping-4.png)

Созданный вами таким образом сайт будет пуст, на нем не будет никаких страниц сайта (например, главной страницы, страниц с категориями и страниц с товарами).

Дополнительные сведения см. в разделе [Создание сайта электронной коммерции](create-ecommerce-site.md).

### <a name="create-a-new-site-by-using-the-site-copy-operation"></a>Создание нового сайта помощью операции копирования сайта

Вместо того, чтобы создавать новый пустой сайт, как описано в предыдущем разделе, лучше будет начать с копии одного из начальных сайтов, который поставляются в библиотеке модуля Commerce, например, сайта Fabrikam или Adventure Works.

Для того, чтобы скопировать существующий сайт, откройте страницу со списком **Сайты** и выбурите **Скопировать сайт**. Затем, в появившемся диалоговом окне **Скопировать сайт** вы можете выбрать сайт-источник и указать имя сайта назначения.

На этом этапе вы не можете пока указать язык интернет-канала по умолчанию для данного сайта. Однако вы сможете настроить эти свойства после того, как операция копирования сайта будет завершена. Когда вы впервые выбираете сайт на странице со списком **Сайты** в конструкторе сайтов, появляется диалоговое окно **Настройте ваш сайт**, где вы можете выбрать канал и язык по умолчанию.

Дополнительные сведения об операции копирования сайта см. в разделе [Копирование сайта электронной коммерции](copy-ecommerce-site.md).

### <a name="manage-an-existing-site-channel"></a>Управление существующим каналом сайта

После того, как сайт был настроен с каким-либо каналом, вы можете управлять этим каналом и изменять его в рамках выбранного сайта в конструкторе сайтов в разделе **Параметры сайта \> Каналы**, как показано на иллюстрации ниже.

![Управление сопоставлением каналов в конструкторе сайтов.](media/channel-mapping-7.png)

## <a name="support-multiple-sites-in-a-single-tenant"></a>Поддержка нескольких сайтов в одном клиенте

Множество фирменных сайтов могут совместно существовать в одном клиенте. На иллюстрации с примером ниже показано три различных фирменных сайта (Adventure Works, Adventure Works Business и Fabrikam), каждый из которых сопоставлен с отдельным интернет-каналом.

![Список сайтов в конструкторе сайтов.](media/channel-mapping-8.png)

## <a name="configure-a-single-domain-name-with-paths-for-multiple-sites"></a>Настройка одного доменного имени с путями для нескольких сайтов

Одно доменное имя может использоваться для нескольких сайтов, и тогда пути могут использоваться для разделения сайтов или языков. Например, домен `www.mycompany.com` настроен для двух различных сайтов электронной коммерции: одного для Fabrikam, а второго — для Adventure Works. В этом случае путь по умолчанию ( `www.mycompany.com`), также называемый пустым путем, может использоваться для сайта Fabrikam, а другой путь (например, `www.mycompany.com/adventureworks`) можно использовать для сайта Adventure Works. Другим вариантом будет использование пользовательского пути (например, `www.mycompany.com/fabrikam`) вместо пути по умолчанию также и для сайта Fabrikam.

В качестве альтернативы можно использовать отдельное доменное имя для каждого из сайтов (например, `www.adventure-works.com` и `www.fabrikam.com`). Тогда пути можно использовать для разных языков или регионов (например, `www.adventure-works.com/fr-ca` для канадского французского).

## <a name="configure-multiple-languages-on-a-site"></a>Настройка нескольких языков на сайте.

Языки для сайта электронной коммерции можно настроить в конструкторе сайтов в разделе **Параметры сайта \> Каналы**. В примере на следующем рисунке каждый из языков настроен с использованием языкового стандарта для пути, и, таким образом, для каждого языка используется уникальный URL-адрес.

![Несколько языков настроено на сайте.](media/channel-mapping-10.png)

Чтобы добавить новый язык канала, перейдите в раздел **Параметры сайта \> Каналы** и выберите ссылку канала. В появившейся справа области выберите **Добавить языковой стандарт**, чтобы выбрать канал и языковой стандарт, который необходимо добавить. Затем укажите путь, который должен использоваться для выбранного канала.

### <a name="add-and-configure-the-site-picker-module"></a>Добавление и настройка модуля выбора сайта

После настройки сайта с несколькими языками и/или каналами, есть возможность добавить средство выбора языка в заголовок страницы сайта, чтобы пользователи могли вручную выбирать язык или страну. Модульная библиотека [библиотека заголовка](author-header-module.md) была создана для помощи пользователям, добавляя возможность выбора языка с использованием [модуля выбора сайта](site-selector.md). Модуль выбора сайта может быть добавлен в модуль заголовка во фрагменте заголовка.

Дополнительные сведения о добавлении и настройке модуля выбора сайта см. в разделе [Модуль выбора сайта](site-selector.md) этой темы.

### <a name="implement-page-variants-for-each-language"></a>Создание вариантов страниц для каждого языка

В этом сценарии существует только один сайт, но присутствует несколько языков. Вы можете изменить внешний вид страницы в зависимости от выбранного языка, создав вариант страницы для этого языка. Затем вы можете добавить локализованное содержимое для этого языка.

Если страница открыта в конструкторе сайтов, и вы выбираете ссылку в правом верхнем углу, отображающую текущий канал и язык, появляется средство выбора канала и языка, как показано на следующей иллюстрации с примером. Если вам нужно изменить страницу для текущего языка, выберите другой языковой стандарт, а затем выберите **Изменить**. Вы также можете изменить канал, если вы [управляете сайтом с несколькими каналами и языками](#manage-site-content-that has-multiple-channels-and-languages).

![Изменение языка страницы в конструкторе сайтов.](media/channel-mapping-14.png)

Если вариант выбранной страницы или фрагмента еще не был создан, вы получите сообщение с предупреждением, как показано но иллюстрации с примером ниже. В этом случае выберите ссылку **Создать вариант страницы** в тексте сообщения. Появится диалоговое окно, где будут предоставлены пункты для создания варианта из копии существующего варианта или создания полностью новой страницы на основе шаблона.

![Запрос на создание нового варианта страницы в конструкторе сайтов](media/channel-mapping-16.png)

Если вы не создадите вариант, отобразится начальный вариант и будет показан соответствующий язык для строк модуля и информации о продукте из Commerce headquarters. Однако если в модулях страницы по умолчанию был непосредственно указан какой-либо текст, например заголовок страницы или иное маркетинговое содержимое, строки, отвечающие за отображение такого текста останутся на языке оригинала.

Вместо того, чтобы вручную создавать каждую страницу и каждый фрагмент, вы можете экспортировать каждую страницу и фрагмент в файл в формате XLIFF (XML-файл для локализации) который сможете передать для локализации. После локализации каждого из XLIFF-файлов можно импортировать его в качестве локализованного варианта страницы. Для того, чтобы экспортировать файл XLIFF со страницы или фрагмента в конструкторе сайтов, или для импорта XLIFF-файла на страницу или во фрагмент, выберите **Локализация** на панели команд. Затем выберите **Экспорт XLIFF** или **Импорт XLIFF** как показано на иллюстрации с примером ниже.

![Импорт или экспорт страницы иди фрагмента в формате XLIFF.](media/channel-mapping-18.png)

## <a name="manage-site-content-that-has-multiple-channels-and-languages"></a>Управление содержимым сайта, содержащего несколько каналов и языков

Сайт, на котором используется несколько каналов и/или языков, хранит отдельный вариант для каждой страницы и каждого фрагмента для каждой из комбинаций канала и языка. Такое поведение позволяет размещать на вариантах страниц локализованные данные, и при этом предоставляет гибкость при изменениях внешнего вида страниц для отдельных вариантов.

Сведения о работе с вариантами страниц см. в разделе [Создание вариантов страниц для каждого языка](#implement-page-variants-for-each-language) этой статьи.

## <a name="configure-multiple-channels-on-an-e-commerce-site"></a>Настройка нескольких каналов на сайте электронной коммерции

Вы можете добавлять каналы на сайт электронной коммерции в конструкторе сайтов в разделе **Параметры сайта \> Каналы**, выбрав **Добавить канал**. Далее в появившемся диалоговом окне **Добавление канала** вы можете выбрать интернет-канал и языковой стандарт по умолчанию.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор каналов](channels-overview.md)

[Настройка канала онлайн-торговли](channel-setup-online.md)

[Обзор организаций и организационных иерархий](../fin-ops-core/fin-ops/organization-administration/organizations-organizational-hierarchies.md)

[Настройка географического определения и перенаправления](geo-detection-redirection.md)

[Включение и использование межканального совместного использования](cross-channel-sharing.md)

[Создание сайта электронной коммерции](create-ecommerce-site.md)

[Копирование сайта электронной коммерции](copy-ecommerce-site.md)

[Модуль выбора сайта](site-selector.md)
