---
title: Управление ассортиментом
description: В этом разделе описываются основные понятия управления ассортиментом в Dynamics 365 Commerce и обсуждаются вопросы реализации для вашего проекта.
author: jblucher
manager: AnnBe
ms.date: 03/12/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application user
ms.reviewer: josaw
ms.search.scope: Retail, Operations
ms.search.region: Global
ms.author: jeffbl
ms.search.validFrom: 2017-11-21
ms.dyn365.ops.version: Application update 5
ms.openlocfilehash: e1b177989065740eef0bd917a7ce1e0a2c79088b
ms.sourcegitcommit: 81a647904dd305c4be2e4b683689f128548a872d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "3023757"
---
# <a name="assortment-management"></a><span data-ttu-id="6eb52-103">Управление ассортиментом</span><span class="sxs-lookup"><span data-stu-id="6eb52-103">Assortment management</span></span>

[!include [banner](../includes/banner.md)]

## <a name="overview"></a><span data-ttu-id="6eb52-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="6eb52-104">Overview</span></span>

<span data-ttu-id="6eb52-105">Dynamics 365 Commerce предоставляет *ассортименты*, которые позволяют управлять доступность продукта в разных каналах.</span><span class="sxs-lookup"><span data-stu-id="6eb52-105">Dynamics 365 Commerce provides *assortments* that let you manage product availability across channels.</span></span> <span data-ttu-id="6eb52-106">Ассортименты определяют, какие продукты доступны в конкретных магазинах и в течение определенного периода.</span><span class="sxs-lookup"><span data-stu-id="6eb52-106">Assortments determine which products are available at specific stores and during a specific period.</span></span>

<span data-ttu-id="6eb52-107">В Commerce ассортимент является сопоставлением одного или нескольких каналов (или групп каналов, когда используются иерархии организаций) с одним или несколькими продуктами (или группами продуктов, когда используются иерархии категорий).</span><span class="sxs-lookup"><span data-stu-id="6eb52-107">In Commerce, an assortment is a mapping of one or more channels (or groups of channels, when organization hierarchies are used) to one or more products (or groups of products, when category hierarchies are used).</span></span>

<span data-ttu-id="6eb52-108">Общая номенклатура продуктов канала определяется опубликованными ассортиментами, назначенными для канала.</span><span class="sxs-lookup"><span data-stu-id="6eb52-108">The overall product mix of a channel is determined by the published assortments that are assigned to the channel.</span></span> <span data-ttu-id="6eb52-109">Таким образом можно настроить несколько активных ассортиментов в каждом канале.</span><span class="sxs-lookup"><span data-stu-id="6eb52-109">Therefore, you can configure multiple active assortments per channel.</span></span>

### <a name="basic-assortment-setup"></a><span data-ttu-id="6eb52-110">Базовая настройка ассортимента</span><span class="sxs-lookup"><span data-stu-id="6eb52-110">Basic assortment setup</span></span>

<span data-ttu-id="6eb52-111">В следующем примере уникальный ассортимент настраивается для каждого магазина.</span><span class="sxs-lookup"><span data-stu-id="6eb52-111">In the following example, a unique assortment is configured for each store.</span></span> <span data-ttu-id="6eb52-112">В этом случае только продукт 1 доступен в магазине 1, и только продукт 2 доступен в магазине 2.</span><span class="sxs-lookup"><span data-stu-id="6eb52-112">In this case, only product 1 is available at store 1, and only product 2 is available at store 2.</span></span>

![Каждый продукт доступен в одном магазине](./media/Managing-assortments-figure1.png)

<span data-ttu-id="6eb52-114">Чтобы сделать продукт 2 доступным в магазине 1, можно добавить продукт в ассортимент 1.</span><span class="sxs-lookup"><span data-stu-id="6eb52-114">To make product 2 available at store 1, you can add the product to assortment 1.</span></span>

![Продукт 2 добавлен в ассортимент 1](./media/Managing-assortments-figure2.png)

<span data-ttu-id="6eb52-116">Можно также добавить магазин 1 в ассортимент 2.</span><span class="sxs-lookup"><span data-stu-id="6eb52-116">Alternatively, you can add store 1 to assortment 2.</span></span>

![Магазин 1 добавлен в ассортимент 2](./media/Managing-assortments-figure3.png)

### <a name="organization-hierarchies"></a><span data-ttu-id="6eb52-118">Организационные иерархии</span><span class="sxs-lookup"><span data-stu-id="6eb52-118">Organization hierarchies</span></span>

<span data-ttu-id="6eb52-119">В ситуациях, когда несколько каналов используют одинаковые ассортименты продуктов, можно настраивать ассортименты с использованием организационной иерархии розничного ассортимента Commerce.</span><span class="sxs-lookup"><span data-stu-id="6eb52-119">In situations where multiple channels share the same product assortments, you can configure the assortments by using the Commerce assortment organization hierarchy.</span></span> <span data-ttu-id="6eb52-120">При добавлении узлов из этой иерархии, будут включены все каналы в этом узле и его дочерних узлах.</span><span class="sxs-lookup"><span data-stu-id="6eb52-120">When nodes from this hierarchy are added, all channels in that node and its child nodes will be included.</span></span>

![Организационная иерархия](./media/Managing-assortments-figure4.png)

### <a name="product-categories"></a><span data-ttu-id="6eb52-122">Категории продуктов</span><span class="sxs-lookup"><span data-stu-id="6eb52-122">Product categories</span></span>

<span data-ttu-id="6eb52-123">Аналогично, со стороны продукта можно включить группы продуктов с помощью иерархий категорий продуктов.</span><span class="sxs-lookup"><span data-stu-id="6eb52-123">Similarly, on the product side, you can include groups of products by using product category hierarchies.</span></span> <span data-ttu-id="6eb52-124">Можно настроить ассортименты, включая один или несколько узлов иерархии категорий.</span><span class="sxs-lookup"><span data-stu-id="6eb52-124">You can configure assortments by including one or more category hierarchy nodes.</span></span> <span data-ttu-id="6eb52-125">В этом случае ассортимент будет включать все продукты в этом узле категорий и его дочерних узлах.</span><span class="sxs-lookup"><span data-stu-id="6eb52-125">In this case, the assortment will include all products in that category node and its child nodes.</span></span>

![Категории продуктов](./media/Managing-assortments-figure5.png)

### <a name="excluded-products-or-categories"></a><span data-ttu-id="6eb52-127">Исключенные продукты или категории</span><span class="sxs-lookup"><span data-stu-id="6eb52-127">Excluded products or categories</span></span>

<span data-ttu-id="6eb52-128">Помимо включения продуктов и категорий в ассортименты, можно использовать параметр "Исключить" для определения конкретных продуктов или категорий, которые должны быть исключены из ассортиментов.</span><span class="sxs-lookup"><span data-stu-id="6eb52-128">In addition to including products and categories in assortments, you can use the Exclude option to define specific products or categories that should be excluded from assortments.</span></span> <span data-ttu-id="6eb52-129">В следующем примере необходимо включить все продукты из конкретной категории, за исключением продукта 2.</span><span class="sxs-lookup"><span data-stu-id="6eb52-129">In the following example, you want to include all the products in a specific category, except product 2.</span></span> <span data-ttu-id="6eb52-130">В этом случае не нужно определить ассортимент, перечисляя все продукты, или создавать дополнительные узлы категорий.</span><span class="sxs-lookup"><span data-stu-id="6eb52-130">In this case, you don't have to define the assortment product by product or create additional category nodes.</span></span> <span data-ttu-id="6eb52-131">Вместо этого можно просто включить категорию, но исключить продукт.</span><span class="sxs-lookup"><span data-stu-id="6eb52-131">Instead, you can just include the category but exclude the product.</span></span>

> [!NOTE]
> <span data-ttu-id="6eb52-132">Если продукт является как включенным, так и исключенным в одном или нескольких ассортиментов по определению, продукт будет всегда считаться исключенным.</span><span class="sxs-lookup"><span data-stu-id="6eb52-132">If a product is both included and excluded in one or more assortments by definition, the product will always be considered excluded.</span></span>

![Исключенный продукт](./media/Managing-assortments-figure6.png)

### <a name="global-and-released-products"></a><span data-ttu-id="6eb52-134">Глобальные и запущенные в производство продукты</span><span class="sxs-lookup"><span data-stu-id="6eb52-134">Global and released products</span></span>

<span data-ttu-id="6eb52-135">Ассортименты определяются на глобальном уровне и могут содержать каналы от нескольких юридических лиц.</span><span class="sxs-lookup"><span data-stu-id="6eb52-135">Assortments are defined at a global level and can contain channels from multiple legal entities.</span></span> <span data-ttu-id="6eb52-136">Продукты и категории, которые включены в ассортименты, также являются общими для юридических лиц.</span><span class="sxs-lookup"><span data-stu-id="6eb52-136">The products and categories that are included in assortments are also shared across legal entities.</span></span> <span data-ttu-id="6eb52-137">Однако продукт должно быть выпущен, прежде чем его можно будет продавать, заказывать, инвентаризировать или получать в канале (например, в POS-терминале \[POS\]).</span><span class="sxs-lookup"><span data-stu-id="6eb52-137">However, a product must be released before it can actually be sold, ordered, counted, or received in the channel (for example, in the point of sale \[POS\]).</span></span> <span data-ttu-id="6eb52-138">Таким образом, хотя два магазина в различных юридических лицах могут совместно использовать ассортимент, который содержит одинаковые продукты, продукты доступны только в том случае, если они были выпущены для этих юридических лиц.</span><span class="sxs-lookup"><span data-stu-id="6eb52-138">Therefore, although two stores in different legal entities can share an assortment that contains the same products, the products are available only if they have been released to those legal entities.</span></span>

### <a name="dynamic-and-static-assortments"></a><span data-ttu-id="6eb52-139">Динамические и статические ассортименты</span><span class="sxs-lookup"><span data-stu-id="6eb52-139">Dynamic and static assortments</span></span>

<span data-ttu-id="6eb52-140">Ассортименты можно определять с конкретными каналами и продуктами или путем включения организационных подразделений и категорий.</span><span class="sxs-lookup"><span data-stu-id="6eb52-140">Assortments can be defined with specific channels and products or by including organization units and categories.</span></span> <span data-ttu-id="6eb52-141">Ассортименты, включающие ссылки на эти группы, рассматриваются как динамические ассортименты.</span><span class="sxs-lookup"><span data-stu-id="6eb52-141">Assortments including references to these groups are considered dynamic assortments.</span></span> <span data-ttu-id="6eb52-142">Если определение или содержимое этих групп изменяется, когда ассортимент является активным, определение ассортимента также изменяется.</span><span class="sxs-lookup"><span data-stu-id="6eb52-142">If the definition or contents of those groups change while the assortment is active, the definition of the assortment will also change.</span></span>

<span data-ttu-id="6eb52-143">Например, ассортимент изначально определен и опубликован таким образом, что он ссылается на категорию продуктов.</span><span class="sxs-lookup"><span data-stu-id="6eb52-143">For example, an assortment is originally defined and published so that it references a category of products.</span></span> <span data-ttu-id="6eb52-144">Если позднее дополнительные продукты добавляются в эту категорию, эти продукты автоматически включаются в определение существующего ассортимента.</span><span class="sxs-lookup"><span data-stu-id="6eb52-144">If additional products are later added to the category, those products are automatically included in the definition of the existing assortment.</span></span> <span data-ttu-id="6eb52-145">Не требуется вручную добавлять новые продукты в ассортимент.</span><span class="sxs-lookup"><span data-stu-id="6eb52-145">You don't have to manually add the products to the assortment.</span></span> <span data-ttu-id="6eb52-146">Аналогичным образом, если организационное подразделение добавлено в другой узел, ассортимент этого организационного подразделения автоматически корректируется на основе этого определения.</span><span class="sxs-lookup"><span data-stu-id="6eb52-146">Similarly, if an organization unit is added to a different node, the organization unit's assortment is automatically adjusted based on that definition.</span></span>

### <a name="stopped-products"></a><span data-ttu-id="6eb52-147">Остановленные продукты</span><span class="sxs-lookup"><span data-stu-id="6eb52-147">Stopped products</span></span>

<span data-ttu-id="6eb52-148">Можно "остановить" выпущенные продукты для процесса продаж, включив параметр в настройках **Заказ по умолчанию**.</span><span class="sxs-lookup"><span data-stu-id="6eb52-148">You can "stop" released products for the sales process by turning on a setting in the **Default order** settings.</span></span> <span data-ttu-id="6eb52-149">Этот параметр чаще всего используется, когда продукт находится в конце его жизненного цикла и не должен продаваться ни в одном из каналов.</span><span class="sxs-lookup"><span data-stu-id="6eb52-149">This setting is most often used when a product is at the end of its life and should not be sold at any channel.</span></span> <span data-ttu-id="6eb52-150">Ассортименты учитывают этот параметр, и остановленные продукты не будут включаться в ассортимент, вне зависимости от конфигурации ассортимента.</span><span class="sxs-lookup"><span data-stu-id="6eb52-150">Assortments respect this setting, and stopped products won't be assorted, regardless of the assortment configuration.</span></span>

### <a name="blocked-products"></a><span data-ttu-id="6eb52-151">Заблокированные продукты</span><span class="sxs-lookup"><span data-stu-id="6eb52-151">Blocked products</span></span>

<span data-ttu-id="6eb52-152">Помимо остановки продаж продукта, можно временно заблокировать продажи продукта.</span><span class="sxs-lookup"><span data-stu-id="6eb52-152">In addition to stopping sales of a product, you can temporarily block sales of a product.</span></span> <span data-ttu-id="6eb52-153">Этот параметр можно настроить на вкладке **Commerce** выпущенного продукта.</span><span class="sxs-lookup"><span data-stu-id="6eb52-153">You can configure this setting on the **Commerce** tab of a released product.</span></span> <span data-ttu-id="6eb52-154">Заблокированные продукты по-прежнему включаются в ассортимент, но вы получите сообщение в POS-терминале о том, что продукт не может быть продан.</span><span class="sxs-lookup"><span data-stu-id="6eb52-154">Blocked products are still assorted, but you will receive a message in the POS that states that the product can't be sold.</span></span>

### <a name="date-effectivity"></a><span data-ttu-id="6eb52-155">Даты вступления в силу</span><span class="sxs-lookup"><span data-stu-id="6eb52-155">Date effectivity</span></span>

<span data-ttu-id="6eb52-156">Ассортименты имеют дату вступления в силу.</span><span class="sxs-lookup"><span data-stu-id="6eb52-156">Assortments are date-effective.</span></span> <span data-ttu-id="6eb52-157">Поэтому предприятия розничной торговли могут настроить, когда продукты должны или не должны быть доступны в канале.</span><span class="sxs-lookup"><span data-stu-id="6eb52-157">Therefore, retailers can configure when products should or should not be available per channel.</span></span> <span data-ttu-id="6eb52-158">Можно определить и опубликовать ассортименты заранее и указать даты начала и окончания срока действия.</span><span class="sxs-lookup"><span data-stu-id="6eb52-158">You can define and publish assortments ahead of time, and specify the start and end dates.</span></span> <span data-ttu-id="6eb52-159">Продукты автоматически станут доступны или недоступны в указанные даты.</span><span class="sxs-lookup"><span data-stu-id="6eb52-159">The products will automatically become available or unavailable on the specified dates.</span></span>

### <a name="process-assortments-batch-job"></a><span data-ttu-id="6eb52-160">Обработка пакетного задания ассортиментов</span><span class="sxs-lookup"><span data-stu-id="6eb52-160">Process assortments batch job</span></span>

<span data-ttu-id="6eb52-161">Ассортименты, которые определены в Commerce, должны быть обработаны, прежде чем они вступят в силу.</span><span class="sxs-lookup"><span data-stu-id="6eb52-161">Assortments that are defined in Commerce must be processed before they take effect.</span></span> <span data-ttu-id="6eb52-162">Эта обработка выполняется по следующим причинам:</span><span class="sxs-lookup"><span data-stu-id="6eb52-162">This processing is done for the following reasons:</span></span>

- <span data-ttu-id="6eb52-163">Необходимо удалить нормализацию определений ассортимента, чтобы каналам было легче их использовать.</span><span class="sxs-lookup"><span data-stu-id="6eb52-163">Assortment definitions must be de-normalized so that channels can more easily consume them.</span></span> <span data-ttu-id="6eb52-164">Номенклатура продуктов для канала может быть определена через несколько ассортиментов, которые охватывают различные диапазоны дат.</span><span class="sxs-lookup"><span data-stu-id="6eb52-164">A product mix for a channel can be defined through multiple assortments that span various date ranges.</span></span> <span data-ttu-id="6eb52-165">Когда часть этой информации рассчитывается заранее на сервере, повышается производительность в канале.</span><span class="sxs-lookup"><span data-stu-id="6eb52-165">When some of this information is calculated ahead of time on the server, performance at the channel is improved.</span></span>
- <span data-ttu-id="6eb52-166">Продукты и каналы в ассортименте могут изменяться за пределами самого ассортимента.</span><span class="sxs-lookup"><span data-stu-id="6eb52-166">The products and channels in the assortment can change outside the assortment itself.</span></span> <span data-ttu-id="6eb52-167">Динамические ассортименты, которые содержат ссылки на категории или подразделения, должны периодически обрабатываться для включения или исключения записей на основе их текущего назначения.</span><span class="sxs-lookup"><span data-stu-id="6eb52-167">Dynamic assortments that contain references to categories or organization units must be processed periodically so that they include or exclude records, based on their current assignment.</span></span>

## <a name="implementation-considerations"></a><span data-ttu-id="6eb52-168">Вопросы реализации</span><span class="sxs-lookup"><span data-stu-id="6eb52-168">Implementation considerations</span></span>

<span data-ttu-id="6eb52-169">Учитывайте следующие требования к реализации при планировании ассортиментов и управлении ими для вашей реализации Commerce:</span><span class="sxs-lookup"><span data-stu-id="6eb52-169">Consider the following implementation requirements as you plan and manage assortments for your Commerce implementation:</span></span>

- <span data-ttu-id="6eb52-170">**Репликация данных и размер базы данных** — хотя ассортименты помогают удовлетворять потребности бизнеса для управления доступностью продуктов, они также являются важным средством для управления размером канала и автономных баз данных.</span><span class="sxs-lookup"><span data-stu-id="6eb52-170">**Data replication and database size** – Although assortments help serve the business need to manage product availability, they are also an important tool for managing the size of channel and offline databases.</span></span> <span data-ttu-id="6eb52-171">Хорошо управляемые ассортименты помогают снизить объем данных, которые должны обрабатываться и реплицироваться в канал и автономные базы данных.</span><span class="sxs-lookup"><span data-stu-id="6eb52-171">Well-managed assortments help reduce the amount of data that must be processed and replicated to channel and offline databases.</span></span> <span data-ttu-id="6eb52-172">Они также помогают уменьшить количество записей, которые должны постоянно храниться.</span><span class="sxs-lookup"><span data-stu-id="6eb52-172">They also help reduce the number of records that must be persisted.</span></span> <span data-ttu-id="6eb52-173">Меньше количество записей в этих базах данных увеличит производительность при добавлении номенклатур в проводку, поиске и обзоре продуктов.</span><span class="sxs-lookup"><span data-stu-id="6eb52-173">Fewer records in these databases will increase performance when you add items to a transaction, search, and browse for products.</span></span>
- <span data-ttu-id="6eb52-174">**Ассортименты с датами начала и окончания срока действия** — одно из наиболее эффективных средств для управления количеством продуктов в канале и автономных базах данных — это даты срока действия ассортиментов.</span><span class="sxs-lookup"><span data-stu-id="6eb52-174">**Date-effective/expiring assortments** – One of the most effective tools for managing the number of products in channel and offline databases is the date effectivity of assortments.</span></span> <span data-ttu-id="6eb52-175">Если оставить ассортименты с открытой датой завершения (без ограничения срока действия) на сезонные продукты или продукты, срок жизни которых заканчивается, эти базы данных будет неограниченно увеличиваться.</span><span class="sxs-lookup"><span data-stu-id="6eb52-175">If you leave open-ended (non-expiring) assortments for seasonal products or products that are at the end of their life, these databases will grow indefinitely.</span></span> <span data-ttu-id="6eb52-176">Для управления этой ситуацией можно использовать различные подходы.</span><span class="sxs-lookup"><span data-stu-id="6eb52-176">You can use various approaches to help manage this situation.</span></span> <span data-ttu-id="6eb52-177">Например, можно поддерживать отдельные ассортименты для сезонных продуктов и продуктов, которые должны быть всегда доступны.</span><span class="sxs-lookup"><span data-stu-id="6eb52-177">For example, you can maintain separate assortments for seasonal products and products that are always available.</span></span>
- <span data-ttu-id="6eb52-178">**Продажи и возвраты вне ассортиментов** — эта возможность помогает предприятиям розничной торговли эффективно управлять своим ассортиментом, позволяя ограничивать число доступных продуктов теми продуктами, которые входят в базовую номенклатуру продуктов для магазина.</span><span class="sxs-lookup"><span data-stu-id="6eb52-178">**Sales and returns outside assortments** – This capability helps retailers effectively manage their assortments by letting them limit the number of available products to products that belong to the core product mix for the store.</span></span> <span data-ttu-id="6eb52-179">Эта возможность позволяет также предприятиям розничной торговли обрабатывать ситуации, когда продукт по ошибке не был включен в ассортимент, или при возврате продукта за пределами сроков действия ассортимента.</span><span class="sxs-lookup"><span data-stu-id="6eb52-179">This capability also helps retailers handle situations where a product was mistakenly omitted from an assortment, or where a product was returned outside the effective dates for the assortment.</span></span>

<span data-ttu-id="6eb52-180">Если данные о продукте отсутствуют в базе данных канала, POS-терминал вызывает в режиме реального времени центральный офис для получения требуемых сведений, чтобы продукт можно было продать, вернуть или включить в заказ клиента.</span><span class="sxs-lookup"><span data-stu-id="6eb52-180">If product data doesn't exist in the channel database, the POS makes real-time calls to headquarters to retrieve the required information, so that the product can be sold, returned, or put on a customer order.</span></span> <span data-ttu-id="6eb52-181">Сведения о продукте, полученные таким образом, доступны только в рамках этой транзакции.</span><span class="sxs-lookup"><span data-stu-id="6eb52-181">Product information that is retrieved in this manner is available only during the scope of that transaction.</span></span> <span data-ttu-id="6eb52-182">Продукт не добавляется в определение ассортимента.</span><span class="sxs-lookup"><span data-stu-id="6eb52-182">The product isn't added to the assortment definition.</span></span> <span data-ttu-id="6eb52-183">Таким образом, последующие вызовы в режиме реального времени будут выполняться по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="6eb52-183">Therefore, subsequent real-time calls will be made as required.</span></span>
