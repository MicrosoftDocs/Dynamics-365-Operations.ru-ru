---
title: Параметры ценообразования
description: В этой статье описываются различные настройки ценообразования и управления скидками в Microsoft Dynamics 365 Commerce Headquarters.
author: boycez
ms.date: 09/06/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: boycez
ms.search.validFrom: 2022-08-11
ms.openlocfilehash: 4bc8cb16e7960d26adbb9590b4ad83cf46b02838
ms.sourcegitcommit: 6fd44fc6e9a7bad197cab58c36ec25a555724cf1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/07/2022
ms.locfileid: "9410771"
---
# <a name="pricing-settings"></a>Параметры ценообразования

[!include [banner](../includes/banner.md)]
[!include [banner](../includes/preview-banner.md)]

В этой статье описываются различные настройки ценообразования и управления скидками в Microsoft Dynamics 365 Commerce Headquarters. Эти настройки позволяют организациям определять поведение ценообразования в своем решении Commerce в соответствии с конкретными потребностями бизнеса.

## <a name="company-level-pricing-settings"></a>Параметры ценообразования на уровне компании

Большинство параметров ценообразования относятся к уровню компании и могут быть найдены в разделе **Параметры Commerce \> Цены и скидки** в Commerce headquarters.

### <a name="best-price-and-compound-concurrency-control-model"></a>Модель сочетания лучшей цены и суммирующихся скидок

Параметр **Модель сочетания лучшей цены и суммирующихся скидок** определяет, как подсистема ценообразования обрабатывает несколько скидок в режиме **наилучшей цены** или в режиме **суммирующихся скидок**. 

Если для этого параметра установлено значение **Лучшая цена и суммирующаяся скидка в рамках приоритета, никогда не суммируется по нескольким приоритетам**, все **суммирующиеся** скидки, имеющие одинаковый приоритет ценообразования, суммируются. Составной результат затем соревнуется с любыми скидками типа **лучшая цена**, имеющими одинаковый приоритет ценообразования, применяется наилучшая цена, и все скидки с меньшим приоритетом ценообразования игнорируются.

Если для этого параметра установлено значение **Лучшая цена только в рамках приоритета, всегда суммируется по нескольким приоритетам**, все **суммирующиеся** скидки обрабатываются как скидки **наилучшая цена**. В рамках приоритета ценообразования выигрывает только одна скидка. Если одна единственная скидка является **наилучшей ценой** или **суммирующейся** скидкой, она связана со всеми дополнительными **лучшими ценами** или **суммирующимися** скидками, которые имеют более низкий приоритет для ценообразования.

### <a name="discount-compound-behavior"></a>Поведение суммирования скидок

Настройка **Поведение суммирования скидок** определяет, как система ценообразования рассчитывает несколько составных скидок.

Если для параметра установлено значение **Суммируются**, то одна скидка применяется поверх другой накопительным образом. Если задано значение **Суммируется с исходной ценой**, все скидки рассматриваются независимо друг от друга и применяются к одной и той же исходной цене.

Например, для продукта, имеющего исходную цену 100 долларов США, требуется суммирующиеся скидка 10 процентов и 20 процентов. Если для параметра **Поведение суммирования скидок** задано значение **Суммируются**, окончательная цена будет 72 доллара США (100 долларов США &times; 90% &times; 80%). Если задано значение **Суммируется с исходной ценой**, окончательная цена будет 70 долларов США (100 долларов США – 10 долларов США – 20 долларов США).

### <a name="enable-competition-between-exclusive-threshold-and-other-periodic-discounts"></a>Включить конкуренцию между эксклюзивными скидками за пороговое значение и другими периодическими скидками

Если для параметра **Включить конкуренцию между эксклюзивными скидками за пороговое значение и другими периодическими скидками** указано значение **Да**, в механизме ценообразования исключительные пороговые скидки конкурируют с эксклюзивными непороговыми скидками. Приоритет ценообразования все еще применяется. Поведение скидок **лучшая цена** и пороговых **суммирующихся** скидок остается таким, как есть. Другими словами, они не конкурируют с непороговыми скидками.

### <a name="manual-line-discount-and-system-discount"></a>Скидка по строке, задаваемая вручную, и системная скидка

Настройка **Скидка по строке, задаваемая вручную, и системная скидка** определяет, каким образом механизм ценообразования применяет к одной и той же строке скидку по строке вручную и системную скидку. Скидка по строке, задаваемая вручную, может суммироваться поверх системной скидки, или она может заменять системную скидку. Когда скидки по строке, задаваемая вручную, и системная скидка суммируются, логика расчета соблюдает настройку **Поведение суммирования скидок**. Суммарная скидка, задаваемая вручную, которая применяется ко всему заказу, не учитывает этот параметр.

### <a name="keep-items-on-the-same-sales-line-for-discount-price-rounding"></a>Сохранять номенклатуры в одной строке продажи для округления цены со скидкой

Иногда сумма скидки за количество не может быть равномерно распределена на количество, подпадающее под действие скидки (например, если сумма скидки 10 долларов США для трех купленных единиц). В этих случаях параметр **Сохранять номенклатуры в одной строке продажи для округления цены со скидкой** определяет, как применяется механизм ценообразования и распределяется сумма скидки. Если для параметра установлено значение **Да**, сумма скидки применяется как единое целое и не разделяется. Если для него установлено значение **Нет**, сумма скидки делится между подпадающим под ее действие количеством и округляется. Например, сумма скидки 10 долларов США для трех единиц разбивается на скидку 3,33 доллара США для одной единицы, скидку 3,33 доллара США для второй единицы измерения и скидку 3,34 доллара США для третьей единицы.

### <a name="apply-discounts-to-key-in-price-products"></a>Применять скидки к продуктам с введенной ценой

Параметр **Применять скидки к продуктам с введенной ценой** определяет, могут ли скидки применяться вместе с "веденными ценами", введенными в POS-терминале. Параметр **Ввод цены с клавиатуры** в конфигурации продукта определяет, поддерживает ли ввод цены на продукт и как продукт поддержку ввод цены.

### <a name="apply-discounts-to-price-overrides"></a>Применять скидки к переопределенным ценам

Параметр **Применять скидки к переопределенным ценам** определяет, могут ли скидки использоваться вместе с переопределениями цены.

### <a name="distribute-discounts-for-least-expensive-discounts"></a>Распределение скидок для скидок по самому дешевому товару

Для скидок за комплект, использующих тип расчета "самый дешевый", параметр **Распределяет скидку для скидок по самому дешевому товару** определяет, будет ли механизм ценообразования распределять скидку по строкам.

Если для этого параметра установлено значение **Нет**, скидка применяется только к самым дешевым строкам. Например, для скидки на комплект "купи 2, получи 1 бесплатно" наименее дорогостоящая номенклатура будет бесплатной, а остальные две номенклатуры будут иметь полную цену. В этом случае клиент, возвращающий обе номенклатуры с полной ценой, будет по-прежнему получать третью номенклатуру бесплатно. Этот сценарий может привести к убыткам розничного продавца.

Если для параметра установлено значение **Да**, механизм ценообразования распределяет скидку по всем применимым строкам. Этот параметр может помочь уменьшить убытки по возвратам.

### <a name="manually-calculate-multi-line-prices-and-discounts"></a>Вычислить цены и скидки по нескольким строкам вручную

Параметр **Вычислить цены и скидки по нескольким строкам вручную** определяет, использует ли механизм ценообразования отложенный расчета цен и скидок для приложения POS-терминала и канала центра обработки вызовов. Если для параметра установлено значение **Да**, система ценообразования не сразу рассчитывает многострочные скидки (такие как скидки за количество, пороговые скидки и скидки за комплект) при создании или изменении заказа на продажу в приложении POS или в канале центра обработки вызовов.

> [!NOTE]
> В Commerce версии 10.0.30 и более ранних параметр **Вычислить цены и скидки по нескольким строкам вручную** управляет только каналом центра обработки вызовов. Отдельный параметр **Вычислить вручную скидки по многим номенклатурам** в профиле функциональности управляет поведением расчета цены в приложении POS. В Commerce версии 10.0.31 эти два параметра консолидированы в один параметр уровня компании.

### <a name="retention-period-in-days"></a>Период хранения в днях

Параметр **Период хранения в днях** указывает, сколько дней после истечения срока действия (если задана дата истечения срока) или даты отключения (если дата истечения срока действия не задана) скидка должна быть удалена систематически. Если для параметра установлено значение **0** (ноль), автоматическое удаление не производится.

> [!NOTE]
> В Commerce версии 10.0.30 и более ранних этот параметр имеет имя **Число дней, по истечении которого скидки с истекшим сроком действия должны быть удалены**.

### <a name="coupon-bar-code"></a>Штрих-код купона

Параметр **Штрих-код купона** определяет, какой специальный штрих-код используется для создания штрих-кодов для купонов. Пользователи могут выбрать один из заранее определенных штрихкодов, настроенных на странице **Настройка штрих-кода**. Для получения дополнительных сведений о штрих-кодах и масках штрих-кодов см. раздел [Настройка штрих-кодов](set-up-bar-codes.md) и [Настройка масок штрих-кодов](set-up-bar-code-masks.md).

### <a name="coupon-code-must-be-manually-applied-to-return-transactions"></a>Код купона необходимо вручную применить к проводкам возврата

Параметр **Код купона необходимо вручную применить к проводкам возврата** применяется только для проводок возврата, для которых не указан чек по продаже. Установите для параметра значение **Нет**, если коды купонов должны автоматически применяться к проводке. Установите для него значение **Да**, если коды купонов должны быть добавлены вручную в проводку.

### <a name="use-sales-agreements-set-up-for-the-organization"></a>Использовать договора продажи, настроенные для организации

Для заказов "бизнес-бизнес" (B2B) если для параметра **Использовать договора продажи, настроенные для организации** указано значение **Да**, система ценообразования использует для определения цены на основе контракта соглашения о продажах, определенные для организации в иерархии клиентов пользователя. Если для параметра установлено значение **Нет** или иерархия клиентов не определена, механизм ценообразования выполнит поиск договоров продажи, определенных для пользователя, чтобы определить цену на основе контракта. Дополнительные сведения об иерархиях клиентов в электронной коммерции для B2B см. в разделе [Управление деловыми партнерами B2B с помощью иерархий клиентов](b2b/partners-customer-hierarchies.md).

## <a name="channel-level-pricing-settings"></a>Параметры ценообразования на уровне канала

Следующие параметры позволяют организациям управлять поведением ценообразования в определенных каналах продажи.

### <a name="enable-order-price-control"></a>Включить управление ценами заказов

Параметр **Включить управление ценами заказов** расположен на экспресс-вкладке **Общие** на странице **Центр обработки вызовов**. Этот параметр определяет, будет ли механизм ценообразования принудительно накладывать ограничение для операции переопределения цены в канале центра обработки вызовов. Он работает совместно с параметром **Разрешить корректировку цены** на уровне продукта.

Если управление ценой заказа отключено, любой пользователь центра обработки вызовов может вносить изменения цен в строки продаж в канале центра обработки вызовов, независимо от того, разрешена ли корректировка цены в соответствующих продуктах.

Если управление ценой заказов включено, только продукты, для которых параметр **Разрешить корректировку цены** имеет значение **Да**, позволяют переопределять цены в заказах на продажу в центре обработки вызовов, и код причины должен быть указан в соответствующих строках продаж. Пользователь центра обработки вызовов может изменять цену продажи только до значения **Процент наценки стоимости**, которое определено в пункте **Розница и коммерция \> Настройка канала \> Настройка центра обработки вызовов \> Разрешения на переопределение**. Если переопределение цены превышает этот процент, пользователь должен отправить запрос, который затем обрабатывается с помощью заранее определенного рабочего процесса Commerce для просмотра и утверждения. Дополнительные сведения о рабочих процессах Commerce см. в разделе [Обзор системы рабочих процессов](/dynamics365/fin-ops-core/fin-ops/organization-administration/overview-workflow-system).

## <a name="product-level-pricing-settings"></a>Параметры ценообразования на уровне продукта

Следующие параметры обеспечивают применение правил ценообразования на уровне продукта и могут быть найдены на странице **Конфигурация продукта** организации.

### <a name="allow-price-adjust"></a>Разрешить корректировку цены

Если параметр **Разрешить корректировку цены** имеет значение **Да**, переопределение цены может быть применено к продукту в заказах на продажу из канала центра обработки вызовов.

### <a name="key-in-price"></a>Ввод цены с клавиатуры

Параметр **Ввод цены с клавиатуры** определяет, является ли ввод цены с клавиатуры обязательным при добавлении продукта в проводку продаж в POS. Он также определяет ограничения по соответствующим значениям цен.

### <a name="zero-price-valid"></a>Нулевая цена допустима

Параметр **Нулевая цена допустима** определяет, могут ли предварительно определенные, рассчитанные системой или скорректированные вручную цены продажи продукта быть равны 0 (нулю). Установите для параметра значение **Да**, если нулевая цена разрешена. Этот параметр можно также задать на уровне категории в иерархии продуктов Commerce.

### <a name="prevent-all-discounts"></a>Запретить все скидки

Если для параметра **Запретить все скидки** установить значение **Да**, все типы скидок (включая скидки, сделанные вручную) не будут применяться к продукту. Этот параметр можно также задать на уровне категории в иерархии продуктов Commerce.

> [!NOTE]
> Этот параметр не ограничивает операцию переопределения цены, поскольку эта операция задает цены и не рассматривается как скидка.

### <a name="prevent-manual-discounts"></a>Запретить задаваемые вручную скидки

Если для параметра **Запретить задаваемые вручную скидки** установить значение **Да**, скидки, сделанные вручную, или скидки по проводкам не будут применяться к продукту. Все остальные скидки все равно могут быть применены. Этот параметр можно также задать на уровне категории в иерархии продуктов Commerce.

> [!NOTE]
> Этот параметр не ограничивает операцию переопределения цены, поскольку эта операция задает цены и не рассматривается как скидка.

### <a name="prevent-retail-discounts"></a>Запретить розничные скидки

Если для параметра **Запретить розничные скидки** задано значение **Да**, к продукту нельзя применять скидки **простая**, **за количество**, **по пороговому значению**, **за комплект** и **на доставку**. Все остальные скидки (включая скидки, задаваемые вручную) все равно могут быть применены.

### <a name="prevent-tender-based-discounts"></a>Запретить скидки на основе платежных средств

Если параметр **Запретить скидки на основе платежных средств** имеет значение **Да**, скидка **на основе платежных средств** не может быть применена к продукту. Все остальные скидки (включая скидки, задаваемые вручную) все равно могут быть применены.

Предприятия розничной торговли часто выбирают исключение некоторых продуктов, таких как новые номенклатуры или номенклатуры высокого спроса, из скидок на основе номенклатуры (такие как простые скидки и скидки за количество). Однако, они могут все равно хотеть применять скидки на основе платежных средств, если клиент оплачивает с помощью предпочитаемого платежного средства. Чтобы достичь такого результата, предприятия розничной торговли могут задать для параметров **Запретить все скидки** и **Запретить скидки на основе платежных средств** значение **Нет**, а для параметров **Запретить розничные скидки** и **Запретить задаваемые вручную скидки** задать значение **Да**.

## <a name="deprecated-or-removed-settings"></a>Устаревшие или удаленные параметры

Следующие параметры ценообразования удалены или запланированы к удалению из Dynamics 365 Commerce.

| Параметр | Причина устаревания или удаления | Состояние устаревания или удаления |
|---------|-----------------------------------|-------------------------------|
| Обработка пересекающихся скидок | Мы предоставили эту настройку в параметрах Commerce, чтоб контролировать, как система ценообразования выполняет поиск и определяет, какое сочетание скидок будет применяться. Параметр **Лучшая скидка** заставляет проверять все возможные комбинации скидок в процессе расчета ценообразования. Параметр **Оптимальная производительность** — это оптимизированный параметр, в которой используется эвристический алгоритм и метод ранжирования по маржинальным значениям для своевременного задания приоритета, оценки и определения наиболее подходящего сочетания скидок. Параметр **Сбалансированное вычисление** в текущей базе кода функционирует так же, как и параметр **Оптимальная производительность**. Таким образом, это, по сути, повторяющийся параметр. Для повышения производительности механизм ценообразования был обновлен таким образом, чтобы в качестве стандартного параметра использовалось только значение **Оптимальная производительность**. Поэтому этот параметр более не применяется. | Устарел в выпуске 10.0.21 и будет удален в октябре 2022 года. |
| Разрешить корректировки цены для увеличения цены продукта | Мы предоставили эту настройку для управления тем, может ли функция корректировки цены увеличивать цены продуктов. Если этот параметр отключен, организации могут использовать функцию корректировки цены только для задания цены единицы продукта ниже базовой цены и цены продажи по коммерческому соглашению. Мы объявили эту настройку устаревшей, поскольку функция корректировки цены была обновлена, чтобы она поддерживала двусторонние корректировки (увеличение или уменьшение). | Устарел в выпуске 10.0.30 и будет удален в октябре 2023 года. |
| Включить отчет о ценах для розничного магазина | Мы предоставили этот параметр, чтобы контролировать, доступна ли функция **Отчет о ценах** для использования на странице конфигурации магазина. Мы объявили этот параметр устаревшим, поскольку страница конфигурации магазина была обновлена для того, чтобы она всегда предоставляла функцию **Отчет о ценах** как стандартную функцию. | Устарел в выпуске 10.0.31 и будет удален в октябре 2023 года. |
| Использовать сегодняшнюю дату для расчета цен | Механизм ценообразования Dynamics 365 Supply Chain Management поддерживает расчет ценообразования, который основан на запрошенной дате отгрузки и запрошенной дате поступления вместе с текущей датой. Механизм ценообразования Commerce поддерживает только расчет ценообразования, который основан на текущей дате. Для клиентов, использующих возможности как Supply Chain Management, так и Commerce, мы представили этот параметр и рекомендуем, чтобы клиенты всегда устанавливали его в значение **Да**, чтобы два разных механизма ценообразования могли работать вместе. Мы объявили этот параметр устаревшим, поскольку он фундаментально не изменяет режим вычислений и, таким образом, является избыточным. | Устарел в выпуске 10.0.31 и будет удален в октябре 2023 года. |
| Максимальная цена | Мы предоставили этот параметр в профиле функциональности, чтобы контролировать, могут ли продаваться через POS-терминалы в определенных магазинах только продукты, цена продажи которых меньше указанной максимальной цены. Этот объявили этот параметр устаревшим из-за слишком низкого использования этой функции. | Устарел в выпуске 10.0.31 и будет удален в октябре 2023 года. |
| Применять скидки к цене за единицу | Этот параметр был предназначен для управления тем, округляются ли цены и скидки на уровне цены единицы или на уровне строки продаж во время расчета ценообразования. Мы объявили этот параметр устаревшим, поскольку он все равно не используется в текущей кодовой базе. | Устарел в выпуске 10.0.31 и будет удален в октябре 2023 года. |
| Вычислить вручную скидки по многим номенклатурам | Мы предоставили этот параметр, чтобы контролировать, использует ли механизм ценообразования отсроченный расчет цены для канала розничного магазина. Если для параметра установлено значение **Да**, система ценообразования не сразу рассчитывает многострочные скидки (такие как скидки за количество, пороговые скидки и скидки за комплект) при создании или изменении заказа на продажу в приложении POS. Мы решили объединить эту настройку с аналогичным параметром в параметрах Commerce, чтобы сделать элемент управления многоканальным. | Устарел в выпуске 10.0.31 и будет удален в октябре 2023 года. |

Полный список удаленных или устаревших функций в Dynamics 365 Commerce см. в разделе [Удаленные или устаревшие функции в Dynamics 365 Commerce](get-started/removed-deprecated-features-commerce.md).

[!INCLUDE[footer-include](../includes/footer-banner.md)]
