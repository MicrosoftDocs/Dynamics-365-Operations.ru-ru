---
title: Редактирование и аудит проводок интернет-заказов и асинхронных проводок заказов клиентов
description: В этой статье описывается редактирование и аудит интернет-заказов и асинхронных проводок заказов клиентов в Microsoft Dynamics 365 Commerce.
author: josaw1
ms.date: 10/21/2022
ms.topic: index-page
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgriffin
ms.search.region: global
ms.author: josaw
ms.search.validFrom: 2018-11-15
ms.dyn365.ops.version: ''
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.industry: Retail
ms.openlocfilehash: dbeeff47446c1617da44f34ae56f333717f577a1
ms.sourcegitcommit: 18b7a02c497709e8d9c7b943d82f1fcc3dafa4cd
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/21/2022
ms.locfileid: "9712119"
---
# <a name="edit-and-audit-online-order-and-asynchronous-customer-order-transactions"></a>Редактирование и аудит проводок интернет-заказов и асинхронных проводок заказов клиентов

[!include [banner](../includes/banner.md)]

В этой статье описывается редактирование и аудит интернет-заказов и асинхронных проводок заказов клиентов в Microsoft Dynamics 365 Commerce.

## <a name="overview"></a>Обзор

В версиях Commerce с 10.0.5 по 10.0.6 добавлена поддержка редактирования кассовых проводок (таких как продажи и возвраты) и проводок управления кассами (таких как внесение и изъятие денежных средств). В Commerce версии 10.0.7 добавлена поддержка редактирования проводок интернет-заказов и асинхронных проводок заказов клиентов.

## <a name="edit-and-audit-order-transactions"></a>Редактирование и аудит проводок заказов

Для изменения и аудита проводок в Commerce Headquarters выполните следующие действия.

1. Установите [Microsoft Dynamics Office Add-in](https://appsource.microsoft.com/product/office/WA104379629?tab=Overview).
1. На странице **Параметры коммерции** на вкладке **Клиентские заказы** на экспресс-вкладке **Заказ** укажите код удержания для параметра **Код удержания для ошибок синхронизации заказов**.
2. Приостановите другие задания синхронизации заказов, которые будут по времени конфликтовать с редактированием и аудитом.
3. Откройте рабочую область **Финансовая информация магазина**. Плитки **Ошибки синхронизации интернет-заказов** и **Ошибки синхронизации заказов клиентов** содержат предварительно отфильтрованное представление страницы проводок розничной торговли. На каждой плитке отображаются записи проводок, которые не удалось синхронизировать для соответствующего типа заказа.
4. Откройте страницу **Ошибки синхронизации интернет-заказов** или страницу **Ошибки синхронизации заказов клиентов**. Выберите запись для просмотра сведений об ошибках синхронизации. На экспресс-вкладке **Статус синхронизации** предоставляются следующие сведения об ошибках:

    - Статус заказа, ожидающего обработки
    - Сведения об ошибке заказа
    - Дата и время изменения
    - Счетчик повторов

1. Если в сведениях об ошибке указывается, что запись следует исправить, выберите **Office Add in** и нажмите **Изменить выбранную проводку**. Откроется файл Excel, содержащий сведения о выбранной проводке.

    - Если редактируемая проводка является проводкой интернет-заказа, файл Excel содержит следующие листы:

        - **Проводка** — на этом листе содержатся сведения заголовка для проводки.
        - **Проводка по продаже** — на этом листе содержатся сведения строки для проводки.
        - **Проводки по оплате** — на этом листе содержатся сведения о строках платежей для проводки.
        - **Проводки по скидкам** — на этом листе содержатся сведения о скидках для проводки.
        - **Налоговые проводки** — на этом листе содержатся сведения о налогах для проводки.
        - **Проводки по накладным расходам** — на этом листе содержатся сведения о накладных расходах для проводки.

    - Если редактируемая проводка является асинхронной проводкой заказа клиента, файл Excel содержит следующие листы:

        - **Строки** — на этом листе содержатся сведения заголовка и строки для проводки.
        - **Платежи** — на этом листе содержатся сведения о строках платежей для проводки.
        - **Скидки** — на этом листе содержатся сведения о скидках для проводки.
        - **Налоги** — на этом листе содержатся сведения о налогах для проводки.
        - **Накладные расходы** — на этом листе содержатся сведения о накладных расходах для проводки.

1. В файле Excel в поле **Статус заказа, ожидающего обработки** введите **Редактирование**, а затем опубликуйте изменение. Таким образом эта запись не будет пропущена в задании **Синхронизировать заказ**, выполняемом в пакетном режиме, во время обработки.
1. В файле Excel измените соответствующие поля, а затем отправьте эти данные назад в Commerce Headquarters с помощью функции публикации в надстройке Dynamics Excel. После публикации данных изменения будут отражены в системе. Во время публикации вносимые пользователями изменения не проверяются.
    > [!NOTE]
    > Если не удается найти поле, которое необходимо изменить, выполните приведенные ниже инструкции, чтобы добавить недостающее поле в лист.
    >   1. В соединителе данных выберите **Проект**.
    >   1. Нажмите на значок карандаша рядом с таблицей, в которую нужно добавить поле.
    >   1. Выберите поле в разделе **Доступные поля**, а затем нажмите кнопку **Добавить**.
    >   1. Добавьте столько полей, сколько вам нужно, а затем нажмите **Обновить**.
    >   1. После обновления вам, возможно, потребуется нажать **Обновить**, чтобы обновить значения.

3. Чтобы посмотреть полный журнал аудита, выберите **Просмотреть журнал аудита** в заголовке **Проводка розничной торговли** для изменений на уровне заголовка или откройте соответствующий раздел и запись на соответствующей странице проводки. Например, все изменения, связанные со строками продаж, будут отображаться на странице **Проводки по продажам**, а все изменения, связанные с платежами, будут отображаться на странице **Проводки по оплате**. Для изменений сохраняются следующие сведения аудита:

    - Дата и время изменения
    - Поле
    - Старое значение
    - Новое значение
    - Кем изменено

1. После внесения и публикации изменений выберите **Синхронизировать заказ**, чтобы немедленно начать процесс синхронизации. Также можно подождать процесса синхронизации, который выполняется в пакетном режиме, для обработки проводки.

По умолчанию после успешной синхронизации заказов они получают статус удержания на основе кода удержания, определенного в параметрах Commerce. Удержание заказов должно быть удалено, прежде чем заказы можно будет обрабатывать для выполнения или других операций.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Редактирование и аудит кассовых проводок и проводок управления кассами](edit-cash-trans.md)

[Изменение финансовых аналитик для проводок розничной торговли](edit-financial-dim.md)

[Создание книги Excel для редактирования проводок розничной торговли](create-excel-edit.md)

[Добавление полей в книгу Excel для редактирования проводок розничной торговли](add-fields-excel.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
