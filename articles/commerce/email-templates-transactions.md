---
title: Создание шаблонов сообщений электронной почты для событий проводок
description: В этом разделе описывается создание, отправка и настройка шаблонов сообщений электронной почты для событий проводок в Microsoft Dynamics 365 Commerce.
author: stuharg
manager: annbe
ms.date: 06/01/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Retail, Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: stuharg
ms.search.validFrom: 2020-01-20
ms.dyn365.ops.version: Release 10.0.8
ms.openlocfilehash: a02839088addfa9b405af486f3b795eace1671cc
ms.sourcegitcommit: 4db8c30c2f26af1896938dd3ece3756577374ecb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/01/2020
ms.locfileid: "3416587"
---
# <a name="create-email-templates-for-transactional-events"></a><span data-ttu-id="debcc-103">Создание шаблонов сообщений электронной почты для событий проводок</span><span class="sxs-lookup"><span data-stu-id="debcc-103">Create email templates for transactional events</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="debcc-104">В этом разделе описывается создание, отправка и настройка шаблонов сообщений электронной почты для событий проводок в Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="debcc-104">This topic describes how to create, upload, and configure email templates for transactional events in Microsoft Dynamics 365 Commerce.</span></span>

## <a name="overview"></a><span data-ttu-id="debcc-105">Обзор</span><span class="sxs-lookup"><span data-stu-id="debcc-105">Overview</span></span>

<span data-ttu-id="debcc-106">Dynamics 365 Commerce предоставляет готовое решение для отправки сообщений электронной почты, предупреждающих клиентов о событиях проводок (например, при размещении заказа, готовности заказа для отправки или отгруженном заказе).</span><span class="sxs-lookup"><span data-stu-id="debcc-106">Dynamics 365 Commerce provides an out-of-box solution for sending emails that alert customers about transactional events (for example, when an order is placed, an order is ready for pickup, or an order has been shipped).</span></span> <span data-ttu-id="debcc-107">В этом разделе описываются шаги создания, отправки и настройки шаблонов сообщений электронной почты, используемых для отправки сообщений электронной почты по проводкам.</span><span class="sxs-lookup"><span data-stu-id="debcc-107">This topic describes the steps for creating, uploading, and configuring the email templates that are used to send transactional emails.</span></span>

## <a name="create-an-email-template"></a><span data-ttu-id="debcc-108">Создание шаблона сообщения эл. почты</span><span class="sxs-lookup"><span data-stu-id="debcc-108">Create an email template</span></span>

<span data-ttu-id="debcc-109">Прежде чем можно будет сопоставить конкретное событие проводки с шаблоном сообщений электронной почты, необходимо создать шаблон.</span><span class="sxs-lookup"><span data-stu-id="debcc-109">Before you can map a specific transactional event to an email template, you must create the template.</span></span>

<span data-ttu-id="debcc-110">Чтобы создать шаблон электронной почты, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="debcc-110">To create an email template, follow these steps.</span></span>

1. <span data-ttu-id="debcc-111">В головном офисе Commerce перейдите **Шаблоны сообщений электронной почты организации**, которые находятся в **Retail and Commerce \> Настройка центрального офиса \> Шаблоны сообщений электронной почты организации** или **Администрирование организации \> Настройка \> Шаблоны сообщений электронной почты организации**.</span><span class="sxs-lookup"><span data-stu-id="debcc-111">In Commerce headquarters, go to **Organization email templates**, which is under **Retail and Commerce \> Headquarters setup \> Organization email templates** or **Organization administration \> Setup \> Organization email templates**.</span></span>
1. <span data-ttu-id="debcc-112">Выберите **Создать**.</span><span class="sxs-lookup"><span data-stu-id="debcc-112">Select **New**.</span></span>
1. <span data-ttu-id="debcc-113">В разделе **Общие** задайте следующие поля:</span><span class="sxs-lookup"><span data-stu-id="debcc-113">Under **General**, set the following fields:</span></span>

    - <span data-ttu-id="debcc-114">**Код сообщения электронной почты** — код сообщения электронной почты — это уникальный код шаблона, который отображается при выборе шаблона для сопоставления событию.</span><span class="sxs-lookup"><span data-stu-id="debcc-114">**Email ID** – The email ID is the unique identifier for a template, and it's the value that is shown when you select a template to map to an event.</span></span>
    - <span data-ttu-id="debcc-115">**Описание сообщения электронной почты** — это необязательное поле можно использовать для создания описания шаблона.</span><span class="sxs-lookup"><span data-stu-id="debcc-115">**Email description** – You can use this optional field to provide a description of the template.</span></span> <span data-ttu-id="debcc-116">Введенное значение появляется только в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="debcc-116">The value that you enter appears only in Commerce headquarters.</span></span>
    - <span data-ttu-id="debcc-117">**Имя отправителя** — введенное имя отображается в поле "от" для большинства клиентов электронной почты.</span><span class="sxs-lookup"><span data-stu-id="debcc-117">**Sender name** – The name that you enter appears in the "from" field of most email clients.</span></span>
    - <span data-ttu-id="debcc-118">**Адрес электронной почты отправителя** — Введите адрес электронной почты, который должен использоваться для писем, отправленных с помощью данного шаблона.</span><span class="sxs-lookup"><span data-stu-id="debcc-118">**Sender email** – Enter the email address that should be used for emails that are sent by using this template.</span></span>
    - <span data-ttu-id="debcc-119">**Код языка по умолчанию** — в этом поле указывается локализованная версия сообщения электронной почты, которое будет отправлено по умолчанию, если канал, который вызывает этот шаблон, не предоставляет каких-либо других языков.</span><span class="sxs-lookup"><span data-stu-id="debcc-119">**Default language code** – This field specifies the localized version of the email that is sent by default, if no language is provided by the channel that invokes this template.</span></span>

1. <span data-ttu-id="debcc-120">В **Содержимое сообщения электронной почты**, выберите **Создать**.</span><span class="sxs-lookup"><span data-stu-id="debcc-120">Under **Email message content**, select **New**.</span></span>
1. <span data-ttu-id="debcc-121">В поле **Язык** введите язык для шаблона сообщения электронной почты.</span><span class="sxs-lookup"><span data-stu-id="debcc-121">In the **Language** field, enter the language for the email template.</span></span> <span data-ttu-id="debcc-122">Можно добавить дополнительные языки и локализованные шаблоны позднее.</span><span class="sxs-lookup"><span data-stu-id="debcc-122">You can add more languages and localized templates later.</span></span>
1. <span data-ttu-id="debcc-123">В поле **Тема** введите сообщение электронной почты, которое должно появиться в поле темы сообщения электронной почты.</span><span class="sxs-lookup"><span data-stu-id="debcc-123">In the **Subject** field, enter the email subject that should appear in the subject field of the email.</span></span>
1. <span data-ttu-id="debcc-124">Выберите **Правка**, чтобы загрузить шаблон сообщения электронной почты.</span><span class="sxs-lookup"><span data-stu-id="debcc-124">Select **Edit** to upload your email template.</span></span>

## <a name="create-an-email-message-body-by-using-html"></a><span data-ttu-id="debcc-125">Создание текста сообщения электронной почты с помощью HTML</span><span class="sxs-lookup"><span data-stu-id="debcc-125">Create an email message body by using HTML</span></span>

<span data-ttu-id="debcc-126">Текст сообщения электронной почты составлен в формате HTML.</span><span class="sxs-lookup"><span data-stu-id="debcc-126">The message body of your email is composed in HTML.</span></span> <span data-ttu-id="debcc-127">Можно использовать любой макет, стилизацию и фирменную символику, если разрешено использование HTML и встроенных каскадных таблиц стилей (CSS).</span><span class="sxs-lookup"><span data-stu-id="debcc-127">You can use any layout, styling, and branding that HTML and inline Cascading Style Sheets (CSS) allow for.</span></span> <span data-ttu-id="debcc-128">Кроме того, можно использовать изображения, если они размещены на общедоступной конечной точке веб-узла.</span><span class="sxs-lookup"><span data-stu-id="debcc-128">You can also use images, if you host them on a publicly available web endpoint.</span></span> <span data-ttu-id="debcc-129">Чтобы добавить изображение, введите URL-адрес изображения в атрибут **src** маркера HTML **&lt;img&gt;**.</span><span class="sxs-lookup"><span data-stu-id="debcc-129">To add an image, enter the image's URL in the **src** attribute of the HTML **&lt;img&gt;** tag.</span></span>

> [!NOTE]
> <span data-ttu-id="debcc-130">Клиенты электронной почты накладывают ограничения макета и стилей, которые могут потребовать корректировок кода HTML и CSS, которые используются в содержании сообщения.</span><span class="sxs-lookup"><span data-stu-id="debcc-130">Email clients impose layout and style limitations that might require adjustments to the HTML and CSS that you use for the message body.</span></span> <span data-ttu-id="debcc-131">Рекомендуется ознакомиться с рекомендациями по созданию HTML-кода, который будет поддерживаться самыми популярными клиентами электронной почты.</span><span class="sxs-lookup"><span data-stu-id="debcc-131">We recommend that you familiarize yourself with the best practices for creating HTML that will be supported by the most popular email clients.</span></span>

## <a name="add-placeholders-to-the-email-message-body"></a><span data-ttu-id="debcc-132">Добавление заполнителей в текст сообщения электронной почты</span><span class="sxs-lookup"><span data-stu-id="debcc-132">Add placeholders to the email message body</span></span>

<span data-ttu-id="debcc-133">Сообщение электронной почты может содержать заполнители, которые заменяются значениями, связанными с клиентом и проводкой, при создании сообщения электронной почты.</span><span class="sxs-lookup"><span data-stu-id="debcc-133">Your email can contain placeholders that are replaced with customer-specific and transaction-specific values when the email is generated.</span></span> <span data-ttu-id="debcc-134">Заполнители всегда заключены в знаки процента (%) и вставляются непосредственно в документ HTML.</span><span class="sxs-lookup"><span data-stu-id="debcc-134">Placeholders are always surrounded by percent signs (%) and are inserted directly into the HTML document.</span></span>

<span data-ttu-id="debcc-135">Рассмотрим пример:</span><span class="sxs-lookup"><span data-stu-id="debcc-135">Here is an example.</span></span>

```html
<p>
    Hello %customername%,<br />
    Order number %salesid%, can be picked up from the <b>%pickupstorename%</b> store.
</p>
```

### <a name="order-placeholders-sales-order-level"></a><span data-ttu-id="debcc-136">Заполнители для заказа (уровень заказа на продажу)</span><span class="sxs-lookup"><span data-stu-id="debcc-136">Order placeholders (sales order level)</span></span>

<span data-ttu-id="debcc-137">Следующие заполнители извлекают и отображают данные, которые определены на уровне заказа на продажу (в противоположность уровню строки продаж).</span><span class="sxs-lookup"><span data-stu-id="debcc-137">The following placeholders retrieve and show data that is defined at the sales order level (as opposed to the sales line level).</span></span>

| <span data-ttu-id="debcc-138">Имя заполнителя</span><span class="sxs-lookup"><span data-stu-id="debcc-138">Placeholder name</span></span>    | <span data-ttu-id="debcc-139">Значение заполнителя</span><span class="sxs-lookup"><span data-stu-id="debcc-139">Placeholder value</span></span>                                                |
|---------------------|------------------------------------------------------------------|
| <span data-ttu-id="debcc-140">customername</span><span class="sxs-lookup"><span data-stu-id="debcc-140">customername</span></span>        | <span data-ttu-id="debcc-141">Имя клиента, который разместил заказ.</span><span class="sxs-lookup"><span data-stu-id="debcc-141">The name of the customer who placed the order.</span></span>                   |
| <span data-ttu-id="debcc-142">salesid</span><span class="sxs-lookup"><span data-stu-id="debcc-142">salesid</span></span>             | <span data-ttu-id="debcc-143">Код продажи по заказу.</span><span class="sxs-lookup"><span data-stu-id="debcc-143">The sales ID of the order.</span></span>                                       |
| <span data-ttu-id="debcc-144">deliveryaddress</span><span class="sxs-lookup"><span data-stu-id="debcc-144">deliveryaddress</span></span>     | <span data-ttu-id="debcc-145">Адрес поставки для отгруженных заказов.</span><span class="sxs-lookup"><span data-stu-id="debcc-145">The delivery address for shipped orders.</span></span>                         |
| <span data-ttu-id="debcc-146">customeraddress</span><span class="sxs-lookup"><span data-stu-id="debcc-146">customeraddress</span></span>     | <span data-ttu-id="debcc-147">Адрес, к которому относится клиент.</span><span class="sxs-lookup"><span data-stu-id="debcc-147">The address of the customer.</span></span>                                     |
| <span data-ttu-id="debcc-148">deliverydate</span><span class="sxs-lookup"><span data-stu-id="debcc-148">deliverydate</span></span>        | <span data-ttu-id="debcc-149">Дата поставки.</span><span class="sxs-lookup"><span data-stu-id="debcc-149">The delivery date.</span></span>                                               |
| <span data-ttu-id="debcc-150">shipdate</span><span class="sxs-lookup"><span data-stu-id="debcc-150">shipdate</span></span>            | <span data-ttu-id="debcc-151">Дата отгрузки.</span><span class="sxs-lookup"><span data-stu-id="debcc-151">The ship date.</span></span>                                                   |
| <span data-ttu-id="debcc-152">modeofdelivery</span><span class="sxs-lookup"><span data-stu-id="debcc-152">modeofdelivery</span></span>      | <span data-ttu-id="debcc-153">Режим доставки для заказа.</span><span class="sxs-lookup"><span data-stu-id="debcc-153">The delivery mode of the order.</span></span>                                  |
| <span data-ttu-id="debcc-154">расходы по продаже</span><span class="sxs-lookup"><span data-stu-id="debcc-154">charges</span></span>             | <span data-ttu-id="debcc-155">Общая сумма накладных расходов для заказа.</span><span class="sxs-lookup"><span data-stu-id="debcc-155">The total charges for the order.</span></span>                                 |
| <span data-ttu-id="debcc-156">налога</span><span class="sxs-lookup"><span data-stu-id="debcc-156">tax</span></span>                 | <span data-ttu-id="debcc-157">Общая сумма налога для заказа.</span><span class="sxs-lookup"><span data-stu-id="debcc-157">The total tax for the order.</span></span>                                     |
| <span data-ttu-id="debcc-158">всего</span><span class="sxs-lookup"><span data-stu-id="debcc-158">total</span></span>               | <span data-ttu-id="debcc-159">Общая сумма для заказа.</span><span class="sxs-lookup"><span data-stu-id="debcc-159">The total amount for the order.</span></span>                                  |
| <span data-ttu-id="debcc-160">ordernetamount</span><span class="sxs-lookup"><span data-stu-id="debcc-160">ordernetamount</span></span>      | <span data-ttu-id="debcc-161">Общая сумма для заказа минус общая сумма налога.</span><span class="sxs-lookup"><span data-stu-id="debcc-161">The total amount for the order, minus the total tax.</span></span>             |
| <span data-ttu-id="debcc-162">скидка</span><span class="sxs-lookup"><span data-stu-id="debcc-162">discount</span></span>            | <span data-ttu-id="debcc-163">Общая скидка для заказа.</span><span class="sxs-lookup"><span data-stu-id="debcc-163">The total discount for the order.</span></span>                                |
| <span data-ttu-id="debcc-164">storename</span><span class="sxs-lookup"><span data-stu-id="debcc-164">storename</span></span>           | <span data-ttu-id="debcc-165">Название магазина, в котором был размещен заказ.</span><span class="sxs-lookup"><span data-stu-id="debcc-165">The name of the store where the order was placed.</span></span>                |
| <span data-ttu-id="debcc-166">storeaddress</span><span class="sxs-lookup"><span data-stu-id="debcc-166">storeaddress</span></span>        | <span data-ttu-id="debcc-167">Адрес магазина, в котором был размещен заказ.</span><span class="sxs-lookup"><span data-stu-id="debcc-167">The address of the store that placed the order.</span></span>                  |
| <span data-ttu-id="debcc-168">storeopenfrom</span><span class="sxs-lookup"><span data-stu-id="debcc-168">storeopenfrom</span></span>       | <span data-ttu-id="debcc-169">Время начала работы магазина, в котором был размещен заказ.</span><span class="sxs-lookup"><span data-stu-id="debcc-169">The opening time of the store that placed the order.</span></span>             |
| <span data-ttu-id="debcc-170">storeopento</span><span class="sxs-lookup"><span data-stu-id="debcc-170">storeopento</span></span>         | <span data-ttu-id="debcc-171">Время окончания работы магазина, в котором был размещен заказ.</span><span class="sxs-lookup"><span data-stu-id="debcc-171">The closing time of the store that placed the order.</span></span>             |
| <span data-ttu-id="debcc-172">pickupstorename</span><span class="sxs-lookup"><span data-stu-id="debcc-172">pickupstorename</span></span>     | <span data-ttu-id="debcc-173">Название магазина, в котором будет скомплектован заказ.</span><span class="sxs-lookup"><span data-stu-id="debcc-173">The name of the store where the order will be picked up.</span></span>         |
| <span data-ttu-id="debcc-174">pickupstoreaddress</span><span class="sxs-lookup"><span data-stu-id="debcc-174">pickupstoreaddress</span></span>  | <span data-ttu-id="debcc-175">Адрес магазина, в котором будет скомплектован заказ.</span><span class="sxs-lookup"><span data-stu-id="debcc-175">The address of the store where the order will be picked up.</span></span>      |
| <span data-ttu-id="debcc-176">pickupopenstorefrom</span><span class="sxs-lookup"><span data-stu-id="debcc-176">pickupopenstorefrom</span></span> | <span data-ttu-id="debcc-177">Время начала работы магазина, в котором будет скомплектован заказ.</span><span class="sxs-lookup"><span data-stu-id="debcc-177">The opening time of the store where the order will be picked up.</span></span> |
| <span data-ttu-id="debcc-178">pickupopenstoreto</span><span class="sxs-lookup"><span data-stu-id="debcc-178">pickupopenstoreto</span></span>   | <span data-ttu-id="debcc-179">Время окончания работы магазина, в котором будет скомплектован заказ.</span><span class="sxs-lookup"><span data-stu-id="debcc-179">The closing time of the store where the order will be picked up.</span></span> |

### <a name="order-line-placeholders-sales-line-level"></a><span data-ttu-id="debcc-180">Заполнители сроки заказа (уровень строки продаж)</span><span class="sxs-lookup"><span data-stu-id="debcc-180">Order line placeholders (sales line level)</span></span>

<span data-ttu-id="debcc-181">Следующие заполнители извлекают и отображают данные для отдельных продуктов (строк) в заказе на продажу.</span><span class="sxs-lookup"><span data-stu-id="debcc-181">The following placeholders retrieve and show data for individual products (lines) in the sales order.</span></span>

| <span data-ttu-id="debcc-182">Имя заполнителя</span><span class="sxs-lookup"><span data-stu-id="debcc-182">Placeholder name</span></span>               | <span data-ttu-id="debcc-183">Значение заполнителя</span><span class="sxs-lookup"><span data-stu-id="debcc-183">Placeholder value</span></span> |
|--------------------------------|-------------------|
| <span data-ttu-id="debcc-184">productid</span><span class="sxs-lookup"><span data-stu-id="debcc-184">productid</span></span>                      | <span data-ttu-id="debcc-185">Код продукта для строки.</span><span class="sxs-lookup"><span data-stu-id="debcc-185">The product ID for the line.</span></span> |
| <span data-ttu-id="debcc-186">lineproductname</span><span class="sxs-lookup"><span data-stu-id="debcc-186">lineproductname</span></span>                | <span data-ttu-id="debcc-187">Название продукта.</span><span class="sxs-lookup"><span data-stu-id="debcc-187">The name of the product.</span></span> |
| <span data-ttu-id="debcc-188">lineproductdescription</span><span class="sxs-lookup"><span data-stu-id="debcc-188">lineproductdescription</span></span>         | <span data-ttu-id="debcc-189">Описание продукта.</span><span class="sxs-lookup"><span data-stu-id="debcc-189">The description of the product.</span></span> |
| <span data-ttu-id="debcc-190">linequantity</span><span class="sxs-lookup"><span data-stu-id="debcc-190">linequantity</span></span>                   | <span data-ttu-id="debcc-191">Число единиц, заказанных для строки, плюс единица измерения (например, **ea** или **пара**).</span><span class="sxs-lookup"><span data-stu-id="debcc-191">The number of units that were ordered for the line, plus the unit of measure (for example, **ea**, or **pair**).</span></span> |
| <span data-ttu-id="debcc-192">lineunit</span><span class="sxs-lookup"><span data-stu-id="debcc-192">lineunit</span></span>                       | <span data-ttu-id="debcc-193">Единица измерения для данной строки.</span><span class="sxs-lookup"><span data-stu-id="debcc-193">The unit of measure for the line.</span></span> |
| <span data-ttu-id="debcc-194">linequantity_withoutunit</span><span class="sxs-lookup"><span data-stu-id="debcc-194">linequantity_withoutunit</span></span>       | <span data-ttu-id="debcc-195">Число единиц, заказанных для строки, без единицы измерения.</span><span class="sxs-lookup"><span data-stu-id="debcc-195">The number of units that were ordered for the line, without the unit of measure.</span></span> |
| <span data-ttu-id="debcc-196">linequantitypicked</span><span class="sxs-lookup"><span data-stu-id="debcc-196">linequantitypicked</span></span>             | <span data-ttu-id="debcc-197">Когда используется событие **PickOrder**, количество единиц, которое было скомплектовано.</span><span class="sxs-lookup"><span data-stu-id="debcc-197">When the **PickOrder** event is used, the number of units that were picked.</span></span> <span data-ttu-id="debcc-198">В противном случае — **0** (ноль).</span><span class="sxs-lookup"><span data-stu-id="debcc-198">Otherwise, **0** (zero).</span></span> |
| <span data-ttu-id="debcc-199">linequantitypicked_withoutunit</span><span class="sxs-lookup"><span data-stu-id="debcc-199">linequantitypicked_withoutunit</span></span> | <span data-ttu-id="debcc-200">Когда используется событие **PickOrder**, число единиц, которое было скомплектовано, без единицы измерения.</span><span class="sxs-lookup"><span data-stu-id="debcc-200">When the **PickOrder** event is used, the number of units that were picked, without the unit of measure.</span></span> <span data-ttu-id="debcc-201">В противном случае — **0** (ноль).</span><span class="sxs-lookup"><span data-stu-id="debcc-201">Otherwise, **0** (zero).</span></span> |
| <span data-ttu-id="debcc-202">linequantitypacked</span><span class="sxs-lookup"><span data-stu-id="debcc-202">linequantitypacked</span></span>             | <span data-ttu-id="debcc-203">Когда используются события **PackOrder** и **заказ, готовый для отправки**, число упакованных единиц.</span><span class="sxs-lookup"><span data-stu-id="debcc-203">When the **PackOrder** and **Order ready for pickup** events are used, the number of units that were packed.</span></span> <span data-ttu-id="debcc-204">В противном случае — **0** (ноль).</span><span class="sxs-lookup"><span data-stu-id="debcc-204">Otherwise, **0** (zero).</span></span> |
| <span data-ttu-id="debcc-205">linequantitypacked_withoutuom</span><span class="sxs-lookup"><span data-stu-id="debcc-205">linequantitypacked_withoutuom</span></span>  | <span data-ttu-id="debcc-206">Когда используются события **PackOrder** и **заказ, готовый для отправки**, число упакованных единиц, без единицы измерения.</span><span class="sxs-lookup"><span data-stu-id="debcc-206">When the **PackOrder** and **Order ready for pickup** events are used, the number of units that were packed, without the unit of measure.</span></span> <span data-ttu-id="debcc-207">В противном случае — **0** (ноль).</span><span class="sxs-lookup"><span data-stu-id="debcc-207">Otherwise, **0** (zero).</span></span> |
| <span data-ttu-id="debcc-208">linequantityshipped</span><span class="sxs-lookup"><span data-stu-id="debcc-208">linequantityshipped</span></span>            | <span data-ttu-id="debcc-209">Всегда равно **0**, за исключением случаев, когда используются отдельные события, как описано в следующей строке.</span><span class="sxs-lookup"><span data-stu-id="debcc-209">Always **0**, except when specific events are used, as described in the next row.</span></span> |
| <span data-ttu-id="debcc-210">linequantityshipped_withoutuom</span><span class="sxs-lookup"><span data-stu-id="debcc-210">linequantityshipped_withoutuom</span></span> | <span data-ttu-id="debcc-211">Когда используется событие **ShipOrder**, число единиц, которое было скомплектовано, без единицы измерения.</span><span class="sxs-lookup"><span data-stu-id="debcc-211">When the **ShipOrder** event is used, the number of units that were picked, without the unit of measure.</span></span> <span data-ttu-id="debcc-212">В противном случае — **0** (ноль).</span><span class="sxs-lookup"><span data-stu-id="debcc-212">Otherwise, **0** (zero).</span></span> |
| <span data-ttu-id="debcc-213">lineprice</span><span class="sxs-lookup"><span data-stu-id="debcc-213">lineprice</span></span>                      | <span data-ttu-id="debcc-214">Цена для одной единицы.</span><span class="sxs-lookup"><span data-stu-id="debcc-214">The price of a single unit.</span></span> |
| <span data-ttu-id="debcc-215">linenetamount</span><span class="sxs-lookup"><span data-stu-id="debcc-215">linenetamount</span></span>                  | <span data-ttu-id="debcc-216">Цена строки после применения числа единиц и скидки.</span><span class="sxs-lookup"><span data-stu-id="debcc-216">The price of the line after the number of units and discount are applied.</span></span> |
| <span data-ttu-id="debcc-217">linediscount</span><span class="sxs-lookup"><span data-stu-id="debcc-217">linediscount</span></span>                   | <span data-ttu-id="debcc-218">Скидка для отдельной единицы.</span><span class="sxs-lookup"><span data-stu-id="debcc-218">The discount for an individual unit.</span></span> |
| <span data-ttu-id="debcc-219">lineshipdate</span><span class="sxs-lookup"><span data-stu-id="debcc-219">lineshipdate</span></span>                   | <span data-ttu-id="debcc-220">Дата отгрузки для строки.</span><span class="sxs-lookup"><span data-stu-id="debcc-220">The ship date for the line.</span></span> |
| <span data-ttu-id="debcc-221">linedeliverydate</span><span class="sxs-lookup"><span data-stu-id="debcc-221">linedeliverydate</span></span>               | <span data-ttu-id="debcc-222">Дата доставки для строки.</span><span class="sxs-lookup"><span data-stu-id="debcc-222">The delivery date for the line.</span></span> |
| <span data-ttu-id="debcc-223">linedeliverymode</span><span class="sxs-lookup"><span data-stu-id="debcc-223">linedeliverymode</span></span>               | <span data-ttu-id="debcc-224">Режим доставки для строки.</span><span class="sxs-lookup"><span data-stu-id="debcc-224">The delivery mode for the line.</span></span> |
| <span data-ttu-id="debcc-225">linedeliveryaddress</span><span class="sxs-lookup"><span data-stu-id="debcc-225">linedeliveryaddress</span></span>            | <span data-ttu-id="debcc-226">Адрес поставки для строки.</span><span class="sxs-lookup"><span data-stu-id="debcc-226">The delivery address for the line.</span></span> |
| <span data-ttu-id="debcc-227">giftcardnumber</span><span class="sxs-lookup"><span data-stu-id="debcc-227">giftcardnumber</span></span>                 | <span data-ttu-id="debcc-228">Номер подарочного сертификата для продуктов типа подарочного сертификата.</span><span class="sxs-lookup"><span data-stu-id="debcc-228">The gift card number, for products of the gift card type.</span></span> |
| <span data-ttu-id="debcc-229">giftcardbalance</span><span class="sxs-lookup"><span data-stu-id="debcc-229">giftcardbalance</span></span>                | <span data-ttu-id="debcc-230">Баланс подарочного сертификата для продуктов типа подарочного сертификата.</span><span class="sxs-lookup"><span data-stu-id="debcc-230">The gift card balance, for products of the gift card type.</span></span> |
| <span data-ttu-id="debcc-231">giftcardmessage</span><span class="sxs-lookup"><span data-stu-id="debcc-231">giftcardmessage</span></span>                | <span data-ttu-id="debcc-232">Сообщение подарочного сертификата для продуктов типа подарочного сертификата.</span><span class="sxs-lookup"><span data-stu-id="debcc-232">The gift card message, for products of the gift card type.</span></span> |
| <span data-ttu-id="debcc-233">giftcardpin</span><span class="sxs-lookup"><span data-stu-id="debcc-233">giftcardpin</span></span>                    | <span data-ttu-id="debcc-234">Персональный идентификационный номер (PIN) подарочного сертификата для продуктов типа подарочного сертификата.</span><span class="sxs-lookup"><span data-stu-id="debcc-234">The personal identification number (PIN) of the gift card, for products of the gift card type.</span></span> <span data-ttu-id="debcc-235">(Этот заполнитель относится к внешним подарочным сертификатам.)</span><span class="sxs-lookup"><span data-stu-id="debcc-235">(This placeholder is specific to external gift cards.)</span></span> |
| <span data-ttu-id="debcc-236">giftcardexpiration</span><span class="sxs-lookup"><span data-stu-id="debcc-236">giftcardexpiration</span></span>             | <span data-ttu-id="debcc-237">Дата окончания срока действия подарочного сертификата для продуктов типа подарочного сертификата.</span><span class="sxs-lookup"><span data-stu-id="debcc-237">The expiration date of the gift card, for products of the gift card type.</span></span> <span data-ttu-id="debcc-238">(Этот заполнитель относится к внешним подарочным сертификатам.)</span><span class="sxs-lookup"><span data-stu-id="debcc-238">(This placeholder is specific to external gift cards.)</span></span> |
| <span data-ttu-id="debcc-239">giftcardrecipientname</span><span class="sxs-lookup"><span data-stu-id="debcc-239">giftcardrecipientname</span></span>          | <span data-ttu-id="debcc-240">Имя получателя подарочного сертификата для продуктов типа подарочного сертификата.</span><span class="sxs-lookup"><span data-stu-id="debcc-240">The name of the gift card recipient, for products of the gift card type.</span></span> |
| <span data-ttu-id="debcc-241">giftcardbuyername</span><span class="sxs-lookup"><span data-stu-id="debcc-241">giftcardbuyername</span></span>              | <span data-ttu-id="debcc-242">Имя покупателя подарочного сертификата для продуктов типа подарочного сертификата.</span><span class="sxs-lookup"><span data-stu-id="debcc-242">The name of the gift card buyer, for products of the gift card type.</span></span> |

### <a name="format-of-order-line-placeholders-in-the-email-message-body"></a><span data-ttu-id="debcc-243">Формат заполнителей для строк заказа в тексте сообщения электронной почты</span><span class="sxs-lookup"><span data-stu-id="debcc-243">Format of order line placeholders in the email message body</span></span>

<span data-ttu-id="debcc-244">При создании HTML для отдельных строк заказа в тексте сообщения электронной почты необходимо окружить повторяющийся блок HTML и заполнители для строк следующими заполнителями, помещенными в маркеры комментариев HTML.</span><span class="sxs-lookup"><span data-stu-id="debcc-244">When you create the HTML for the individual order lines in the email message body, surround the repeating block of HTML and placeholders for the lines with the following placeholders that are put inside HTML comment tags.</span></span>

```html
<!--%tablebegin.salesline%-->

(Insert the repeating block of HTML and placeholders for individual lines here.)

<!--%tableend.salesline%-->
```

<span data-ttu-id="debcc-245">Рассмотрим пример:</span><span class="sxs-lookup"><span data-stu-id="debcc-245">Here is an example.</span></span>

```HTML
<table>
    <tr>
        <td>Product name</td>
        <td>Quantity</td>
        <td>Price</td>
    </tr>
    <!--%tablebegin.salesline%-->
    <tr>
        <td>%lineproductname%</td>
        <td>%linequantity_withoutunit%</td>
        <td>%lineprice%</td>
    </tr>
    <!--%tableend.salesline%-->
</table>
```

## <a name="create-a-template-for-emailed-receipts"></a><span data-ttu-id="debcc-246">Создание шаблона для отправки чеков по электронной почте</span><span class="sxs-lookup"><span data-stu-id="debcc-246">Create a template for emailed receipts</span></span>

<span data-ttu-id="debcc-247">Чеки могут быть отправлены клиентам, которые делают покупки в розничном POS-терминале (POS).</span><span class="sxs-lookup"><span data-stu-id="debcc-247">Receipts can be emailed to customers who make purchases at a retail point of sale (POS).</span></span> <span data-ttu-id="debcc-248">Как правило, шаги для создания шаблона для отправки чеков по электронной почте совпадают с шагами создания шаблонов для других событий проводок.</span><span class="sxs-lookup"><span data-stu-id="debcc-248">In general, the steps for creating the emailed receipt template are the same as the steps for creating templates for other transactional events.</span></span> <span data-ttu-id="debcc-249">Однако требуются следующие изменения:</span><span class="sxs-lookup"><span data-stu-id="debcc-249">However, the following changes are required:</span></span>

- <span data-ttu-id="debcc-250">Код сообщения электронной почты для шаблона сообщения электронной почты должен быть **emailRecpt**.</span><span class="sxs-lookup"><span data-stu-id="debcc-250">The email ID of the email template must be **emailRecpt**.</span></span>
- <span data-ttu-id="debcc-251">Текст чека вставляется в сообщение электронной почты с использованием заполнителя **%message%**.</span><span class="sxs-lookup"><span data-stu-id="debcc-251">The text of the receipt is inserted into the email by using the **%message%** placeholder.</span></span> <span data-ttu-id="debcc-252">Чтобы убедиться, что текст чека правильно отрисовывается, заключите заполнитель **% message%** в маркеры HTML **&lt;pre&gt;** и **&lt;/pre&gt;**.</span><span class="sxs-lookup"><span data-stu-id="debcc-252">To ensure that the receipt body is correctly rendered, surround the **%message%** placeholder with HTML **&lt;pre&gt;** and **&lt;/pre&gt;** tags.</span></span>
- <span data-ttu-id="debcc-253">Разрывы строк в HTML для колонтитулов электронной почты преобразуются в маркеры HTML **&lt;br /&gt;**, чтобы текст чека отображалось правильно.</span><span class="sxs-lookup"><span data-stu-id="debcc-253">Line breaks in the HTML for the header and footer of the email are converted to HTML **&lt;br /&gt;** tags so that the receipt body is rendered correctly.</span></span> <span data-ttu-id="debcc-254">Чтобы исключить лишнее вертикальное расстояние в сообщениях электронной почты с чеками, удалите разрывы строк из любого места в HTML-коде, где вертикальное пространство не требуется.</span><span class="sxs-lookup"><span data-stu-id="debcc-254">To eliminate unwanted vertical space in your receipt emails, remove line breaks from any place in the HTML where vertical space isn't required.</span></span>

<span data-ttu-id="debcc-255">Дополнительные сведения о настройке сообщений электронной почты с чеками см. в разделе [Настройка сообщений электронной почты с чеками](https://docs.microsoft.com/dynamicsax-2012/appuser-itpro/set-up-email-receipts).</span><span class="sxs-lookup"><span data-stu-id="debcc-255">For more information about how to configure email receipts, see [Set up email receipts](https://docs.microsoft.com/dynamicsax-2012/appuser-itpro/set-up-email-receipts).</span></span>

## <a name="upload-the-email-html"></a><span data-ttu-id="debcc-256">Загрузите HTML-код сообщения электронной почты</span><span class="sxs-lookup"><span data-stu-id="debcc-256">Upload the email HTML</span></span>

<span data-ttu-id="debcc-257">После создания и проверки кода HTML для содержания сообщения необходимо загрузить его в центральный офис Commerce.</span><span class="sxs-lookup"><span data-stu-id="debcc-257">After you've created and tested the HTML for your message body, it must be uploaded to Commerce headquarters.</span></span> <span data-ttu-id="debcc-258">В настоящее время HTML-код сообщения электронной почты нельзя экспортировать.</span><span class="sxs-lookup"><span data-stu-id="debcc-258">Currently, email HTML can't be exported.</span></span> <span data-ttu-id="debcc-259">Таким образом, необходимо поддерживать основную копию HTML-кода вне центрального офиса Commerce.</span><span class="sxs-lookup"><span data-stu-id="debcc-259">Therefore, you must maintain the master copy of your HTML outside Commerce headquarters.</span></span>

<span data-ttu-id="debcc-260">Чтобы загрузить новый или измененный HTML-код шаблона сообщения электронной почты, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="debcc-260">To upload a new or edited email template HTML, follow these steps.</span></span>

1. <span data-ttu-id="debcc-261">В центральном офисе Commerce перейдите к **Retail и Commerce \> Настройка центрального офиса \> Шаблоны сообщений электронной почты организации**.</span><span class="sxs-lookup"><span data-stu-id="debcc-261">In Commerce headquarters, go to **Retail and Commerce \> Headquarters setup \> Organization email templates**.</span></span>
1. <span data-ttu-id="debcc-262">Выбор строки для языка, для которого требуется добавить или заменить HTML-код.</span><span class="sxs-lookup"><span data-stu-id="debcc-262">Select the row for the language that you want to add or replace HTML for.</span></span> <span data-ttu-id="debcc-263">Или выберите **создать**, чтобы создать строку для нового языка.</span><span class="sxs-lookup"><span data-stu-id="debcc-263">Alternatively, select **New** to create a row for a new language.</span></span>
1. <span data-ttu-id="debcc-264">Выберите **Правка**.</span><span class="sxs-lookup"><span data-stu-id="debcc-264">Select **Edit**.</span></span>
1. <span data-ttu-id="debcc-265">В появившемся диалоговом окне выберите **Обзор**.</span><span class="sxs-lookup"><span data-stu-id="debcc-265">In the dialog box that appears, select **Browse**.</span></span> <span data-ttu-id="debcc-266">Перейдите к документу HTML, который необходимо загрузить, выберите его и нажмите кнопку **открыть**.</span><span class="sxs-lookup"><span data-stu-id="debcc-266">Browse to the HTML document that you want to upload, select it, and then select **Open**.</span></span>
1. <span data-ttu-id="debcc-267">Выберите **Отправить**.</span><span class="sxs-lookup"><span data-stu-id="debcc-267">Select **Upload**.</span></span>
1. <span data-ttu-id="debcc-268">После появления HTML-кода сообщения электронной почты в окне предварительного просмотра нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="debcc-268">After your email HTML appears in the preview window, select **OK**.</span></span>
1. <span data-ttu-id="debcc-269">Убедитесь, что установлен флажок **Имеет тело** для строки.</span><span class="sxs-lookup"><span data-stu-id="debcc-269">Make sure that the **Has body** check box is selected for the row.</span></span>

<span data-ttu-id="debcc-270">Если для отправки сообщения электронной почты уже настроен центральный офис Commerce, новое или обновленное сообщение электронной почты будет отправляться всем клиентам, выполняющим проводку, которая вызывает событие, сопоставленное с этим шаблоном.</span><span class="sxs-lookup"><span data-stu-id="debcc-270">If you've already configured Commerce headquarters to send email, your new or updated email will be sent to all customers who perform a transaction that invokes the event that is mapped to the template.</span></span>

<span data-ttu-id="debcc-271">Дополнительные сведения о настройке сообщений электронной почты в Dynamics 365 Commerce см. в разделе [Настройка и отправка сообщений электронной почты](../fin-ops-core/fin-ops/organization-administration/configure-email.md).</span><span class="sxs-lookup"><span data-stu-id="debcc-271">For more information about how to configure emails in Dynamics 365 Commerce, see [Configure and send email](../fin-ops-core/fin-ops/organization-administration/configure-email.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="debcc-272">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="debcc-272">Additional resources</span></span> 

[<span data-ttu-id="debcc-273">Настройка профиля уведомлений по электронной почте</span><span class="sxs-lookup"><span data-stu-id="debcc-273">Set up an email notification profile</span></span>](email-notification-profiles.md)

[<span data-ttu-id="debcc-274">Настройка и отправка электронной почты</span><span class="sxs-lookup"><span data-stu-id="debcc-274">Configure and send email</span></span>](../fin-ops-core/fin-ops/organization-administration/configure-email.md)

[<span data-ttu-id="debcc-275">Настройка приема электронной почты</span><span class="sxs-lookup"><span data-stu-id="debcc-275">Set up email receipts</span></span>](https://docs.microsoft.com/dynamicsax-2012/appuser-itpro/set-up-email-receipts)

[<span data-ttu-id="debcc-276">Отправка чеков по электронной почте из Modern POS </span><span class="sxs-lookup"><span data-stu-id="debcc-276">Send email receipts from Modern POS </span></span>](email-receipts.md)
