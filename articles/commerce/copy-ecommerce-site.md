---
title: Копирование сайта электронной коммерции
description: В этой статье описан порядок копирования существующего сайта электронной коммерции или между средами электронной коммерции в конструкторе сайтов Microsoft Dynamics 365 Commerce.
author: josaw1
ms.date: 06/03/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: josaw
ms.search.validFrom: 2017-06-20
ms.openlocfilehash: 9b74e0d48be29272b893c855c229e4003f0c161e
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/12/2022
ms.locfileid: "9276301"
---
# <a name="copy-an-e-commerce-site"></a>Копирование сайта электронной коммерции

[!include [banner](../includes/banner.md)]

В этой статье описан порядок копирования существующего сайта электронной коммерции или между средами электронной коммерции в конструкторе сайтов Microsoft Dynamics 365 Commerce.

Dynamics 365 Commerce поддерживает копирование или клонирование сайтов в качестве операции самообслуживания в конструкторе сайтов Commerce. Сайты могут быть скопированы в одну среду электронной коммерции или между двумя различными средами электронной коммерции. Пользователь, инициирующий операцию копирования сайта, должен быть администратором клиента как в исходной, так и в конечной среде электронной коммерции.

Операция копирования сайта копирует все содержимое исходного сайта электронной коммерции. Это содержимое включает страницы, фрагменты, шаблоны, URL-адреса и ресурсы. Прежде чем можно будет использовать новый сайт, его необходимо инициализировать с помощью процесса первого запуска (FRE). Каналы могут сопоставляться и управляться в конструкторе сайтов по пути **Параметры сайта \> Каналы**.

Длительность операции копирования сайта зависит главным образом от количества ресурсов на исходном сайте. Для очень больших сайтов рекомендуется использовать вместо этого операцию копирования среды. (Эта операция также называется операцией переносимости данных.)

> [!NOTE]
> - В течение операции копирования сайта исходный сайт будет доступен только для чтения.
> - Выполняется копирование только опубликованных версий документов. Если никакие версии не были опубликованы, копируются только последние версии.
> - Журнал версий для содержимого не будет доступен на конечном сайте.

## <a name="copy-a-site-within-an-e-commerce-environment"></a>Копирование сайта в среде электронной коммерции

Чтобы скопировать сайт в среде электронной коммерции, выполните следующие действия.

1. Выполните вход в конфигуратор сайтов для среды, в которой необходимо выполнить операцию копирования.
1. Откройте представление списка сайтов, выбрав **Переключатель сайтов** в верхнем правом углу, а затем выбрав **Управление сайтами**.
1. Найдите сайт, который требуется копировать или клонировать, затем выберите его, установив флажок рядом с именем сайта.
1. На панели команд выберите **Копировать сайт**.
1. Во всплывающем меню **Копировать сайт** в поле **Имя нового сайта** введите имя для нового сайта. Имя нового сайта должно быть уникальным в среде электронной коммерции. Полям **Исходный клиент** и **Исходный сайт** автоматически назначаются сведения для текущего клиента и выбранного сайта.
1. Выберите **Создать копию**.

После проверки информации уведомление показывает, что было создано новое задание копирования сайта. Можно отслеживать ход выполнения задания в [правой области страницы **Задания клиента**](#monitor-the-site-copy-operation). После успешного завершения операции копирования новый сайт появится в списке сайтов в представлении списка сайтов.

На следующем рисунке показан пример всплывающего меню **Копировать сайт** в конфигураторе сайтов.

![Всплывающее меню копирования сайта в конструкторе сайтов.](media/site-copy_1.png)

## <a name="copy-a-site-between-two-e-commerce-environments"></a>Копирование сайта между двумя средами электронной коммерции

Чтобы скопировать сайт между двумя средами электронной коммерции, выполните следующие действия.

1. Войдите в конструктор сайтов для конечной среды электронной коммерции.
1. На панели команд выберите **Копировать сайт**.
1. Во всплывающем меню **Копировать сайт** в поле **Имя нового сайта** введите имя для нового сайта. Имя нового сайта должно быть уникальным в среде электронной коммерции.
1. В поле **Исходный клиент** выберите имя исходного клиента.
1. В поле **Исходный сайт** выберите исходный сайт.
1. Выберите **Создать копию**.

> [!NOTE]
> Разрешения администратора клиента требуются как для исходной, так и для конечной сред электронной коммерции.

После проверки информации уведомление показывает, что было создано новое задание копирования сайта. Можно отслеживать ход выполнения задания в [правой области страницы **Задания клиента**](#monitor-the-site-copy-operation). После успешного завершения операции копирования новый сайт появится в списке сайтов в представлении списка сайтов.

## <a name="map-channels-during-the-site-copy-operation-optional"></a>Сопоставление каналов во время операции копирования сайта (необязательно)

Исходные каналы и языковые стандарты могут быть сопоставлены с каналами назначения и языковыми стандартами в рамках операции копирования сайта. Если сопоставление канала выполняется как часть операции копирования сайта, инициализация сайта осуществляется с помощью процесса FRE и настройка каналов в параметрах сайта не является обязательной. 

Чтобы сопоставить все каналы и языковые стандарты "как есть" (1 к 1) в конфигураторе сайтов, выполните следующие действия.

1. Откройте представление списка сайтов, выбрав **Переключатель сайтов** в верхнем правом углу, а затем выбрав **Управление сайтами**.
1. Найдите сайт, который требуется копировать или клонировать, затем выберите его, установив флажок рядом с именем сайта.
1. На панели команд выберите **Копировать сайт**.
1. Во всплывающем меню **Копировать сайт** введите значения для параметров **Имя нового сайта**, **Исходный арендатор** и **Исходный сайт** (если они еще отсутствуют).
1. Выберите **Добавить сопоставления канал**.
1. Во всплывающем меню **Настройка каналов и языковых стандартов для сайта** выберите пункт **Исходный канал**, затем выберите исходный канал.  
1. Выберите **Канал назначения**, затем выберите тот же канал, что и исходный канал. 
1. Выберите **Добавить языковой стандарт**.
1. Выберите **Исходный языковой стандарт**, затем выберите исходный языковой стандарт.
1. Выберите **Языковой стандарт назначения**, затем выберите тот же языковой стандарт, что и исходный языковой стандарт. 
1. Для параметра **Путь URL-адреса** введите уникальный путь URL-адреса, который в данный момент не используется в конечной среде.
1. Повторите шаги 8–11 для каждого языкового стандарта, который должен быть сопоставлен для канала.
1. Выберите **Применить**.
1. Повторите шаги с 6 по 11 для каждого исходного канала.
1. Выберите **Закрыть**.
1. Проверьте правильность конфигурации, затем выберите **Копировать сайт**.

> [!NOTE]
> Все исходные каналы и языковые стандарты должны быть сопоставлены, и они могут быть сопоставлены только один раз.

## <a name="monitor-the-site-copy-operation"></a>Мониторинг операции копирования сайта

Чтобы отслеживать ход выполнения операции копирования сайта, выполните следующие действия.

1. Войдите в конструктор сайтов для конечной среды электронной коммерции.
1. В левой области выберите **Задания арендатора**.
1. На странице **Задания клиента** найдите и выберите задание копирования сайта в списке. В правой части отображается область, в которой отображается статус и подробные сведения о выбранном задании.

Можно отменить задание со статусом **Выполняется**. Выберите задание в списке, затем выберите **Отмена** на панели команд.

Можно повторить задание, которое имеет статус **Сбой** или **Завершено с ошибками**. Выберите задание в списке, затем выберите **Повторить** на панели команд.

> [!NOTE]
> Обработка видеоресурсов может быть продолжена после завершения задания копирования сайта.

На следующем рисунке показа пример правой области страницы **Задания клиента** в конструкторе сайтов.

![Сведения о задании в правой области страницы заданий клиента в конструкторе сайтов.](media/site-copy_2.png)

## <a name="initialize-a-new-site-by-using-the-fre-process"></a>Инициализация нового сайта с помощью процесса FRE

Прежде чем можно будет использовать новый сайт, его необходимо инициализировать с помощью процесса FRE.

Чтобы инициализировать новый сайт с помощью процесса FRE, выполните следующие действия.

1. Выполните вход в конструктор сайтов для нового сайта.
1. Откройте представление списка сайтов, выбрав **Переключатель сайтов** в верхнем правом углу, а затем выбрав **Управление сайтами**.
1. Найдите и выберите новый сайт, который требуется инициализировать.
1. В диалоговом окне **Настройка сайта** в поле **Выберите домен** выберите домен. Для выбора доступны все домены, которые были связаны со средой электронной коммерции во время инициализации.
1. В поле **Выберите канал по умолчанию** выберите связанный канал Интернет-магазина. Выбранный канал будет предоставлять ассортименты и другую информацию, хранящуюся в Commerce Headquarters.
1. В поле **Выберите язык по умолчанию** выберите язык разработки по умолчанию. Все языки, настроенные для выбранного канала Интернет-магазина, доступны для выбора.
1. В поле **Путь** значение состоит из базового домена и необязательного пути URL, который можно ввести. Можно оставить URL-путь пустым, если канал будет обслуживаться из корня домена, или если вы хотите ввести эту информацию позже в представлении конфигурации канала в конструкторе сайтов. Путь к сайту должно быть уникальным в среде электронной коммерции.
1. Нажмите **ОК**. Сайт инициализируется информацией, предоставленной пользователем, и вы направляетесь в представление управления сайтом.

На следующем рисунке показан пример диалогового окна **Настроить сайт** в конфигураторе сайтов.

![Диалоговое окно настройки сайта в конфигураторе сайтов.](media/site-copy_3.png)

## <a name="additional-resources"></a>Дополнительные ресурсы

[Настройка доменного имени](configure-your-domain-name.md)

[Развертывание нового клиента электронной коммерции](deploy-ecommerce-site.md)

[Связывание сайта Dynamics 365 Commerce с интернет-каналом](associate-site-online-store.md)

[Управление файлами robots.txt](manage-robots-txt-files.md)

[Пакетная отправка перенаправлений URL-адресов](upload-bulk-redirects.md)

[Настройка клиента B2C в Commerce](set-up-b2c-tenant.md)

[Настройка специальных страниц для входа пользователей](custom-pages-user-logins.md)

[Настройка нескольких клиентов B2C в среде Commerce](configure-multi-b2c-tenants.md)

[Добавление поддержки сети доставки контента (CDN)](add-cdn-support.md)

[Включение обнаружения магазинов на основе местоположения](enable-store-detection.md)
