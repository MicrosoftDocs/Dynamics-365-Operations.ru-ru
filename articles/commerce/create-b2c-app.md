---
title: Создание приложения B2C
description: В этой статье описывается, как создать приложение "бизнес-клиент" (B2C) на портале Microsoft Azure.
author: BrianShook
ms.date: 11/15/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: brshoo
ms.search.validFrom: 2020-02-13
ms.openlocfilehash: d8956d51bac7bf2a162a370ae5ef1c7e7cdc1e2f
ms.sourcegitcommit: 774f8f97a0b14cf1199bd1802178ccf536a25ade
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/17/2022
ms.locfileid: "9785290"
---
# <a name="create-a-b2c-application"></a>Создание приложения B2C

[!include [banner](includes/banner.md)]

В этой статье описывается, как создать приложение "бизнес-клиент" (B2C) на портале Microsoft Azure.

После создания клиента B2C вы создадите приложение B2C в рамках вашего нового клиента Azure Active Directory (Azure AD), чтобы взаимодействовать с Commerce.

Для создания приложения B2C выполните следующие действия.

1. На портале Azure выберите **Регистрации приложений**, затем выберите **Создать регистрацию**.
1. В поле **Имя** введите имя, которое будет присвоено этому приложению Azure AD B2C.
1. В области **Поддерживаемые типы учетных записей** выберите **Учетные записи в любом поставщике удостоверений или в организационном каталоге (для аутентификации пользователей с помощью потока пользователей)**.
1. Для **URI перенаправления** введите ваши выделенные URL-адреса для ответа в качестве типа **Интернет**. Информацию об URL-адресах ответа и порядке форматирования их см. в разделе [URL-адреса ответа](#reply-urls) ниже. Необходимо ввести URI/URL-адрес ответа перенаправления, чтобы разрешить перенаправления с Azure AD B2C обратно на ваш сайт при проверке подлинности пользователя. URL-адрес ответа можно добавить в процессе регистрации или добавить его позже, выбрав ссылку **Добавить URI перенаправления** в меню **Обзор** в разделе **Обзор** приложения B2C.
1. Для параметра **Разрешения** выберите **Предоставить согласие администратора для разрешений OpenID и автономного доступа**.
1. Выберите **Регистр**.
1. Выберите вновь созданное приложение и перейдите в меню **Аутентификация**. 
1. Если URL-адрес ответа введен, в области **Потоки неявного предоставления и гибридные потоки** выберите оба параметра **Токены доступа** и **Токены идентификации**, чтобы включить их для приложения, затем выберите **Сохранить**. Если URL-адрес ответа не был введен во время регистрации, его можно также добавить на этой странице, выбрав **Добавить платформу**, выбрав **Веб**, затем введя URI перенаправления приложения. Раздел **Потоки неявного предоставления и гибридные потоки** затем будет доступен для выбора обоих параметров **Токены доступа** и **Токены идентификации**.
1. Перейдите в меню **Обзор** портала Azure и скопируйте **ИД приложения (клиента)**. Запишите этот идентификатор для последующих шагов настройки (который позднее упоминается как **Идентификатор GUID клиента**).

Дополнительные справочные сведения о регистрации приложений в Azure AD B2C см. в разделе [Новый интерфейс регистрации приложений для Azure Active Directory B2C](/azure/active-directory-b2c/app-registrations-training-guide)

### <a name="reply-urls"></a>URL-адреса ответов

URL-адреса ответа важны, поскольку они позволяют создать список разрешений доменов возврата, когда ваш сайт вызывает Azure AD B2C для проверки подлинности пользователя. Это позволяет вернуть пользователя, прошедшего проверку подлинности, в домен, с которого он выполняет вход (домен вашего сайта). 

В поле **URL-адрес ответа** на экране **Azure AD B2c - Приложения \> Новое приложение** необходимо добавить отдельные строки для домена узла и (после подготовки среды) URL-адрес, созданный в Commerce. Эти URL-адреса должны всегда использовать допустимый формат URL-адреса и должны быть только базовыми URL-адресами (без завершающих символов прямой косой черты или путей). Затем строка ``/_msdyn365/authresp`` должна быть добавлена к базовым URL-адресам, как показано в следующих примерах.

- ``https://www.fabrikam.com/_msdyn365/authresp`` (Домен должен полностью совпадать с доменом электронной коммерции. Если имеется несколько доменов, необходимо добавить этот URL-адрес для каждого домена.)
- ``https://fabrikam-prod.commerce.dynamics.com/_msdyn365/authresp``

## <a name="next-steps"></a>Далее

Чтобы продолжить процесс настройки клиента B2C в Commerce, переходите к разделу [Создание политик потока пользователей](create-user-flow-policies.md).

## <a name="additional-resources"></a>Дополнительные ресурсы

[Настройка клиента B2C в Commerce](set-up-b2c-tenant.md)

[Создание или связывание существующего клиента Azure AD B2C с порталом Azure](create-link-aad-b2c-tenant.md)

[Создание политик потока пользователей](create-user-flow-policies.md)

[Добавление поставщиков удостоверений в социальных сетях (дополнительно)](add-social-identity-providers.md)

[Обновление Commerce headquarters с учетом новой информации Azure AD B2C](update-hq-aad-b2c-info.md)

[Настройка клиента B2C в конфигураторе сайта Commerce](config-b2c-tenant-site-builder.md)

[Дополнительные сведения B2C](additional-b2c-info.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
