---
title: Модуль оформления заказа
description: В этом разделе описывается, как добавить модуль оформления заказа к странице и задать необходимые свойства.
author: anupamar-ms
manager: annbe
ms.date: 08/05/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 1d913fdc9ab9a3dbf7d5534fba38add7f942652a
ms.sourcegitcommit: 81f162f2d50557d7afe292c8d326618ba0bc3259
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2020
ms.locfileid: "3686750"
---
# <a name="checkout-module"></a>Модуль оформления заказа

[!include [banner](includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

В этом разделе описывается, как добавить модуль оформления заказа к странице и задать необходимые свойства.

## <a name="overview"></a>Обзор

Модуль оформления заказа — это специальный контейнер, в котором размещены все модули, необходимые для создания заказа. В нем представлен пошаговый поток, который клиент использует для ввода всех необходимых сведений для проведения покупки. Он получает адрес доставки, способ доставки и сведения о выставлении счетов. Он также предоставляет сводку по заказам и другие сведения, которые относятся к заказу клиента.

Модуль оформления заказа обрабатывает данные на основе идентификатора корзины. Этот идентификатор корзины сохраняется как cookie-файл браузера. Идентификатор корзины требуется для отображения информации в модуле оформления заказа, такой как номенклатуры в заказе, общая сумма и скидки. 

На следующем рисунке показан пример модуля оформления заказа Fabrikam на странице оформления заказа.

![Пример модуля оформления заказа](./media/Checkout.PNG)

## <a name="checkout-module-properties"></a>Свойства модуля оформления заказа

В модуле оформления заказа отображается сводка по заказам и реализованы функции для размещения заказа. Чтобы собрать все сведения о клиенте, которые необходимы, прежде чем заказ можно будет разместить, в модуль оформления заказа должны быть добавлены дополнительные модули. Таким образом, розничные продавцы имеют гибкие возможности добавления настраиваемых модулей в поток оформления заказа или исключения модулей на основе своих требований.

| Имя свойства | Значения | описание |
|----------------|--------|-------------|
| Заголовок оформления заказа | Текст заголовка и метка заголовка (**H1**, **H2**, **H3**, **H4**, **H5** или **H6**) | Заголовок к модулю оформления заказа. |
| Заголовок сводки по заказу | Текст заголовка | Заголовок для раздела сводки заказа в модуле. |
| Заголовок номенклатуры строки корзины | Текст заголовка | Заголовок для номенклатур строки корзины, которые отображаются в модуле оформления заказа. |
| Отобразить расходы на отгрузку по номенклатуре строки | **True** или **False** | Если это свойство имеет значение **Истина**, расходы на отгрузку, применимые для номенклатур строки, будут отображаться в строках корзины. Если функция **Расходы заголовка без пропорционального распределения** в Commerce headquarters включена, расходы на отрузку будут применяться на уровне заголовка, а не на уровне строки. Эта функция была добавлена в версии Commerce 10.0.13. |

## <a name="modules-that-can-be-used-in-the-checkout-module"></a>Модули, которые могут быть использованы в модуле оформления заказа

- **Адрес отгрузки** — этот модуль позволяет клиенту добавлять или выбирать адрес доставки для заказа. Дополнительные сведения об этом модуле см. в разделе [Модуль адреса доставки](ship-address-module.md).

    На следующем рисунке показан пример модуля адреса доставки Fabrikam на странице оформления заказа.

    ![Пример модуля адреса доставки](./media/ecommerce-shippingaddress.PNG)

- **Параметры доставки** — этот модуль позволяет клиенту выбрать режима доставки для заказа. Дополнительные сведения об этом модуле см. в разделе [Модуль параметров доставки](delivery-options-module.md).

    На следующем рисунке показан пример модуля параметров поставки на странице оформления заказа.
 
    ![Пример модуля параметров поставки](./media/ecommerce-deliveryoptions.PNG)

- **Контейнер раздела оформления заказа** — этот модуль представляет собой контейнер, в котором можно поместить несколько модулей для создания раздела в потоке оформления заказа. Например, можно поместить в этот контейнер все модули, имеющие отношение к оплате, чтобы они отображались как один раздел. Этот модуль влияет только на макет потока.

- **Подарочный сертификат** — этот модуль позволяет клиенту заплатить за заказ, используя подарочный сертификат. Дополнительные сведения об этом модуле см. в разделе [Модуль подарочных сертификатов](add-giftcard.md).

- **Баллы по программе лояльности** — этот модуль позволяет клиенту отплатить заказ, используя баллы по программе лояльности. Он предоставляет сводку доступных баллов и баллы, у которых скоро истекает срок действия, а также позволяет клиенту выбирать количество баллов для погашения. Если клиент не вошел в систему или не является участником программы лояльности, или если общая сумма в корзине равна 0 (нулю), этот модуль автоматически скрывается.

- **Оплата** — этот модуль позволяет клиенту заплатить за заказ, используя кредитные или дебетовые карты. Клиенты также могут предоставить адрес для выставления счетов для выбранного параметра платежа. Дополнительные сведения об этом модуле см. в разделе [Модуль платежа](payment-module.md).

    На следующем рисунке показан пример модулей подарочных сертификатов, баллов по программе лояльности и платежей на странице оформления заказа.

    ![Пример модулей подарочных сертификатов, баллов по программе лояльности и платежей на странице оформления заказа](./media/ecommerce-payments.PNG)

- **Контактная информация** — этот модуль позволяет клиенту добавлять или изменять контактную информацию (адрес электронной почты) для заказа.

- **Блок текста** — этот модуль содержит любые сообщения, управляемые системой управления контентом (CMS). Например, в нем может содержаться сообщение "По вопросам, связанным с заказом, обращайтесь по телефону 1-800-Fabrikam". 

- **Условия оформления заказа** — в этом модуле отображается форматированный текст, содержащий условия, и флажок для введенных данных клиента. Флажок необязателен и настраиваемый. Введенные данные фиксируются модулем и могут использоваться в качестве проверки перед размещением заказа, но они не включаются в сводную информацию о заказах. Этот модуль может быть добавлен к контейнеру оформления заказа, контейнеру раздела оформления заказа или ячейке условий в соответствии с потребностями бизнеса. Если он добавляется к контейнеру оформления заказа или контейнеру раздела оформления заказа, он появится в качестве шага процесса оформления заказа. Если он добавлен в ячейку условий, он будет отображаться рядом с кнопкой размещения заказа.

    На следующем рисунке показан пример условий на странице оформления заказа.

    ![Пример условий на странице оформления заказа](./media/ecommerce-checkout-terms.PNG)

## <a name="commerce-scale-unit-interaction"></a>Взаимодействие Commerce Scale Unit

Большая часть информации об оформлении заказа , например адрес доставки и метод отгрузки, хранится в корзине и обрабатывается как часть заказа. Единственным исключением являются сведения о кредитной карте. Эти сведения обрабатываются непосредственно с помощью соединителя платежей Adyen. Платеж авторизован, но не взимается до тех пор, пока заказ не будет выполнен.

## <a name="add-a-checkout-module-to-a-page-and-set-the-required-properties"></a>Добавление модуля оформления заказа на страницу и задание необходимых свойств

Чтобы добавить модуль оформления заказа на новую страницу и задать необходимые свойства, выполните следующие действия.

1. Перейдите к разделу **Фрагменты**, выберите **Создать**, чтобы создать фрагмент.
1. В диалоговом окне **Создать фрагмент страницы** выберите модуль **Оформление заказа**.
1. В области **Имя фрагмента страницы** введите имя **Фрагмент оформления заказа**, затем выберите **ОК**.
1. Выберите ячейку **Модуль оформления заказа**.
1. В области свойств справа выберите символ карандаш, введите текст заголовка в поле, а затем выберите символ галочки.
1. В ячейке **Информация об оформлении заказа** выберите многоточие (**...**), затем выберите **Добавить модуль**.
1. В диалоговом окне **Добавление модуля** выберите **Адрес доставки**, **Параметры поставки**, **Контейнер раздела оформления заказа** и **Контактные данные**, а затем нажмите **ОК**.
1. В модуле **Контейнер раздела оформления заказа** выберите многоточие (**...**), затем выберите **Добавить модуль**.
1. В диалоговом окне **Добавление модуля** выберите модули **Подарочный сертификат**, **Лояльность** и **Платеж**, затем выберите **ОК**. Таким образом вы обеспечите, что все способы оплаты включены в раздел.
1. В ячейке **Условия** добавьте, если это необходимо, модуль **Условия оформления заказа**. В области свойства модуля настройте текст условий соответствующим образом.
1. Выберите **Сохранить**, затем выберите **Предварительный просмотр**, чтобы просмотреть фрагмент. Некоторые модули без контекста корзины могут не отображаться в окне предварительного просмотра.
1. Выберите **Завершить редактирование** для возврата фрагмента, затем нажмите кнопку **Опубликовать**, чтобы опубликовать ее.
1. Создайте шаблон, в котором используется новый фрагмент оформления заказа.
1. Создайте страницу оформления заказа, в которой используется новый шаблон.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Модуль корзины](add-cart-module.md)

[Модуль значка корзины](cart-icon-module.md)

[Модуль платежа](payment-module.md)

[Модуль адреса доставки](ship-address-module.md)

[Модуль параметров доставки](delivery-options-module.md)

[Модуль сведений о заказе](order-confirmation-module.md)

[Модуль подарочных сертификатов](add-giftcard.md)
