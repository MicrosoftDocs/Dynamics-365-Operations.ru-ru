---
title: Настройка выполнения заказов для магазинов
description: В этом разделе представлен обзор порядка настройки исполнения заказов магазинами.
author: BrianShook
ms.date: 10/30/2017
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: RetailStoreTable, RetailTillLayout
audience: Application User
ms.reviewer: josaw
ms.search.region: Global
ms.search.industry: retail
ms.author: brshoo
ms.search.validFrom: 2017-10-30
ms.dyn365.ops.version: ''
ms.openlocfilehash: ed709c2a15a2d9e1675da55fc87284127e64ba39
ms.sourcegitcommit: f4823a97c856e9a9b4ae14116a43c87f9482dd90
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2021
ms.locfileid: "7779605"
---
# <a name="set-up-order-fulfillment-for-stores"></a>Настройка выполнения заказов для магазинов

[!include [banner](includes/banner.md)]

Многим компании розничной торговли хотели бы оптимизировать выполнение заказов, разрешив магазинам выполнять заказы. Выполнение заказов на уровне магазинов может помочь упростить ослабить сценарии избыточных запасов для конкретного магазина или может требоваться с точки зрения логистики в случаях, когда магазин имеет дополнительную емкость или находится ближе к клиенту для доставки. Для удовлетворения этой потребности единая операция выполнения заказа доступна на POS-терминале.

Заказы для выполнения в конкретном магазине имеют склад магазина, указанный в заголовке или строках заказа.

Операция исполнения заказа в POS-терминале обеспечивает единую рабочую область в POS-терминале, которая может использоваться для обработки заказов. Это включает все, от приема заказа до пометки его как отгруженного или инициализации самовывоза из магазина.

## <a name="set-up-the-order-fulfillment-operation"></a>Настройка операции выполнения заказа

Выполнение заказов, [код операции 928](pos-operations.md), можно использовать для доступа к рабочей области выполнения заказа в магазине в POS-терминале.

Выполните шаги из раздела [Добавление операции в сетку кнопок](pos-screen-layouts.md), чтобы указать, какой параметр следует использовать для запуска выполнения заказа на POS-терминале. По умолчанию после указания операций выполнения заказа выбирается вариант **Все заказы**. При использовании этого параметра операция будут перечислять все строки заказов для выполнения в текущем магазине. Также доступен вариант **Заказы для отгрузки**, которой может быть назначена кнопке и использоваться, когда пользователь хочет видеть только заказы, которые будут доставляться из магазина. Наконец, есть параметр **Заказы для самовывоза**. При вызове на POS-терминале перечисляются только заказы, которые клиенты должны забрать из магазина. Различные параметры могут назначаться разным кнопкам, чтобы у пользователя были различные способы просмотра выполнения заказов.

### <a name="enable-users-to-access-order-fulfillment-at-the-point-of-sale"></a>Разрешите пользователям доступ к выполнению заказов на POS-терминале

Операция выполнения заказа не имеет собственного готового разрешения, но в будущем пользователям может требоваться разрешение **Разрешить получение заказа** для вызова операции из POS-терминала.

На уровне магазина доступна настройка конфигурации для определения того, должна ли строка заказа быть принята вручную из POS-терминала. Если этот параметр конфигурации не задан, строки заказа будут приняты по умолчанию. Если этот параметр конфигурации включен, пользователи на POS-терминале должны будут иметь разрешение **Разрешить принимать заказ** для приема заказов из POS-терминала.

### <a name="enable-manual-order-acceptance"></a>Включение приемки заказа вручную

По умолчанию строки заказа, назначенные магазину, помечаются как **Принято**. Это означает, что предполагается, что они будут выполнены из назначенного магазина и не будут требовать дополнительного назначения. В некоторых случаях предприятиям розничной торговли может требоваться вручную принимать заказы, прежде чем они могут быть выполнены. Например, если в магазине недостаточно персонала и он не может выполнять заказы, директор магазина принимает только столько заказов для обработки, сколько, по его мнению, может быть обработано должным образом в данный день. Пока заказ не принят, он может быть переназначен бэк-офисом другому магазину. Таким образом, приемка заказа также позволяет указать, что заказ подтверждается магазином и будет выполнен.

Строки заказа для самовывоза из магазина помечаются как **Ожидание** и на них не распространяется приемка.

Чтобы включить ручную приемку для строки заказа, перейдите к **Retail и Commerce** \> **Каналы** \> **Магазины** \> **Все розничные магазины**. Выберите магазин и щелкните код магазина для просмотра сведений о магазине. Выберите **Изменить**. На экспресс-вкладке **Общие** найдите подзаголовок **Выполнение заказов** и измените значение параметра **Принять вручную** с **Нет** на **Да**.

### <a name="enable-reject-order-line-capability"></a>Включение возможности отклонения строки заказа

Строки заказа также могут быть отклонены из POS-терминала. Отклонение строки заказа означает, что она не будет выполнена в этом магазине, и эта строка заказа отправляется обратно для назначения другому магазину или складу. Разрешение на отклонение строк заказа предоставляется через разрешение **Разрешить отклонять заказ** в группы разрешений POS-терминала, связанной с работником. При отклонении строки розничные продавцы могут разрешить своим работникам указывать причину отклонения. Это можно сделать с помощью информационных кодов **Действие инфокода** типа **Выполнение заказа** и присвоения информационного кода действию **Отклонить строку заказа** в профиле функциональности, связанном с каналом.

> [!NOTE]
> Только информационные коды **Действие инфокода** типа **Выполнение заказа** могут быть назначены действию **Отклонить строку заказа**.

### <a name="synchronize-changes-to-the-channel-database"></a>Синхронизация изменений с базой данных канала

После назначения операции сетке кнопок, назначения соответствующих разрешений и настройки канала изменения должны быть синхронизированы с базой данных канала. Для этого перейдите в раздел **Retail и Commerce** \> **ИТ Retail и Commerce** \> **График распределения**. Выберите график "1090, Регистры" для синхронизации изменений сетки кнопок, затем выберите команду **Запустить сейчас**. Затем синхронизируйте изменения разрешений, выбрав "1060, персонал" и нажмите кнопку **Запустить сейчас**. Затем синхронизируйте изменения канала, выбрав "1070, конфигурация канала" и нажмите кнопку **Запустить сейчас**. Наконец, синхронизируйте новый созданный информационный код причины отклонения, выбрав "1110, глобальная конфигурация" и нажав **Запустить сейчас**.

## <a name="use-order-fulfillment-at-the-point-of-sale"></a>Использование выполнения заказа на POS-терминале

Откройте POS-терминал и выберите операцию выполнения заказа. В зависимости от того, как она настроена, будут перечислены все строки, строки заказа для самовывоза либо строки заказа для отгрузки.

### <a name="order-fulfillment-view"></a>Представление выполнения заказов

Представление выполнения заказов перечисляет строки заказа для выполнение в магазине и содержит следующие столбцы:

- Порядковый номер
- Номер продукта
- описание
- Заказанное количество
- Запрошенная дата поставки
- Наименование Клиента
- Статус выполнения

Дополнительные сведения для определенной строки заказа можно просмотреть, выбрав строку заказа и затем открыв всплывающее меню, расположенное сразу под информацией о выполнившем вход пользователем или смене, которая отображается в заголовке POS-терминала. Это меню содержит 2 вкладки: одна для сведений о строке, другая для сведений о заказе. Вкладка сведений о строке включает в себя следующие сведения:

- Заказанное количество
- Количество, оставшееся для отгрузки/самовывоза
- Скомплектованное количество
- Упакованное количество
- Количество, на которое выставлены счета (уже полученное в магазине или отгруженное)
- Способ поставки
- Адрес поставки

Всплывающее меню по сведениями также имеет вкладку, которая содержит дополнительные сведения на уровне заказа, включая:

- Наименование Клиента
- Идентификатор клиента
- Порядковый номер
- Итог по заказу
- Сальдо заказа

В нижней части представления выполнения заказа находится панель действий. Она содержит все действия, которые можно использовать для строки заказа. Если действие недоступно на основе состояния строки, это действие будут недоступно.

По умолчанию заказы будут иметь статус **Принято**. Статус заказа можно просмотреть как столбец в списке строк заказа. Если на уровне канала настроено **Принять вручную**, все строки к отгрузке будут показаны как **Ожидание** и должны быть приняты, прежде чем они могут быть выполнены. Заказы для самовывоза из магазина находятся в состоянии **Ожидание** по умолчанию и не требуют принятия.

### <a name="order-fulfillment-line-actions"></a>Действия строки выполнения заказа

- **Изменить** — если заказ находится в состоянии ожидания, его можно изменить на POS-терминале. Заказы, которые уже были частично скомплектованы, упакованы или за которые частично выставлены счета, нельзя изменить из представления выполнения заказа.
- **Принять** — если **Принять вручную** настроено на уровне канала, строки необходимо сначала принять, прежде чем их можно перемещать через процесс выполнения заказа.
- **Комплектация** — параметр комплектации поддерживает несколько действий. Во-первых, **Комплектация** обновляет статус строки заказа, поэтому другие пользователи в магазине не будут пытаться выбрать эту же строку. Далее, **Печать отгрузочной накладной** печатает лист подбора для выбранной строки или строк, а также обновляет их статус на **Комплектация**. Форматы листа подбора управляются как часть форматов чеков. Дополнительные сведения о порядке настройки форматов чеков см. в разделе [Шаблоны и печать чеков](receipt-templates-printing.md). Наконец, **Пометить как скомплектованные** указывает, что строка была скомплектована. **Пометить как скомплектованные** инициирует соответствующие складские проводки в бэк-офисе. Действия комплектации могут быть выполнены одновременно для нескольких строк заказа в разных заказах и для всех способов поставки.
- **Отклонить** — можно отклонить строки или частичные строки. Это позволит заново назначить их из бэк-офиса другому магазину или складу. Строки могут быть отклонены только в том случае, если они еще не были скомплектованы или упакованы. Чтобы отклонить строку, которая уже скомплектована или упакована, комплектацию или упаковку этой строки необходимо отменить из бэк-офиса.
- **Упаковка** — параметр упаковки поддерживает два действия: **Печать отборочной накладной** печатает отборочную накладную для выбранных строк и **Пометить как упакованные** отмечает строки как упакованные и отмечает строки как доставленные в бэк-офисе. Только строки заказа, которые принадлежат одному заказу и имеют одинаковый способ доставки, могут быть упакованы одновременно. Форматы отборочной накладной управляются как часть форматов чеков. Дополнительные сведения о порядке настройки форматов чеков см. в разделе [Шаблоны и печать чеков](receipt-templates-printing.md).
- **Отгрузить** — действие отгрузки отмечает выбранные строки как **Доставлено** в бэк-офисе. После того как строка полностью отгружена, она больше не отображается в представлении выполнения заказа.
- **Отправка** — действие отправки добавляет строки в представление транзакции для отправки. Если имеются другие строки заказа, которые в данный момент не комплектуются, они будут добавлены в представление транзакции с количеством, равным нулю. После того как строка полностью скомплектована, она больше не отображается в представлении выполнения заказа.

### <a name="order-fulfillment-filtering"></a>Фильтрация выполнения заказов

Выполнение заказов на POS-терминале включает в себя фильтрацию, чтобы помочь пользователю быстро найти то, что им нужно. Фильтры можно изменить с помощью панели операций в нижней части экрана **POS**. По умолчанию применен фильтр **Тип доставки**, в зависимости от того, как настроена операция. Если операция настроена с параметром **Все заказы**, то этот фильтр применяется при доступе к выполнению заказов. Это справедливо и для параметров **Самовывоз из магазина** и **Доставка из магазина**. Другие фильтры, которые могут быть применены к представлению выполнения заказов:

- Номер клиента
- Наименование Клиента
- Адрес электронной почты клиента
- Порядковый номер
- Способ поставки
- Номер прихода
- Код ссылки на канал
- Номер исходного магазина
- Статус строки
- Дата создания
- Дата поставки
- Дата прихода


[!INCLUDE[footer-include](../includes/footer-banner.md)]
