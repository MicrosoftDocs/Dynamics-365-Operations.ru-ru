---
title: Цифровые подарочные сертификаты электронной коммерции
description: В этой теме описывается, как работать с цифровыми подарочными сертификатами в реализации электронной коммерции Microsoft Dynamics 365 Commerce. В ней также представлен обзор важных шагов настройки.
author: anupamar-ms
ms.date: 12/15/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: ''
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.15
ms.openlocfilehash: 212f425dc3603f838ce030d9ed86f2e418bef29a
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/11/2021
ms.locfileid: "6019941"
---
# <a name="e-commerce-digital-gift-cards"></a><span data-ttu-id="a97b8-104">Цифровые подарочные сертификаты электронной коммерции</span><span class="sxs-lookup"><span data-stu-id="a97b8-104">E-commerce digital gift cards</span></span>

[!include [banner](includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

<span data-ttu-id="a97b8-105">В этой теме описывается, как работать с цифровыми подарочными сертификатами в реализации электронной коммерции Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="a97b8-105">This topic describes how digital gift cards work in the e-commerce implementation of Microsoft Dynamics 365 Commerce.</span></span> <span data-ttu-id="a97b8-106">В ней также представлен обзор важных шагов настройки.</span><span class="sxs-lookup"><span data-stu-id="a97b8-106">It also provides an overview of important configuration steps.</span></span>

<span data-ttu-id="a97b8-107">В Dynamics 365 Commerce покупка цифровых подарочных сертификатов выполняется так же, как и покупка других продуктов в системе.</span><span class="sxs-lookup"><span data-stu-id="a97b8-107">In Dynamics 365 Commerce, the purchase of digital gift cards follows the same flow as the purchase of other products in the system.</span></span> <span data-ttu-id="a97b8-108">Настройка дополнительных модулей не требуется.</span><span class="sxs-lookup"><span data-stu-id="a97b8-108">No additional modules have to be configured.</span></span> <span data-ttu-id="a97b8-109">Если в корзину добавлено несколько подарочных сертификатов, номенклатуры подарочных сертификатов не суммируются в одной строке продажи.</span><span class="sxs-lookup"><span data-stu-id="a97b8-109">If multiple gift cards are added to the cart, the gift card items aren't aggregated on a single sales line.</span></span> <span data-ttu-id="a97b8-110">Это поведение необходимо, поскольку по каждой строке продажи выставляется накладная, используя отдельный номер подарочного сертификата.</span><span class="sxs-lookup"><span data-stu-id="a97b8-110">This behavior is required because each sales line is invoiced by using a separate gift card number.</span></span>

<span data-ttu-id="a97b8-111">Покупка цифровых подарочных сертификатов поддерживается в Dynamics 365 Commerce версии 10.0.16 и выше.</span><span class="sxs-lookup"><span data-stu-id="a97b8-111">The purchase of digital gift cards is supported in the Dynamics 365 Commerce 10.0.16 release and later.</span></span>

<span data-ttu-id="a97b8-112">На следующем рисунке показан пример страницы сведений о продукте (PDP) для цифрового подарочного сертификата на сайте электронной коммерции Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="a97b8-112">The following illustration shows an example of the product details page (PDP) for a digital gift card on the Fabrikam e-commerce site.</span></span>

![Пример цифрового подарочного сертификата PDP на сайте электронной коммерции Fabrikam](./media/GiftcardPDP.PNG)

## <a name="turn-on-the-digital-gift-card-feature-in-commerce-headquarters"></a><span data-ttu-id="a97b8-114">Включение функции цифрового подарочного сертификата в Commerce headquarters</span><span class="sxs-lookup"><span data-stu-id="a97b8-114">Turn on the digital gift card feature in Commerce headquarters</span></span>

<span data-ttu-id="a97b8-115">Для работы потока покупки цифровых подарочных сертификатов в Dynamics 365 Commerce в Commerce headquarters необходимо включить функцию **Покупка подарочного сертификата для функции электронной коммерции**.</span><span class="sxs-lookup"><span data-stu-id="a97b8-115">For the purchase flow for digital gift cards to work in Dynamics 365 Commerce, the **Purchasing gift card on e-Commerce feature** feature must be turned on in Commerce headquarters.</span></span> <span data-ttu-id="a97b8-116">Эту функцию можно найти в рабочей области **Управление функциями** в Commerce Headquarters, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="a97b8-116">You can find the feature in the **Feature management** workspace in Commerce headquarters, as shown in the following illustration.</span></span>

![Рабочая область управления функциями в Commerce Headquarters](./media/Featureflag.PNG)

## <a name="configure-a-digital-gift-card-in-commerce-headquarters"></a><span data-ttu-id="a97b8-118">Настройка цифрового подарочного сертификата в Commerce headquarters</span><span class="sxs-lookup"><span data-stu-id="a97b8-118">Configure a digital gift card in Commerce headquarters</span></span>

<span data-ttu-id="a97b8-119">Продукты цифрового подарочного сертификата должны быть настроены в Commerce headquarters.</span><span class="sxs-lookup"><span data-stu-id="a97b8-119">Digital gift card products should be configured in Commerce headquarters.</span></span> <span data-ttu-id="a97b8-120">Процесс напоминает процесс для других продуктов.</span><span class="sxs-lookup"><span data-stu-id="a97b8-120">The process resembles the process for other products.</span></span> <span data-ttu-id="a97b8-121">Однако следующие важные шаги используются только для настройки подарочных сертификатов для покупки.</span><span class="sxs-lookup"><span data-stu-id="a97b8-121">However, the following important steps are specific to the configuration of gift cards for purchase.</span></span> <span data-ttu-id="a97b8-122">Дополнительные сведения о создании и настройке продуктов см. в разделе [Создание нового продукта в Commerce](create-new-product-commerce.md).</span><span class="sxs-lookup"><span data-stu-id="a97b8-122">For more information about how to create and configure products, see [Create a new product in Commerce](create-new-product-commerce.md).</span></span>

- <span data-ttu-id="a97b8-123">При настройке цифровых подарочных сертификатов в диалоговом окне **Создать продукт** задайте для поля **Тип продукта** значение **Услуга**.</span><span class="sxs-lookup"><span data-stu-id="a97b8-123">When you configure digital gift card products in the **New product** dialog box, set the **Product type** field to **Service**.</span></span> <span data-ttu-id="a97b8-124">(Чтобы открыть диалоговое окно, перейдите в раздел **Розничная торговля и коммерция \> Продукты и категории \> Продукты по категориям** и выберите **Создать**.) Продукты типа **Услуга** не проверяются на наличие доступных запасов до размещения заказа.</span><span class="sxs-lookup"><span data-stu-id="a97b8-124">(To open the dialog box, go to **Retail and commerce \> Products and categories \> Products by category**, and select **New**.) Products of the **Service** type aren't checked for available inventory before an order is placed.</span></span> <span data-ttu-id="a97b8-125">Дополнительные сведения см. в разделе [Создание нового продукта](create-new-product-commerce.md#create-a-new-product).</span><span class="sxs-lookup"><span data-stu-id="a97b8-125">For more information, see [Create a new product](create-new-product-commerce.md#create-a-new-product).</span></span>
- <span data-ttu-id="a97b8-126">На странице **Параметры Commerce** на вкладке **Разноска** в поле **Продукт подарочного сертификата** должно быть установлено значение **Цифровой подарочный сертификат**, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="a97b8-126">On the **Commerce parameters** page, on the **Posting** tab, the **Gift card product** field must be set to **Digital Gift Card**, as shown in the following illustration.</span></span> <span data-ttu-id="a97b8-127">Если продукт является внешним подарочным сертификатом, дополнительные сведения см. в разделе [Поддержка внешних подарочных сертификатов](./dev-itpro/gift-card.md).</span><span class="sxs-lookup"><span data-stu-id="a97b8-127">If the product is an external gift card, see [Support for external gift cards](./dev-itpro/gift-card.md) for more information.</span></span>

    ![Поле продукта подарочного сертификата в Commerce headquarters](./media/PostGiftcard.png)

- <span data-ttu-id="a97b8-129">Если подарочный сертификат должен поддерживать несколько заранее определенных сумм (например, 25, 50 и 100 долларов США), аналитику **Размер** следует использовать для настройки этих предопределенных сумм.</span><span class="sxs-lookup"><span data-stu-id="a97b8-129">If a gift card must support multiple predefined amounts (for example, $25, $50, and $100), the **Size** dimension should be used to set up those predefined amounts.</span></span> <span data-ttu-id="a97b8-130">Каждая предопределенная сумма будет вариантом.</span><span class="sxs-lookup"><span data-stu-id="a97b8-130">Each predefined amount will be a variant.</span></span> <span data-ttu-id="a97b8-131">Дополнительные сведения см. в разделе [Аналитики продуктов](../supply-chain/pim/product-dimensions.md?toc=%2fdynamics365%2fretail%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="a97b8-131">For more information, see [Product dimensions](../supply-chain/pim/product-dimensions.md?toc=%2fdynamics365%2fretail%2ftoc.json).</span></span>
- <span data-ttu-id="a97b8-132">Если клиенты должны иметь возможность указать пользовательскую сумму для подарочного сертификата, сначала необходимо настроить вариант, допускающий ввод пользовательской суммы.</span><span class="sxs-lookup"><span data-stu-id="a97b8-132">If customers must be able to specify a custom amount for a gift card, first set up a variant that allows for a custom amount.</span></span> <span data-ttu-id="a97b8-133">Далее откройте продукт на странице **Выпущенные продукты по категориям**, а затем на экспресс-вкладке **Commerce** задайте в поле **Ввод цены** значение **Необходимо ввести новую цену**, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="a97b8-133">Next, open the product from the **Released products in category** page, and then, on the **Commerce** FastTab, set the **Key in price** field to **Must key in new price**, as shown in the following illustration.</span></span> <span data-ttu-id="a97b8-134">Эта настройка гарантирует, что клиенты смогут вводить цену при просмотре продукта в PDP.</span><span class="sxs-lookup"><span data-stu-id="a97b8-134">This setting ensures that customers can enter a price when they browse the product on a PDP.</span></span>

    ![Поле ввода цены в Commerce headquarters](./media/KeyInPrice.png)

- <span data-ttu-id="a97b8-136">Режим поставки для цифрового подарочного сертификата должен быть установлен на **Электронный**.</span><span class="sxs-lookup"><span data-stu-id="a97b8-136">The mode of delivery for a digital gift card must be set to **Electronic**.</span></span> <span data-ttu-id="a97b8-137">На странице **Режимы доставки** (**Розничная торговля и коммерция \> Настройка канала \> Режимы доставки**) выберите способ доставки **Электронный** на панели списка, а затем добавьте в сетку на экспресс-вкладке **Продукты** цифровой подарочный сертификат, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="a97b8-137">On the **Modes of delivery** page (**Retail and commerce \> Channel setup \> Modes of delivery**), select the **Electronic** mode of delivery in the list pane, and then add the digital gift card product to the grid on the **Products** FastTab, as shown in the following illustration.</span></span> <span data-ttu-id="a97b8-138">Для получения дополнительных сведений см. раздел [Настройка режимов доставки](/dynamicsax-2012/appuser-itpro/set-up-modes-of-delivery).</span><span class="sxs-lookup"><span data-stu-id="a97b8-138">For more information, see [Set up modes of delivery](/dynamicsax-2012/appuser-itpro/set-up-modes-of-delivery).</span></span>

    ![Продукты цифрового подарочного сертификата на странице режима поставки в модуле Commerce headquarters](./media/ElectronicMode.PNG)

- <span data-ttu-id="a97b8-140">Убедитесь, что профиль интерактивных функций был создан и связан с вашим Интернет-магазином в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="a97b8-140">Make sure that an online functionality profile has been created and associated with your online store in Commerce headquarters.</span></span> <span data-ttu-id="a97b8-141">В профиле функциональности установите для параметра **Объединить продукты** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="a97b8-141">In the functionality profile, set the **Aggregate products** option to **Yes**.</span></span> <span data-ttu-id="a97b8-142">Эта настройка гарантирует, что все номенклатуры, кроме подарочных сертификатов, объединяются.</span><span class="sxs-lookup"><span data-stu-id="a97b8-142">This setting ensures that all items except gift cards are aggregated.</span></span> <span data-ttu-id="a97b8-143">Дополнительные сведения см. в разделе [Создание профиля функциональности для онлайн-торговли](online-functionality-profile.md).</span><span class="sxs-lookup"><span data-stu-id="a97b8-143">For more information, see [Create an online functionality profile](online-functionality-profile.md).</span></span>
- <span data-ttu-id="a97b8-144">Чтобы клиенты получали сообщение электронной почты после того, как выставляется накладная на подарочный сертификат, создайте новый тип уведомления по электронной почте на странице **Профили уведомлений по электронной почте** и задайте в поле **Тип уведомления по электронной почте** значение **Создан подарочный сертификат**.</span><span class="sxs-lookup"><span data-stu-id="a97b8-144">To ensure that customers receive an email after a gift card is invoiced, create a new email notification type on the **Email notification profiles** page, and set the **Email notification type** field to **Issue gift card**.</span></span> <span data-ttu-id="a97b8-145">Дополнительные сведения см. в разделе [Настройка профиля уведомлений по электронной почте](email-notification-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="a97b8-145">For more information, see [Set up an email notification profile](email-notification-profiles.md).</span></span>

## <a name="add-product-images-to-the-commerce-site-builder-media-library"></a><span data-ttu-id="a97b8-146">Добавление изображений продуктов в библиотеку мультимедиа конструктора сайтов Commerce</span><span class="sxs-lookup"><span data-stu-id="a97b8-146">Add product images to the Commerce site builder Media library</span></span>

<span data-ttu-id="a97b8-147">Необходимо добавить изображения продуктов для цифрового подарочного сертификата в библиотеку мультимедиа конструктора сайтов Commerce.</span><span class="sxs-lookup"><span data-stu-id="a97b8-147">You must add product images for digital gift card products to the Commerce site builder Media library.</span></span> <span data-ttu-id="a97b8-148">Убедитесь, что имена файлов изображений подарочных сертификатов соответствуют соглашениям об именовании сайта для изображений продуктов.</span><span class="sxs-lookup"><span data-stu-id="a97b8-148">Make sure that the file names of the gift card image files follow your site's naming conventions for product images.</span></span> <span data-ttu-id="a97b8-149">Дополнительные сведения см. в разделе [Отправка изображений](dam-upload-images.md).</span><span class="sxs-lookup"><span data-stu-id="a97b8-149">For more information, see [Upload images](dam-upload-images.md).</span></span>

## <a name="configure-a-custom-amount-for-a-digital-gift-card-in-commerce-site-builder"></a><span data-ttu-id="a97b8-150">Настройка настраиваемой суммы для цифрового подарочного сертификата в конструкторе сайтов Commerce</span><span class="sxs-lookup"><span data-stu-id="a97b8-150">Configure a custom amount for a digital gift card in Commerce site builder</span></span>

<span data-ttu-id="a97b8-151">Если цифровой подарочный сертификат настроен на разрешение нестандартной суммы, эта функция должна быть также включена в [модуле поля покупки](add-buy-box.md), который используется на страницах сведений о продукте на сайте.</span><span class="sxs-lookup"><span data-stu-id="a97b8-151">If a digital gift card is configured to allow for a custom amount, this behavior must also be enabled in the [buy box module](add-buy-box.md) that is used on your site's PDPs.</span></span> <span data-ttu-id="a97b8-152">Модуль поля покупки поддерживает настройку модуля, чтобы иметь возможность использовать нестандартные суммы.</span><span class="sxs-lookup"><span data-stu-id="a97b8-152">The buy box module supports module configuration to allow for custom amounts.</span></span> <span data-ttu-id="a97b8-153">Можно также определить минимальные и максимальные суммы, разрешенные для настраиваемых сумм.</span><span class="sxs-lookup"><span data-stu-id="a97b8-153">You can also define the minimum and maximum amounts that are allowed for custom amounts.</span></span>

<span data-ttu-id="a97b8-154">Чтобы настроить настраиваемую сумму для цифрового подарочного сертификата в конструкторе сайтов Commerce, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="a97b8-154">To configure a custom amount for a digital gift card in Commerce site builder, follow these steps.</span></span>

1. <span data-ttu-id="a97b8-155">Перейдите к модулю поле покупки, который используется на страницах сведений о продуктах сайта.</span><span class="sxs-lookup"><span data-stu-id="a97b8-155">Go to the buy box module that is used on your site's PDPs.</span></span> <span data-ttu-id="a97b8-156">Этот модуль поля покупки может быть реализован в фрагменте, в шаблоне или на странице.</span><span class="sxs-lookup"><span data-stu-id="a97b8-156">This buy box module might be implemented in a fragment, in a template, or on a page.</span></span>
1. <span data-ttu-id="a97b8-157">Выберите **Правка**.</span><span class="sxs-lookup"><span data-stu-id="a97b8-157">Select **Edit**.</span></span>
1. <span data-ttu-id="a97b8-158">В области свойств справа установите флажок **Разрешить нестандартную цену**.</span><span class="sxs-lookup"><span data-stu-id="a97b8-158">In the properties pane on the right, select the **Allow custom price** check box.</span></span>
1. <span data-ttu-id="a97b8-159">Необязательно: для определения минимальных и максимальных сумм для настраиваемых сумм введите суммы в полях **Минимальная цена** и **Максимальная цена**.</span><span class="sxs-lookup"><span data-stu-id="a97b8-159">Optional: To define minimum and maximum amounts for custom amounts, enter amounts under **Minimum price** and **Maximum price**.</span></span>
1. <span data-ttu-id="a97b8-160">Выберите **Завершить правку**, затем выберите **Опубликовать**.</span><span class="sxs-lookup"><span data-stu-id="a97b8-160">Select **Finish editing**, and then select **Publish**.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a97b8-161">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="a97b8-161">Additional resources</span></span>

[<span data-ttu-id="a97b8-162">Модуль поля покупки</span><span class="sxs-lookup"><span data-stu-id="a97b8-162">Buy box module</span></span>](add-buy-box.md)

[<span data-ttu-id="a97b8-163">Модуль оформления заказа</span><span class="sxs-lookup"><span data-stu-id="a97b8-163">Checkout module</span></span>](add-checkout-module.md)

[<span data-ttu-id="a97b8-164">Модуль корзины</span><span class="sxs-lookup"><span data-stu-id="a97b8-164">Cart module</span></span>](add-cart-module.md)

[<span data-ttu-id="a97b8-165">Создание нового продукта в Commerce</span><span class="sxs-lookup"><span data-stu-id="a97b8-165">Create a new product in Commerce</span></span>](create-new-product-commerce.md)

[<span data-ttu-id="a97b8-166">Настройка способов поставки</span><span class="sxs-lookup"><span data-stu-id="a97b8-166">Set up modes of delivery</span></span>](/dynamicsax-2012/appuser-itpro/set-up-modes-of-delivery)

[<span data-ttu-id="a97b8-167">Аналитики продуктов</span><span class="sxs-lookup"><span data-stu-id="a97b8-167">Product dimensions</span></span>](../supply-chain/pim/product-dimensions.md?toc=%2fdynamics365%2fretail%2ftoc.json)

[<span data-ttu-id="a97b8-168">Настройка профиля уведомлений по электронной почте</span><span class="sxs-lookup"><span data-stu-id="a97b8-168">Set up an email notification profile</span></span>](email-notification-profiles.md)

[<span data-ttu-id="a97b8-169">Создание профиля функциональности для онлайн-торговли</span><span class="sxs-lookup"><span data-stu-id="a97b8-169">Create an online functionality profile</span></span>](online-functionality-profile.md)

[<span data-ttu-id="a97b8-170">Поддержка внешних подарочных карт</span><span class="sxs-lookup"><span data-stu-id="a97b8-170">Support for external gift cards</span></span>](./dev-itpro/gift-card.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]