---
title: Модуль корзины
description: В этом разделе описываются модули корзины, а также описывается, как добавлять их к страницам сайта в Microsoft Dynamics 365 Commerce.
author: anupamar-ms
manager: annbe
ms.date: 10/31/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Retail, Core, Operations
ms.search.region: Global
ms.search.industry: ''
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 1c910f08e5999ec586b5cb656d5769e9d4abd069
ms.sourcegitcommit: 295d940a345879b3dfc5991e387b91c7257019ea
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/01/2019
ms.locfileid: "2696769"
---
# <a name="cart-module"></a>Модуль корзины

[!include [banner](includes/preview-banner.md)]
[!include [banner](includes/banner.md)]

В этом разделе описываются модули корзины, а также описывается, как добавлять их к страницам сайта в Microsoft Dynamics 365 Commerce.

## <a name="overview"></a>Обзор

Модуль корзины — это контейнер, который используется для размещения всех модулей, которые необходимы для демонстрации номенклатур в корзине. Например, он включает в себя все номенклатуры, добавленные в корзину, сводку заказа и рекламные коды.

Модуль корзины обрабатывает данные на основе идентификатора корзины. Идентификатор корзины — это cookie-файл браузера, доступный на всем сайте.

## <a name="cart-module-properties-and-slots"></a>Свойства и слоты модуля корзины

В качестве контейнера модуль корзины управляет некоторыми основными свойствами, такими как заголовок и ширина. Заголовок обычно представляет собой текст, например **Корзина**, **Ваша корзина** или **Товары в корзине**. Настройка ширины определяет, должны ли модули внутри контейнера быть размещены внутри этого контейнера или они могут заполнять экран.

Страница корзины разделяется на несколько областей: элементы строки корзины, сводка заказа и оформление заказа, а также функция "Поиск в магазине". Каждый регион сопоставляется с ячейкой в модуле корзины, и каждая ячейка принимает предопределенный набор модулей.

## <a name="modules-that-can-be-used-in-a-cart-module"></a>Модули, которые могут быть использованы в модуле корзины

- **Номенклатуры строки корзины** — этот модуль показывает сводку по каждой номенклатуре, которая была добавлена в корзину. Эти сведения включают название продукта, выбранные аналитики, цену, количество и скидки. Этот модуль также поддерживает такие действия, как "удалить из корзины" и "добавить в список желаемых". Для каждой номенклатуры строки имеется возможность доставить номенклатуру или забрать ее из магазина. Этот параметр должен быть настроен отдельно в модуле получения в магазине.
- **Сводка заказа** — в этом модуле отображается сводка заказа. Сведения включают в себя промежуточный итог, отгрузку, налоги и экономию. Для этого модуля можно настроить заголовок.
- **Код акции** — этот модуль позволяет клиентам использовать коды рекламных акций. Код рекламной акции может быть применен или удален.
- **Оформление заказа** — этот модуль инициирует действие оформления заказа и перенаправляет пользователя на страницу оформления заказа. Для этого модуля должны быть настроены три ссылки:

    - **Оформить заказ** — эта ссылка заставляет пользователей выполнить вход в систему, если они еще не выполнили вход в систему.
    - **Гостевое оформление заказа** — эта ссылка позволяет анонимным клиентам размещать заказы. Она отображается только в том случае, если клиенты не вошли в систему.
    - **Назад к покупкам** — эта ссылка позволяет клиентам перейти на домашнюю страницу или на какую-то другую страницу, чтобы они могли продолжать покупки.

- **Блок насыщенного контента** — этот модуль поддерживает настраиваемые сообщения в модуле корзины. Сообщения выдаются системой управления контентом (CMS). Любое сообщение может быть добавлено, например "По вопросам, связанным с заказом, обращайтесь по телефону 1-800-Fabrikam."
- **Забрать в магазине** — этот модуль отображает список ближайших магазинов, в которых номенклатура доступна для получения. По умолчанию этот модуль отображает магазины, находящиеся в радиусе 50 миль от местоположения клиента. Однако в модуле можно настроить радиус поиска. Для каждого магазина выполняется проверка запасов, если включена функция проверки запасов, и отображается соответствующее сообщение о наличии или отсутствии.
- **Поиск магазина по Картам Bing** — этот модуль может использоваться внутри модуля получения в магазине. Он позволяет клиентам искать магазины, вводя местоположение. Интерфейс прикладного программирования (API) геокодирования карт Bing используется для преобразования местоположения, введенного клиентом, в широту и долготу. Если этот модуль не используется, отображаются только магазины около текущего местоположения клиента, и клиент не может выполнить поиск в другом местоположении.

## <a name="cart-module-settings"></a>Настройки модуля корзины

Для модуля корзины имеется три настраиваемых параметра:

- **Максимальное количество** — максимальное число каждой номенклатуры, которое может быть добавлено в корзину. Например, розничная сеть может решить, что в одну проводку можно продать только 10 шт. каждого продукта.
- **Проверка запасов** — когда задано значение **True**, номенклатура добавляется в корзину только после того, как модуль поля покупки проверит, что товар есть на складе. Данная проверка запасов выполняется как для сценариев, в которых номенклатура будет отгружена, так и для сценариев, в которых она будет получена в магазине. Если для данного параметра установлено значение **False**, проверка запасов не выполняется до того, как номенклатура добавляется в корзину и заказ размещается.
- **Буфер запасов** — запасы поддерживаются в реальном времени, и когда многие клиенты размещают заказы, может быть трудно обеспечить точную инвентаризацию запасов. Поэтому буфер можно определить для запасов. Когда проверка запасов выполняется, если запасы меньше суммы буфера, продукт рассматривается как отсутствующий в запасах. Таким образом, когда продажи выполняются быстро по нескольким каналам, так что инвентаризация запасов не полностью синхронизирована, существует меньше риска, что номенклатура, отсутствующая на складе, будет продана.

## <a name="retail-server-interaction"></a>Взаимодействие с Retail Server

Модуль корзины извлекает информацию о продукции с помощью интерфейсов API серверной службы Retail Server. Идентификатор корзины из cookie-файла браузера используется для получения всей информации о продукте с сервера Retail Server.

## <a name="add-a-cart-module-to-a-page"></a>Добавление модуля корзины на страницу

Чтобы добавить модуль корзины на новую страницу и задать необходимые свойства, выполните следующие действия.

1. Создайте фрагмент с именем **фрагмент корзины** и добавьте в него модуль корзины.
1. В ячейке **Номенклатуры строки корзины** модуля корзины добавьте модуль номенклатур строки корзины.
1. В ячейке **Сводка по заказу** добавьте модуль сводки по заказу.
1. В ячейку **Код акции** добавьте модуль кода акции.
1. В ячейку **Оформление заказа** добавьте модуль оформления заказа.
1. В ячейку **Поиск в магазине** добавьте модуль комплектации в магазине.
1. В модуле получения в магазине выберите ячейку **Поиск магазина** и добавьте поиск магазина с помощью модуля карт Bing.
1. Верните фрагмент и опубликуйте его.
1. Создайте шаблон с именем **шаблон корзины** и добавьте фрагмент корзины, который только что был создан.
1. Сохраните шаблон, верните его и опубликуйте.
1. Создайте страницу, в которой используется новый шаблон.
1. Сохраните и просмотрите страницу.
1. Верните страницу и опубликуйте его.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор начального набора](starter-kit-overview.md)

[Модуль контейнера](add-container-module.md)

[Модуль поля покупки](add-buy-box.md)

[Модуль оформления заказа](add-checkout-module.md)

[Модуль подтверждения заказа](order-confirmation-module.md)

[Модуль заголовка](author-header-module.md)

[Модуль нижнего колонтитула](author-footer-module.md)
