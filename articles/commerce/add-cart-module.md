---
title: Модуль корзины
description: В этом разделе описываются модули корзины, а также описывается, как добавлять их к страницам сайта в Microsoft Dynamics 365 Commerce.
author: anupamar-ms
manager: annbe
ms.date: 10/31/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Retail, Core, Operations
ms.search.region: Global
ms.search.industry: ''
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 1c910f08e5999ec586b5cb656d5769e9d4abd069
ms.sourcegitcommit: 295d940a345879b3dfc5991e387b91c7257019ea
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/01/2019
ms.locfileid: "2696769"
---
# <a name="cart-module"></a><span data-ttu-id="a7766-103">Модуль корзины</span><span class="sxs-lookup"><span data-stu-id="a7766-103">Cart module</span></span>

[!include [banner](includes/preview-banner.md)]
[!include [banner](includes/banner.md)]

<span data-ttu-id="a7766-104">В этом разделе описываются модули корзины, а также описывается, как добавлять их к страницам сайта в Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="a7766-104">This topic covers cart modules and describes how to add them to site pages in Microsoft Dynamics 365 Commerce.</span></span>

## <a name="overview"></a><span data-ttu-id="a7766-105">Обзор</span><span class="sxs-lookup"><span data-stu-id="a7766-105">Overview</span></span>

<span data-ttu-id="a7766-106">Модуль корзины — это контейнер, который используется для размещения всех модулей, которые необходимы для демонстрации номенклатур в корзине.</span><span class="sxs-lookup"><span data-stu-id="a7766-106">A cart module is container that is used to host all the modules that are required to showcase items that are in the cart.</span></span> <span data-ttu-id="a7766-107">Например, он включает в себя все номенклатуры, добавленные в корзину, сводку заказа и рекламные коды.</span><span class="sxs-lookup"><span data-stu-id="a7766-107">For example, it includes all the items that have been added to the cart, the order summary, and promotional codes.</span></span>

<span data-ttu-id="a7766-108">Модуль корзины обрабатывает данные на основе идентификатора корзины.</span><span class="sxs-lookup"><span data-stu-id="a7766-108">The cart module renders data based on the cart ID.</span></span> <span data-ttu-id="a7766-109">Идентификатор корзины — это cookie-файл браузера, доступный на всем сайте.</span><span class="sxs-lookup"><span data-stu-id="a7766-109">The cart ID is a browser cookie that is available throughout the site.</span></span>

## <a name="cart-module-properties-and-slots"></a><span data-ttu-id="a7766-110">Свойства и слоты модуля корзины</span><span class="sxs-lookup"><span data-stu-id="a7766-110">Cart module properties and slots</span></span>

<span data-ttu-id="a7766-111">В качестве контейнера модуль корзины управляет некоторыми основными свойствами, такими как заголовок и ширина.</span><span class="sxs-lookup"><span data-stu-id="a7766-111">As a container, a cart module controls some basic properties, such as the heading and the width.</span></span> <span data-ttu-id="a7766-112">Заголовок обычно представляет собой текст, например **Корзина**, **Ваша корзина** или **Товары в корзине**.</span><span class="sxs-lookup"><span data-stu-id="a7766-112">The heading is typically text such as **Shopping bag**, **Your cart**, or **Items in your cart**.</span></span> <span data-ttu-id="a7766-113">Настройка ширины определяет, должны ли модули внутри контейнера быть размещены внутри этого контейнера или они могут заполнять экран.</span><span class="sxs-lookup"><span data-stu-id="a7766-113">The width setting determines whether the modules inside the container must fit within that container, or whether they can fill the screen.</span></span>

<span data-ttu-id="a7766-114">Страница корзины разделяется на несколько областей: элементы строки корзины, сводка заказа и оформление заказа, а также функция "Поиск в магазине".</span><span class="sxs-lookup"><span data-stu-id="a7766-114">The cart page is divided into multiple regions: cart line items, order summary and checkout, and "find in store" functionality.</span></span> <span data-ttu-id="a7766-115">Каждый регион сопоставляется с ячейкой в модуле корзины, и каждая ячейка принимает предопределенный набор модулей.</span><span class="sxs-lookup"><span data-stu-id="a7766-115">Each region is mapped to a slot in the cart module, and every slot accepts a predefined set of modules.</span></span>

## <a name="modules-that-can-be-used-in-a-cart-module"></a><span data-ttu-id="a7766-116">Модули, которые могут быть использованы в модуле корзины</span><span class="sxs-lookup"><span data-stu-id="a7766-116">Modules that can be used in a cart module</span></span>

- <span data-ttu-id="a7766-117">**Номенклатуры строки корзины** — этот модуль показывает сводку по каждой номенклатуре, которая была добавлена в корзину.</span><span class="sxs-lookup"><span data-stu-id="a7766-117">**Cart line items** – This module shows a summary of every item that has been added to the cart.</span></span> <span data-ttu-id="a7766-118">Эти сведения включают название продукта, выбранные аналитики, цену, количество и скидки.</span><span class="sxs-lookup"><span data-stu-id="a7766-118">The information includes the product title, selected dimensions, price, quantity, and discounts.</span></span> <span data-ttu-id="a7766-119">Этот модуль также поддерживает такие действия, как "удалить из корзины" и "добавить в список желаемых".</span><span class="sxs-lookup"><span data-stu-id="a7766-119">This module also supports actions such as "remove from cart" and "add to wish list."</span></span> <span data-ttu-id="a7766-120">Для каждой номенклатуры строки имеется возможность доставить номенклатуру или забрать ее из магазина.</span><span class="sxs-lookup"><span data-stu-id="a7766-120">For each line item, there is an option to ship the item or pick it up from the store.</span></span> <span data-ttu-id="a7766-121">Этот параметр должен быть настроен отдельно в модуле получения в магазине.</span><span class="sxs-lookup"><span data-stu-id="a7766-121">This option must be configured separately in the pick up in store module.</span></span>
- <span data-ttu-id="a7766-122">**Сводка заказа** — в этом модуле отображается сводка заказа.</span><span class="sxs-lookup"><span data-stu-id="a7766-122">**Order summary** – This module shows an order summary.</span></span> <span data-ttu-id="a7766-123">Сведения включают в себя промежуточный итог, отгрузку, налоги и экономию.</span><span class="sxs-lookup"><span data-stu-id="a7766-123">The information includes the subtotal, shipping, taxes, and savings.</span></span> <span data-ttu-id="a7766-124">Для этого модуля можно настроить заголовок.</span><span class="sxs-lookup"><span data-stu-id="a7766-124">A heading can be configured for this module.</span></span>
- <span data-ttu-id="a7766-125">**Код акции** — этот модуль позволяет клиентам использовать коды рекламных акций.</span><span class="sxs-lookup"><span data-stu-id="a7766-125">**Promo code** – This module lets the customer redeem promotional codes.</span></span> <span data-ttu-id="a7766-126">Код рекламной акции может быть применен или удален.</span><span class="sxs-lookup"><span data-stu-id="a7766-126">A promotional code can be applied or removed.</span></span>
- <span data-ttu-id="a7766-127">**Оформление заказа** — этот модуль инициирует действие оформления заказа и перенаправляет пользователя на страницу оформления заказа.</span><span class="sxs-lookup"><span data-stu-id="a7766-127">**Checkout** – This module initiates the checkout action and redirects the user to the checkout page.</span></span> <span data-ttu-id="a7766-128">Для этого модуля должны быть настроены три ссылки:</span><span class="sxs-lookup"><span data-stu-id="a7766-128">Three links must be configured for this module:</span></span>

    - <span data-ttu-id="a7766-129">**Оформить заказ** — эта ссылка заставляет пользователей выполнить вход в систему, если они еще не выполнили вход в систему.</span><span class="sxs-lookup"><span data-stu-id="a7766-129">**Checkout** – This link forces customers to sign in if they aren't already signed in.</span></span>
    - <span data-ttu-id="a7766-130">**Гостевое оформление заказа** — эта ссылка позволяет анонимным клиентам размещать заказы.</span><span class="sxs-lookup"><span data-stu-id="a7766-130">**Guest checkout** – This link lets anonymous customers place orders.</span></span> <span data-ttu-id="a7766-131">Она отображается только в том случае, если клиенты не вошли в систему.</span><span class="sxs-lookup"><span data-stu-id="a7766-131">It's shown only when customers aren't signed in.</span></span>
    - <span data-ttu-id="a7766-132">**Назад к покупкам** — эта ссылка позволяет клиентам перейти на домашнюю страницу или на какую-то другую страницу, чтобы они могли продолжать покупки.</span><span class="sxs-lookup"><span data-stu-id="a7766-132">**Back to shopping** – This link lets customers go to the home page or any other page, so that they can continue to shop.</span></span>

- <span data-ttu-id="a7766-133">**Блок насыщенного контента** — этот модуль поддерживает настраиваемые сообщения в модуле корзины.</span><span class="sxs-lookup"><span data-stu-id="a7766-133">**Content rich block** – This module supports custom messaging in the cart module.</span></span> <span data-ttu-id="a7766-134">Сообщения выдаются системой управления контентом (CMS).</span><span class="sxs-lookup"><span data-stu-id="a7766-134">The messages are driven by the content management system (CMS).</span></span> <span data-ttu-id="a7766-135">Любое сообщение может быть добавлено, например "По вопросам, связанным с заказом, обращайтесь по телефону 1-800-Fabrikam."</span><span class="sxs-lookup"><span data-stu-id="a7766-135">Any message can be added, such as "For issues with the order, contact 1-800-Fabrikam."</span></span>
- <span data-ttu-id="a7766-136">**Забрать в магазине** — этот модуль отображает список ближайших магазинов, в которых номенклатура доступна для получения.</span><span class="sxs-lookup"><span data-stu-id="a7766-136">**Pick up in store** – This module shows a list of nearby stores where an item is available for pickup.</span></span> <span data-ttu-id="a7766-137">По умолчанию этот модуль отображает магазины, находящиеся в радиусе 50 миль от местоположения клиента.</span><span class="sxs-lookup"><span data-stu-id="a7766-137">By default, this module shows stores that are within a 50-mile radius of the customer's location.</span></span> <span data-ttu-id="a7766-138">Однако в модуле можно настроить радиус поиска.</span><span class="sxs-lookup"><span data-stu-id="a7766-138">However, the search radius can be customized in the module.</span></span> <span data-ttu-id="a7766-139">Для каждого магазина выполняется проверка запасов, если включена функция проверки запасов, и отображается соответствующее сообщение о наличии или отсутствии.</span><span class="sxs-lookup"><span data-stu-id="a7766-139">For each store, an inventory check is done, if the inventory check functionality is turned on, and an appropriate in-stock or out-of-stock message is shown.</span></span>
- <span data-ttu-id="a7766-140">**Поиск магазина по Картам Bing** — этот модуль может использоваться внутри модуля получения в магазине.</span><span class="sxs-lookup"><span data-stu-id="a7766-140">**Store search by Bing Maps** – This module can be used inside the pick up in store module.</span></span> <span data-ttu-id="a7766-141">Он позволяет клиентам искать магазины, вводя местоположение.</span><span class="sxs-lookup"><span data-stu-id="a7766-141">It lets customers search for stores by entering a location.</span></span> <span data-ttu-id="a7766-142">Интерфейс прикладного программирования (API) геокодирования карт Bing используется для преобразования местоположения, введенного клиентом, в широту и долготу.</span><span class="sxs-lookup"><span data-stu-id="a7766-142">The Bing Maps geocoding application programming interface (API) is used to convert the location that the customer entered to a latitude and a longitude.</span></span> <span data-ttu-id="a7766-143">Если этот модуль не используется, отображаются только магазины около текущего местоположения клиента, и клиент не может выполнить поиск в другом местоположении.</span><span class="sxs-lookup"><span data-stu-id="a7766-143">If this module isn't used, only stores that are near the customer's current location are shown, and the customer can't search for a different location.</span></span>

## <a name="cart-module-settings"></a><span data-ttu-id="a7766-144">Настройки модуля корзины</span><span class="sxs-lookup"><span data-stu-id="a7766-144">Cart module settings</span></span>

<span data-ttu-id="a7766-145">Для модуля корзины имеется три настраиваемых параметра:</span><span class="sxs-lookup"><span data-stu-id="a7766-145">Cart modules have three settings that can be configured:</span></span>

- <span data-ttu-id="a7766-146">**Максимальное количество** — максимальное число каждой номенклатуры, которое может быть добавлено в корзину.</span><span class="sxs-lookup"><span data-stu-id="a7766-146">**Maximum quantity** – The maximum number of each item that can be added to the cart.</span></span> <span data-ttu-id="a7766-147">Например, розничная сеть может решить, что в одну проводку можно продать только 10 шт. каждого продукта.</span><span class="sxs-lookup"><span data-stu-id="a7766-147">For example, a retailer might decide that only 10 of each product can be sold in a single transaction.</span></span>
- <span data-ttu-id="a7766-148">**Проверка запасов** — когда задано значение **True**, номенклатура добавляется в корзину только после того, как модуль поля покупки проверит, что товар есть на складе.</span><span class="sxs-lookup"><span data-stu-id="a7766-148">**Inventory check** – When the value is set to **True**, an item is added to the cart only after the buy box module makes sure that it's in stock.</span></span> <span data-ttu-id="a7766-149">Данная проверка запасов выполняется как для сценариев, в которых номенклатура будет отгружена, так и для сценариев, в которых она будет получена в магазине.</span><span class="sxs-lookup"><span data-stu-id="a7766-149">This inventory check is done both for scenarios where the item will be shipped and for scenarios where it will be picked up in the store.</span></span> <span data-ttu-id="a7766-150">Если для данного параметра установлено значение **False**, проверка запасов не выполняется до того, как номенклатура добавляется в корзину и заказ размещается.</span><span class="sxs-lookup"><span data-stu-id="a7766-150">If the value is set to **False**, no inventory check is done before an item is added to the cart and the order is placed.</span></span>
- <span data-ttu-id="a7766-151">**Буфер запасов** — запасы поддерживаются в реальном времени, и когда многие клиенты размещают заказы, может быть трудно обеспечить точную инвентаризацию запасов.</span><span class="sxs-lookup"><span data-stu-id="a7766-151">**Inventory buffer** – Inventory is maintained in real time, and when many customers place orders, it can be difficult to maintain an accurate inventory count.</span></span> <span data-ttu-id="a7766-152">Поэтому буфер можно определить для запасов.</span><span class="sxs-lookup"><span data-stu-id="a7766-152">Therefore, a buffer can be defined for inventory.</span></span> <span data-ttu-id="a7766-153">Когда проверка запасов выполняется, если запасы меньше суммы буфера, продукт рассматривается как отсутствующий в запасах.</span><span class="sxs-lookup"><span data-stu-id="a7766-153">When an inventory check is done, if the inventory is less than the buffer amount, the product is treated as out of stock.</span></span> <span data-ttu-id="a7766-154">Таким образом, когда продажи выполняются быстро по нескольким каналам, так что инвентаризация запасов не полностью синхронизирована, существует меньше риска, что номенклатура, отсутствующая на складе, будет продана.</span><span class="sxs-lookup"><span data-stu-id="a7766-154">Therefore, when sales occur quickly through several channels, so that the inventory count isn't fully synced, there is less risk that an item that is out of stock will be sold.</span></span>

## <a name="retail-server-interaction"></a><span data-ttu-id="a7766-155">Взаимодействие с Retail Server</span><span class="sxs-lookup"><span data-stu-id="a7766-155">Retail Server interaction</span></span>

<span data-ttu-id="a7766-156">Модуль корзины извлекает информацию о продукции с помощью интерфейсов API серверной службы Retail Server.</span><span class="sxs-lookup"><span data-stu-id="a7766-156">The cart module retrieves product information by using Retail Server APIs.</span></span> <span data-ttu-id="a7766-157">Идентификатор корзины из cookie-файла браузера используется для получения всей информации о продукте с сервера Retail Server.</span><span class="sxs-lookup"><span data-stu-id="a7766-157">The cart ID from the browser cookie is used to retrieve all the product information from Retail Server.</span></span>

## <a name="add-a-cart-module-to-a-page"></a><span data-ttu-id="a7766-158">Добавление модуля корзины на страницу</span><span class="sxs-lookup"><span data-stu-id="a7766-158">Add a cart module to a page</span></span>

<span data-ttu-id="a7766-159">Чтобы добавить модуль корзины на новую страницу и задать необходимые свойства, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="a7766-159">To add a cart module to a new page and set the required properties, follow these steps.</span></span>

1. <span data-ttu-id="a7766-160">Создайте фрагмент с именем **фрагмент корзины** и добавьте в него модуль корзины.</span><span class="sxs-lookup"><span data-stu-id="a7766-160">Create a fragment that is named **cart fragment**, and add a cart module to it.</span></span>
1. <span data-ttu-id="a7766-161">В ячейке **Номенклатуры строки корзины** модуля корзины добавьте модуль номенклатур строки корзины.</span><span class="sxs-lookup"><span data-stu-id="a7766-161">In the **Cart line items** slot of the cart module, add a cart line items module.</span></span>
1. <span data-ttu-id="a7766-162">В ячейке **Сводка по заказу** добавьте модуль сводки по заказу.</span><span class="sxs-lookup"><span data-stu-id="a7766-162">In the **Order summary** slot, add an order summary module.</span></span>
1. <span data-ttu-id="a7766-163">В ячейку **Код акции** добавьте модуль кода акции.</span><span class="sxs-lookup"><span data-stu-id="a7766-163">In the **Promo code** slot, add a promo code module.</span></span>
1. <span data-ttu-id="a7766-164">В ячейку **Оформление заказа** добавьте модуль оформления заказа.</span><span class="sxs-lookup"><span data-stu-id="a7766-164">In the **Checkout** slot, add a checkout module.</span></span>
1. <span data-ttu-id="a7766-165">В ячейку **Поиск в магазине** добавьте модуль комплектации в магазине.</span><span class="sxs-lookup"><span data-stu-id="a7766-165">In the **Find in Store** slot, add a pick up in store module.</span></span>
1. <span data-ttu-id="a7766-166">В модуле получения в магазине выберите ячейку **Поиск магазина** и добавьте поиск магазина с помощью модуля карт Bing.</span><span class="sxs-lookup"><span data-stu-id="a7766-166">In the pick up in store module, select the **Store search** slot, and add a store search by Bing Maps module.</span></span>
1. <span data-ttu-id="a7766-167">Верните фрагмент и опубликуйте его.</span><span class="sxs-lookup"><span data-stu-id="a7766-167">Check in the fragment, and publish it.</span></span>
1. <span data-ttu-id="a7766-168">Создайте шаблон с именем **шаблон корзины** и добавьте фрагмент корзины, который только что был создан.</span><span class="sxs-lookup"><span data-stu-id="a7766-168">Create a template that is named **cart template**, and add the cart fragment that you just created to it.</span></span>
1. <span data-ttu-id="a7766-169">Сохраните шаблон, верните его и опубликуйте.</span><span class="sxs-lookup"><span data-stu-id="a7766-169">Save the template, check it in, and publish it.</span></span>
1. <span data-ttu-id="a7766-170">Создайте страницу, в которой используется новый шаблон.</span><span class="sxs-lookup"><span data-stu-id="a7766-170">Create a page that uses the new template.</span></span>
1. <span data-ttu-id="a7766-171">Сохраните и просмотрите страницу.</span><span class="sxs-lookup"><span data-stu-id="a7766-171">Save and preview the page.</span></span>
1. <span data-ttu-id="a7766-172">Верните страницу и опубликуйте его.</span><span class="sxs-lookup"><span data-stu-id="a7766-172">Check in the page, and publish it.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a7766-173">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="a7766-173">Additional resources</span></span>

[<span data-ttu-id="a7766-174">Обзор начального набора</span><span class="sxs-lookup"><span data-stu-id="a7766-174">Starter kit overview</span></span>](starter-kit-overview.md)

[<span data-ttu-id="a7766-175">Модуль контейнера</span><span class="sxs-lookup"><span data-stu-id="a7766-175">Container module</span></span>](add-container-module.md)

[<span data-ttu-id="a7766-176">Модуль поля покупки</span><span class="sxs-lookup"><span data-stu-id="a7766-176">Buy box module</span></span>](add-buy-box.md)

[<span data-ttu-id="a7766-177">Модуль оформления заказа</span><span class="sxs-lookup"><span data-stu-id="a7766-177">Checkout module</span></span>](add-checkout-module.md)

[<span data-ttu-id="a7766-178">Модуль подтверждения заказа</span><span class="sxs-lookup"><span data-stu-id="a7766-178">Order confirmation module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="a7766-179">Модуль заголовка</span><span class="sxs-lookup"><span data-stu-id="a7766-179">Header module</span></span>](author-header-module.md)

[<span data-ttu-id="a7766-180">Модуль нижнего колонтитула</span><span class="sxs-lookup"><span data-stu-id="a7766-180">Footer module</span></span>](author-footer-module.md)
