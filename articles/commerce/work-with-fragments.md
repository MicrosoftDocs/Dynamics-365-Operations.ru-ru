---
title: Работа с фрагментами
description: В этом разделе описывается, зачем, когда и как использовать фрагменты в Microsoft Dynamics 365 Commerce.
author: v-chgri
manager: annbe
ms.date: 12/12/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Retail, Core, Operations
ms.search.region: Global
ms.search.industry: retail
ms.author: phinneyridge
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 32482538b2913e6585257bcf7a1cbe780d3cdd30
ms.sourcegitcommit: 36857283d70664742c8c04f426b231c42daf4ceb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/20/2019
ms.locfileid: "2914708"
---
# <a name="work-with-fragments"></a>Работа с фрагментами 

[!include [banner](includes/preview-banner.md)]
[!include [banner](includes/banner.md)]

В этом разделе описывается, зачем, когда и как использовать фрагменты в Microsoft Dynamics 365 Commerce.

## <a name="overview"></a>Обзор

Фрагменты позволяют выполнять централизованную разработку для конфигураций модулей, которые должны быть повторно использованы на сайте. Например, заголовки, нижние колонтитулы и баннеры часто настраиваются как фрагменты, так как они являются общими для нескольких страниц. Фрагменты можно рассматривать как миниатюрные веб-страницы, которые могут быть вставлены на другие страницы сайта. Фрагменты имеют свой собственный жизненный цикл. Другими словами, они создаются, используются в ссылках, обновляются и удаляются как независимые сущности в инструментах разработки.

После настройки фрагментов их можно использовать везде, где можно использовать модули в структуре сайта. На фрагменты можно ссылаться на страницах, в макетах, в шаблонах и в других фрагментах.

> [!NOTE]
> Фрагменты могут быть вложены до семи уровней внутри других фрагментов.

Например, если необходимо рекламировать сезонное событие на нескольких страницах сайта, можно использовать фрагмент. Первый шаг в процессе создания нового фрагмента — выбор типа модуля, с которого необходимо начать. В данном примере можно создать фрагмент из модуля главного имиджевого баннера.

> [!NOTE]
> Фрагменты могут быть построены из любого типа модуля.

Затем можно настроить фрагмент главного имиджевого баннера с использованием специфического рекламного содержимого. Можно также локализовать его, как требуется. Новый отдельный фрагмент главного имиджевого баннера может затем использоваться как заранее настроенный модуль для всего сайта. Его можно легко добавить к шаблонам, на отдельные страницы или в другие фрагменты, которые могут содержать модули главного имиджевого баннера.

Все места, в которые добавляется фрагмент, являются ссылками на центральный созданный вами фрагмент главного имиджевого баннера. При публикации изменений, внесенных в фрагмент, эти изменения немедленно отражаются во всех местах, где имеется ссылка на этот фрагмент на сайте. Таким образом, фрагменты предоставляют мощный и эффективный способ повторного использования конфигураций модулей на сайте и централизованного управления ими. Эффективно используя их, можно значительно повысить гибкость и снизить затраты, связанные с управлением содержимым сайта.

На следующем рисунке показано, как можно использовать фрагменты для централизации создания общих конфигураций модулей на сайте электронной коммерции.

![Рисунок, показывающий, как можно использовать фрагменты для централизации создания общих конфигураций модулей на сайте электронной коммерции](./media/fragment-figure1.png)

## <a name="create-a-fragment"></a>Создание фрагмента

Можно создать новый фрагмент либо сохранить существующую конфигурацию модуля в качестве фрагмента.

### <a name="create-a-new-fragment"></a>Создание нового фрагмента

Чтобы создать новый фрагмент, выполните следующие действия.

1. В области переходов слева выберите **Фрагменты**.
1. Выберите **Создать фрагмент страницы**. Откроется диалоговое окно, в котором отображаются все доступные типы модулей. Как упоминалось ранее, фрагменты могут быть созданы из любого типа модуля.
1. Выберите тип модуля для данного фрагмента, затем выберите **ОК**.

    > [!TIP]
    > При выборе универсального типа модуля-контейнера можно добиться большей гибкости, когда необходимо позднее выполнить обновление и настройку фрагмента.

### <a name="save-an-existing-module-configuration-as-a-fragment"></a>Сохранение существующей конфигурации модуля в качестве фрагмента

Чтобы преобразовать ранее настроенный модуль в фрагмент многократного использования, выполните следующие действия.

1. Откройте страницу или шаблон, содержащий модуль, который требуется преобразовать в фрагмент.
1. В области структуры в левой части выберите кнопку с многоточием (**...**) рядом с названием модуля, затем выберите **Сохранить как фрагмент**. Отобразится диалоговое окно.
1. Введите имя и метаданные для фрагмента.
1. Выберите **ОК**, чтобы сохранить конфигурацию модуля в виде фрагмента, который может быть добавлен к другим страницам.

## <a name="add-remove-or-edit-fragments-on-a-page"></a>Добавление, удаление или редактирование фрагментов на странице

Следующие процедуры описывают добавление, удаление и редактирование фрагментов.

### <a name="add-a-fragment"></a>Добавление фрагмента

Чтобы добавить фрагмент на страницу, выполните следующие действия.

1. В области структуры слева выберите контейнер или ячейку, в которую можно добавить дочерние модули.
1. Выберите кнопку с многоточием рядом с именем контейнера или ячейки, затем выберите **Добавить фрагмент**. Отобразится диалоговое окно.

    > [!NOTE]
    > Если контейнер или слот не поддерживают новые дочерние модули, параметр **Добавить фрагмент** будет недоступен.

1. В диалоговом окне найдите и выберите фрагмент, который требуется добавить. Если доступных фрагментов нет в списке, можно сначала создать фрагмент из типа модуля, поддерживаемого выбранным контейнером или слотом.
1. Выберите **ОК**, чтобы добавить выбранный фрагмент в выбранный контейнер или ячейку на странице.

> [!NOTE]
> Модули, разрешенные в контейнере или в слоте, определяются шаблоном страницы или собственными определениями модулей.

### <a name="remove-a-fragment"></a>Удаление фрагмента

Чтобы удалить фрагмент из ячейки или контейнера на странице, выполните следующие действия.

1. В области структуры в левой части выберите кнопку с многоточием рядом с названием удаляемого фрагмента, затем нажмите кнопку корзины.
1. При появлении запроса на подтверждение удаления фрагмента выберите **ОК**.

> [!NOTE]
> При удалении фрагмента со страницы просто удаляется ссылка на него с этой страницы. Вы **не** удаляете этот фрагмент с сайта. Чтобы удалить фрагменты с сайта, необходимо воспользоваться пользовательским интерфейсом (UI) инспектора фрагментов. Удалить фрагменты с сайта можно только в том случае, если на них в данный момент нет ссылок ни на одной странице, шаблоне или в других фрагментах.

### <a name="edit-a-fragment"></a>Редактирование фрагмента

Чтобы изменить фрагменты, необходимо использовать интерфейс пользователя редактора фрагментов. Такое ограничение предусмотрено специально. Это помогает гарантировать, что авторы не будут путать процесс редактирования модулей для определенной страницы с процессом редактирования фрагментов, которые могут использоваться несколькими страницами.

Чтобы изменить фрагмент, выполните следующие действия.

1. В области переходов слева выберите **Фрагменты**.
1. В области **Фрагменты** выберите фрагмент для редактирования.
1. Измените необходимые свойства модуля и структуру в фрагменте. Процесс похож на процесс редактирования модулей при редактировании в представлении редактора страниц.

Кроме того, можно изменить фрагмент, выбрав его на странице, в шаблоне или в родительском фрагменте, а затем выбрав **Изменить фрагмент** в правой области свойств.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор шаблонов и макетов](templates-layouts-overview.md)

[Работа с шаблонами](work-with-templates.md)

[Работа с предустановленными макетами](work-with-layouts.md)

[Работа с группами публикаций](publish-groups.md)
