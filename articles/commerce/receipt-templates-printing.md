---
title: Настройка и разработка форматов чеков
description: В этой статье описывается, как изменять макеты форм с целью управления печатью чеков, накладных и других документов. Dynamics 365 Commerce содержит конструктор макета форм, который можно использовать для простого создания и изменения макетов форм различного вида.
author: rubencdelgado
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailFormLayout
audience: Application User
ms.reviewer: josaw
ms.custom: 57841
ms.assetid: e530dd8e-95e2-4021-90bd-ce1235f9e250
ms.search.region: global
ms.search.industry: Retail
ms.author: rubendel
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: c44798c6b879ebd95618d976beebe1d41b40dcdd
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/15/2021
ms.locfileid: "5243753"
---
# <a name="set-up-and-design-receipt-formats"></a><span data-ttu-id="1c605-104">Настройка и разработка форматов чеков</span><span class="sxs-lookup"><span data-stu-id="1c605-104">Set up and design receipt formats</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="1c605-105">В этой статье описывается, как изменять макеты форм с целью управления печатью чеков, накладных и других документов.</span><span class="sxs-lookup"><span data-stu-id="1c605-105">This article describes how to modify form layouts to control how receipts, invoices, and other documents are printed.</span></span> <span data-ttu-id="1c605-106">Dynamics 365 Commerce содержит конструктор макета форм, который можно использовать для простого создания и изменения макетов форм различного вида.</span><span class="sxs-lookup"><span data-stu-id="1c605-106">Dynamics 365  Commerce includes a form layout designer that you can use to easily create and modify various kinds of form layouts.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1c605-107">Необходимо настроить макеты форм и профили чеков для печати чеков и других документов из Retail Modern POS и Cloud POS.</span><span class="sxs-lookup"><span data-stu-id="1c605-107">You must set up form layouts and receipt profiles to print receipts and other documents from Retail Modern POS and Cloud POS.</span></span> <span data-ttu-id="1c605-108">Можно включить несколько макетов форм в профиль чеков.</span><span class="sxs-lookup"><span data-stu-id="1c605-108">You can include multiple form layouts in a receipt profile.</span></span> <span data-ttu-id="1c605-109">Затем можно назначить профиль поступления принтеру, изменив профиль оборудования.</span><span class="sxs-lookup"><span data-stu-id="1c605-109">You can then assign the receipt profile to a printer by modifying a hardware profile.</span></span>

## <a name="set-up-a-receipt-format"></a><span data-ttu-id="1c605-110">Настройка формата чеков</span><span class="sxs-lookup"><span data-stu-id="1c605-110">Set up a receipt format</span></span>

1. <span data-ttu-id="1c605-111">Щелкните **Retail и Commerce** &gt; **Настройка канала** &gt; **Настройка POS** &gt; **POS** &gt; **Форматы поступлений**.</span><span class="sxs-lookup"><span data-stu-id="1c605-111">Click **Retail and Commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **POS** &gt; **Receipt formats**.</span></span>
2. <span data-ttu-id="1c605-112">На странице **Формат поступления** щелкните **Создать**, чтобы создать новый макет формы, или выберите существующий макет формы.</span><span class="sxs-lookup"><span data-stu-id="1c605-112">On the **Receipt format** page, click **New** to create a new form layout, or select an existing form layout.</span></span>
3. <span data-ttu-id="1c605-113">В поле **Формат поступления** введите код для макета формы, а затем выберите тип чека, для которого используется этот формат.</span><span class="sxs-lookup"><span data-stu-id="1c605-113">In the **Receipt format** field, enter an identifier for the form layout, and then select the type of receipt that this layout is used for.</span></span> <span data-ttu-id="1c605-114">Можно также ввести описание и краткое наименование чека в поле **Заголовок**.</span><span class="sxs-lookup"><span data-stu-id="1c605-114">You can also enter a description and a short name for the receipt in the **Title** field.</span></span>
4. <span data-ttu-id="1c605-115">На экспресс-вкладке **Общие** выберите параметр для определения поведения принтера.</span><span class="sxs-lookup"><span data-stu-id="1c605-115">On the **General** FastTab, select an option to define the print behavior:</span></span>

    - <span data-ttu-id="1c605-116">**Всегда печать** — поступление печатается автоматически при необходимости.</span><span class="sxs-lookup"><span data-stu-id="1c605-116">**Always print** – The receipt is printed automatically, as appropriate.</span></span>
    - <span data-ttu-id="1c605-117">**Не печатать** — поступление не печатается.</span><span class="sxs-lookup"><span data-stu-id="1c605-117">**Do not print** – The receipt isn't printed.</span></span>
    - <span data-ttu-id="1c605-118">**Запрос пользователю** — пользователю отправляется запрос на печать поступления.</span><span class="sxs-lookup"><span data-stu-id="1c605-118">**Prompt user** – The user is prompted to print the receipt.</span></span>
    - <span data-ttu-id="1c605-119">**По мере необходимости** — этот вариант используется только для подарочных поступлений.</span><span class="sxs-lookup"><span data-stu-id="1c605-119">**As required** – This option is used only for gift receipts.</span></span> <span data-ttu-id="1c605-120">Если выбран этот вариант, пользователь может напечатать подарочное поступление со страницы **Изменение**, если требуется подарочное поступление.</span><span class="sxs-lookup"><span data-stu-id="1c605-120">When this option is selected, the user can print a gift receipt from the **Change** page, if a gift receipt is required.</span></span>

## <a name="print-images"></a><span data-ttu-id="1c605-121">Печать изображений</span><span class="sxs-lookup"><span data-stu-id="1c605-121">Print images</span></span>

<span data-ttu-id="1c605-122">Конструктор чеков включает в себя переменную **Логотип**, которая может использоваться для указания изображений, которые будут печататься в чеке.</span><span class="sxs-lookup"><span data-stu-id="1c605-122">The receipt designer includes a **Logo** variable that can be used to specify images to be printed on the receipt.</span></span> <span data-ttu-id="1c605-123">Изображения, включенные в чеки с использованием переменной **Логотип**, должны иметь тип файла монохромного растрового изображения (.bmp).</span><span class="sxs-lookup"><span data-stu-id="1c605-123">Images that are included in receipts using the **Logo** variable should be monochrome bitmap (.bmp) file types.</span></span> <span data-ttu-id="1c605-124">Если изображение в формате BMP указано в конструкторе чека, но не печатается при отправке на принтер, возможно, размер файла слишком велик или размеры в пикселях изображения не совместимы с принтером.</span><span class="sxs-lookup"><span data-stu-id="1c605-124">If a .bmp image is specified in the receipt designer, but is not printing when sent to the printer, the file size may be too large or the pixel dimensions on the image are not compatible with the printer.</span></span> <span data-ttu-id="1c605-125">Если это происходит, попробуйте уменьшить разрешение файла изображения.</span><span class="sxs-lookup"><span data-stu-id="1c605-125">If this occurs, try reducing the image file resolution.</span></span>   

## <a name="design-a-receipt-format"></a><span data-ttu-id="1c605-126">Разработка формата чека</span><span class="sxs-lookup"><span data-stu-id="1c605-126">Design a receipt format</span></span>

<span data-ttu-id="1c605-127">Воспользуйтесь конструктором макетов форм, чтобы графически создать макет документа формы.</span><span class="sxs-lookup"><span data-stu-id="1c605-127">Use the form layout designer to graphically create the layout of the form document.</span></span> <span data-ttu-id="1c605-128">Страница **Конструктор формата поступлений** разделена на три части: **Заголовок**, **Строки** и **Нижний колонтитул**.</span><span class="sxs-lookup"><span data-stu-id="1c605-128">The **Receipt format designer** page has three sections: **Header**, **Lines**, and **Footer**.</span></span> <span data-ttu-id="1c605-129">Некоторые типы макетов форм используют элементы из всех трех разделов, в то время как другие типы используют элементы только из одного или двух разделов.</span><span class="sxs-lookup"><span data-stu-id="1c605-129">Some types of form layouts use elements from all three sections, whereas other types use elements from only one or two sections.</span></span> <span data-ttu-id="1c605-130">Для просмотра элементов, доступных для каждого раздела, щелкните соответствующую кнопку в области переходов в левой части страницы.</span><span class="sxs-lookup"><span data-stu-id="1c605-130">To view the elements that are available for each section, click the appropriate button in the navigation pane on the left side of the page.</span></span>

1. <span data-ttu-id="1c605-131">Щелкните **Retail и Commerce** &gt; **Настройка канала** &gt; **Настройка POS** &gt; **POS** &gt; **Форматы поступлений**.</span><span class="sxs-lookup"><span data-stu-id="1c605-131">Click **Retail and Commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **POS** &gt; **Receipt formats**.</span></span>
2. <span data-ttu-id="1c605-132">На странице **Формат поступления** выберите макет формы и нажмите кнопку **Конструктор**.</span><span class="sxs-lookup"><span data-stu-id="1c605-132">On the **Receipt format** page, select a form layout, and then click **Designer**.</span></span>
3. <span data-ttu-id="1c605-133">Щелкните **Запустить**, чтобы начать установку хоста конструктора Commerce.</span><span class="sxs-lookup"><span data-stu-id="1c605-133">Click **Run** to start to install the Commerce designer host.</span></span>
4. <span data-ttu-id="1c605-134">На панели уведомлений, которая отображается внизу окна Internet Explorer, щелкните **Открыть**, чтобы начать установку конструктора одним щелчком.</span><span class="sxs-lookup"><span data-stu-id="1c605-134">On the Notification bar that appears at the bottom of the Internet Explorer window, click **Open** to start to install the one-click designer.</span></span> <span data-ttu-id="1c605-135">(Панель уведомлений может отображаться в другом месте в других браузерах). Индикатор прогресса показывает ход процесса установки.</span><span class="sxs-lookup"><span data-stu-id="1c605-135">(The Notification bar might appear in a different location in other browsers.) The progress indicator shows the progress of the installation process.</span></span>
5. <span data-ttu-id="1c605-136">После установки введите свое имя пользователя и пароль Commerce и щелкните **Войти**, чтобы запустить конструктор.</span><span class="sxs-lookup"><span data-stu-id="1c605-136">After the installation is completed, enter your Commerce user name and password, and then click **Sign in** to start the designer.</span></span>
6. <span data-ttu-id="1c605-137">После проверки учетных данных и запуска конструктора можно приступать к разработке формата поступления или изменению существующего формата.</span><span class="sxs-lookup"><span data-stu-id="1c605-137">After your credentials are validated and the designer starts, you can start to design the receipt format or modify an existing format.</span></span>
7. <span data-ttu-id="1c605-138">Чтобы создать элементы формы, выберите раздел **Заголовок**, **Строки** или **Нижний колонтитул**, а затем перетащите элемент из раздела в рабочую область.</span><span class="sxs-lookup"><span data-stu-id="1c605-138">To create the elements of the form, select the **Header**, **Lines**, or **Footer** section, and then drag an element from that section to the workspace.</span></span> <span data-ttu-id="1c605-139">Большинство элементов содержат переменные, которые будут автоматически заполнены данными из базы данных.</span><span class="sxs-lookup"><span data-stu-id="1c605-139">Most elements contain variables that are automatically populated with data from the database.</span></span> <span data-ttu-id="1c605-140">Другие элементы, например **Текст**, позволяют печатать пользовательский текст в чеке.</span><span class="sxs-lookup"><span data-stu-id="1c605-140">Other elements, such as **Text**, let you print custom text on the receipt.</span></span>

    > [!NOTE]
    > <span data-ttu-id="1c605-141">Можно указывать количество строк, занимаемое каждым из трех разделов, задавая число в правом нижнем углу раздела.</span><span class="sxs-lookup"><span data-stu-id="1c605-141">You can specify how many lines each section spans by adjusting the number in the lower-right corner of that section.</span></span> <span data-ttu-id="1c605-142">Для облегчения изменения раздела увеличьте высоту раздела, перетащив маркер изменения размера в нижней части раздела.</span><span class="sxs-lookup"><span data-stu-id="1c605-142">To make it easier to modify a section, increase its height by dragging the sizing bar at the bottom of the section.</span></span> <span data-ttu-id="1c605-143">Высота раздела в рабочем пространстве не влияет на число строк в фактическом чеке.</span><span class="sxs-lookup"><span data-stu-id="1c605-143">The height of the section on the workspace doesn't affect the number of lines on the actual receipt.</span></span>

8. <span data-ttu-id="1c605-144">После переноса элементов в рабочую область настройте свойства для части панели **Сведения об объектах** в нижней части страницы.</span><span class="sxs-lookup"><span data-stu-id="1c605-144">After you drag an element to the workspace, set the properties for the part in the **Object information** pane at the bottom of the page.</span></span> <span data-ttu-id="1c605-145">Введите один или несколько из следующих параметров:</span><span class="sxs-lookup"><span data-stu-id="1c605-145">Enter one or more of the following settings:</span></span>

    - <span data-ttu-id="1c605-146">**Выровнять** — настройте выравнивание поля **По левому краю** или **По правому краю**.</span><span class="sxs-lookup"><span data-stu-id="1c605-146">**Align** – Set the alignment of the field to either **Left** or **Right**.</span></span>
    - <span data-ttu-id="1c605-147">**Символ заполнения** — укажите символ пробела.</span><span class="sxs-lookup"><span data-stu-id="1c605-147">**Fill char** – Specify the white space character.</span></span> <span data-ttu-id="1c605-148">По умолчанию используется пустое место, однако можно ввести любой символ.</span><span class="sxs-lookup"><span data-stu-id="1c605-148">By default, an empty space is used, but you can enter any character.</span></span>
    - <span data-ttu-id="1c605-149">**Префикс** — введите значение, отображаемое в начале поля.</span><span class="sxs-lookup"><span data-stu-id="1c605-149">**Prefix** – Enter the value that appears at the beginning of the field.</span></span> <span data-ttu-id="1c605-150">Этот параметр применяется только к разделу **Строки** макета.</span><span class="sxs-lookup"><span data-stu-id="1c605-150">This setting applies only to the **Lines** section of the layout.</span></span>
    - <span data-ttu-id="1c605-151">**Символы** — укажите максимальное число символов, которое может содержать поле, если элемент содержит переменную.</span><span class="sxs-lookup"><span data-stu-id="1c605-151">**Characters** – Specify the maximum number of characters that the field can contain if the element contains a variable.</span></span> <span data-ttu-id="1c605-152">Если длина текста в поле превышает заданное количество символов, текст урезается, чтобы поместиться в поле.</span><span class="sxs-lookup"><span data-stu-id="1c605-152">If the text in the field is longer than the number of character that you specify, the text is truncated to fit the field.</span></span>
    - <span data-ttu-id="1c605-153">**Переменная** — этот флажок устанавливается автоматически, если элемент содержит переменную и не может быть настроен.</span><span class="sxs-lookup"><span data-stu-id="1c605-153">**Variable** – This check box is selected automatically if the element contains a variable and can't be customized.</span></span>
    - <span data-ttu-id="1c605-154">**Тип шрифта** — укажите стиль шрифта: **Обычный** или **Полужирный**.</span><span class="sxs-lookup"><span data-stu-id="1c605-154">**Font type** – Set the font style to either **Regular** or **Bold**.</span></span> <span data-ttu-id="1c605-155">Текст полужирным шрифтом занимает в два раза больше места, чем обычный.</span><span class="sxs-lookup"><span data-stu-id="1c605-155">Bold letters use two times as much space as regular letters.</span></span> <span data-ttu-id="1c605-156">Поэтому некоторые символы могут усекаться.</span><span class="sxs-lookup"><span data-stu-id="1c605-156">Therefore, some characters might be truncated.</span></span>
    - <span data-ttu-id="1c605-157">**Размер шрифта** — укажите размер шрифта: **Обычный** или **Крупный**.</span><span class="sxs-lookup"><span data-stu-id="1c605-157">**Font size** – Set the font size to either **Regular** or **Large**.</span></span> <span data-ttu-id="1c605-158">Крупные буквы в два раза выше обычных букв.</span><span class="sxs-lookup"><span data-stu-id="1c605-158">Large letters are two times higher than regular letters.</span></span> <span data-ttu-id="1c605-159">Поэтому использование крупных букв может привести к наложению текста в чеке.</span><span class="sxs-lookup"><span data-stu-id="1c605-159">Therefore, using large letters may lead to overlapping text in the receipt.</span></span>
    - <span data-ttu-id="1c605-160">**Удалить** — при нажатии этой кнопки выбранная часть удаляется из макета формы.</span><span class="sxs-lookup"><span data-stu-id="1c605-160">**Delete** – Click this button to remove the selected part from the form layout.</span></span>

## <a name="assign-receipt-profiles"></a><span data-ttu-id="1c605-161">Назначение профилей поступления</span><span class="sxs-lookup"><span data-stu-id="1c605-161">Assign receipt profiles</span></span>

<span data-ttu-id="1c605-162">Профили поступления назначаются непосредственно принтерам с помощью профиля оборудования.</span><span class="sxs-lookup"><span data-stu-id="1c605-162">Receipt profiles are assigned directly to printers through the hardware profile.</span></span>

1. <span data-ttu-id="1c605-163">Откройте профиль оборудования, щелкнув **Retail и Commerce** &gt; **Настройка канала** &gt; **Настройка POS** &gt; **Профили POS** &gt; **Профиль оборудования**.</span><span class="sxs-lookup"><span data-stu-id="1c605-163">Open the hardware profile by clicking **Retail and Commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **POS profiles** &gt; **Hardware profile**.</span></span>
2. <span data-ttu-id="1c605-164">Выберите принтер, а затем в поле **Профиль поступления** назначьте профиль поступления, который требуется использовать на ККМ.</span><span class="sxs-lookup"><span data-stu-id="1c605-164">Select the printer, and then, in the **Receipt profile** field, assign the receipt profile to use on the register.</span></span>

> [!NOTE]
> <span data-ttu-id="1c605-165">Если используются два принтера. один можно использовать для печати стандартных поступлений из 40 столбцов.</span><span class="sxs-lookup"><span data-stu-id="1c605-165">If two printers are used, one printer can be used to print standard 40-column thermal receipts.</span></span> <span data-ttu-id="1c605-166">Второй принтер, как правило, используется для печати поступлений на всю страницу, когда требуется дополнительная информация.</span><span class="sxs-lookup"><span data-stu-id="1c605-166">The second printer is typically used to print full-page receipt types that require more information.</span></span> <span data-ttu-id="1c605-167">Эти типы поступлений включают поступления клиентских заказов и накладные клиента.</span><span class="sxs-lookup"><span data-stu-id="1c605-167">These receipt types include customer order receipts and customer invoices.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]