---
title: Таргетирование на оборудование, рынок и географическое местоположение
description: В этой статье описывается, как создавать, изменять и управлять аудиторией и цели в построителе сайтов Microsoft Dynamics 365 Commerce, используя сведения об устройстве, рынке и географическом местоположении.
author: sushma-rao
ms.date: 02/03/2022
ms.topic: overview
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgriffin
ms.search.region: global
ms.author: sushmar
ms.search.validFrom: 2021-07-31
ms.dyn365.ops.version: AX 10.0.21
ms.custom: ''
ms.assetid: ''
ms.search.industry: Retail
ms.openlocfilehash: ebac0f4ee98f36027f8cb50a368b9b6dcbb24623
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/12/2022
ms.locfileid: "9279430"
---
# <a name="device-market-and-geolocation-targeting"></a>Таргетирование на оборудование, рынок и географическое местоположение

[!include [banner](includes/banner.md)]

В этой статье описывается, как создавать, изменять и управлять аудиторией и цели в построителе сайтов Microsoft Dynamics 365 Commerce, используя сведения об устройстве, рынке и географическом местоположении.

Dynamics 365 Commerce позволяет персонализировать вариации содержимого страницы (называемые *целями*) для конкретной группы клиентов (известной как *аудитории*), чтобы повысить уровень вовлеченности и удовлетворенности пользователей. В первую очередь можно создать либо аудиторию, либо цель. Однако для успешного выполнения таргетирования необходимы оба этих компонента.

Вы создаете аудитории и управляете ими в построителе сайтов Commerce, основываясь на данных клиентов, таких как местоположение, сведения об устройстве, статусе входа и других динамически создаваемых сведений из веб-запросов клиентов. Кроме того, можно создавать и управлять целями в модулях и фрагментах электронной коммерции в построителе сайтов Commerce.

**Отказ от ответственности:** вы несете ответственность за использование этой функции в отношении всех применимых законов и положений, включая те, которые относятся к таргетированию и профилированию. 

## <a name="audiences"></a>Аудитории

Аудитория представляет собой группу пользователей, а участие в группе определяется набором динамических правил. Эти правила являются простыми логическими проверками, которые выполняются для информации, доступной в запросах клиентов или других доступных сегментах. С помощью операторов И/ИЛИ можно комбинировать несколько правил.

Commerce изначально поддерживает базовые сегменты, такие как информация об устройстве, состояние входа, источник ссылки и параметры строки запроса. Кроме того, система поддерживает расширенные сегменты с целью подключения к сторонним поставщикам.

### <a name="basic-segments"></a>Основные сегменты

По умолчанию доступны следующие сегменты, которые могут быть включены в определения аудитории:

- **Статус входа** — проверка, прошел ли пользователь проверку подлинности.
- **Платформа устройства** – проверка следующих типов устройств:

    - Мобильное устройство
    - Настольный компьютер
    - Планшет
    - Другая

- **ОС устройства** — проверка следующих операционных систем:

    - Windows
    - Linux
    - iOS
    - Android, другая

- **Параметры строки запроса** — проверка существования пары ключ-значение в параметре строки запроса для URL-адреса запроса. Например, для URL-адреса `www.fabrikam.com/en-us/request?promo=true` можно написать правило, чтобы убедиться, что параметр **акция** имеет значение **true**.
- **Файл cookie** — проверка значения cookie, заданного для домена в URL-адресе запроса. Например, Fabrikam.com запрос может содержать файл cookie с именем **CustomLayout** и значением **1**. Проверка файлов cookie проверяет наличие файла cookie, но не создает его явно. В предыдущем примере JavaScript должен был ранее установить файл cookie **CustomLayout** из другого модуля или другого бизнес-процесса.

    > [!NOTE]
    > Убедитесь, что использование файлов cookie соответствует применимым законам.

- **Источник ссылки** — если пользователь использует ссылку для запроса страницы, источник ссылки — это URL-адрес страницы, на которой размещена ссылка.

### <a name="extensible-segments"></a>Расширяемые сегменты

Commerce позволяет расширить список доступных сегментов, подключившись к сторонним поставщикам сегментации. В поставщике сегментации будут описаны типы доступных сегментов. Дополнительные сведения о подключении к поставщику географического местоположения или сегментации см. в разделе [Настройка и включение соединителей](e-commerce-extensibility/connectors.md).

> [!NOTE]
> - Если внешний поставщик включен, он может подключиться к службе с непредсказуемой производительностью. Для повышения эффективности работы пользователя, если пользователь запрашивает страницу, которая содержит таргетирование, и эта страница ссылается на аудиторию, которая проверяет стороннего поставщика сегментации, отображается версия страницы по умолчанию.
> - Пользователь должен подтвердить разрешение файлов cookie. Затем браузер пользователя запрашивает все сегменты от соответствующих поставщиков, результаты помещаются в файл cookie, который возвращается пользователю. Последующие запросы к странице будут использовать эти сведения для обслуживания целевого содержимого для пользователя. Дополнительные сведения о соответствии файлов cookie см. в разделе [Соответствие файлов cookie](cookie-compliance.md).

**Отказ от ответственности:** если эта функция включена, данные будут использоваться совместно с выбранными системами сторонних разработчиков. Вы определяете, какие данные необходимо предоставить третьей стороне. Вы понимаете, что обработка данных и стандарты соответствия третьей стороны могут отличаться от стандартов Microsoft Dynamics 365 Commerce. Конфиденциальность важна для корпорации Майкрософт. Для получения дополнительных сведений прочитайте [Уведомление о конфиденциальности и файлах cookies](https://privacy.microsoft.com/privacystatement).

### <a name="create-an-audience-in-site-builder"></a>Создание аудитории в построителе сайтов

Чтобы аудиторию в конфигураторе сайта Commerce, выполните следующие шаги.

1. В левой области переходов выберите **Аудитории**.
1. Выберите **Создать**.
1. Введите имя аудитории. Также можно добавить теги и описание.
1. Выберите **Создать** и затем **Добавить новый блок правил**. Блоком правил называется коллекция правил, объединенных операторами "И". Можно также создать несколько блоков правил, которые имеют операторы "ИЛИ".
1. Выберите источник данных для сегмента, а затем укажите имя, оператор и значения сегмента. В блоке правил можно создавать и удалять правила, либо можно создавать и удалять все блоки правил целиком. Можно также перемещать блоки правил вверх или вниз по мере необходимости.

    > [!NOTE]
    > В списке может быть до 100 значений, и каждый элемент списка может содержать до 50 символов.

1. После получения удовлетворительных результатов настройки аудитории нажмите кнопку **Завершить редактирование**. Затем можно выбрать **Опубликовать**, чтобы сделать аудиторию доступной для использования в действующей цели. Кроме того, можно опубликовать аудиторию вместе с целью. 

Чтобы изменить аудиторию, выберите ее гиперссылку на вкладке **Аудитории**, а затем выберите **Изменить** в редакторе аудиторий. Чтобы просмотреть список целей и страниц, которые ссылаются на аудиторию, выберите аудиторию в представлении списка аудиторий, а затем выберите **Просмотр назначений**. Чтобы удалить аудиторию из представления списка аудиторий или из редактора аудиторий, необходимо отменить публикацию, если она уже была опубликована, а затем на панели команд выбрать **Удалить**.

> [!NOTE]
> Аудитории — это концепция на уровне сайта в построителе сайтов Commerce. Одну и ту же аудиторию можно использовать для нескольких целей.

### <a name="rename-an-audience-in-site-builder"></a>Переименование аудитории в построителе сайтов

Чтобы переименовать существующую аудиторию в конфигураторе сайта Commerce, выполните следующие шаги.

1. В левой области переходов выберите **Аудитории**.
1. Выберите имя сегмента аудитории для переименования.
1. Выберите **Правка**, чтобы начать редактирование аудитории.
1. В области свойств аудитории выберите символ пера рядом с названием аудитории.
1. При необходимости измените имя аудитории.
1. Установите флажок, чтобы подтвердить изменение имени.
1. Выберите **Завершить правку**.

## <a name="targets"></a>Цели

Цель — это взаимодействие с пользователями, которое отображается для членов одной или нескольких выбранных аудиторий. Может включать вариации одного или нескольких модулей на странице или в фрагменте. 

Можно определить расписание для целей, чтобы указать срок, в течение которого они должны оставаться активными. Обратите внимание, что это действие отличается от действия планирования группы публикации, которое определяет, когда будет опубликована коллекция содержимого. Можно также просмотреть цели, чтобы увидеть, как они будут выглядеть для участников выбранной аудитории. Кроме того, можно назначить приоритеты целям, чтобы указать, какая цель должна отображаться в случае конфликта.

### <a name="create-a-target"></a>Создание цели

Чтобы создать оболочку цели для модулей страниц в конструкторе сайтов Commerce, выполните следующие действия.

1. В левой области переходов выберите **Страницы**. Затем выберите гиперссылку на страницу, для которой необходимо указать нужные модули.
1. Выберите **Правка**, чтобы проверить страницу для редактирования.
1. В меню **Цель** выберите **Создать цель** для создания новой оболочки цели. При необходимости на странице можно создать несколько целей.
1. Введите название и описание цели и выберите **Далее**.
1. Выберите **Добавить**, чтобы включить аудитории, которые будут видеть целевое содержимое, или исключить аудитории. Затем выберите **Далее**.

    > [!NOTE]
    > Назначение аудитории является необязательным шагом во время создания цели. Однако перед публикацией цели необходимо включить по крайней мере одну аудиторию, чтобы группы пользователей, которые будут видеть целевое содержимое, могли увидеть их назначение.

1. Определите окно времени для просмотра цели, выбрав часовой пояс, а также даты и время начала и окончания. Можно настроить цель так, чтобы она отображалась все время в окне, или можно выбрать определенный день и время. Закончив, выберите **Далее**.

    > [!NOTE]
    > Заданное время и часовой пояс являются глобальными. Если необходимо ориентироваться на другие местоположения в разное время или в разных часовых поясах, необходимо создать другие цели и определить для них желаемый график.

1. Просмотрите сведения, и когда все будут выглядеть правильно, выберите **Создать цель**, а затем **Перейти к цели**. Создается оболочка цели. Теперь можно добавлять в нее модули.
1. Выберите модуль для цели, нажмите кнопку с многоточием (**...**), а затем выберите **Добавить в текущую цель**. При таргетировании на родительский модуль все его дочерние элементы становятся частью этой цели. Целевые модули выделяются зеленым цветом.
1. Внесите необходимые обновления в требуемый модуль и добавьте в цель другие необходимые модули. Затем выберите **Сохранить** для сохранения всех изменений.
1. Перед публикацией цели убедитесь, что на панели команд выбрано значение **Предварительный просмотр**, чтобы проверить ее. Возможные варианты выбора:

    - **Обычный просмотр** — выберите этот параметр, чтобы просмотреть только выбранный вариант (страница по умолчанию или цель) без каких-либо связанных аудиторий.
    - **Расширенный просмотр** — выберите этот параметр, если на странице имеется несколько целей и необходимо просмотреть их как пользователя, принадлежащего к выбранному набору аудиторий, или для конкретной даты и времени. Нажмите **Далее**, чтобы выбрать из списка соответствующих аудиторий. Кроме того, можно удалить фильтр, чтобы выбрать из всех аудиторий.

1. Если вы удовлетворены целевой конфигурацией, необходимо опубликовать страницу, чтобы цель можно было сделать активной. Выберите **Опубликовать**, чтобы цель можно было немедленно сделать активной. В качестве альтернативы можно использовать группу публикации для планирования, когда страница станет активной. Сведения о группах публикации см. в разделе [Работа с группами публикации](publish-groups.md).

Также можно выбрать фрагменты цели. Процедура аналогична. Однако на шаге 1 в левой области переходов выберите **Фрагменты** вместо **Страницы**.

> [!NOTE]
> Чтобы избежать отрицательного воздействия на ваши метрики, можно использовать либо эксперимент или цели на странице, либо во фрагменте. Нельзя использовать и эксперимент, и цели.

### <a name="manage-targets"></a>Управление целями

Чтобы изменить, дублировать или удалить цели, перейдите на страницу или фрагмент по умолчанию и выполните следующие действия.

1. В раскрывающемся меню выберите **Цель**, а затем выберите **Управление целями**.
1. Выберите цель для изменения, дублирования или удаления.
1. Если в одном модуле есть несколько целей или если несколько целей имеют конфликтующие расписания, выберите **Приоритет целей**, чтобы указать порядок, в котором они должны отображаться. При добавлении нескольких целей на странице или во фрагменте кнопка **Приоритет целей** также появляется на панели уведомлений, чтобы напомнить о приоритетах целей. Если приоритет не указан, по умолчанию выбирается последняя цель.

### <a name="localize-targets"></a>Локализация целей

Цели на страницах и во фрагментах автоматически включаются в экспортируемые и импортируемые файлы XLIFF для целей локализации. Однако, если какие-либо региональные стандарты не требуются, их можно удалить после того, как будут импортированы локализованные XLIFF-файлы.

> [!NOTE]
> Цели управляются по каналам и региональным параметрам. Изменения, вносимые вами в один канал или региональные стандарты, не переносятся на другие каналы и региональные стандарты автоматически.

[!INCLUDE[footer-include](../includes/footer-banner.md)]
