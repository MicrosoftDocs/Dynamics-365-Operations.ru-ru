---
title: Входящая операция с запасами в POS
description: В этом разделе описываются возможности входящие операции с запасами в POS-терминале.
author: hhaines
manager: annbe
ms.date: 09/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: josaw
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: Retail
ms.author: hhaines
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.9
ms.openlocfilehash: f3dd442f979c23a87ae4b7e69a37de65d5d9bd70
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2021
ms.locfileid: "4972638"
---
# <a name="inbound-inventory-operation-in-pos"></a><span data-ttu-id="3e2cf-103">Входящая операция с запасами в POS</span><span class="sxs-lookup"><span data-stu-id="3e2cf-103">Inbound inventory operation in POS</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="3e2cf-104">В Microsoft Dynamics 365 Commerce версии 10.0.10 и более поздних, входящие и исходящие операции в POS-терминале заменяют операцию комплектации и приемки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-104">In Microsoft Dynamics 365 Commerce version 10.0.10 and later, inbound and outbound operations in the point of sale (POS) replace the picking and receiving operation.</span></span>

> [!NOTE]
> <span data-ttu-id="3e2cf-105">В Commerce версии 10.0.10 и выше все новые возможности в приложении POS, которые связаны с приемкой запасов магазина по отношению к заказам на покупку и заказам на перемещение, будут добавлены в операцию POS **Входящая операция**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-105">In Commerce version 10.0.10 and later, any new features in the POS application that are related to receiving store inventory against purchase orders and transfer orders will be added to the **Inbound operation** POS operation.</span></span> <span data-ttu-id="3e2cf-106">Если в настоящее время используется операция комплектации и приемки в POS-терминале, рекомендуется разработать стратегию для перемещения из этой операции в новые входящие и исходящие операции.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-106">If you're currently using the picking and receiving operation in POS, we recommend that you develop a strategy for moving from that operation to the new inbound and outbound operations.</span></span> <span data-ttu-id="3e2cf-107">Несмотря на то что операция комплектации и приемки не будет удалена из продукта, в ней не будет других инвестиций, с точки зрения функциональности или производительности в версии старше 10.0.9.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-107">Although the picking and receiving operation won't be removed from the product, there will be no further investments in it, from a functional or performance perspective, after version 10.0.9.</span></span>

## <a name="prerequisite-configure-an-asynchronous-document-framework"></a><span data-ttu-id="3e2cf-108">Необходимое условие: настройка асинхронной структуры документов</span><span class="sxs-lookup"><span data-stu-id="3e2cf-108">Prerequisite: Configure an asynchronous document framework</span></span>

<span data-ttu-id="3e2cf-109">Входящая операция включает в себя повышение производительности, чтобы гарантировать, что пользователи, имеющие большие объемы разноски прихода во многих магазинах или компаниях, и большие документы запасов могут обрабатывать эти документы в Commerce Headquarters без возникновения проблем со временем ожидания или сбоями.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-109">The inbound operation includes performance improvements to ensure that users who have high volumes of receipt postings across many stores or companies, and large inventory documents, can process those documents to Commerce Headquarters without experiencing time-outs or failures.</span></span> <span data-ttu-id="3e2cf-110">Эти усовершенствования требуют использования асинхронной структуры документов.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-110">These improvements require use of an asynchronous document framework.</span></span>

<span data-ttu-id="3e2cf-111">Когда используется асинхронная структура документов, можно зафиксировать изменения входящего документа из POS в Commerce Headquarters, а затем перейти к другим задачам, пока обработка в модуле Commerce Headquarters выполняется в фоновом режиме.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-111">When an asynchronous document framework is used, you can commit inbound document changes from POS to Commerce Headquarters and then move on to other tasks while the processing to Commerce Headquarters occurs in the background.</span></span> <span data-ttu-id="3e2cf-112">Чтобы убедиться в успешности разноски, можно проверить статус документа на странице списка документов **Входящая операция** в POS.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-112">You can check the status of a document through the **Inbound operation** document list page in POS to make sure that posting was successful.</span></span> <span data-ttu-id="3e2cf-113">В приложении POS можно также использовать список активных документов для входящей операции, чтобы просмотреть документы, которые не могут быть разнесены в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-113">In the POS application, you can also use the inbound operation active document list to see any documents that could not be posted to Commerce Headquarters.</span></span> <span data-ttu-id="3e2cf-114">В случае сбоя документа пользователи POS могут внести изменения в него, а затем повторить попытку его обработки в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-114">If a document fails, POS users can make corrections to it and then try again to process it to Commerce Headquarters.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="3e2cf-115">Необходимо настроить асинхронную структуру документов до того, как компания попытается использовать входящую операцию в POS.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-115">The asynchronous document framework must be configured before a company tries to use the inbound operation in POS.</span></span>

<span data-ttu-id="3e2cf-116">Чтобы настроить асинхронную структуру документов, выполните следующие процедуры.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-116">To configure an asynchronous document framework, complete the following procedures.</span></span>

### <a name="create-and-configure-a-number-sequence"></a><span data-ttu-id="3e2cf-117">Создание и настройка номерной серии</span><span class="sxs-lookup"><span data-stu-id="3e2cf-117">Create and configure a number sequence</span></span>

1. <span data-ttu-id="3e2cf-118">Перейдите в раздел **Администрирование организации \> Номерные серии \> Номерные серии**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-118">Go to **Organization administration \> Number sequences \> Number sequences**.</span></span>
2. <span data-ttu-id="3e2cf-119">На странице **Номерные серии** создайте номерную серию.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-119">On the **Number sequences** page, create a number sequence.</span></span>
3. <span data-ttu-id="3e2cf-120">В полях **Код номерной серии** и **Имя** введите значения, определяемые пользователем.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-120">In the **Number sequence code** and **Name** fields, enter user-defined values.</span></span>
4. <span data-ttu-id="3e2cf-121">На экспресс- вкладке **Ссылки** выберите **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-121">On the **References** FastTab, select **Add**.</span></span>
5. <span data-ttu-id="3e2cf-122">В поле **Область** выберите **Параметры Commerce**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-122">In the **Area** field, select **Commerce parameters**.</span></span>
4. <span data-ttu-id="3e2cf-123">В поле **Ссылка** выберите **Идентификатор операции розничного документа**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-123">In the **Reference** field, select **Retail document operation identifier**.</span></span>
5. <span data-ttu-id="3e2cf-124">На экспресс-вкладке **Общие сведения** в разделе **Настройка** установите для параметра **Непрерывная** значение **Нет**, чтобы избежать неполадок, связанных с производительностью.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-124">On the **General** FastTab, in the **Setup** section, set the **Continuous** option to **No** to ensure that there are no performance issues.</span></span>

### <a name="create-and-schedule-two-batch-jobs-for-the-document-processing-and-monitoring-tasks"></a><span data-ttu-id="3e2cf-125">Создайте и запланируйте два пакетных задания для задач обработки и отслеживания документов</span><span class="sxs-lookup"><span data-stu-id="3e2cf-125">Create and schedule two batch jobs for the document processing and monitoring tasks</span></span>

> [!NOTE]
> <span data-ttu-id="3e2cf-126">В Commerce версии 10.0.13 и более поздних версий нет необходимости настраивать эти пакетные задания через структуру пакетного задания.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-126">In Commerce version 10.0.13 and later, you don't have to configure these batch jobs through the batch job framework.</span></span> <span data-ttu-id="3e2cf-127">Пакетные процессы можно настроить в меню **Retail и Commerce > ИТ Retail и Commerce**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-127">The batch processes can be configured from the **Retail and Commerce  >Retail and Commerce IT** menu.</span></span> <span data-ttu-id="3e2cf-128">Используйте параметры меню **Монитор операций с документами Retail** и **Обработка операций с документами Retail** для настройки пакетных заданий.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-128">Use the **Retail document operation monitor** and **Retail document operation processing** menu options to configure the batch jobs.</span></span>

<span data-ttu-id="3e2cf-129">Создаваемые пакетные задания будут использоваться для обработки документов со сбоем или превышением времени ожидания. Они также будут использоваться, когда число активных документов запасов, обрабатываемых из POS, превышает значение, заданное системой.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-129">The batch jobs that you create will be used to process documents that fail or time out. They will also be used when the number of active inventory documents that are being processed from POS exceeds a system-configured value.</span></span>

1. <span data-ttu-id="3e2cf-130">Перейдите в раздел **Администрирование системы \> Запросы \> Пакетные задания**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-130">Go to **System administration \> Inquiries \> Batch jobs**.</span></span>
2. <span data-ttu-id="3e2cf-131">На странице **Пакетное задание** создайте два пакетных задания:</span><span class="sxs-lookup"><span data-stu-id="3e2cf-131">On the **Batch job** page, create two batch jobs:</span></span>

    - <span data-ttu-id="3e2cf-132">Настройка одного задания для выполнения класса **RetailDocumentOperationMonitorBatch**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-132">Configure one job to run the **RetailDocumentOperationMonitorBatch** class.</span></span>
    - <span data-ttu-id="3e2cf-133">Настройка другого задания для выполнения класса **RetailDocumentOperationProcessingBatch**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-133">Configure the other job to run the **RetailDocumentOperationProcessingBatch** class.</span></span>

2. <span data-ttu-id="3e2cf-134">Планирование новых пакетных заданий для запуска на повторяющейся основе.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-134">Schedule the new batch jobs to run on a recurring basis.</span></span> <span data-ttu-id="3e2cf-135">Например, настройте план так, чтобы задания выполнялись каждые пять минут.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-135">For example, set the schedule so that the jobs are run every five minutes.</span></span>

## <a name="prerequisite-add-inbound-operation-to-the-pos-screen-layout"></a><span data-ttu-id="3e2cf-136">Необходимое условие: добавление входящей операции в макет экрана POS</span><span class="sxs-lookup"><span data-stu-id="3e2cf-136">Prerequisite: Add Inbound operation to the POS screen layout</span></span>

<span data-ttu-id="3e2cf-137">Прежде чем организация сможет использовать функцию входящей операции, она должна настроить операцию POS **Входящая операция** в одном или нескольких [макетах экрана POS](https://docs.microsoft.com/dynamics365/unified-operations/retail/pos-screen-layouts).</span><span class="sxs-lookup"><span data-stu-id="3e2cf-137">Before your organization can use the inbound operation functionality, it must configure the **Inbound operation** POS operation on one or more of your [POS screen layouts](https://docs.microsoft.com/dynamics365/unified-operations/retail/pos-screen-layouts).</span></span> <span data-ttu-id="3e2cf-138">Перед развертыванием новой операции в производственной среде необходимо тщательно проверить ее и обучить пользователей, чтобы использовать ее.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-138">Before you deploy the new operation in a production environment, make sure that you thoroughly test it and train your users to use it.</span></span>

## <a name="overview"></a><span data-ttu-id="3e2cf-139">Обзор</span><span class="sxs-lookup"><span data-stu-id="3e2cf-139">Overview</span></span>

<span data-ttu-id="3e2cf-140">Входящая операция позволяет пользователям POS выполнять следующие задачи:</span><span class="sxs-lookup"><span data-stu-id="3e2cf-140">The inbound operation lets POS users perform the following tasks:</span></span>

- <span data-ttu-id="3e2cf-141">Получение запасов на складе магазина из подтвержденных документов о заказе на покупку или документов по отгруженным заказам на перемещение.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-141">Receive inventory into store stock from either confirmed purchase order documents or shipped transfer order documents.</span></span>
- <span data-ttu-id="3e2cf-142">Просмотр сведений об исторических поступлениях на склад за период через семь дней после полного получения документа.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-142">View information about historical inventory receipts for a period of seven days after the document has been fully received.</span></span>
- <span data-ttu-id="3e2cf-143">Создание новых входящих запросов на заказы на перемещение.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-143">Create new inbound transfer order requests.</span></span>

<span data-ttu-id="3e2cf-144">Когда входящая операция запускается из приложения POS, появляется представление страницы списка.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-144">When the inbound operation is started from the POS application, a list page view appears.</span></span> <span data-ttu-id="3e2cf-145">В этом представлении отображаются открытые документы заказа на покупку, для которого имеются строки запасов, запланированные для получения текущим магазином.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-145">This view shows open purchase order and transfer order documents that have inventory lines that are scheduled to be received by the current store.</span></span> <span data-ttu-id="3e2cf-146">Чтобы найти и выбрать конкретный документ, пользователи могут прокручивать список или использовать функцию поиска.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-146">To find and select a specific document, users can scroll the list or use the search feature.</span></span>

<span data-ttu-id="3e2cf-147">В списке входящих документов запасов имеется три вкладки:</span><span class="sxs-lookup"><span data-stu-id="3e2cf-147">The inbound inventory document list has three tabs:</span></span>

- <span data-ttu-id="3e2cf-148">**Активно** — на этой вкладке отображаются документы, которые полностью или частично открыты и содержат строки или количества по строкам, которые еще должны быть получены.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-148">**Active** – This tab shows documents that are fully or partially open, and that contain lines or quantities on lines that must still be received.</span></span>
- <span data-ttu-id="3e2cf-149">**Черновик** — на этой вкладке отображаются новые входящие запросы на заказы на перемещение, созданные магазином.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-149">**Draft** – This tab shows new inbound transfer order requests that the store has created.</span></span> <span data-ttu-id="3e2cf-150">Однако эти документы были сохранены только локально.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-150">However, the documents have only been saved locally.</span></span> <span data-ttu-id="3e2cf-151">Они еще не отправлены в Commerce Headquarters для обработки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-151">They haven't yet been submitted to Commerce Headquarters for processing.</span></span>
- <span data-ttu-id="3e2cf-152">**Завершение** — на этой вкладке отображается список документов по заказу на покупку или заказу на перемещение, которые магазин полностью получил за последние семь дней.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-152">**Complete** – This tab shows a list of purchase order or transfer order documents that the store has fully received during the last seven days.</span></span> <span data-ttu-id="3e2cf-153">Эта вкладка предназначена только для информационных целей.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-153">This tab is for informational purposes only.</span></span> <span data-ttu-id="3e2cf-154">Вся информация о документах — это данные для магазина, доступные только для чтения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-154">All the information about the documents is read-only data for the store.</span></span>

<span data-ttu-id="3e2cf-155">При просмотре документов на любой из вкладок поле **статус** помогает понять этап, на котором находится документ.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-155">When you view documents on any of the tabs, the **Status** field can help you understand the stage that the document is in.</span></span>

- <span data-ttu-id="3e2cf-156">**Черновик** — документ заказа на перемещение был сохранен только локально в базе данных канала магазина.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-156">**Draft** – The transfer order document has only been saved locally to the store's channel database.</span></span> <span data-ttu-id="3e2cf-157">Нет информации о запросе на перемещение, который еще не отправлен в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-157">No information about the transfer order request has yet been submitted to Commerce Headquarters.</span></span>
- <span data-ttu-id="3e2cf-158">**Запрошено** — заказ на покупку или заказ на перемещение был создан в модуле Commerce Headquarters и полностью открыт.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-158">**Requested** – The purchase order or transfer order has been created in Commerce Headquarters, and is fully open.</span></span> <span data-ttu-id="3e2cf-159">Приходы еще не обработаны для этого документа.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-159">No receipts have yet been processed against the document.</span></span> <span data-ttu-id="3e2cf-160">Для документов типа документа "заказ на покупку" получение может начинаться в любое время, пока статус **Запрошено**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-160">For documents of the purchase order document type, receiving can begin at any time while the status is **Requested**.</span></span>
- <span data-ttu-id="3e2cf-161">**Частично отгружено** — документ заказа на перемещение содержит одну или несколько строк или частичных количеств для строки, которые были разнесены как отгруженные складом отгрузки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-161">**Partially shipped** – The transfer order document has one or more lines or partial line quantities that have been posted as shipped by the outbound warehouse.</span></span> <span data-ttu-id="3e2cf-162">Эти отгруженные строки доступны для получения через входящую операцию.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-162">These shipped lines are available to be received through the inbound operation.</span></span>
- <span data-ttu-id="3e2cf-163">**Полностью отгружено** — заказ на перемещение содержал все строки и все количества строк, разнесенные как отгруженные складом отгрузки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-163">**Fully shipped** – The transfer order has had all its lines and full line quantities posted as shipped by the outbound warehouse.</span></span> <span data-ttu-id="3e2cf-164">Весь документ доступен для получения через входящую операцию.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-164">The whole document is available to be received through the inbound operation.</span></span>
- <span data-ttu-id="3e2cf-165">**Частично получено** — некоторые строки или количества строк в заказе на покупку или в заказе на перемещение были получены магазином, но некоторые строки остались открытыми.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-165">**Partially received** – Some of the lines or line quantities on the purchase order or transfer order document have been received by the store, but some lines remain open.</span></span>
- <span data-ttu-id="3e2cf-166">**Получено полностью** — все строки и количества в документе заказа на покупку или заказа на перемещение полностью получены.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-166">**Fully received** – All lines and quantities on the purchase order or transfer order document have been fully received.</span></span> <span data-ttu-id="3e2cf-167">Документы доступны только на вкладке **Завершено** и доступны только для чтения пользователям магазина.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-167">The documents are accessible only on the **Complete** tab and are read-only by store users.</span></span>
- <span data-ttu-id="3e2cf-168">**В обработке** — этот статус используется, чтобы уведомить пользователей устройства о том, что документ активно обрабатывается другим пользователем.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-168">**In progress** – This status is used to inform device users that the document is being actively worked on by another user.</span></span>
- <span data-ttu-id="3e2cf-169">**Приостановлено** — этот статус отображается после выбора **Приостановить получение** для временной остановки процесса получения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-169">**Paused** – This status is shown after **Pause receiving** is selected to temporarily stop the receiving process.</span></span>
- <span data-ttu-id="3e2cf-170">**Обработка в HQ** — документ был отправлен в Commerce Headquarters из приложения POS, но еще не был успешно разнесен в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-170">**Processing in HQ** – The document was submitted to Commerce Headquarters from the POS application, but it hasn't yet been successfully posted to Commerce Headquarters.</span></span> <span data-ttu-id="3e2cf-171">Документ проходит через асинхронный процесс разноски документа.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-171">The document is going through the asynchronous document posting process.</span></span> <span data-ttu-id="3e2cf-172">После успешного разноски документа в Commerce Headquarters его статус должно быть обновлено до **Получено полностью** или **Частично получено**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-172">After the document is successfully posted to Commerce Headquarters, its status should be updated to **Fully received** or **Partially received**.</span></span>
- <span data-ttu-id="3e2cf-173">**Сбой обработки** — документ был разнесен в Commerce Headquarters и отклонен.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-173">**Processing failed** – The document was posted to Commerce Headquarters and rejected.</span></span> <span data-ttu-id="3e2cf-174">В области **Подробно** отображается причина сбоя разноски.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-174">The **Details** pane shows the reason for the posting failure.</span></span> <span data-ttu-id="3e2cf-175">Документ необходимо изменить для исправления ошибок данных, а затем он должен быть повторно отправлен в Commerce Headquarters для обработки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-175">The document must be edited to fix data issues, and then it must be resubmitted to Commerce Headquarters for processing.</span></span>

<span data-ttu-id="3e2cf-176">При выборе строки документа в списке отображается область **Подробно**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-176">When you select a document line in the list, a **Details** pane appears.</span></span> <span data-ttu-id="3e2cf-177">В этой области отображаются дополнительные сведения о документе, например сведения о отгрузке и дате отгрузки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-177">This pane shows additional information about the document, such as shipment and date information.</span></span> <span data-ttu-id="3e2cf-178">Индикатор выполнения показывает, сколько номенклатур все еще необходимо обработать.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-178">A progress bar shows how many items must still be processed.</span></span> <span data-ttu-id="3e2cf-179">Если документ не был успешно обработан в Commerce Headquarters, в области **Подробно** также отображаются сообщения об ошибках, имеющие отношение к этому сбою.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-179">If the document wasn't successfully processed to Commerce Headquarters, the **Details** pane also shows error messages that are related to the failure.</span></span>

<span data-ttu-id="3e2cf-180">В представлении страницы списка документов можно выбрать **Сведения о заказе** на панели приложения, чтобы просмотреть сведения о документе.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-180">In the document list page view, you can select **Order details** on the app bar to view the document details.</span></span> <span data-ttu-id="3e2cf-181">Можно также активировать обработку чеков в соответствующих строках документа.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-181">You can also activate receipt processing on eligible document lines.</span></span>

<span data-ttu-id="3e2cf-182">В представлении страницы списка документов можно также создать новый входящий запрос на заказ на перемещение для магазина.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-182">In the document list page view, you can also create a new inbound transfer order request for a store.</span></span> <span data-ttu-id="3e2cf-183">Документы остаются в статусе **Черновик** и могут быть скорректированы или удалены до тех пор, пока они не будут отправлены в Commerce Headquarters для обработки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-183">The documents remain in **Draft** status, and they can be adjusted or deleted until they are submitted to Commerce Headquarters for processing.</span></span> <span data-ttu-id="3e2cf-184">После того как они будут отправлены в Commerce Headquarters, строки заказа на перемещение больше нельзя будет изменить с помощью приложения POS.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-184">After they are submitted to Commerce Headquarters, the transfer order lines can no longer be changed from the POS application.</span></span>

## <a name="receiving-process"></a><span data-ttu-id="3e2cf-185">Процесс получения</span><span class="sxs-lookup"><span data-stu-id="3e2cf-185">Receiving process</span></span>

<span data-ttu-id="3e2cf-186">После выбора документа заказа на покупку или заказа на перемещение на вкладке **Активный** можно выбрать **Сведения о заказе**, чтобы начать процесс получения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-186">After you select a purchase order or transfer order document on the **Active** tab, you can select **Order details** to begin the receiving process.</span></span>

<span data-ttu-id="3e2cf-187">По умолчанию отображается представление **Получение**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-187">By default, the **Receiving now** view is shown.</span></span> <span data-ttu-id="3e2cf-188">Это представление оптимизировано для сканирования штрих-кода.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-188">This view is optimized for bar code scanning.</span></span> <span data-ttu-id="3e2cf-189">Он может использоваться для создания списка сканированных номенклатур, чтобы эти номенклатуры могли быть получены.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-189">It can be used to build a list of the items that have been scanned, so that those items can be received.</span></span> <span data-ttu-id="3e2cf-190">Чтобы начать процесс получения, можно начать сканировать штрих-коды номенклатур.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-190">To begin the receiving process, you can start to scan item bar codes.</span></span>

<span data-ttu-id="3e2cf-191">Так как штрих-коды номенклатуры отсканированы в представлении **Получение**, приложение проверяет номенклатуры по выбранному документу заказа на покупку или заказу на перемещение, чтобы убедиться, что каждая отсканированная номенклатура соответствует допустимой номенклатуре в документе.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-191">As item bar codes are scanned in the **Receiving now** view, the application validates the items against the selected purchase or transfer order document, to make sure that each scanned item matches a valid item on the document.</span></span> <span data-ttu-id="3e2cf-192">В представлении **Получение** каждое сканирование штрих-кода представляет собой получение количества в одну единицу, если только количество не включено в штрих-код.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-192">In the **Receiving now** view, each scan of a bar code is assumed to represent the receipt of a quantity of one unit, unless a quantity is embedded in the bar code.</span></span> <span data-ttu-id="3e2cf-193">В этом представлении можно повторно сканировать штрих-коды, чтобы создать список всех номенклатур и количеств для поступления.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-193">You can repeatedly scan bar codes in this view to build a list of all the items and quantities for the receipt.</span></span>

### <a name="example-scenario"></a><span data-ttu-id="3e2cf-194">Пример сценария</span><span class="sxs-lookup"><span data-stu-id="3e2cf-194">Example scenario</span></span>

<span data-ttu-id="3e2cf-195">Пользователь получает заказ на покупку, содержащий 10 единиц штрих-кода 5657900266.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-195">A user receives a purchase order that contains 10 units of bar code 5657900266.</span></span> <span data-ttu-id="3e2cf-196">Пользователь может отсканировать этот штрих-код 10 раз, чтобы обновить поле **Получение** на одну единицу при сканировании.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-196">The user can scan that bar code 10 times to update the **Receiving now** field by one unit per scan.</span></span> <span data-ttu-id="3e2cf-197">Когда пользователь завершит сканирование, поле **Получение** для строки номенклатуры будет показано, что было получено количество 10.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-197">When the user has completed the scans, the **Receiving now** field for the item's line will show that a quantity of 10 was received.</span></span>

<span data-ttu-id="3e2cf-198">Кроме того, в случае, когда количество номенклатуры велико, пользователю может потребоваться вручную ввести количество, а не сканировать штрих-код для каждой полученной номенклатуры.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-198">Alternatively, in a scenario where the item quantity is large, the user might prefer to manually enter the quantity instead of scanning the bar code for each item that is received.</span></span> <span data-ttu-id="3e2cf-199">В этом случае пользователь может сканировать штрих-код один раз, чтобы добавить номенклатуру в список **Получение**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-199">In this case, the user can scan the bar code one time to add the item to the **Receiving now** list.</span></span> <span data-ttu-id="3e2cf-200">Затем пользователь может выбрать соответствующую строку в представлении **Получение**, а затем в области **Подробно**, которая отображается в правой части страницы, обновите поле **Количество получения** для данной номенклатуры.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-200">The user can then select the associated line in the **Receiving now** view and then, in the **Details** pane that appears on the right side of the page, update the **Receiving quantity** field for the item.</span></span>

<span data-ttu-id="3e2cf-201">Хотя представление **Получение** оптимизировано для сканирования штрих-кода, пользователи могут также выбрать **получить продукт** на панели приложения, а затем ввести код номенклатуры или данные штрих-кода через диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-201">Although the **Receiving now** view is optimized for bar code scanning, users can also select **Receive product** on the app bar, and then enter the item ID or bar code data through a dialog box.</span></span> <span data-ttu-id="3e2cf-202">После проверки введенной номенклатуры пользователю предлагается ввести количество поступления.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-202">After the item that was entered is validated, the user is prompted to enter the receipt quantity.</span></span>

<span data-ttu-id="3e2cf-203">Представление **Получение** дает пользователям возможность видеть, какие продукты они получают.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-203">The **Receiving now** view provides a focused way for users to see which products they are receiving.</span></span> <span data-ttu-id="3e2cf-204">Кроме того, представление **Список полного заказа** может быть использовано.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-204">Alternatively, the **Full order list** view can be used.</span></span> <span data-ttu-id="3e2cf-205">В этом представлении отображается весь список строк документа для выбранного документа заказа на покупку или заказа на перемещение.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-205">This view shows the whole list of document lines for the selected purchase or transfer order document.</span></span> <span data-ttu-id="3e2cf-206">Пользователи могут вручную выбирать строки в списке, а затем в области **Подробно** обновлять поле **Количество получения** для выбранной строки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-206">Users can manually select lines manually in the list and then, in the **Details** pane, update the **Receiving quantity** field for the selected line.</span></span> <span data-ttu-id="3e2cf-207">В представлении **Список полного заказа** пользователи могут сканировать штрих-коды или использовать функцию **получить продукт** для ввода кода или штрих-кодов номенклатуры, а также данные о полученном количестве без предварительного выбора соответствующей строки номенклатуры в списке.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-207">In the **Full order list** view, users can scan bar codes, or they can use the **Receive product** function to enter the item ID or bar code, and data about the received quantity, without first having to select the matching item line in the list.</span></span>

### <a name="over-receiving-validations"></a><span data-ttu-id="3e2cf-208">Проверки с избыточным получением</span><span class="sxs-lookup"><span data-stu-id="3e2cf-208">Over-receiving validations</span></span>

<span data-ttu-id="3e2cf-209">Проверки выполняются в процессе получения для строк документа.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-209">Validations occur during the receiving process for the document lines.</span></span> <span data-ttu-id="3e2cf-210">Они включают проверки на перепоставку.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-210">They include validations for over-delivery.</span></span> <span data-ttu-id="3e2cf-211">Если пользователь пытается получить больше запасов, чем было заказано в заказе на покупку, но либо перепоставка не настроена, либо полученный объем превышает допуск по перепоставке, настроенный для строки заказа на покупку, пользователь получает сообщение об ошибке и не может получить избыточное количество.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-211">If a user tries to receive more inventory than was ordered on a purchase order, but either over-delivery isn't configured or the amount that is received exceeds the over-delivery tolerance that is configured for the purchase order line, the user receives an error and isn't allowed to receive the excess quantity.</span></span>

<span data-ttu-id="3e2cf-212">Перепоставка не разрешена для документов заказа на перемещение.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-212">Over-receiving isn't permitted for transfer order documents.</span></span> <span data-ttu-id="3e2cf-213">Пользователи всегда будут получать ошибки, если они попытаются получить большее количество, чем было отгружено для строки заказа на перемещение.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-213">Users will always receive errors if they try to receive more than was shipped for the transfer order line.</span></span>

### <a name="close-purchase-order-lines"></a><span data-ttu-id="3e2cf-214">Закрытие строк заказа на покупку</span><span class="sxs-lookup"><span data-stu-id="3e2cf-214">Close purchase order lines</span></span>

<span data-ttu-id="3e2cf-215">Оставшееся количество во входящем заказе на покупку в процессе приемки можно закрыть, если грузоотправитель подтвердил, что они не могут отгрузить все запрошенное количество.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-215">You can close the remaining quantity on an inbound purchase order during the receiving process if the shipper has confirmed that they can’t ship the full quantity that was requested.</span></span> <span data-ttu-id="3e2cf-216">Для этого компания должна быть настроена таким образом, чтобы допускать недопоставки по заказам на покупку.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-216">To do so, the company must be configured to allow underdelivery of purchase orders.</span></span> <span data-ttu-id="3e2cf-217">Кроме того, в строке заказа на покупку должен быть определен процент допустимой недопоставки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-217">Additionally, an underdelivery tolerance percentage must be defined for the purchase order line.</span></span>

<span data-ttu-id="3e2cf-218">Чтобы настроить компанию для разрешения недопоставки заказов на покупку, в Commerce Headquarters перейдите в раздел **Закупки и источники** > **Настройка** > **Параметры закупок и источников**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-218">To configure the company to allow underdelivery of purchase orders, in Commerce headquarters, go to **Procurement and sourcing** > **Setup** > **Procurement and sourcing parameters**.</span></span> <span data-ttu-id="3e2cf-219">На вкладке **Доставка** включите параметр **Допускается недопоставка**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-219">On the **Delivery** tab, turn on the **Accept underdelivery** parameter.</span></span> <span data-ttu-id="3e2cf-220">Затем запустите задание графика распределения **1070** (**Конфигурация канала**) для синхронизации изменений настройки с каналами.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-220">Then run the **1070** (**Channel configuration**) distribution schedule job to sync the setting changes to channels.</span></span>

<span data-ttu-id="3e2cf-221">Процент допустимой недопоставки для строки заказа на покупку может быть предопределенным для продуктов как часть конфигураций продукта в модуле Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-221">Underdelivery tolerance percentages for a purchase order line can be predefined on products as part of the product configurations in Commerce headquarters.</span></span> <span data-ttu-id="3e2cf-222">Кроме того, они могут быть установлены или переписаны в конкретном заказе на покупку в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-222">Alternatively, they can be set or overwritten on a specific purchase order in Commerce headquarters.</span></span>

<span data-ttu-id="3e2cf-223">После того как организация закончила конфигурации недопоставки заказов на покупку, пользователи POS увидят новый параметр **Закрыть оставшееся количество** в области **Подробно** при выборе строки входящего заказа на покупку в операции **Входящие запасы**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-223">After an organization completes the purchase order underdelivery configurations, POS users will see a new **Close remaining quantity** option in the **Details** pane when an inbound purchase order line is selected in the **Inbound inventory** operation.</span></span> <span data-ttu-id="3e2cf-224">Если пользователь закрывает оставшегося количества, POS-терминал выполняет проверку того, что закрываемое количество попадает в допуск процента недопоставки, определенный в строке заказа на покупку.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-224">If the user closes the remaining quantity, POS performs a validation to verify whether the quantity being closed is within the underdelivery tolerance percentage defined on the purchase order line.</span></span> <span data-ttu-id="3e2cf-225">При допустимое отклонение недопоставки превышено, выводится сообщение об ошибке, и пользователь не сможет закрыть оставшееся количество до тех пор, пока ранее полученное количество плюс количество **Принимается сейчас** не превысит минимальное количество, которое должно быть получено на основе процента допустимого отклонения недопоставки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-225">If the underdelivery tolerance is exceeded, an error message is displayed and the user won’t be able to close the remaining quantity until the previously received quantity plus the **Receiving now** quantity meets or exceeds the minimal quantity that needs to be received based on the underdelivery tolerance percentage.</span></span> 

<span data-ttu-id="3e2cf-226">Если для строки заказа на покупку включен параметр **Закрыть оставшееся количество**, то при завершении прихода пользователем с помощью действия **Завершение получения** запрос на закрытие также направляется в Commerce Headquarters, и любое неполученное количество в строке заказа будет отменено.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-226">With **Close remaining quantity** option turned on for a purchase order line, when the user completes the receipt by using the **Finish receiving** action, a closure request is also sent to Commerce headquarters, and any unreceived quantity of this order line will be cancelled.</span></span> <span data-ttu-id="3e2cf-227">В этот момент строка считается полностью полученной.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-227">At that point the line is considered fully received.</span></span> 

### <a name="receiving-location-controlled-items"></a><span data-ttu-id="3e2cf-228">Получение номенклатур, управляемых местоположением</span><span class="sxs-lookup"><span data-stu-id="3e2cf-228">Receiving location-controlled items</span></span>

<span data-ttu-id="3e2cf-229">Если полученные номенклатуры контролируются местоположением, пользователи могут выбрать местоположение, в котором они хотят получать запасы в процессе получения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-229">If the items that are being received are location-controlled, users can select the location where they want to receive the items during the receiving process.</span></span> <span data-ttu-id="3e2cf-230">Рекомендуется настроить местоположение получения по умолчанию для склада магазина, чтобы повысить эффективность этого процесса.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-230">We recommend that you configure a default receiving location for your store warehouse, to make this process more efficient.</span></span> <span data-ttu-id="3e2cf-231">Даже если настроено местоположение по умолчанию, пользователи могут переопределить местоположение получения для выбранных строк по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-231">Even if a default location is configured, users can override the receiving location on selected lines as they require.</span></span>

<span data-ttu-id="3e2cf-232">Операция учитывает конфигурацию **Пропуск для приходов** в аналитике хранения **Местоположение** и не требует ввода аналитики местоположения, если настроен пропуск для приходов.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-232">The operation respects the **Blank receipt allowed** configuration on the **Location** storage dimension and doesn't require that a location dimension be entered if blank receipt is configured.</span></span> <span data-ttu-id="3e2cf-233">Если для номенклатуры не разрешается использовать приходы без указания места, приложение POS показывает ошибку и требует, чтобы местоположение было введено до того, как поступление будет разнесено.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-233">If blank receipt locations aren't allowed for an item, the POS application shows an error and requires that a location be entered before the receipt can be posted.</span></span>

### <a name="receive-all"></a><span data-ttu-id="3e2cf-234">Получить все</span><span class="sxs-lookup"><span data-stu-id="3e2cf-234">Receive all</span></span>

<span data-ttu-id="3e2cf-235">По мере необходимости можно выбрать **Получить все** на панели приложения для быстрого обновления количества **Получение** по всем строкам документа до максимального значения, доступного к получению для этих строк.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-235">As you require, you can select **Receive all** on the app bar to quickly update the **Receiving now** quantity for all the document lines to the maximum value that is available to be received for those lines.</span></span>

### <a name="receipt-of-unplanned-items-on-purchase-orders"></a><span data-ttu-id="3e2cf-236">Получение незапланированных номенклатур по заказам на покупку</span><span class="sxs-lookup"><span data-stu-id="3e2cf-236">Receipt of unplanned items on purchase orders</span></span>

<span data-ttu-id="3e2cf-237">В Commerce версии 10.0.14 и более поздних пользователи могут получить продукт, который изначально не был указан в заказе на покупку.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-237">In Commerce version 10.0.14 and later, users can receive a product that was not originally on the purchase order.</span></span> <span data-ttu-id="3e2cf-238">Чтобы включить эту функцию, включите **Добавление строк в заказ на покупку во время получения POS-терминалов**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-238">To enable this functionality, turn on **Add lines to Purchase Order during Point of Sale receiving**.</span></span>  

<span data-ttu-id="3e2cf-239">Эта функция работает только для получения заказа на покупку.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-239">This feature only works for purchase order receiving.</span></span> <span data-ttu-id="3e2cf-240">Нельзя получать номенклатуры по заказам на перемещение, когда номенклатуры ранее не были заказаны и отгружены с исходящего склада.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-240">It's not possible to receive items against transfer orders when the items weren't previously ordered and shipped from the outbound warehouse.</span></span>

<span data-ttu-id="3e2cf-241">Пользователи не могут добавлять новые продукты в заказ на покупку во время получения POS, если [изменение рабочего процесса управления](https://docs.microsoft.com/dynamics365/supply-chain/procurement/purchase-order-approval-confirmation) заказа на покупку включено в главном офисе Commerce (HQ).</span><span class="sxs-lookup"><span data-stu-id="3e2cf-241">Users can't add new products to the purchase order during POS receiving if purchase order [change management workflow](https://docs.microsoft.com/dynamics365/supply-chain/procurement/purchase-order-approval-confirmation) is enabled in Commerce headquarters (HQ).</span></span> <span data-ttu-id="3e2cf-242">Чтобы включить управление изменениями, необходимо сначала утвердить все изменения заказа на покупку, прежде чем получение будет разрешено.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-242">To enable change management, all changes to a purchase order must first be approved before receiving is allowed.</span></span> <span data-ttu-id="3e2cf-243">Поскольку этот процесс позволяет получателю добавлять новые строки в заказ на покупку, получение закончится сбоем, если рабочий процесс управления изменениями включен.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-243">Because this process allows a receiver to add new lines to the purchase order, receiving will fail if the change management workflow is enabled.</span></span> <span data-ttu-id="3e2cf-244">Если управление изменениями включено для всех заказов на покупку или для поставщика, связанного с заказом на покупку, активно получаемого в POS-терминале, пользователь не может добавлять новые продукты в заказ на покупку во время приемки в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-244">If change management is enabled for all purchase orders or for the vendor linked to the purchase order actively being received in POS, the user can't add new products to the purchase order during receiving in POS.</span></span>

<span data-ttu-id="3e2cf-245">Функция, позволяющая добавлять строки, не может использоваться в качестве обходного пути для получения дополнительных количеств продуктов, уже включенных в заказ на покупку.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-245">The functionality that enables adding lines can't be used as a workaround for receiving additional quantities of products already on the purchase order.</span></span> <span data-ttu-id="3e2cf-246">Избыточная приемка осуществляется через стандартные настройки [избыточной приемки](https://docs.microsoft.com/dynamics365/commerce/pos-inbound-inventory-operation#over-receiving-validations) для линии продукта в заказе на покупку.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-246">Over-receiving is managed through the standard [over-receiving](https://docs.microsoft.com/dynamics365/commerce/pos-inbound-inventory-operation#over-receiving-validations) settings for the product line on the purchase order.</span></span>

<span data-ttu-id="3e2cf-247">Если параметр **Добавление строк в заказ на покупку во время получения POS-терминалов** включен, и пользователь принимает с использованием **входящей операции** в POS-терминале, если пользователь сканирует или вводит штрих-код продукта или номер продукта, не распознаваемый как номенклатура в текущем заказе на покупку, но рассматривается как допустимая номенклатура, пользователь получает сообщение о добавлении номенклатуры в заказ на покупку.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-247">If **Add lines to Purchase Order during Point of Sale receiving** is enabled and a user is receiving with the **Inbound operation** in POS, if the user scans or keys a product barcode or product number that isn't recognized as an item on the current purchase order, but is recognized as a valid item, the user receives a message about adding the item to the purchase order.</span></span> <span data-ttu-id="3e2cf-248">Если пользователь добавляет номенклатуру в заказ на покупку, количество, введенное в **Получение**, считается заказанным количеством для строки заказа на покупку.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-248">If the user adds the item to the purchase order, the quantity entered in **Receiving now** is considered the ordered quantity for the purchase order line.</span></span>

<span data-ttu-id="3e2cf-249">Когда приход по заказу на покупку завершен и отправлен в главный офис для обработки, добавленные строки создаются в главном документе заказа на покупку.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-249">When the purchase order receipt is complete and submitted to HQ for processing, the added lines are created on the purchase order master document.</span></span> <span data-ttu-id="3e2cf-250">В строке заказа на покупку в главном офисе будет флаг **Добавлено POS** на вкладке **Общие** строки заказа на покупку.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-250">On the purchase order line in HQ, there will be an **Added by POS** flag on the **General** tab of the purchase order line.</span></span> <span data-ttu-id="3e2cf-251">Флаг **Добавлено POS** указывает, что строка заказа на покупку была добавлена процессом получения POS и не была строкой, которая была в заказе на покупку до получения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-251">The **Added by POS** flag indicates that the purchase order line was added by the POS receiving process and was not a line that was on the purchase order prior to receiving.</span></span>

### <a name="cancel-receiving"></a><span data-ttu-id="3e2cf-252">Отменить приемку</span><span class="sxs-lookup"><span data-stu-id="3e2cf-252">Cancel receiving</span></span>

<span data-ttu-id="3e2cf-253">Функция **Отмена получения** должна использоваться на панели приложения только в том случае, если требуется выйти из документа и не требуется сохранять какие-либо изменения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-253">You should use the **Cancel receiving** function on the app bar only if you want to back out of the document and don't want to save any changes.</span></span> <span data-ttu-id="3e2cf-254">Например, в первоначальном состоянии был выбран неправильный документ и не требуется сохранять предыдущие данные получения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-254">For example, you initially selected the wrong document and don't want any of the previous receiving data saved.</span></span>

### <a name="pause-receiving"></a><span data-ttu-id="3e2cf-255">Приостановить получение</span><span class="sxs-lookup"><span data-stu-id="3e2cf-255">Pause receiving</span></span>

<span data-ttu-id="3e2cf-256">Если вы выполняете получаете запас, вы можете использовать функцию **Приостановить получение**, если хотите сделать перерыв в процессе получения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-256">If you're receiving inventory, you can use the **Pause receiving** function if you want to take a break from the receiving process.</span></span> <span data-ttu-id="3e2cf-257">Например, может потребоваться выполнить другую операцию из POS, например, зарегистрировать продажу клиенту или отложить разноску получения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-257">For example, you might want to perform another operation from the POS, such as ringing up a customer sale, or delay posting of the receipt.</span></span>

<span data-ttu-id="3e2cf-258">При выборе **Приостановить получение**, статус документа изменится на **Приостановлено**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-258">When you select **Pause receiving**, the document's status is changed to **Paused**.</span></span> <span data-ttu-id="3e2cf-259">Поэтому пользователи будут знать, что в документ были введены данные, но документ еще не был подтвержден.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-259">Therefore, users will know that data has been entered for the document, but the document hasn't yet been committed.</span></span> <span data-ttu-id="3e2cf-260">Когда вы будете готовы возобновить процесс получения, выберите приостановленный документ, а затем выберите **Сведения о заказе**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-260">When you're ready to resume the receiving process, select the paused document, and then select **Order details**.</span></span> <span data-ttu-id="3e2cf-261">Все количества **Получение**, которые были ранее сохранены, удержаны, и их можно будет просмотреть в представлении **Список полного заказа**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-261">Any **Receiving now** quantities that were previously saved are retained and can be viewed from the **Full order list** view.</span></span>

### <a name="review"></a><span data-ttu-id="3e2cf-262">Проверить</span><span class="sxs-lookup"><span data-stu-id="3e2cf-262">Review</span></span>

<span data-ttu-id="3e2cf-263">Перед окончательным обязательством прихода в центральном офисе Commerce можно использовать функцию рассмотрения для проверки входящего документа.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-263">Before the final commitment of the receipt to Commerce headquarters (HQ), you can use the review functionality to validate the inbound document.</span></span> <span data-ttu-id="3e2cf-264">В ходе просмотра будут отображены все отсутствующие или неправильные данные, которые могут привести к сбою обработки и предоставить вам возможность устранения ошибок перед отправкой запроса прихода.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-264">The review will alert you to any missing or incorrect data that may cause processing failure and provide you the opportunity to correct problems before submitting the receipt request.</span></span> <span data-ttu-id="3e2cf-265">Чтобы включить функцию **Оценка** на панели приложений, включите функцию **Включить проверку во входящих и исходящих операциях запасов POS** в рабочей области **Управление функциями** в центральном офисе Commerce (HQ).</span><span class="sxs-lookup"><span data-stu-id="3e2cf-265">To enable the **Review** function on the app bar, enable the **Enable validation in POS inbound and outbound inventory operations** feature through the **Feature management** workspace in Commerce headquarters (HQ).</span></span>

<span data-ttu-id="3e2cf-266">Функция **Оценка** проверяет следующие ошибки в входящем документе:</span><span class="sxs-lookup"><span data-stu-id="3e2cf-266">The **Review** function validates the following issues in an inbound document:</span></span>

- <span data-ttu-id="3e2cf-267">**Избыточное получение** — количество по приходу превышает заказанное количество.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-267">**Over-receiving** – the receiving now quantity is greater than the ordered quantity.</span></span> <span data-ttu-id="3e2cf-268">Уровень серьезности данной ошибки определяется конфигурацией перепоставки в центральном офисе Commerce (HQ).</span><span class="sxs-lookup"><span data-stu-id="3e2cf-268">The severity of this issue is determined by the overdelivery configuration in Commerce headquarters (HQ).</span></span>
- <span data-ttu-id="3e2cf-269">**Недостаточное получение** — количество по приходу меньше заказанного количества.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-269">**Under-receiving** – the receiving now quantity is less than the ordered quantity.</span></span> <span data-ttu-id="3e2cf-270">Уровень серьезности данной ошибки определяется конфигурацией недопоставки в центральном офисе Commerce (HQ).</span><span class="sxs-lookup"><span data-stu-id="3e2cf-270">The severity of this issue is determined by the underdelivery configuration in Commerce headquarters (HQ).</span></span>
- <span data-ttu-id="3e2cf-271">**Серийный номер** — серийный номер не предоставляется или проверяется для сериализованной номенклатуры, для которой требуется регистрация серийного номера в запасах.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-271">**Serial number** – the serial number is not provided or validated for a serialized item that requires serial number to be registered in inventory.</span></span>
- <span data-ttu-id="3e2cf-272">**Местоположение не задано** — местоположение не указано для номенклатуры, контролируемой местоположением, когда пустое местоположение не разрешено.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-272">**Location not set** – the location is not specified for a location-controlled item where blank location is not allowed.</span></span>
- <span data-ttu-id="3e2cf-273">**Удаленные строки** — в заказе есть строки, удаленные пользователем центрального офиса Commerce (HQ), который неизвестен для POS-приложения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-273">**Deleted lines** – the order has lines deleted by aa Commerce headquarters (HQ) user that is not known to POS application.</span></span>

<span data-ttu-id="3e2cf-274">Установите для параметра **Включить автоматическую проверку** значение **Да** в **Параметры Commerce** > **Запасы** > **Запасы магазина**, чтобы проверка выполнялась автоматически, когда выбрано **Завершить получение**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-274">Set the **Enable automatic validation** parameter to **Yes** in **Commerce parameters** > **Inventory** > **Store inventory** to have the validation executed automatically when **Finish receiving** is selected.</span></span>

### <a name="finish-receiving"></a><span data-ttu-id="3e2cf-275">Завершить получение</span><span class="sxs-lookup"><span data-stu-id="3e2cf-275">Finish receiving</span></span>

<span data-ttu-id="3e2cf-276">После ввода всех количеств **Получение** для продуктов необходимо выбрать **Завершить получение** на панели приложения для обработки поступления.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-276">When you've finished entering all the **Receiving now** quantities for products, you must select **Finish receiving** on the app bar to process the receipt.</span></span>

<span data-ttu-id="3e2cf-277">Когда пользователи завершают получение по заказу на покупку, им предлагается ввести значение в поле **Номер поступления**, если эта функция настроена.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-277">When users complete a purchase order receipt, they are prompted to enter a value in the **Receipt number** field, if this functionality is configured.</span></span> <span data-ttu-id="3e2cf-278">Обычно это значение эквивалентно идентификатору отборочной накладной поставщика.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-278">Typically, this value is equivalent to the identifier of the vendor packing slip.</span></span> <span data-ttu-id="3e2cf-279">Данные **Номера поступления** будут храниться в журнале поступлений продуктов в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-279">The **Receipt number** data will be stored in the Product receipt journal in Commerce Headquarters.</span></span> <span data-ttu-id="3e2cf-280">Номера поступлений не фиксируются для поступлений по заказам на перемещение.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-280">Receipt numbers aren't captured for transfer order receipts.</span></span>

<span data-ttu-id="3e2cf-281">При использовании асинхронной обработки документов приходная накладная отправляется через асинхронную структуру документов.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-281">When asynchronous document processing is used, the receipt is submitted through an asynchronous document framework.</span></span> <span data-ttu-id="3e2cf-282">Время, необходимое для разноски документа, зависит от размера документа (количества строк) и от общего трафика обработки, происходящего на сервере.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-282">The time that it takes for the document to be posted depends on the size of the document (the number of lines) and the general processing traffic that is occurring on the server.</span></span> <span data-ttu-id="3e2cf-283">Обычно этот процесс происходит в считанные секунды.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-283">Typically, this process occurs in a matter of seconds.</span></span> <span data-ttu-id="3e2cf-284">Если разноска документа проходит неудачно, пользователь получает уведомление по списку документов **Входящая операция**, в которой статус документа будет обновлен на **Сбой обработки**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-284">If document posting fails, the user is notified through the **Inbound operation** document list, where the document status will be updated to **Processing failed**.</span></span> <span data-ttu-id="3e2cf-285">После этого пользователь может выбрать документ со сбоем в POS для просмотра сообщений об ошибках и причине сбоя в области **Подробно**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-285">The user can then select the failed document in POS to view the error messages and the reason for the failure in the **Details** pane.</span></span> <span data-ttu-id="3e2cf-286">Документ со сбоем остается неразнесенным и требует, чтобы пользователь вернулся в строки документа, выбрав **Сведения о заказе** в POS.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-286">A failed document remains unposted and requires that the user return to the document lines by selecting **Order details** in POS.</span></span> <span data-ttu-id="3e2cf-287">Затем пользователь должен обновить документ с учетом корректировок на основе ошибок.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-287">The user must then update the document with corrections, based on the errors.</span></span> <span data-ttu-id="3e2cf-288">После исправления документа пользователь может повторить попытку его обработки, выбрав **Завершить выполнение** на панели приложения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-288">After a document is corrected, the user can try again to process it by selecting **Finish fulfillment** on the app bar.</span></span>

## <a name="create-an-inbound-transfer-order"></a><span data-ttu-id="3e2cf-289">Создание входящего заказа на перемещение</span><span class="sxs-lookup"><span data-stu-id="3e2cf-289">Create an inbound transfer order</span></span>

<span data-ttu-id="3e2cf-290">Из POS пользователи могут создавать новые документы заказов на перемещение.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-290">From POS, users can create new transfer order documents.</span></span> <span data-ttu-id="3e2cf-291">Чтобы начать процесс, выберите **Создать** на панели приложения, когда вы находитесь в главном списке документов **Входящая операция**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-291">To begin the process, select **New** on the app bar while you're in the main **Inbound operation** document list.</span></span> <span data-ttu-id="3e2cf-292">После этого будет предложено выбрать **Переместить из** склада или магазина, который предоставит запас в местоположение вашего магазина.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-292">You're then prompted to select a **Transfer from** warehouse or store that will provide the inventory to your store location.</span></span> <span data-ttu-id="3e2cf-293">Значения ограничиваются выбором, определенным в конфигурации группы выполнения магазина.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-293">The values are limited to the selection that is defined in the configuration of the store's fulfillment group.</span></span> <span data-ttu-id="3e2cf-294">Во входящем запросе на перемещение текущий магазин всегда будет **Переместить в** склад для заказа на перемещение.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-294">In an inbound transfer request, your current store will always be the **Transfer to** warehouse for the transfer order.</span></span> <span data-ttu-id="3e2cf-295">Это значение не может быть изменено.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-295">That value can't be changed.</span></span>

<span data-ttu-id="3e2cf-296">Можно ввести значения в поля **Дата отгрузки**, **Дата получения** и **Способ поставки**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-296">You can enter values in the **Ship date**, **Receive date**, and **Mode of delivery** fields as you require.</span></span> <span data-ttu-id="3e2cf-297">Можно также добавить примечание, которое будет храниться вместе с заголовком заказа на перемещение в виде вложения в документ в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-297">You can also add a note that will be stored together with the transfer order header, as an attachment to the document in Commerce Headquarters.</span></span>

<span data-ttu-id="3e2cf-298">После создания информации заголовка можно добавлять продукты в заказ на перемещение.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-298">After the header information is created, you can add products to the transfer order.</span></span> <span data-ttu-id="3e2cf-299">Чтобы начать процесс добавления номенклатур и запрошенных количеств, выберите **Добавить продукт**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-299">To start the process of adding items and requested quantities, select **Add product**.</span></span> <span data-ttu-id="3e2cf-300">В области **Подробно** можно также добавить примечание, зависящее от строки, в строки журнала.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-300">In the **Details** pane, you can also add a line-specific note to the journal lines.</span></span> <span data-ttu-id="3e2cf-301">Эти примечания будут храниться как примечания к строкам.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-301">These notes will be stored as a line attachment.</span></span>

<span data-ttu-id="3e2cf-302">После ввода строк во входящий заказ на перемещение необходимо выбрать **Сохранить**, чтобы сохранить изменения в документе локально, или **Отправить запрос**, чтобы отправить сведения о заказе в Commerce Headquarters для дальнейшей обработки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-302">After lines are entered on the inbound transfer order, you must select **Save** to save the document changes locally or **Submit request** to submit the order details to Commerce Headquarters for further processing.</span></span> <span data-ttu-id="3e2cf-303">Если выбрано значение **Сохранить**, черновик документа сохраняется в базе данных канала, а склад отгрузки не может выполнить документ до тех пор, пока он не будет успешно обработан с помощью **Отправить запрос**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-303">If you select **Save**, the draft document is stored in the channel database, and the outbound warehouse can't run the document until it has been successfully processed via **Submit request**.</span></span> <span data-ttu-id="3e2cf-304">Необходимо выбрать **Сохранить** только в том случае, если вы не готовы зафиксировать запрос в Commerce Headquarters для обработки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-304">You should select **Save** only if you aren't ready to commit the request to Commerce Headquarters for processing.</span></span>

<span data-ttu-id="3e2cf-305">Если документ сохраняется локально, он может быть найден на вкладке **черновики** в списке документов **Входящая операция**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-305">If a document is saved locally, it can be found on the **Drafts** tab of the **Inbound operation** document list.</span></span> <span data-ttu-id="3e2cf-306">Если документ имеет статус **Черновик**, его можно изменить, выбрав **Изменить**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-306">While a document is in **Draft** status, you can edit it by selecting **Edit**.</span></span> <span data-ttu-id="3e2cf-307">Можно обновить, добавить или удалить строки по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-307">You can update, add, or delete lines as you require.</span></span> <span data-ttu-id="3e2cf-308">Кроме того, можно удалить весь документ, пока он находится в статусе **черновика** , выбрав **Удалить** на вкладке **Черновики**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-308">You can also delete the whole document while it's in **Draft** status, by selecting **Delete** on the **Drafts** tab.</span></span>

<span data-ttu-id="3e2cf-309">После успешной отправки черновика в Commerce Headquarters он отображается на вкладке **Активный** и имеет статус **Запрошено**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-309">After the draft document is successfully submitted to Commerce Headquarters, it appears on the **Active** tab and has a status of **Requested**.</span></span> <span data-ttu-id="3e2cf-310">На этом этапе пользователи в магазине или складе приемки больше не могут редактировать запрошенный документ входящего заказа на перемещение.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-310">At this point, users in the inbound store or warehouse can no longer edit the requested inbound transfer order document.</span></span> <span data-ttu-id="3e2cf-311">Только пользователи на складе отгрузки могут редактировать документ путем выбора **Исходящая операция** в приложении POS.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-311">Only users in the outbound warehouse can edit the document, by selecting **Outbound operation** in the POS application.</span></span> <span data-ttu-id="3e2cf-312">Блокировка редактирования позволяет избежать возникновения конфликтов, поскольку принимающий инициатор запроса изменяет заказ на перемещение одновременно с тем, как грузоотправитель комплектует и отгружает заказ.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-312">The editing lock ensures that no conflicts occur because an inbound requestor changes the transfer order at the same time that the outbound shipper is actively picking and shipping the order.</span></span> <span data-ttu-id="3e2cf-313">Если после отправки заказа на перемещение изменения необходимо выполнить из магазина или склада приемки, необходимо связаться с грузоотправителем и запросить ввести изменения.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-313">If changes are required from the inbound store or warehouse after the transfer order has been submitted, the outbound shipper should be contacted and asked to enter the changes.</span></span>

<span data-ttu-id="3e2cf-314">После того как документ находится состоянии **Запрошено**, он отображается на вкладке **Активный**. Однако он еще не может быть получен магазином или складом приемки.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-314">After the document is in **Requested** status, it's visible on the **Active** tab. However, it can't yet be received by the inbound store or warehouse.</span></span> <span data-ttu-id="3e2cf-315">После отгрузки на складе отгрузки части или всего заказа на перемещение, магазин или склад приемки могут разносить поступления в POS.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-315">After the outbound warehouse has shipped some or all of the transfer order, the inbound store or warehouse can post receipts in POS.</span></span> <span data-ttu-id="3e2cf-316">Когда сторона отгрузки обрабатывает документы заказа на перемещение, их статус обновляется с **Запрошено** на **Отгружено** или **Частично отгружено**.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-316">When the outbound side processes the transfer order documents, their status is updated from **Requested** to **Shipped** or **Partially Shipped**.</span></span> <span data-ttu-id="3e2cf-317">После того, как документы будут иметь статус **Отгружено** или **Частично отгружено**, магазин или склад приемки могут разносить приходы по ним, используя процесс получения входящей операции.</span><span class="sxs-lookup"><span data-stu-id="3e2cf-317">After the documents are in **Shipped** or **Partially Shipped** status, the inbound store or warehouse can post receipts against them using the inbound operation receiving process.</span></span>

## <a name="related-topics"></a><span data-ttu-id="3e2cf-318">Связанные разделы</span><span class="sxs-lookup"><span data-stu-id="3e2cf-318">Related topics</span></span>

[<span data-ttu-id="3e2cf-319">Исходящая операция запасов в POS</span><span class="sxs-lookup"><span data-stu-id="3e2cf-319">Outbound inventory operation in POS</span></span>](pos-outbound-inventory-operation.md)
