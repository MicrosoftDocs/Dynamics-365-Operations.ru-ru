---
title: Отображение уведомлений о заказах в POS-терминале
description: В этом разделе описывается, как включить уведомления о заказах в POS-терминале и платформе уведомлений.
author: ShalabhjainMSFT
manager: AnnBe
ms.date: 04/30/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailOperations, RetailFunctionalityProfile
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: retail
ms.author: ShalabhjainMSFT
ms.search.validFrom: 2017-10-30
ms.dyn365.ops.version: ''
ms.openlocfilehash: 04dd57aabcbdf5291f06317800b69f29f15d2763
ms.sourcegitcommit: 81a647904dd305c4be2e4b683689f128548a872d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "3023751"
---
# <a name="show-order-notifications-in-the-point-of-sale-pos"></a>Отображение уведомлений о заказах в POS-терминале

[!include [banner](includes/banner.md)]

В современной среде розничной торговли сотрудникам магазина назначаются различные задачи, такие как помочь клиентам, ввод транзакций, выполнение инвентаризации запасов и приемка заказов в магазине. Клиент POS-терминала предоставляет единое приложение, в котором сотрудники могут выполнять все эти задачи и многие другие. Так как имеется много различных задач, которые требуется выполнять в течение дня, сотрудником может потребоваться получать уведомления, когда что-то требует их внимания. Платформа уведомлений в POS помогает решить эту проблему, позволяя предприятиям розничной торговли настраивать уведомления на основе ролей. В Dynamics 365 for Retail с обновлением приложения 5 эти уведомления можно настроить только для POS-операций.


В настоящее время система может отображать уведомления только для операций выполнения заказов. Однако так как платформа разработана с учетом возможности расширения, разработчики со временем смогут написать обработчик уведомлений для любой операции и отображаться уведомления для этой операции в POS-терминале.

## <a name="enable-notifications-for-order-fulfillment-operations"></a>Включение уведомлений для операций выполнения заказов

Чтобы включить уведомления для операций выполнения заказов выполните следующие шаги.

1. Перейдите в раздел **Retail и Commerce** &gt; **Настройка канала** &gt; **Настройка POS** &gt; **POS** &gt; **Операции**.
2. Найдите операцию **Выполнение заказов**, затем установите флажок **Включить уведомления** для нее, чтобы указать, что платформа уведомлений должна контролировать обработчик для этой операции. Если реализован обработчик, уведомления для этой операции будут затем отображаться в POS-терминале.
3. Выберите **Retail и Commerce** &gt; **Сотрудники** &gt; **Работники** &gt;, на вкладке Commerce откройте разрешения POS-терминала, связанные с работником. Разверните экспресс-вкладку **Уведомления**, добавьте операцию **Выполнение заказов** и задайте в поле **Порядок отображения** значение **1**. Если настроено более одного уведомления, это поле используется для упорядочения уведомлений. Уведомления, которые имеют более низкое значение в поле **Порядок отображения**, отображаются выше уведомлений, которые имеют более высокое значение. Уведомления, у которых в поле **Порядок отображения** задано значение **1**, отображаются сверху.

    Уведомления отображаются только для операций, которые добавлены на экспресс-вкладке **Уведомления**, и операции на ней можно добавить только в том случае, если установлен флажок **Включить уведомления** для этих операций на странице **Операции POS**. Кроме того, уведомления для операции отображаются для работников только в том случае, если операция добавлена в разрешения POS-терминала для этих работников.

    > [!NOTE]
    > Уведомления можно переопределить на уровне пользователя. Откройте запись работника, выберите **POS-разрешения**, затем измените подписку на уведомления пользователя.

4. Перейдите в раздел **Retail и Commerce** &gt; **Настройка канала** &gt; **Настройка POS** &gt; **Профили POS** &gt; **Профили функциональности**. В поле **Интервал уведомлений** укажите, как часто производится выборка уведомлений. Для некоторых уведомлений POS-терминал должен выполнять вызовы в режиме реального времени в приложение бэк-офиса. Эти вызовы расходуют вычислительные мощности приложения бэк-офиса. Поэтому при установке интервала уведомлений следует учитывать как бизнес-требования, так и влияние обращений в режиме реального времени к приложению бэк-офиса. Значение **0** (ноль) отключает вывод всех уведомлений.
5. Перейдите в раздел **Retail и Commerce** &gt; **ИТ Retail и Commerce** &gt; **График распределения**. Выберите график **1060** (**Персонал**) для синхронизации настроек подписки на уведомления, затем выберите команду **Запустить сейчас**. Затем выберите **1070** (**Конфигурация канала**) для синхронизации интервала разрешения и выберите **Запустить сейчас**.

## <a name="view-notifications-in-the-pos"></a>Просмотр уведомлений в POS-терминале

После выполнения предыдущих шагов работники смогут просматривать уведомления на POS-терминале. Для просмотра уведомлений нажмите значок уведомлений в правом верхнем углу экрана POS-терминала. Открывается центр уведомлений и отображаются уведомления для операции выполнения заказов. В центре уведомлений должны отображаться следующие группы в операции выполнения заказов:

- **Самовывоз из магазина** — в этой группе отображается количество заказов, которые имеют режим поставки **Отправка**, и которые запланированы для отправки из текущего магазина. Можно нажать номер на группе, чтобы открыть страницу **Выполнение заказов**. В этом случае страница будет отфильтрована, чтобы на ней отображались только активные заказы, которые настроены для отправки из текущего магазина.
- **Доставка из магазина** — в этой группе отображается количество заказов, которые имеют режим поставки **Отгрузка**, и которые запланированы для отгрузки из текущего магазина. Можно нажать номер на группе, чтобы открыть страницу **Выполнение заказов**. В этом случае страница будет отфильтрована, чтобы на ней отображались только активные заказы, которые настроены для отгрузки из текущего магазина.

Когда новые заказы назначаются магазину для выполнения, значок уведомлений изменяется для указания на наличие новых уведомлений, а количество для соответствующих групп обновляется. Хотя группы обновляются с регулярными интервалами, тем не менее пользователи POS-терминала могут вручную обновить группы в любое время, выбрав кнопку **Обновить** рядом с группой. И наконец, если в группе есть новый элемент, который еще не просматривался текущим работником, в группе отображается символ салюта для обозначения нового содержимого.

## <a name="enable-live-content-on-pos-buttons"></a>Включение содержимого в режиме реальном времени на кнопках POS-терминала

На кнопках POS-терминала может также отображаться число, помогающие работникам легко определить, какие именно задачи требуют немедленного внимания. Для отображения этого числа на кнопке POS-терминала необходимо выполнить настройку уведомлений, описанную ранее в этом разделе (то есть, необходимо включить уведомления для операции, настроить интервал уведомлений и обновить группу разрешений POS-терминала для работника). Кроме того, следует открыть конструктор сетки кнопок, просмотреть свойства кнопки и выбрать флажок **Включить содержимое в режиме реального времени**. В поле **Выравнивание содержимого** можно выбрать, будет ли число отображаться в правом верхнем углу кнопки (**Правая сторона верхней части**) или по центру кнопки (**Центр**).

> [!NOTE]
> Содержимое в режиме реального времени можно включить для операций только в том случае, когда для них установлен флажок **Включить уведомления** на странице **Операции POS**, как описано ранее в этом разделе.

На следующем рисунке показаны параметры содержимого в режиме реальном времени в конструкторе сетки кнопок.

![Параметры содержимого в режиме реального времени в конструкторе сетки кнопок](./media/ButtonGridDesigner.png "Параметры содержимого в режиме реального времени в конструкторе сетки кнопок")

Чтобы отобразить счетчик уведомлений на кнопке, необходимо обеспечить обновление правильного макета экрана. Чтобы определить макет экрана, используемый в POS-терминале, выберите значок **Настройки** в верхнем правом углу и запишите **Код макета экрана** и **Разрешение макета**. Теперь, используя браузер Edge, перейдите на страницу **Макет экрана**, найдите **Код макета экрана** и **Разрешение макета**, определенные выше, и установите флажок **Включить содержимое в реальном времени**. Выберите **Retail и Commerce \> ИТ Retail и Commerce \> График распределения** и выполните задание 1090 (Регистры) для синхронизации изменений макета.


![Поиск макета экрана, используемого POS-терминалом](./media/Choose_screen_layout.png "Поиск макета экрана")

На следующем рисунке показано влияние выбора значений **Правая сторона верхней части** и **Центр** в поле **Выравнивание содержимого** для кнопок различных размеров.

![Содержимое в режиме реального времени на кнопках POS-терминала](./media/ButtonsWithLiveContent.png "Содержимое в режиме реального времени на кнопках POS-терминала")
