---
title: Отображение уведомлений о заказах в POS-терминале
description: В этом разделе описывается, как включить уведомления о заказах в POS-терминале и платформе уведомлений.
author: ShalabhjainMSFT
manager: AnnBe
ms.date: 03/12/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailOperations, RetailFunctionalityProfile
audience: Application User
ms.reviewer: josaw
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2017-10-30
ms.dyn365.ops.version: ''
ms.openlocfilehash: 5ea902b5d65f806fc88e688d10bdad9ae75611ef
ms.sourcegitcommit: 6c108be3378b365e6ec596a1a8666d59b758db25
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2021
ms.locfileid: "5585090"
---
# <a name="show-order-notifications-in-the-point-of-sale-pos"></a><span data-ttu-id="d1b94-103">Отображение уведомлений о заказах в POS-терминале</span><span class="sxs-lookup"><span data-stu-id="d1b94-103">Show order notifications in the point of sale (POS)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="d1b94-104">Для сотрудников магазина могут быть назначены различные задачи в их магазине, такие как выполнение заказов или инвентаризация запасов.</span><span class="sxs-lookup"><span data-stu-id="d1b94-104">Store associates may be assigned various tasks in their store, such as fulfilling orders or performing inventory receiving or stock counts.</span></span> <span data-ttu-id="d1b94-105">Клиент POS предоставляет единое приложение, в котором сотрудники могут быть уведомлены об этих задачах.</span><span class="sxs-lookup"><span data-stu-id="d1b94-105">The point of sale (POS) client provides a single application where associates can be notified of these tasks.</span></span> <span data-ttu-id="d1b94-106">Платформа уведомлений в POS помогает решить эту проблему, позволяя предприятиям розничной торговли настраивать уведомления на основе ролей.</span><span class="sxs-lookup"><span data-stu-id="d1b94-106">The notification framework in the POS helps by letting retailers configure role-based notifications.</span></span> <span data-ttu-id="d1b94-107">Начиная с Dynamics 365 Retail с обновлением приложения 5 эти уведомления можно настроить для POS-операций.</span><span class="sxs-lookup"><span data-stu-id="d1b94-107">Starting in Dynamics 365 Retail with application update 5, these notifications can be configured for POS operations.</span></span>

<span data-ttu-id="d1b94-108">Система может отображать уведомления для операции *выполнения заказа* и запускать в Commerce версии 10.0.18 уведомления, которые могут быть также показаны для операции *Отозвать заказ*.</span><span class="sxs-lookup"><span data-stu-id="d1b94-108">The system can show notifications for the *order fulfillment* operation, and starting in Commerce version 10.0.18 notifications can also be shown for the *recall order* operation.</span></span> <span data-ttu-id="d1b94-109">Однако так как платформа разработана с учетом возможности расширения, разработчики могут [написать обработчик уведомлений](dev-itpro/extend-pos-notification.md) для любой операции и отображаться уведомления для этой операции в POS.</span><span class="sxs-lookup"><span data-stu-id="d1b94-109">However, because the framework is designed to be extensible, developers are able to [write a notification handler](dev-itpro/extend-pos-notification.md) for any operation and show the notifications for that operation in the POS.</span></span>

## <a name="enable-notifications-for-order-fulfillment-or-recall-order-operations"></a><span data-ttu-id="d1b94-110">Включение уведомлений для операций выполнения или отзыва заказов</span><span class="sxs-lookup"><span data-stu-id="d1b94-110">Enable notifications for order fulfillment or recall order operations</span></span>

<span data-ttu-id="d1b94-111">Чтобы включить уведомления для операций выполнения или отзыва заказов, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="d1b94-111">To enable notifications for the order fulfillment or recall order operations, follow these steps.</span></span>

1. <span data-ttu-id="d1b94-112">Перейдите в раздел **Retail и Commerce \> Настройка канала \> Настройка POS \> POS \> Операции**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-112">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS \> Operations**.</span></span>
1. <span data-ttu-id="d1b94-113">Найдите операцию **Выполнение заказов** или операцию **Отозвать заказ**, затем выберите **Включить уведомления** для операции, чтобы указать, что платформа уведомлений должна контролировать обработчик для этой операции.</span><span class="sxs-lookup"><span data-stu-id="d1b94-113">Search for either the **Order fulfillment** operation or the **Recall order** operation, and then select **Enable notifications** for the operation to specify that the notification framework should listen to the handler for this operation.</span></span> <span data-ttu-id="d1b94-114">Если реализован обработчик, уведомления для этой операции будут затем отображаться в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="d1b94-114">If the handler is implemented, notifications for this operation will then be shown in the POS.</span></span>
1. <span data-ttu-id="d1b94-115">Перейдите в раздел **Retail и Commerce \> Сотрудники \> Работники**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-115">Go to **Retail and Commerce \> Employees \> Workers**.</span></span>
1. <span data-ttu-id="d1b94-116">Перейдите на вкладку **Commerce**, выберите строку работника, а затем выберите **разрешения POS**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-116">Select the **Commerce** tab, select a worker row, and then select **POS permissions**.</span></span> <span data-ttu-id="d1b94-117">Выберите экспресс-вкладка **Уведомления**, чтобы развернуть ее, а затем добавьте операции, для которых включены уведомления.</span><span class="sxs-lookup"><span data-stu-id="d1b94-117">Select the **Notifications** FastTab to expand it, and then add the operations you have enabled notifications for.</span></span> <span data-ttu-id="d1b94-118">Если для работника настроено одно уведомление, убедитесь, что для **Порядок отображения** выбрано значение **1**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-118">If configuring a single notification for a worker, ensure that the **Display order** value is set to **1**.</span></span> <span data-ttu-id="d1b94-119">Если выполняется настройка нескольких операций, настройте значения **Порядок отображения**, чтобы указать порядок отображения уведомлений.</span><span class="sxs-lookup"><span data-stu-id="d1b94-119">If configuring more than one operation, set the **Display order** values to indicate the order in which the notifications should be displayed.</span></span> 

      <span data-ttu-id="d1b94-120">Уведомления отображаются только для операций, добавленных на экспресс-вкладке **Уведомления**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-120">Notifications are shown only for operations that are added on the **Notifications** FastTab.</span></span> <span data-ttu-id="d1b94-121">Операции можно добавлять только в том случае, если для этих операций выбраны флажки **Включить уведомления** на странице **POS-операций**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-121">You can add operations there only if the **Enable notifications** check boxes for those operations have been selected on the **POS operations** page.</span></span> <span data-ttu-id="d1b94-122">Кроме того, уведомления для операции отображаются для работников только в том случае, если операция добавлена в разрешения POS для этих работников.</span><span class="sxs-lookup"><span data-stu-id="d1b94-122">Additionally, notifications for an operation are only shown to workers if the operation is added to the POS permissions for those workers.</span></span>

    > [!NOTE]
    > <span data-ttu-id="d1b94-123">Уведомления можно переопределить на уровне пользователя.</span><span class="sxs-lookup"><span data-stu-id="d1b94-123">Notifications can be overridden at the user level.</span></span> <span data-ttu-id="d1b94-124">Чтобы сделать это, откройте запись работника, выберите **разрешения POS**, затем измените подписку на уведомления пользователя.</span><span class="sxs-lookup"><span data-stu-id="d1b94-124">To do this, open the worker's record, select **POS permissions**, and then edit the user's notification subscription.</span></span>

1. <span data-ttu-id="d1b94-125">Перейдите в раздел **Retail и Commerce \> Настройка канала \> Настройка POS \> Профили POS \> Профили функциональности**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-125">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS profiles \> Functionality profiles**.</span></span> <span data-ttu-id="d1b94-126">В поле **Интервал уведомлений** укажите, как часто производится выборка уведомлений.</span><span class="sxs-lookup"><span data-stu-id="d1b94-126">In the **Notification interval** field, specify how often notifications should be pulled.</span></span> <span data-ttu-id="d1b94-127">Для некоторых уведомлений POS-терминал должен выполнять вызовы в режиме реального времени в приложение бэк-офиса.</span><span class="sxs-lookup"><span data-stu-id="d1b94-127">For some notifications, the POS must make real-time calls to the back-office application.</span></span> <span data-ttu-id="d1b94-128">Эти вызовы расходуют вычислительные мощности приложения бэк-офиса.</span><span class="sxs-lookup"><span data-stu-id="d1b94-128">These calls consume the compute capacity of your back-office application.</span></span> <span data-ttu-id="d1b94-129">Поэтому при установке интервала уведомлений следует учитывать как бизнес-требования, так и влияние обращений в режиме реального времени к приложению бэк-офиса.</span><span class="sxs-lookup"><span data-stu-id="d1b94-129">Therefore, when you set the notification interval, you should consider both your business requirements and the impact of real-time calls to the back-office application.</span></span> <span data-ttu-id="d1b94-130">Значение **0** (ноль) отключает вывод всех уведомлений.</span><span class="sxs-lookup"><span data-stu-id="d1b94-130">A value of **0** (zero) turns off notifications.</span></span>
1. <span data-ttu-id="d1b94-131">Перейдите в раздел **Retail и Commerce \> ИТ Retail и Commerce \> График распределения**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-131">Go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule**.</span></span> <span data-ttu-id="d1b94-132">Выберите график **1060** (**Персонал**) для синхронизации настроек подписки на уведомления, затем выберите команду **Запустить сейчас**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-132">Select the **1060** (**Staff**) schedule to synchronize notification subscription settings, and then select **Run now**.</span></span> <span data-ttu-id="d1b94-133">Затем выберите **1070** (**Конфигурация канала**) для синхронизации интервала разрешения и выберите **Запустить сейчас**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-133">Next, select the **1070** (**Channel configuration**) schedule to synchronize the permission interval, and then select **Run now**.</span></span>

## <a name="view-notifications-in-the-pos"></a><span data-ttu-id="d1b94-134">Просмотр уведомлений в POS-терминале</span><span class="sxs-lookup"><span data-stu-id="d1b94-134">View notifications in the POS</span></span>

<span data-ttu-id="d1b94-135">После выполнения предыдущих шагов работники смогут просматривать уведомления на POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="d1b94-135">After you complete the preceding steps, the workers will be able to view the notifications in the POS.</span></span> <span data-ttu-id="d1b94-136">Для просмотра уведомлений выберите значок уведомлений в верхнем правом углу экрана POS.</span><span class="sxs-lookup"><span data-stu-id="d1b94-136">To view notifications, select the notification icon in the upper-right corner of the POS.</span></span> <span data-ttu-id="d1b94-137">Отображается панель уведомлений, в которой отображаются уведомления для операций, настроенных для работника.</span><span class="sxs-lookup"><span data-stu-id="d1b94-137">A notification panel appears and shows notifications for the operations configured for the worker.</span></span> 

<span data-ttu-id="d1b94-138">Для операции **Выполнение заказов** на панели уведомлений будут отображаться следующие группы:</span><span class="sxs-lookup"><span data-stu-id="d1b94-138">For the **order fulfillment** operation, the notification panel will show the following groups:</span></span>

- <span data-ttu-id="d1b94-139">**Самовывоз из магазина** — в этой группе отображается количество отдельных строк заказа, которые запланированы для отправки из текущего магазина.</span><span class="sxs-lookup"><span data-stu-id="d1b94-139">**Store pickup** – This group shows the count of individual order lines that are scheduled for pickup from the current store.</span></span> <span data-ttu-id="d1b94-140">Можно выбрать номер в группе, чтобы открыть операцию **Выполнение заказов** с фильтром, чтобы отображались только активные строки заказа, настроенные для самовывоза из текущего магазина.</span><span class="sxs-lookup"><span data-stu-id="d1b94-140">You can select the number on the group to open the **Order fulfillment** operation with a filter so that it shows only the active order lines that are set up for pickup from the current store.</span></span>
- <span data-ttu-id="d1b94-141">**Доставка из магазина** — в этой группе отображается количество отдельных строк заказа, которые были настроены для доставки из текущего магазина пользователя.</span><span class="sxs-lookup"><span data-stu-id="d1b94-141">**Ship from store** – This group shows the count of individual order lines that have been configured to ship from the user's current store.</span></span> <span data-ttu-id="d1b94-142">Можно выбрать номер в группе, чтобы открыть операцию **Выполнение заказов** с фильтром, отображающим только активные строки заказа, настроенные для доставки из текущего магазина.</span><span class="sxs-lookup"><span data-stu-id="d1b94-142">You can select the number on the group to open the **Order fulfillment** operation with a filtered view that only shows the active order lines that are set up for shipment from the current store.</span></span>

<span data-ttu-id="d1b94-143">Для операции **Отзыв заказа** на панели уведомлений будут отображаться следующие группы:</span><span class="sxs-lookup"><span data-stu-id="d1b94-143">For the **recall order** operation, the notification panel will show the following groups:</span></span>

- <span data-ttu-id="d1b94-144">**Заказы для выполнения** — в этой группе отображается количество заказов, настроенных для самовывоза или доставки для текущего магазина пользователя.</span><span class="sxs-lookup"><span data-stu-id="d1b94-144">**Orders to fulfill** – This group shows the count of orders that are configured either for pickup or shipping fulfillment for the user's current store.</span></span> <span data-ttu-id="d1b94-145">Можно выбрать номер в группе, чтобы открыть операцию **Отзыв заказа** с фильтром, отображающим только открытые заказы, которые должны быть выполнены в текущем магазине пользователя для самовывоза из магазина или доставки по сценарию магазина.</span><span class="sxs-lookup"><span data-stu-id="d1b94-145">You can select the number on the group to open the **Recall order** operation with a filtered view that only shows the open orders that need to be fulfilled by the user's current store for either pick up in store or ship from store scenarios.</span></span>
- <span data-ttu-id="d1b94-146">**Заказы для самовывоза** — в этой группе отображается количество заказов, которые запланированы для самовывоза из текущего магазина.</span><span class="sxs-lookup"><span data-stu-id="d1b94-146">**Orders to pick up** – This group shows the count of orders that are scheduled for pickup from the current store.</span></span> <span data-ttu-id="d1b94-147">Можно выбрать номер в группе, чтобы открыть операцию **Отзыв заказа** с фильтром, отображающим только открытые заказы, которые должны быть выполнены для самовывоза клиентом из текущего магазина пользователя.</span><span class="sxs-lookup"><span data-stu-id="d1b94-147">You can select the number on the group to open the **Recall order** operation with a filtered view that only shows open orders that need to be fulfilled for customer pickup from the user's current store.</span></span>
- <span data-ttu-id="d1b94-148">**Заказы для доставки** — в этой группе отображается количество заказов для доставки из текущего магазина пользователя.</span><span class="sxs-lookup"><span data-stu-id="d1b94-148">**Orders to ship** – This group shows the count of orders to be shipped from the user's current store.</span></span> <span data-ttu-id="d1b94-149">Можно выбрать номер в группе, чтобы открыть операцию **Отзыв заказа** с фильтром, отображающим только открытые заказы, которые должны быть выполнены для доставки из текущего магазина пользователя.</span><span class="sxs-lookup"><span data-stu-id="d1b94-149">You can select the number on the group to open the **Recall order** operation with a filtered view that only shows open orders that need to be fulfilled for shipment from the user's current store.</span></span>

<span data-ttu-id="d1b94-150">Как для уведомлений о выполнении заказа, так и для уведомлений об отзыве заказа, когда процесс принимает новые заказы, значок уведомлений изменяется для указания на наличие новых уведомлений, а количество для соответствующих групп обновляется.</span><span class="sxs-lookup"><span data-stu-id="d1b94-150">For both the order fulfillment and recall order notifications, as new orders are picked up by the process the notification icon changes to indicate that there are new notifications, and the count for the appropriate groups is updated.</span></span> <span data-ttu-id="d1b94-151">Хотя группы обновляются с регулярными интервалами, пользователи POS могут вручную обновить группы в любое время, выбрав **Обновить** рядом с группой.</span><span class="sxs-lookup"><span data-stu-id="d1b94-151">Even though the groups are refreshed at regular intervals, POS users can manually refresh the groups at any time by selecting **Refresh** next to the group.</span></span> <span data-ttu-id="d1b94-152">И наконец, если в группе есть новый элемент, который еще не просматривался текущим работником, в группе отображается символ салюта для обозначения нового содержимого.</span><span class="sxs-lookup"><span data-stu-id="d1b94-152">Lastly, if a group has a new item that the current worker hasn't viewed, then the group shows a burst symbol to indicate new content.</span></span>

## <a name="enable-live-content-on-pos-buttons"></a><span data-ttu-id="d1b94-153">Включение содержимого в режиме реальном времени на кнопках POS-терминала</span><span class="sxs-lookup"><span data-stu-id="d1b94-153">Enable live content on POS buttons</span></span>

<span data-ttu-id="d1b94-154">На кнопках POS-терминала может также отображаться число, помогающие работникам легко определить, какие именно задачи требуют немедленного внимания.</span><span class="sxs-lookup"><span data-stu-id="d1b94-154">POS buttons can now show a count to help workers easily determine which tasks require their immediate attention.</span></span> <span data-ttu-id="d1b94-155">Для отображения этого числа на кнопке POS-терминала необходимо выполнить настройку уведомлений, описанную ранее в этом разделе (то есть, необходимо включить уведомления для операции, настроить интервал уведомлений и обновить группу разрешений POS-терминала для работника).</span><span class="sxs-lookup"><span data-stu-id="d1b94-155">To show this number on a POS button, you must complete the notification setup that is described earlier in this topic (that is, you must enable notifications for an operation, set up a notification interval, and update the POS permission group for the worker).</span></span> <span data-ttu-id="d1b94-156">Кроме того, следует открыть конструктор сетки кнопок, просмотреть свойства кнопки и выбрать флажок **Включить содержимое в режиме реального времени**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-156">Additionally, you must open the button grid designer, view the button's properties, and select the **Enable live content** check box.</span></span> <span data-ttu-id="d1b94-157">В поле **Выравнивание содержимого** можно выбрать, будет ли число отображаться в правом верхнем углу кнопки (**Правая сторона верхней части**) или по центру кнопки (**Центр**).</span><span class="sxs-lookup"><span data-stu-id="d1b94-157">In the **Content alignment** field, you can select whether the count appears in the upper-right corner of the button (**Top right**) or in the center (**Center**).</span></span>

> [!NOTE]
> <span data-ttu-id="d1b94-158">Содержимое в режиме реального времени можно включить для операций только в том случае, когда для них установлен флажок **Включить уведомления** на странице **Операции POS**, как описано ранее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="d1b94-158">The live content can be enabled for operations only if the **Enable notifications** check box has been selected for them on the **POS operations** page, as described earlier in this topic.</span></span>

<span data-ttu-id="d1b94-159">На следующем рисунке показаны параметры содержимого в режиме реальном времени в конструкторе сетки кнопок.</span><span class="sxs-lookup"><span data-stu-id="d1b94-159">The following illustration shows the live content settings in the button grid designer.</span></span>

<span data-ttu-id="d1b94-160">![Параметры содержимого в режиме реального времени в конструкторе сетки кнопок](./media/ButtonGridDesigner.png "Параметры содержимого в режиме реального времени в конструкторе сетки кнопок")</span><span class="sxs-lookup"><span data-stu-id="d1b94-160">![Live content settings in the button grid designer](./media/ButtonGridDesigner.png "Live content settings in the button grid designer")</span></span>

<span data-ttu-id="d1b94-161">Чтобы отобразить счетчик уведомлений на кнопке, необходимо обеспечить обновление правильного макета экрана.</span><span class="sxs-lookup"><span data-stu-id="d1b94-161">To show the notification count on a button, you need to ensure that the correct screen layout is being updated.</span></span> <span data-ttu-id="d1b94-162">Чтобы определить макет экрана, используемый в POS-терминале, выберите значок **Настройки** в верхнем правом углу и запишите **Код макета экрана** и **Разрешение макета**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-162">To determine the screen layout that is being used by the POS, select the **Settings** icon in upper-right corner and note the **Screen layout ID** and **Layout resolution**.</span></span> <span data-ttu-id="d1b94-163">Теперь, используя браузер Microsoft Edge, перейдите на страницу **Макет экрана**, найдите **Код макета экрана** и **Разрешение макета**, определенные выше, и установите флажок **Включить содержимое в реальном времени**.</span><span class="sxs-lookup"><span data-stu-id="d1b94-163">Now using Edge browser, go to the **Screen layout** page, find the **Screen layout ID** and **Layout resolution** identified above and select the **Enable live content** check box.</span></span> <span data-ttu-id="d1b94-164">Выберите **Retail и Commerce \> ИТ Retail и Commerce \> График распределения** и выполните задание 1090 (Регистры) для синхронизации изменений макета.</span><span class="sxs-lookup"><span data-stu-id="d1b94-164">Go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule** and run the 1090 (Registers) job to synchronize layout changes.</span></span>

<span data-ttu-id="d1b94-165">![Поиск макета экрана, используемого POS-терминалом](./media/Choose_screen_layout.png "Поиск макета экрана")</span><span class="sxs-lookup"><span data-stu-id="d1b94-165">![Find the screen layout used by POS](./media/Choose_screen_layout.png "Find the screen layout")</span></span>

<span data-ttu-id="d1b94-166">На следующем рисунке показано влияние выбора значений **Правая сторона верхней части** и **Центр** в поле **Выравнивание содержимого** для кнопок различных размеров.</span><span class="sxs-lookup"><span data-stu-id="d1b94-166">The following illustration shows the effect of selecting **Top right** versus **Center** in the **Content alignment** field for buttons of various sizes.</span></span>

<span data-ttu-id="d1b94-167">![Содержимое в режиме реального времени на кнопках POS-терминала](./media/ButtonsWithLiveContent.png "Содержимое в режиме реального времени на кнопках POS-терминала")</span><span class="sxs-lookup"><span data-stu-id="d1b94-167">![Live content on POS buttons](./media/ButtonsWithLiveContent.png "Live content on POS buttons")</span></span>

[!INCLUDE[footer-include](../includes/footer-banner.md)]
