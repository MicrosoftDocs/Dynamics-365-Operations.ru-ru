---
title: Отображение уведомлений о заказах в POS-терминале
description: В этом разделе описывается, как включить уведомления о заказах в POS-терминале и платформе уведомлений.
author: ShalabhjainMSFT
manager: AnnBe
ms.date: 03/12/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailOperations, RetailFunctionalityProfile
audience: Application User
ms.reviewer: josaw
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2017-10-30
ms.dyn365.ops.version: ''
ms.openlocfilehash: 5ea902b5d65f806fc88e688d10bdad9ae75611ef
ms.sourcegitcommit: 6c108be3378b365e6ec596a1a8666d59b758db25
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2021
ms.locfileid: "5585090"
---
# <a name="show-order-notifications-in-the-point-of-sale-pos"></a>Отображение уведомлений о заказах в POS-терминале

[!include [banner](includes/banner.md)]

Для сотрудников магазина могут быть назначены различные задачи в их магазине, такие как выполнение заказов или инвентаризация запасов. Клиент POS предоставляет единое приложение, в котором сотрудники могут быть уведомлены об этих задачах. Платформа уведомлений в POS помогает решить эту проблему, позволяя предприятиям розничной торговли настраивать уведомления на основе ролей. Начиная с Dynamics 365 Retail с обновлением приложения 5 эти уведомления можно настроить для POS-операций.

Система может отображать уведомления для операции *выполнения заказа* и запускать в Commerce версии 10.0.18 уведомления, которые могут быть также показаны для операции *Отозвать заказ*. Однако так как платформа разработана с учетом возможности расширения, разработчики могут [написать обработчик уведомлений](dev-itpro/extend-pos-notification.md) для любой операции и отображаться уведомления для этой операции в POS.

## <a name="enable-notifications-for-order-fulfillment-or-recall-order-operations"></a>Включение уведомлений для операций выполнения или отзыва заказов

Чтобы включить уведомления для операций выполнения или отзыва заказов, выполните следующие действия.

1. Перейдите в раздел **Retail и Commerce \> Настройка канала \> Настройка POS \> POS \> Операции**.
1. Найдите операцию **Выполнение заказов** или операцию **Отозвать заказ**, затем выберите **Включить уведомления** для операции, чтобы указать, что платформа уведомлений должна контролировать обработчик для этой операции. Если реализован обработчик, уведомления для этой операции будут затем отображаться в POS-терминале.
1. Перейдите в раздел **Retail и Commerce \> Сотрудники \> Работники**.
1. Перейдите на вкладку **Commerce**, выберите строку работника, а затем выберите **разрешения POS**. Выберите экспресс-вкладка **Уведомления**, чтобы развернуть ее, а затем добавьте операции, для которых включены уведомления. Если для работника настроено одно уведомление, убедитесь, что для **Порядок отображения** выбрано значение **1**. Если выполняется настройка нескольких операций, настройте значения **Порядок отображения**, чтобы указать порядок отображения уведомлений. 

      Уведомления отображаются только для операций, добавленных на экспресс-вкладке **Уведомления**. Операции можно добавлять только в том случае, если для этих операций выбраны флажки **Включить уведомления** на странице **POS-операций**. Кроме того, уведомления для операции отображаются для работников только в том случае, если операция добавлена в разрешения POS для этих работников.

    > [!NOTE]
    > Уведомления можно переопределить на уровне пользователя. Чтобы сделать это, откройте запись работника, выберите **разрешения POS**, затем измените подписку на уведомления пользователя.

1. Перейдите в раздел **Retail и Commerce \> Настройка канала \> Настройка POS \> Профили POS \> Профили функциональности**. В поле **Интервал уведомлений** укажите, как часто производится выборка уведомлений. Для некоторых уведомлений POS-терминал должен выполнять вызовы в режиме реального времени в приложение бэк-офиса. Эти вызовы расходуют вычислительные мощности приложения бэк-офиса. Поэтому при установке интервала уведомлений следует учитывать как бизнес-требования, так и влияние обращений в режиме реального времени к приложению бэк-офиса. Значение **0** (ноль) отключает вывод всех уведомлений.
1. Перейдите в раздел **Retail и Commerce \> ИТ Retail и Commerce \> График распределения**. Выберите график **1060** (**Персонал**) для синхронизации настроек подписки на уведомления, затем выберите команду **Запустить сейчас**. Затем выберите **1070** (**Конфигурация канала**) для синхронизации интервала разрешения и выберите **Запустить сейчас**.

## <a name="view-notifications-in-the-pos"></a>Просмотр уведомлений в POS-терминале

После выполнения предыдущих шагов работники смогут просматривать уведомления на POS-терминале. Для просмотра уведомлений выберите значок уведомлений в верхнем правом углу экрана POS. Отображается панель уведомлений, в которой отображаются уведомления для операций, настроенных для работника. 

Для операции **Выполнение заказов** на панели уведомлений будут отображаться следующие группы:

- **Самовывоз из магазина** — в этой группе отображается количество отдельных строк заказа, которые запланированы для отправки из текущего магазина. Можно выбрать номер в группе, чтобы открыть операцию **Выполнение заказов** с фильтром, чтобы отображались только активные строки заказа, настроенные для самовывоза из текущего магазина.
- **Доставка из магазина** — в этой группе отображается количество отдельных строк заказа, которые были настроены для доставки из текущего магазина пользователя. Можно выбрать номер в группе, чтобы открыть операцию **Выполнение заказов** с фильтром, отображающим только активные строки заказа, настроенные для доставки из текущего магазина.

Для операции **Отзыв заказа** на панели уведомлений будут отображаться следующие группы:

- **Заказы для выполнения** — в этой группе отображается количество заказов, настроенных для самовывоза или доставки для текущего магазина пользователя. Можно выбрать номер в группе, чтобы открыть операцию **Отзыв заказа** с фильтром, отображающим только открытые заказы, которые должны быть выполнены в текущем магазине пользователя для самовывоза из магазина или доставки по сценарию магазина.
- **Заказы для самовывоза** — в этой группе отображается количество заказов, которые запланированы для самовывоза из текущего магазина. Можно выбрать номер в группе, чтобы открыть операцию **Отзыв заказа** с фильтром, отображающим только открытые заказы, которые должны быть выполнены для самовывоза клиентом из текущего магазина пользователя.
- **Заказы для доставки** — в этой группе отображается количество заказов для доставки из текущего магазина пользователя. Можно выбрать номер в группе, чтобы открыть операцию **Отзыв заказа** с фильтром, отображающим только открытые заказы, которые должны быть выполнены для доставки из текущего магазина пользователя.

Как для уведомлений о выполнении заказа, так и для уведомлений об отзыве заказа, когда процесс принимает новые заказы, значок уведомлений изменяется для указания на наличие новых уведомлений, а количество для соответствующих групп обновляется. Хотя группы обновляются с регулярными интервалами, пользователи POS могут вручную обновить группы в любое время, выбрав **Обновить** рядом с группой. И наконец, если в группе есть новый элемент, который еще не просматривался текущим работником, в группе отображается символ салюта для обозначения нового содержимого.

## <a name="enable-live-content-on-pos-buttons"></a>Включение содержимого в режиме реальном времени на кнопках POS-терминала

На кнопках POS-терминала может также отображаться число, помогающие работникам легко определить, какие именно задачи требуют немедленного внимания. Для отображения этого числа на кнопке POS-терминала необходимо выполнить настройку уведомлений, описанную ранее в этом разделе (то есть, необходимо включить уведомления для операции, настроить интервал уведомлений и обновить группу разрешений POS-терминала для работника). Кроме того, следует открыть конструктор сетки кнопок, просмотреть свойства кнопки и выбрать флажок **Включить содержимое в режиме реального времени**. В поле **Выравнивание содержимого** можно выбрать, будет ли число отображаться в правом верхнем углу кнопки (**Правая сторона верхней части**) или по центру кнопки (**Центр**).

> [!NOTE]
> Содержимое в режиме реального времени можно включить для операций только в том случае, когда для них установлен флажок **Включить уведомления** на странице **Операции POS**, как описано ранее в этом разделе.

На следующем рисунке показаны параметры содержимого в режиме реальном времени в конструкторе сетки кнопок.

![Параметры содержимого в режиме реального времени в конструкторе сетки кнопок](./media/ButtonGridDesigner.png "Параметры содержимого в режиме реального времени в конструкторе сетки кнопок")

Чтобы отобразить счетчик уведомлений на кнопке, необходимо обеспечить обновление правильного макета экрана. Чтобы определить макет экрана, используемый в POS-терминале, выберите значок **Настройки** в верхнем правом углу и запишите **Код макета экрана** и **Разрешение макета**. Теперь, используя браузер Microsoft Edge, перейдите на страницу **Макет экрана**, найдите **Код макета экрана** и **Разрешение макета**, определенные выше, и установите флажок **Включить содержимое в реальном времени**. Выберите **Retail и Commerce \> ИТ Retail и Commerce \> График распределения** и выполните задание 1090 (Регистры) для синхронизации изменений макета.

![Поиск макета экрана, используемого POS-терминалом](./media/Choose_screen_layout.png "Поиск макета экрана")

На следующем рисунке показано влияние выбора значений **Правая сторона верхней части** и **Центр** в поле **Выравнивание содержимого** для кнопок различных размеров.

![Содержимое в режиме реального времени на кнопках POS-терминала](./media/ButtonsWithLiveContent.png "Содержимое в режиме реального времени на кнопках POS-терминала")

[!INCLUDE[footer-include](../includes/footer-banner.md)]
