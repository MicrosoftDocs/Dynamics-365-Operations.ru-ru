---
title: Отображение уведомлений о заказах в POS-терминале
description: В этом разделе описывается, как включить уведомления о заказах в POS-терминале и платформе уведомлений.
author: ShalabhjainMSFT
manager: AnnBe
ms.date: 04/30/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailOperations, RetailFunctionalityProfile
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: retail
ms.author: ShalabhjainMSFT
ms.search.validFrom: 2017-10-30
ms.dyn365.ops.version: ''
ms.openlocfilehash: 04dd57aabcbdf5291f06317800b69f29f15d2763
ms.sourcegitcommit: 81a647904dd305c4be2e4b683689f128548a872d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "3023751"
---
# <a name="show-order-notifications-in-the-point-of-sale-pos"></a><span data-ttu-id="843ab-103">Отображение уведомлений о заказах в POS-терминале</span><span class="sxs-lookup"><span data-stu-id="843ab-103">Show order notifications in the point of sale (POS)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="843ab-104">В современной среде розничной торговли сотрудникам магазина назначаются различные задачи, такие как помочь клиентам, ввод транзакций, выполнение инвентаризации запасов и приемка заказов в магазине.</span><span class="sxs-lookup"><span data-stu-id="843ab-104">In the modern retail environment, store associates are assigned various tasks, such as helping customers, entering transactions, doing stock counts, and receiving orders in the store.</span></span> <span data-ttu-id="843ab-105">Клиент POS-терминала предоставляет единое приложение, в котором сотрудники могут выполнять все эти задачи и многие другие.</span><span class="sxs-lookup"><span data-stu-id="843ab-105">The point of sale (POS) client provides a single application where associates can perform all these tasks and many others.</span></span> <span data-ttu-id="843ab-106">Так как имеется много различных задач, которые требуется выполнять в течение дня, сотрудником может потребоваться получать уведомления, когда что-то требует их внимания.</span><span class="sxs-lookup"><span data-stu-id="843ab-106">Because various tasks must be performed during the day, associates might have to be notified when something requires their attention.</span></span> <span data-ttu-id="843ab-107">Платформа уведомлений в POS помогает решить эту проблему, позволяя предприятиям розничной торговли настраивать уведомления на основе ролей.</span><span class="sxs-lookup"><span data-stu-id="843ab-107">The notification framework in the POS helps by letting retailers configure role-based notifications.</span></span> <span data-ttu-id="843ab-108">В Dynamics 365 for Retail с обновлением приложения 5 эти уведомления можно настроить только для POS-операций.</span><span class="sxs-lookup"><span data-stu-id="843ab-108">As of Dynamics 365 for Retail with application update 5, these notifications can be configured only for POS operations.</span></span>


<span data-ttu-id="843ab-109">В настоящее время система может отображать уведомления только для операций выполнения заказов.</span><span class="sxs-lookup"><span data-stu-id="843ab-109">Currently, the system can show notifications only for order fulfillment operations.</span></span> <span data-ttu-id="843ab-110">Однако так как платформа разработана с учетом возможности расширения, разработчики со временем смогут написать обработчик уведомлений для любой операции и отображаться уведомления для этой операции в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="843ab-110">However, because the framework is designed to be extensible, developers will eventually be able to write a notification handler for any operation and show the notifications for that operation in the POS.</span></span>

## <a name="enable-notifications-for-order-fulfillment-operations"></a><span data-ttu-id="843ab-111">Включение уведомлений для операций выполнения заказов</span><span class="sxs-lookup"><span data-stu-id="843ab-111">Enable notifications for order fulfillment operations</span></span>

<span data-ttu-id="843ab-112">Чтобы включить уведомления для операций выполнения заказов выполните следующие шаги.</span><span class="sxs-lookup"><span data-stu-id="843ab-112">To enable notifications for order fulfillment operations, follow these steps.</span></span>

1. <span data-ttu-id="843ab-113">Перейдите в раздел **Retail и Commerce** &gt; **Настройка канала** &gt; **Настройка POS** &gt; **POS** &gt; **Операции**.</span><span class="sxs-lookup"><span data-stu-id="843ab-113">Go to **Retail and Commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **POS** &gt; **Operations**.</span></span>
2. <span data-ttu-id="843ab-114">Найдите операцию **Выполнение заказов**, затем установите флажок **Включить уведомления** для нее, чтобы указать, что платформа уведомлений должна контролировать обработчик для этой операции.</span><span class="sxs-lookup"><span data-stu-id="843ab-114">Search for the **Order fulfillment** operation, and select the **Enable notifications** check box for it to specify that the notification framework should listen to the handler for this operation.</span></span> <span data-ttu-id="843ab-115">Если реализован обработчик, уведомления для этой операции будут затем отображаться в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="843ab-115">If the handler is implemented, notifications for this operation will then be shown in the POS.</span></span>
3. <span data-ttu-id="843ab-116">Выберите **Retail и Commerce** &gt; **Сотрудники** &gt; **Работники** &gt;, на вкладке Commerce откройте разрешения POS-терминала, связанные с работником.</span><span class="sxs-lookup"><span data-stu-id="843ab-116">Go to **Retail and Commerce** &gt; **Employees** &gt; **Workers** &gt;, under Commerce tab, open the POS permissions associated with the worker.</span></span> <span data-ttu-id="843ab-117">Разверните экспресс-вкладку **Уведомления**, добавьте операцию **Выполнение заказов** и задайте в поле **Порядок отображения** значение **1**.</span><span class="sxs-lookup"><span data-stu-id="843ab-117">Expand the **Notifications** FastTab, add the **Order fulfillment** operation, and set the **Display order** field to **1**.</span></span> <span data-ttu-id="843ab-118">Если настроено более одного уведомления, это поле используется для упорядочения уведомлений.</span><span class="sxs-lookup"><span data-stu-id="843ab-118">If more than one notification is configured, this field is used to arrange the notifications.</span></span> <span data-ttu-id="843ab-119">Уведомления, которые имеют более низкое значение в поле **Порядок отображения**, отображаются выше уведомлений, которые имеют более высокое значение.</span><span class="sxs-lookup"><span data-stu-id="843ab-119">Notifications that have a lower **Display order** value appear above notifications that have a higher value.</span></span> <span data-ttu-id="843ab-120">Уведомления, у которых в поле **Порядок отображения** задано значение **1**, отображаются сверху.</span><span class="sxs-lookup"><span data-stu-id="843ab-120">Notifications that have a **Display order** value of **1** are at the top.</span></span>

    <span data-ttu-id="843ab-121">Уведомления отображаются только для операций, которые добавлены на экспресс-вкладке **Уведомления**, и операции на ней можно добавить только в том случае, если установлен флажок **Включить уведомления** для этих операций на странице **Операции POS**.</span><span class="sxs-lookup"><span data-stu-id="843ab-121">Notifications are shown only for operations that are added on the **Notifications** FastTab, and you can add operations there only if the **Enable notifications** check box for those operations has been selected on the **POS operations** page.</span></span> <span data-ttu-id="843ab-122">Кроме того, уведомления для операции отображаются для работников только в том случае, если операция добавлена в разрешения POS-терминала для этих работников.</span><span class="sxs-lookup"><span data-stu-id="843ab-122">Additionally, notifications for an operation are shown to workers only if the operation is added to the POS permissions for those workers.</span></span>

    > [!NOTE]
    > <span data-ttu-id="843ab-123">Уведомления можно переопределить на уровне пользователя.</span><span class="sxs-lookup"><span data-stu-id="843ab-123">Notifications can be overridden at the user level.</span></span> <span data-ttu-id="843ab-124">Откройте запись работника, выберите **POS-разрешения**, затем измените подписку на уведомления пользователя.</span><span class="sxs-lookup"><span data-stu-id="843ab-124">Open the worker's record, select **POS permissions**, and then edit the user's notification subscription.</span></span>

4. <span data-ttu-id="843ab-125">Перейдите в раздел **Retail и Commerce** &gt; **Настройка канала** &gt; **Настройка POS** &gt; **Профили POS** &gt; **Профили функциональности**.</span><span class="sxs-lookup"><span data-stu-id="843ab-125">Go to **Retail and Commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **POS profiles** &gt; **Functionality profiles**.</span></span> <span data-ttu-id="843ab-126">В поле **Интервал уведомлений** укажите, как часто производится выборка уведомлений.</span><span class="sxs-lookup"><span data-stu-id="843ab-126">In the **Notification interval** field, specify how often notifications should be pulled.</span></span> <span data-ttu-id="843ab-127">Для некоторых уведомлений POS-терминал должен выполнять вызовы в режиме реального времени в приложение бэк-офиса.</span><span class="sxs-lookup"><span data-stu-id="843ab-127">For some notifications, the POS must make real-time calls to the back-office application.</span></span> <span data-ttu-id="843ab-128">Эти вызовы расходуют вычислительные мощности приложения бэк-офиса.</span><span class="sxs-lookup"><span data-stu-id="843ab-128">These calls consume the compute capacity of your back-office application.</span></span> <span data-ttu-id="843ab-129">Поэтому при установке интервала уведомлений следует учитывать как бизнес-требования, так и влияние обращений в режиме реального времени к приложению бэк-офиса.</span><span class="sxs-lookup"><span data-stu-id="843ab-129">Therefore, when you set the notification interval, you should consider both your business requirements and the impact of real-time calls to the back-office application.</span></span> <span data-ttu-id="843ab-130">Значение **0** (ноль) отключает вывод всех уведомлений.</span><span class="sxs-lookup"><span data-stu-id="843ab-130">A value of **0** (zero) turns off notifications.</span></span>
5. <span data-ttu-id="843ab-131">Перейдите в раздел **Retail и Commerce** &gt; **ИТ Retail и Commerce** &gt; **График распределения**.</span><span class="sxs-lookup"><span data-stu-id="843ab-131">Go to **Retail and Commerce** &gt; **Retail and Commerce IT** &gt; **Distribution schedule**.</span></span> <span data-ttu-id="843ab-132">Выберите график **1060** (**Персонал**) для синхронизации настроек подписки на уведомления, затем выберите команду **Запустить сейчас**.</span><span class="sxs-lookup"><span data-stu-id="843ab-132">Select the **1060** (**Staff**) schedule to synchronize notification subscription settings, and then select **Run now**.</span></span> <span data-ttu-id="843ab-133">Затем выберите **1070** (**Конфигурация канала**) для синхронизации интервала разрешения и выберите **Запустить сейчас**.</span><span class="sxs-lookup"><span data-stu-id="843ab-133">Next, select the **1070** (**Channel configuration**) schedule to synchronize the permission interval, and then select **Run now**.</span></span>

## <a name="view-notifications-in-the-pos"></a><span data-ttu-id="843ab-134">Просмотр уведомлений в POS-терминале</span><span class="sxs-lookup"><span data-stu-id="843ab-134">View notifications in the POS</span></span>

<span data-ttu-id="843ab-135">После выполнения предыдущих шагов работники смогут просматривать уведомления на POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="843ab-135">After you complete the preceding steps, the workers will be able to view the notifications in the POS.</span></span> <span data-ttu-id="843ab-136">Для просмотра уведомлений нажмите значок уведомлений в правом верхнем углу экрана POS-терминала.</span><span class="sxs-lookup"><span data-stu-id="843ab-136">To view notifications, press the notification icon in the top right corner of the POS.</span></span> <span data-ttu-id="843ab-137">Открывается центр уведомлений и отображаются уведомления для операции выполнения заказов.</span><span class="sxs-lookup"><span data-stu-id="843ab-137">A notification center appears and shows notifications for the order fulfillment operation.</span></span> <span data-ttu-id="843ab-138">В центре уведомлений должны отображаться следующие группы в операции выполнения заказов:</span><span class="sxs-lookup"><span data-stu-id="843ab-138">The notification center should show the following groups in the order fulfillment operation:</span></span>

- <span data-ttu-id="843ab-139">**Самовывоз из магазина** — в этой группе отображается количество заказов, которые имеют режим поставки **Отправка**, и которые запланированы для отправки из текущего магазина.</span><span class="sxs-lookup"><span data-stu-id="843ab-139">**Store pickup** – This group shows the count of orders that have a delivery mode of **Pickup**, and that are scheduled for pickup from the current store.</span></span> <span data-ttu-id="843ab-140">Можно нажать номер на группе, чтобы открыть страницу **Выполнение заказов**.</span><span class="sxs-lookup"><span data-stu-id="843ab-140">You can press the number on the group to open the **Order fulfillment** page.</span></span> <span data-ttu-id="843ab-141">В этом случае страница будет отфильтрована, чтобы на ней отображались только активные заказы, которые настроены для отправки из текущего магазина.</span><span class="sxs-lookup"><span data-stu-id="843ab-141">In this case, the page will be filtered so that it shows only the active orders that are set up for pickup from the current store.</span></span>
- <span data-ttu-id="843ab-142">**Доставка из магазина** — в этой группе отображается количество заказов, которые имеют режим поставки **Отгрузка**, и которые запланированы для отгрузки из текущего магазина.</span><span class="sxs-lookup"><span data-stu-id="843ab-142">**Ship from store** – This group shows the count of orders that have the delivery mode of **Shipping**, and that are scheduled for shipment from the current store.</span></span> <span data-ttu-id="843ab-143">Можно нажать номер на группе, чтобы открыть страницу **Выполнение заказов**.</span><span class="sxs-lookup"><span data-stu-id="843ab-143">You can press the number on the group to open the **Order fulfillment** page.</span></span> <span data-ttu-id="843ab-144">В этом случае страница будет отфильтрована, чтобы на ней отображались только активные заказы, которые настроены для отгрузки из текущего магазина.</span><span class="sxs-lookup"><span data-stu-id="843ab-144">In this case, the page will be filtered so that it shows only the active orders that are set up for shipment from the current store.</span></span>

<span data-ttu-id="843ab-145">Когда новые заказы назначаются магазину для выполнения, значок уведомлений изменяется для указания на наличие новых уведомлений, а количество для соответствующих групп обновляется.</span><span class="sxs-lookup"><span data-stu-id="843ab-145">When new orders are assigned to the store for fulfillment, the notification icon changes to indicate that there are new notifications, and the count for the appropriate groups is updated.</span></span> <span data-ttu-id="843ab-146">Хотя группы обновляются с регулярными интервалами, тем не менее пользователи POS-терминала могут вручную обновить группы в любое время, выбрав кнопку **Обновить** рядом с группой.</span><span class="sxs-lookup"><span data-stu-id="843ab-146">Even though the groups are refreshed at regular intervals however, POS users can manually refresh the groups at any time by selecting the **Refresh** button next to the group.</span></span> <span data-ttu-id="843ab-147">И наконец, если в группе есть новый элемент, который еще не просматривался текущим работником, в группе отображается символ салюта для обозначения нового содержимого.</span><span class="sxs-lookup"><span data-stu-id="843ab-147">Lastly, if a group has a new item, that the current worker hasn't viewed, then the group shows a burst symbol to indicate new content.</span></span>

## <a name="enable-live-content-on-pos-buttons"></a><span data-ttu-id="843ab-148">Включение содержимого в режиме реальном времени на кнопках POS-терминала</span><span class="sxs-lookup"><span data-stu-id="843ab-148">Enable live content on POS buttons</span></span>

<span data-ttu-id="843ab-149">На кнопках POS-терминала может также отображаться число, помогающие работникам легко определить, какие именно задачи требуют немедленного внимания.</span><span class="sxs-lookup"><span data-stu-id="843ab-149">POS buttons can now show a count to help workers easily determine which tasks require their immediate attention.</span></span> <span data-ttu-id="843ab-150">Для отображения этого числа на кнопке POS-терминала необходимо выполнить настройку уведомлений, описанную ранее в этом разделе (то есть, необходимо включить уведомления для операции, настроить интервал уведомлений и обновить группу разрешений POS-терминала для работника).</span><span class="sxs-lookup"><span data-stu-id="843ab-150">To show this number on a POS button, you must complete the notification setup that is described earlier in this topic (that is, you must enable notifications for an operation, set up a notification interval, and update the POS permission group for the worker).</span></span> <span data-ttu-id="843ab-151">Кроме того, следует открыть конструктор сетки кнопок, просмотреть свойства кнопки и выбрать флажок **Включить содержимое в режиме реального времени**.</span><span class="sxs-lookup"><span data-stu-id="843ab-151">Additionally, you must open the button grid designer, view the button's properties, and select the **Enable live content** check box.</span></span> <span data-ttu-id="843ab-152">В поле **Выравнивание содержимого** можно выбрать, будет ли число отображаться в правом верхнем углу кнопки (**Правая сторона верхней части**) или по центру кнопки (**Центр**).</span><span class="sxs-lookup"><span data-stu-id="843ab-152">In the **Content alignment** field, you can select whether the count appears in the upper-right corner of the button (**Top right**) or in the center (**Center**).</span></span>

> [!NOTE]
> <span data-ttu-id="843ab-153">Содержимое в режиме реального времени можно включить для операций только в том случае, когда для них установлен флажок **Включить уведомления** на странице **Операции POS**, как описано ранее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="843ab-153">The live content can be enabled for operations only if the **Enable notifications** check box has been selected for them on the **POS operations** page, as described earlier in this topic.</span></span>

<span data-ttu-id="843ab-154">На следующем рисунке показаны параметры содержимого в режиме реальном времени в конструкторе сетки кнопок.</span><span class="sxs-lookup"><span data-stu-id="843ab-154">The following illustration shows the live content settings in the button grid designer.</span></span>

<span data-ttu-id="843ab-155">![Параметры содержимого в режиме реального времени в конструкторе сетки кнопок](./media/ButtonGridDesigner.png "Параметры содержимого в режиме реального времени в конструкторе сетки кнопок")</span><span class="sxs-lookup"><span data-stu-id="843ab-155">![Live content settings in the button grid designer](./media/ButtonGridDesigner.png "Live content settings in the button grid designer")</span></span>

<span data-ttu-id="843ab-156">Чтобы отобразить счетчик уведомлений на кнопке, необходимо обеспечить обновление правильного макета экрана.</span><span class="sxs-lookup"><span data-stu-id="843ab-156">To show the notification count on a button, you need to ensure that the correct screen layout is being updated.</span></span> <span data-ttu-id="843ab-157">Чтобы определить макет экрана, используемый в POS-терминале, выберите значок **Настройки** в верхнем правом углу и запишите **Код макета экрана** и **Разрешение макета**.</span><span class="sxs-lookup"><span data-stu-id="843ab-157">To determine the screen layout that is being used by the POS, select the **Settings** icon in upper-right corner and note the **Screen layout ID** and **Layout resolution**.</span></span> <span data-ttu-id="843ab-158">Теперь, используя браузер Edge, перейдите на страницу **Макет экрана**, найдите **Код макета экрана** и **Разрешение макета**, определенные выше, и установите флажок **Включить содержимое в реальном времени**.</span><span class="sxs-lookup"><span data-stu-id="843ab-158">Now using Edge browser, go to the **Screen layout** page, find the **Screen layout ID** and **Layout resolution** identified above and select the **Enable live content** check box.</span></span> <span data-ttu-id="843ab-159">Выберите **Retail и Commerce \> ИТ Retail и Commerce \> График распределения** и выполните задание 1090 (Регистры) для синхронизации изменений макета.</span><span class="sxs-lookup"><span data-stu-id="843ab-159">Go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule** and run the 1090 (Registers) job to synchronize layout changes.</span></span>


<span data-ttu-id="843ab-160">![Поиск макета экрана, используемого POS-терминалом](./media/Choose_screen_layout.png "Поиск макета экрана")</span><span class="sxs-lookup"><span data-stu-id="843ab-160">![Find the screen layout used by POS](./media/Choose_screen_layout.png "Find the screen layout")</span></span>

<span data-ttu-id="843ab-161">На следующем рисунке показано влияние выбора значений **Правая сторона верхней части** и **Центр** в поле **Выравнивание содержимого** для кнопок различных размеров.</span><span class="sxs-lookup"><span data-stu-id="843ab-161">The following illustration shows the effect of selecting **Top right** versus **Center** in the **Content alignment** field for buttons of various sizes.</span></span>

<span data-ttu-id="843ab-162">![Содержимое в режиме реального времени на кнопках POS-терминала](./media/ButtonsWithLiveContent.png "Содержимое в режиме реального времени на кнопках POS-терминала")</span><span class="sxs-lookup"><span data-stu-id="843ab-162">![Live content on POS buttons](./media/ButtonsWithLiveContent.png "Live content on POS buttons")</span></span>
