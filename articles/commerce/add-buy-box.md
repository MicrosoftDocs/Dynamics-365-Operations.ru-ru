---
title: Модуль поля покупки
description: В этом разделе описываются модули поля покупки, а также описывается, как добавлять их к страницам сайта в Microsoft Dynamics 365 Commerce.
author: anupamar-ms
manager: annbe
ms.date: 11/11/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Retail, Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: e86b1881e6829ccc33f36ada453af20c1815a2fa
ms.sourcegitcommit: 57bc7e17682e2edb5e1766496b7a22f4621819dd
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/18/2019
ms.locfileid: "2811149"
---
# <a name="buy-box-module"></a>Модуль поля покупки

[!include [banner](includes/preview-banner.md)]
[!include [banner](includes/banner.md)]

В этом разделе описываются модули поля покупки, а также описывается, как добавлять их к страницам сайта в Microsoft Dynamics 365 Commerce.

## <a name="overview"></a>Обзор

Термин *поле покупки* обычно относится к области страницы сведений о продукте, которая расположена "выше сгиба" и содержит все наиболее важные сведения, необходимые для выполнения приобретения продукта. (Область, расположенная "над сгибом", видна при первой загрузке страницы, так что пользователям не придется прокручивать ее для просмотра.)

Модуль "поле покупки" — это специальный контейнер, который используется для размещения всех модулей, которые отображаются в области поля покупки на странице сведений о продукте.

URL-адрес страницы сведений о продукте содержит код продукта. Вся информация, необходимая для отображения модуля поля покупки, извлекается от этого кода продукта. Если код продукта не указан, модуль поля покупки не будет правильно отображен на странице. Поэтому модуль поля покупки не может использоваться на любой странице, не имеющей контекста продукта (например, домашняя страница или страница маркетинга).

## <a name="buy-box-module-properties-and-slots"></a>Свойства и слоты модуля поля покупки 

В качестве контейнера модуль поля покупки управляет некоторыми основными свойствами, такими как ширина. Настройка ширины определяет, должны ли модули внутри контейнера быть размещены внутри этого контейнера или они могут заполнять экран.

На странице сведения о продукте поле покупки разделяется на две области: область мультимедиа слева и область содержимого справа. Эти две области представлены ячейками в модуле поля покупки. Каждая ячейка заранее настроена так, чтобы принимать только определенные модули, поддерживаемые этой ячейкой. Например, ячейка **Мультимедиа** поддерживает только модуль галереи мультимедиа.

По умолчанию отношение ширины столбцов для области мультимедиа и области содержимого — 2:1. Однако ширина столбцов может быть изменена в теме. Кроме того, на мобильных устройствах две эти области располагаются друг над другом, так что под одна область отображается под другой.

## <a name="modules-that-can-be-used-in-a-buy-box-module"></a>Модули, которые могут быть использованы в модуле поля покупки

- **Галерея мультимедиа** — этот модуль используется для демонстрации изображений продукта на странице сведений о продукте. Он поддерживает одно или несколько изображений. Он также поддерживает эскизы изображений. Эскизы изображений могут быть упорядочены горизонтально (в виде строки под изображением) или вертикально (в виде столбца рядом с изображением). Модуль галереи мультимедиа может быть добавлен в ячейку **Мультимедиа** в модуле поля покупок. В настоящее время поддерживаются только изображения и видео.
- **Название продукта** — этот модуль показывает заголовок продукта на странице сведений о продукте. По умолчанию используется тег заголовка **H1**, но при необходимости его можно изменить.
- **Рейтинг продукта** — этот модуль показывает оценки, основанные на рейтинге клиентов для продукта. Модуль поля покупки извлекает рейтинги продуктов для каждого продукта из службы оценок.
- **Цена продукта** — этот модуль показывает цену продукта. Цена включает зачеркнутые цены и скидки.
- **Описание продукта** — этот модуль показывает описание продукта.
- **Настройка продукта** — этот модуль показывает размер, стиль и аналитики продукта. Селекторы аналитик могут быть расположены по вертикали или они могут отображаться рядом друг с другом. Когда выбран вариант продукта, остальные свойства в поле покупки (например, описание продукта и изображения) обновляются в соответствии со сведениями о варианте.
- **Количество продукта** — этот модуль используется для настройки количества продукта. Настройка ограничивает количество продукта или вариантов, которые могут быть добавлены в корзину.
- **Добавить в корзину** — этот модуль используется для выполнения действия "добавить в корзину". В корзину могут быть добавлены только продукт или вариант. Другими словами, шаблон продукта нельзя добавить в корзину. Модуль имеет свойство **Перейти к корзине**, которое может быть задано автором сайта. Если это свойство имеет значение **True**, пользователь переводится на страницу корзины каждый раз, когда запускается действие "добавить в корзину". Когда для этого поля установлено значение **False**, клиент может продолжать просматривать страницу сведения о продукте после добавления номенклатур в корзину.
- **Добавить в список желаний** — этот модуль используется для добавления номенклатуры в список желаний клиента. В список желаний могут быть добавлены только продукт или вариант. Кроме того, клиент должен войти на веб-сайт. Модуль включает логику обработки ошибок, чтобы убедиться, что выполнены оба этих условия.
- **Найти в магазине** — этот модуль запускает процесс "купить через Интернет, забрать в магазине".
- **Забрать в магазине** — этот модуль отображает список ближайших магазинов, в которых номенклатура доступна для получения. По умолчанию этот модуль отображает магазины, находящиеся в радиусе 50 миль от местоположения клиента. Однако в модуле можно настроить радиус поиска. Для каждого магазина выполняется проверка запасов, если включена функция проверки запасов, и отображается соответствующее сообщение о наличии или отсутствии.
- **Поиск магазина по Картам Bing** — этот модуль может использоваться внутри модуля получения в магазине. Он позволяет клиентам искать магазины, вводя местоположение. Интерфейс прикладного программирования (API) геокодирования карт Bing используется для преобразования указанного местоположения в широту и долготу. Если этот модуль используется, отображаются только магазины около текущего местоположения клиента, и клиент не может выполнить поиск в другом местоположении.
- **Блок насыщенного контента** — этот модуль может отображать сообщение, которое автор сайта или продавец хотят отображать в поле покупки, например "По вопросам, связанным с заказом, обращайтесь по телефону 1-800-Fabrikam" или "Бесплатная доставка заказов от 100 долларов США". Сообщения выдаются системой управления контентом (CMS).

## <a name="buy-box-module-settings"></a>Настройки модуля поля покупки

Для модулей поля покупки имеется три настраиваемых параметра:

- **Максимальное количество** — максимальное число каждой номенклатуры, которое может быть добавлено в корзину. Например, розничная сеть может решить, что в одну проводку можно продать только 10 шт. каждого продукта.
- **Проверка запасов** — когда задано значение **True**, номенклатура добавляется в корзину только после того, как модуль поля покупки проверит, что товар есть на складе. Данная проверка запасов выполняется как для сценариев, в которых номенклатура будет отгружена, так и для сценариев, в которых она будет получена в магазине. Если для данного параметра установлено значение **False**, проверка запасов не выполняется до того, как номенклатура добавляется в корзину и заказ размещается.
- **Буфер запасов** — запасы поддерживаются в реальном времени, и когда многие клиенты размещают заказы, может быть трудно обеспечить точную инвентаризацию запасов. Поэтому буфер можно определить для запасов. Когда проверка запасов выполняется, если запасы меньше суммы буфера, продукт рассматривается как отсутствующий в запасах. Таким образом, когда продажи выполняются быстро по нескольким каналам, так что инвентаризация запасов не полностью синхронизирована, существует меньше риска, что номенклатура, отсутствующая на складе, будет продана.

## <a name="retail-server-interaction"></a>Взаимодействие с сервером Retail

Модуль поля покупки извлекает информацию о продукции с помощью интерфейсов API серверной службы Retail Server. Для получения всей информации используется код продукта со страницы сведений о продукте.

## <a name="add-a-buy-box-module-to-a-page"></a>Добавление модуля поля покупки на страницу

Чтобы добавить модуль поля покупки на новую страницу и задать необходимые свойства, выполните следующие действия.

1. Создайте фрагмент с именем **фрагмент поля покупки** и добавьте в него модуль поля покупки.
1. В ячейке **Мультимедиа** модуля поля покупок добавьте модуль галереи мультимедиа.
1. В ячейке **Содержимое** модуля поля покупки добавьте следующие модули: название продукта, рейтинг продукта, цена продукта, описание продукта, настройка продукта, добавить в корзину, добавить в список желаний и найти в магазине. Можно изменить порядок модулей в ячейке **Содержимое** для получения нужного макета.
1. Выберите модуль поиска в магазине. В ячейку внутри этого модуля добавьте модуль получения в магазине.
1. В ячейке внутри модуля получения в магазине добавьте модуль поиска магазинов с помощью карт Bing.
1. Верните страницу и опубликуйте его.
1. Создайте шаблон для страницы сведений о продукте и назовите его **шаблон PDP**.
1. Добавьте страницу по умолчанию.
1. В ячейке **Главная** страницы по умолчанию добавьте фрагмент поля покупки.
1. Сохраните шаблон, верните его и опубликуйте.
1. Используйте только что созданный шаблон для создания страницы с именем **страница PDP**.
1. В ячейке **Главная** новой страницы добавьте фрагмент поля покупки.
1. Сохраните и просмотрите страницу. Добавьте параметр строки запроса **?productid=&lt;код продукта&gt;** в URL-адрес страницы предварительного просмотра. Таким образом, контекст продукта используется для загрузки и отображения страницы предварительного просмотра.
1. Верните страницу и опубликуйте его. На странице сведения о продукте появится поле покупки.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор начального набора](starter-kit-overview.md)

[Модуль контейнера](add-container-module.md)

[Модуль корзины](add-cart-module.md)

[Модуль оформления заказа](add-checkout-module.md)

[Модуль подтверждения заказа](order-confirmation-module.md)

[Модуль заголовка](author-header-module.md)

[Модуль нижнего колонтитула](author-footer-module.md)
