---
title: Работа с шаблонами
description: В этом разделе описывается, как работать с шаблонами в Microsoft Dynamics 365 Commerce.
author: phinneyridge
manager: annbe
ms.date: 04/14/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: ''
ms.author: niholman
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: f4ed3b6797127113450949aa957437125f37394f
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2021
ms.locfileid: "4995724"
---
# <a name="work-with-templates"></a>Работа с шаблонами


[!include [banner](includes/banner.md)]

В этом разделе описывается, как работать с шаблонами в Microsoft Dynamics 365 Commerce.

## <a name="overview"></a>Обзор

Как обсуждалось в разделе [Обзор шаблонов и макетов](templates-layouts-overview.md), шаблоны определяют набор параметров, доступных для нижестоящих авторов. Шаблоны полезны для рабочей группы веб-разработки предприятия по нескольким причинам, и хорошо структурированные шаблоны могут помочь в следующих целях:

- Упрощение разработки для ролей редакторов повседневного содержимого.

    - Параметры модуля фильтрации, чтобы отображались только соответствующие модули для конкретного раздела страницы. (Например, маркетинговый раздел шаблона может быть настроен таким образом, чтобы отфильтровать ненужные модули, которые никогда не должны использоваться в этом контексте, и это приведет к тому, что в случае их отображения они будут просто усложнять задачи разработки содержимого.)
    - Настройте параметр модуля по умолчанию, чтобы повысить эффективность разработки.
    - Определение фрагментов страниц по умолчанию, помогающих повысить эффективность разработки. (Например, фрагменты заголовка и нижнего колонтитула в шаблоне будут автоматически отображаться на каждой подчиненной странице.)

- Поддерживайте фирменную символику на корпоративных сайтах, определяя утвержденный набор вариантов упорядочения модулей и настроек конфигурации.

    > [!TIP] 
    > Успешные веб-сайты электронной коммерции предоставляют клиентам знакомые, повторяемые и фирменные шаблоны разработки для взаимодействия пользователя (UX). Использование шаблонов помогает управлять согласованностью по всему веб-сайту.

- Улучшение оценок для оптимизации поисковых систем (SEO) за счет обеспечения повторяемых и программно определяемых определений и метаданных страниц.

> [!NOTE]
> Хотя шаблоны разработаны для обеспечения согласованности веб-сайт, их теоретически можно настроить таким образом, чтобы они не применяли согласованность принудительно. Администраторы торговых марок и сайта могут определить любой уровень вариативности для страниц на их сайте. Например, можно оставить шаблон полностью открытым, чтобы авторы содержимого могли создать любой дизайн страницы, который они выбрали. В этом случае ни одно из преимуществ из предыдущего списка не подходит.

## <a name="modify-a-template"></a>Изменение шаблона

Шаблоны изменяются с помощью редактора шаблонов.

Чтобы открыть редактор шаблонов, выполните одно из следующих действий:

- В области переходов вашего сайта выберите **Шаблоны**, затем выберите шаблон, который требуется изменить.
- В редакторе страниц для существующей страницы выберите верхний узел в дереве структуры в левой части. Затем, в области свойств справа выберите **Изменить шаблон**.

В представлении в виде древовидной структуры слева показаны параметры модуля и структуры, доступные для дочерних макетов и страниц. При выборе модуля в дереве структуры можно просмотреть свойства шаблона для выбранного модуля на панели свойств справа. Некоторые из этих свойств уникальны для редактирования шаблонов. Эти свойства рассматриваются в таблице ниже.

| Имя свойства | Описание |
|---|---|
| Мин. число вхождений | Это свойство определяет минимальное число вхождений для выбранного модуля. Например, если установлено значение **1**, модуль требуется для подчиненных авторов, в то время как если установлено значение **0** (ноль), модуль является необязательным. |
| Макс. число вхождений | Это свойство определяет максимальное число вхождений для выбранного модуля. Например, если значение равно **1**, модуль можно добавить только один раз. |
| Мин. число модулей (контейнеров) | Для модулей, которые содержат другие модули (то есть, для *модулей-контейнеров*), это свойство определяет минимальное общее количество модулей, которые должны быть добавлены в качестве дочерних. Например, для модуля карусели значение может быть задано в виде числа, которое больше 1. |
| Макс. число модулей (контейнеров) | Для модулей-контейнеров, это свойство определяет максимальное общее число модулей, которые должны быть добавлены в качестве дочерних. Например, для модуля карусели значение может быть задано в виде числа, которое меньше 10. |
| Locked | **Заблокированный** логический элемент управления появляется рядом со всеми основными свойствами модуля. Он позволяет автору шаблона заблокировать параметр модуля в шаблоне. Заблокированная настройка модуля не может быть переопределена ни одним из дочерних макетов или страниц. Она становится централизованно редактируемым значением свойства для всех макетов и страниц, использующих данный шаблон. |

## <a name="create-a-new-template"></a>Создать новый шаблон

Чтобы создать новый шаблон, выполните следующие действия.

1. В области переходов вашего сайта выберите **Шаблоны**, чтобы открыть представление инспектора шаблонов.
1. Выберите **Создать шаблон**.
1. В диалоговом окне создания шаблона введите имя и описание для шаблона. Введенные значения будут отображаться для авторов при создании новых страниц. Поэтому введите метаданные, которые будут полезны для авторов страниц. Например, введите **Используйте этот шаблон для создания общих маркетинговых страниц** в качестве описания. Эти метаданные можно позднее изменить.
1. Выберите **ОК**, чтобы создать новый шаблон и открыть редактор шаблонов. Редактор шаблонов отображает древовидную структуру слева и область свойств справа.
1. В древовидной структуре разверните узлы, затем выберите слот **Заголовок HTML**.
1. Если в этом слоте нет ни одного модуля, выберите кнопку с многоточием (**...**), затем выберите **Добавить модуль**.
1. В диалоговом окне **Добавить модуль** выберите **Сводка по странице по умолчанию**, затем выберите **ОК**.
1. В древовидной структуре выберите новый модуль, затем в области свойств введите все параметры по умолчанию, которые должны быть автоматически настроены для всех дочерних страниц шаблона. Если никакие параметры по умолчанию не нужны, оставьте эти значения пустыми.
1. В древовидной структуре выберите слот **Основной текст**, нажмите кнопку с многоточием, затем выберите **Добавить модуль**.
1. Выберите модуль контейнера страницы (возможно, имеется только один вариант), затем выберите **ОК**.

В новом модуле контейнера страницы будет отображен новый набор слотов (**Заголовок**, **Основной** и т. д.) Здесь можно добавить и настроить параметры модуля, которые будут доступны авторам при создании страниц из этого шаблона. По умолчанию, если не добавляются никакие модули в слот, для этого слота поддерживаются все доступные типы модулей.

Шаблон становится технически действительным, и его можно сохранить, вернуть и использовать для создания новых страниц. Однако в следующих трех разделах описаны некоторые другие параметры по умолчанию, которые, возможно, потребуется сначала настроить.

## <a name="add-a-header-and-a-footer"></a>Добавление верхнего или нижнего колонтитула

Если сайт уже имеет фрагмент заголовка, выполните следующие действия, чтобы добавить верхний и нижний колонтитулы в шаблон.

1. В структуре дерева разверните слот **Основной текст** и его модуль дочерней страницы.
1. Выберите слот **Заголовок**.
1. Нажмите кнопку с многоточием для слота **Заголовок**, затем выберите **Добавить фрагмент**.
1. Выполните поиск и выберите фрагмент заголовка сайта, затем выберите **ОК**.

Все страницы, использующие этот шаблон, будут автоматически наследовать этот фрагмент заголовка.

Если сайт еще не содержит фрагмент заголовка, см. раздел [Создание фрагмента](work-with-fragments.md#create-a-fragment) для получения сведений о том, как его создать, затем выполните предыдущую процедуру.

## <a name="change-the-template-theme"></a>Изменение темы шаблона

Чтобы задать тему по умолчанию для всех страниц, использующих шаблон, выполните следующие действия.

1. В структуре дерева слева разверните слот **Основной текст**.
1. В слоте **Основной текст** выберите модуль контейнера страниц (например, **Страница по умолчанию**).
1. В области свойств справа в поле **Тема** выберите тему.

По умолчанию все новые страницы теперь будут использовать выбранную тему. Чтобы запретить страницам переопределять эту настройку на уровне макета или страницы, задайте для логического элемента управления **Заблокировано** значение **True**.

## <a name="add-a-script-to-a-template"></a>Добавление сценария в шаблон

В шаблон можно добавлять HTML-элементы **&lt;script&gt;**, содержащие JavaScript. Таким образом можно указать поведения сценария по умолчанию для HTML-разделов заголовка, начала основного текста и конца основного текста для страниц.

Чтобы добавить сценарий в шаблон, выполните следующие действия.

1. В структуре дерева слева выберите слот, в который хотите добавить элемент **&lt;script&gt;** (например, HTML-заголовок, начало основного текста или конец основного текста).
1. Нажмите кнопку с многоточием для слота, затем выберите **Добавить модуль**.
1. В диалоговом окне **Добавление модуля** выберите модуль сценария (например, **Внешний сценарий** или **Встроенный сценарий**).
1. В правой панели свойств в соответствующем элементе управления свойства сценария (например, **Встроенный сценарий** или **Теги сценариев**) введите свой сценарий.
1. В области свойств введите все другие дополнительные параметры, которые необходимо настроить.

> [!TIP]
> Если необходимо повторно использовать любой из модулей сценария для других шаблонов, их можно преобразовать в фрагменты. Таким образом вы поможете повысить эффективность процесса разработки и централизовать процесс обновления. Сведения о преобразовании модуля сценария в фрагмент см. в разделе [Сохранение существующей конфигурации модуля в качестве фрагмента](work-with-fragments.md#save-an-existing-module-configuration-as-a-fragment).

## <a name="save-check-in-preview-and-publish-a-template"></a>Сохранение, возврат, предварительный просмотр и публикация шаблона

Для сохранения и возврата шаблона выполните следующие действия.

1. Выберите **Сохранить** в верхней части редактора шаблона. Сохраненные изменения не влияют на нисходящие страницы, пока они не будут возвращены.
1. Выберите **Завершить правку**. Ваши изменения теперь доступны для нижестоящих рабочих процессов.

Для предварительного просмотра изменений либо откройте существующую страницу, использующую этот шаблон, либо создайте новую страницу на основе шаблона.

После предварительного просмотра изменений шаблона выполните одно из следующих действий, чтобы опубликовать шаблон на действующем сайте:

* Перейдите к пункту **Шаблоны**, выберите шаблон, затем выберите **Опубликовать**.
* Выберите имя макета, чтобы открыть редактор макетов, затем выберите **Опубликовать**.
* Опубликуйте страницу, которая ссылается на неопубликованный шаблон. Шаблон публикуется автоматически.

> [!WARNING]
> Когда публикуется шаблон или любая другая система управления контентом (CMS), он может быть обнаружен в Интернете. Не публикуйте документы и активы, пока не будете готовы сделать их общедоступными. Версии документов, которые были сохранены и возвращены, но которые не были опубликованы, доступны только для пользователей, прошедших проверку подлинности в системе.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор шаблонов и макетов](templates-layouts-overview.md)

[Работа с предустановленными макетами](work-with-layouts.md)
