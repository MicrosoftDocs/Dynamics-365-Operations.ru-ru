---
title: Настройка экспресс-платежей для PayPal
description: В этом разделе описывается, как настроить экспресс-платежи для PayPal, чтобы включить более быстрые возможности извлечения в Microsoft Dynamics 365 Commerce.
author: BrianShook
ms.date: 05/11/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: brshoo
ms.search.validFrom: 2017-06-20
ms.openlocfilehash: 5fff17959e7ed9299df169c68b2ed07f6b7c7d2c
ms.sourcegitcommit: e4cc43b06ef3f0f562849e2c960025cb244d6017
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/12/2022
ms.locfileid: "8743579"
---
# <a name="configure-express-payments-for-paypal"></a>Настройка экспресс-платежей для PayPal

[!include [banner](../includes/banner.md)]

В этом разделе описывается, как настроить экспресс-платежи для PayPal, чтобы включить более быстрые возможности извлечения в Microsoft Dynamics 365 Commerce.

## <a name="key-terms"></a>Ключевые термины

| Срок | Описание |
|---|---|
| Кошелек PayPal | Взаимодействие с клиентами и интеграция, поддерживаемые соединителем PayPal. Она также называется кнопкой PayPal. |
| Кошелек | Тип платежа, который не включает традиционные характеристики платежа, такие как диапазон идентификационного номера банка (BIN) и дата истечения срока годности, которые используются для различения типов кредитных и дебетовых карт. |
| Экспресс-платеж | Модуль Commerce, который поддерживает более быстрое поведение при извлечении, когда используются способы оплаты с поддержкой В этом разделе рассматривается использование модуля экспресс-оплаты в PayPal. |

Dynamics 365 Commerce предлагает готовую интеграцию с кошельком PayPal. Когда Dynamics 365 Payment Connector для PayPal настроен, кнопка PayPal отображается как способ оплаты, который можно выбрать во время оформления онлайн-заказа. Когда пользователи выбирают PayPal, им предлагается совершить платеж непосредственно через PayPal, а затем они возвращаются на витрину интернет-магазина для завершения своего заказа. Проверка корзины PayPal позволяет клиентам использовать информацию о своей платежной учетной записи для предварительного заполнения формы проверки, чтобы они могли быстрее завершить процесс оформления заказа.

Commerce добавила модуль экспресс-оплаты для облегчения экспресс-оплаты. Модуль экспресс-оплаты можно использовать во фрагменте, который можно включить на странице оформления заказа или корзины. Когда PayPal настроен, одна и та же ссылка Dynamics 365 Payment Connector для соединителя PayPal используется как для опции экспресс-оплаты, так и для опции обычной проверки.

## <a name="paypal-checkout-in-commerce"></a>Оформление заказа PayPal в модуле Commerce

### <a name="prerequisites"></a>Необходимые условия

Настройте кошелек PayPal Wallet для вашей среды, как описано в [Dynamics 365 Payment Connector для PayPal](../paypal.md).

Если вы используете PayPal в качестве опции в обычном потоке оплаты (где пользователи вручную вводят данные своей учетной записи без использования действий предварительного заполнения экспресс-оплаты), следуйте инструкциям по настройке в [Модуле оплаты](../payment-module.md)

### <a name="payment-express-module-with-paypal"></a>Модуль «Экспресс-платеж» в PayPal

Модуль экспресс-оплаты работает с поддерживающими способами оплаты, чтобы предложить клиентам сайта возможность быстрее оформить заказ, предварительно заполнив информацию об учетной записи платежной службы в процессе оформления заказа. Модуль экспресс-оплаты использует настроенный платежный соединитель для предварительного заполнения формы оформления данными учетной записи пользователя, такими как адрес, контактная информация и выбранный способ оплаты.

Когда используется экспресс-оплата PayPal и пользователь нажимает кнопку PayPal в разделе экспресс-оплаты на странице оформления заказа, открывается окно платежа PayPal iFrame. Затем пользователь входит в свою учетную запись PayPal, чтобы использовать адрес доставки своей учетной записи, платежный адрес, адрес электронной почты и выбранный способ оплаты PayPal для оплаты транзакции.

После того как пользователь заполнит действие в окне PayPal, они переносятся обратно на страницу оформления заказа на сайт Commerce , в которой форма оформления предзаполнена выбранной информацией В потоке экспресс-оплаты первый вариант доставки, доступный для возвращаемого адреса доставки, будет предварительно заполнен для пользователя. Затем у пользователя есть возможность просмотреть заказ и изменить детали заказа, прежде чем он выберет **Разместить заказ**, чтобы завершить заказ.

### <a name="add-the-payment-express-module-with-paypal-to-a-fragment"></a>Добавление модуля экспресс-платежа с PayPal в фрагмент

Чтобы добавить модуль экспресс-платежа с PayPal в фрагмент в конструкторе сайтов Commerce, выполните следующие действия.

1. Перейдите на сайт.
1. В левой области переходов выберите **Фрагменты**, затем выберите **Создать**.
1. В диалоговом окне **Создать фрагмент** найдите и выберите модуль **Экспресс-платеж**, затем в поле **Имя фрагмента** введите имя фрагмента (например, **Экспресс-оформление**).
1. Выберите **ОК**, чтобы создать фрагмент.
1. В представлении структуры выберите слот модуля экспресс-оплаты, который вы создали.
1. В области «Свойства» выберите **Заголовок**.
1. В диалоговом окне **Заголовок** в поле **Текст заголовка** введите текст заголовка, который должен отображаться для раздела экспресс-оформление сайта (например, **Экспресс-оформление**)
1. В разделе **Уровень заголовка** выберите уровень заголовка (например, **H2**).
1. Нажмите **ОК**.
1. В области свойства в поле **Высота iFrame** введите или скорректируйте высоту элемента iFrame (например, **60**).
1. В поле для свойства **Поддерживаемые типы платежных средств** введите **PayPal**.
1. Выберите **Сохранить**, выберите **Завершить редактирование** для возврата фрагмента, затем нажмите кнопку **Опубликовать**, чтобы опубликовать его.

### <a name="add-the-payment-express-fragment-to-the-checkout-page"></a>Добавление фрагмента экспресс-платежей на страницу оформления заказа

Чтобы добавить фрагмент экспресс-платежей на страницу оформления заказа в конструкторе сайта, выполните следующие шаги.

1. Перейдите на сайт.
1. В левой области навигации выберите **Страницы**, а затем выберите свою страницу оформление заказа узла.
1. Нажмите **Правка**, чтобы редактировать страницу.
1. В ячейке **Основной** выберите многоточие (**...**), затем выберите **Добавить модуль**.
1. В диалоговом окне **Выбрать модуль** выберите модуль **Контейнер**, затем выберите **ОК**.

    > [!NOTE]
    > Если модуль контейнера, содержащий фрагмент оформления заказа, уже существует, переместите раздел экспресс-платежей так, чтобы он отображался над существующим контейнером оформления заказа в слоте **Основной**. Затем раздел экспресс-платежей будет отображаться над обычным контейнером оформления заказа. Чтобы переместить модуль контейнера вверх или вниз, выберите кнопку с многоточием (**...**), затем выберите **Переместить вверх** или **Переместить вниз**.

1. В области свойств **Контейнер** рекомендуется настроить параметры свойств следующим образом:

    - **Макет контейнера** – нажмите **С накоплением**.
    - **Ширина** — выберите **Заполнение контейнера**.
    - **Отображение с дочерних элементов** — нажмите **три**.

1. В ячейке **Контейнер** выберите многоточие (**...**), затем выберите **Добавить фрагмент**.
1. В диалоговом окне **Выбор фрагмента** найдите и выберите созданный ранее фрагмент экспресс-платежей и нажмите **О**.
1. Выберите **Сохранить**, выберите **Завершить редактирование** для возврата страницы, затем нажмите кнопку **Опубликовать**, чтобы опубликовать ее.

### <a name="add-the-payment-express-fragment-to-the-cart-page"></a>Добавление фрагмента экспресс-платежей на страницу заказа

Чтобы добавить фрагмент экспресс-платежей на страницу корзины в конструкторе сайта, выполните следующие шаги.

1. Перейдите на сайт.
1. В левой области навигации выберите **Страницы**, а затем выберите свою страницу корзины сайта.
1. Нажмите **Правка**, чтобы редактировать страницу.
1. В слоте **Основной** найдите контейнер, который содержит модуль **Корзина**. Модуль **Корзина** будет содержать слот **Экспресс-оплаты**.
1. Нажмите слот **Экспресс-оплата**, выберите многоточие (**...**), затем выберите **Добавить модуль**.
1. В диалоговом окне **Выбрать модуль** выберите модуль **Экспресс-оплата**, затем выберите **ОК**.
1. В области свойств в поле **Поддерживаемые типы платежных средств** введите **Paypal**.
1. Выберите **Сохранить**, выберите **Завершить редактирование** для возврата страницы, затем нажмите кнопку **Опубликовать**, чтобы опубликовать ее.

### <a name="modes-of-delivery"></a>Способы поставки

Когда модуль экспресс-оплаты настроен на использование PayPal, первый вариант доставки, возвращаемый для адреса доставки, выбранного для учетной записи PayPal, будет заполнен. Пользователи смогут изменить адрес доставки, если это необходимо.

Порядок режимов поставки настраивается в разделе **Способы доставки** для канала в Commerce Headquarters. Для получения дополнительных сведений см. раздел [Настройка режимов доставки](/dynamicsax-2012/appuser-itpro/set-up-modes-of-delivery).

Модуль оформления заказа также будет использовать модуль параметров доставки при отображении способов доставки во время оформления заказа. Дополнительные сведения см. в разделе [Модуль параметров доставки](../delivery-options-module.md).

Способы поставки добавляются в список для интернет-магазина в модуле Commerce Headquarters. Перейдите в меню **Розница и торговля \> Каналы \> Интернет-магазины** и выберите идентификатор канала вашего магазина. Затем нажмите **Параметры \> Способы доставки**. Режимы модуля доставки, показанные в конфигурации, будут отображаться аналогичным образом на сайте. Чтобы добавить или удалить способы доставки для канала розничной торговли или продукта, нажмите **Управление способами доставки** на панели действий.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Вопросы и ответы по платежам](payments-retail.md)

[Модуль оформления заказа](../add-checkout-module.md)

[Модуль платежа](../payment-module.md)

[Настройка способов поставки](/dynamicsax-2012/appuser-itpro/set-up-modes-of-delivery)

[Модуль параметров доставки](../delivery-options-module.md)
