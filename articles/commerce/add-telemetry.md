---
title: Добавление кода скрипта на страницы сайта для поддержки телеметрии
description: В этом разделе описывается добавление клиентского кода скрипта на страницы сайта для поддержки сбора телеметрии на стороне клиента.
author: bicyclingfool
manager: annbe
ms.date: 03/20/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: StuHarg
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 81c36685c1eccceb2f1854fe7c866186120c08a3
ms.sourcegitcommit: de5af1912201dd70aa85fdcad0b184c42405802e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/21/2020
ms.locfileid: "3154094"
---
# <a name="add-script-code-to-site-pages-to-support-telemetry"></a>Добавление кода скрипта на страницы сайта для поддержки телеметрии

[!include [banner](includes/banner.md)]

В этом разделе описывается добавление клиентского кода скрипта на страницы сайта для поддержки сбора телеметрии на стороне клиента.

## <a name="overview"></a>Обзор

Веб-аналитика является важным средством, когда необходимо понять, как клиенты взаимодействуют с вашим сайтом, и принимать решения, которые помогут оптимизировать работу по максимальной конверсии. Доступно множество пакетов веб-аналитики, которые помогут достичь этих целей, такие как Google Analytics, Click, Moz Analytics и KISSMetrics. Для большинства пакетов веб-аналитики требуется добавить клиентский код сценария в элемент **\<head\>** кода HTML для всех страниц сайта.

> [!NOTE]
> Инструкции, приведенные в этом разделе, применимы также к другим пользовательским функциям на стороне клиента, которые Microsoft Dynamics 365 Commerce изначально не предлагает.

## <a name="create-a-reusable-page-fragment-for-your-script-code"></a>Создание повторно используемого фрагмента страницы для кода сценария

Фрагмент страницы позволяет повторно использовать код встроенного или внешнего сценария на всех страницах сайта, независимо от используемого шаблона.

### <a name="create-a-reusable-page-fragment-for-your-inline-script-code"></a>Создание повторно используемого фрагмента страницы для кода встроенного сценария

Чтобы создать повторно используемый фрагмент страницы для кода встроенного сценария в средстве построения сайтов, выполните следующие действия.

1. Перейдите к разделу **Фрагменты страницы**, затем выберите **Создать**.
1. В диалоговом окне **Создание фрагмента страницы** выберите **Встроенный сценарий**.
1. В области **Имя фрагмента страницы** введите имя фрагмента, затем выберите **ОК**.
1. Под созданным фрагментом страницы выберите модуль **Встроенный сценарий по умолчанию**.
1. На панели свойств в правой части в разделе **Встроенный сценарий** введите клиентский сценарий. Затем настройте другие параметры нужным образом.
1. Выберите **Сохранить**, затем выберите **Завершить правку**.
1. Выберите **Опубликовать**.

### <a name="create-a-reusable-page-fragment-for-your-external-script-code"></a>Создание повторно используемого фрагмента страницы для кода внешнего сценария

Чтобы создать повторно используемый фрагмент страницы для кода внешнего сценария в средстве построения сайтов, выполните следующие действия.

1. Перейдите к разделу **Фрагменты страницы**, затем выберите **Создать**.
1. В диалоговом окне **Создание фрагмента страницы** выберите **Внешний сценарий**.
1. В области **Имя фрагмента страницы** введите имя фрагмента, затем выберите **ОК**.
1. Под созданным фрагментом страницы выберите модуль **Внешний сценарий по умолчанию**.
1. На панели свойств в правой части в области **Источник сценария** добавьте внешний или относительный URL-адрес для источника внешнего сценария. Затем настройте другие параметры нужным образом.
1. Выберите **Сохранить**, затем выберите **Завершить правку**.
1. Выберите **Опубликовать**.

## <a name="add-a-page-fragment-that-includes-script-code-to-a-template"></a>Добавление фрагмента страницы, включающего код сценария, в шаблон

Чтобы добавить фрагмент страницы, включающий код сценария, в шаблон в средстве построения сайтов, выполните следующие действия.

1. Перейдите к разделу **Шаблоны** и откройте шаблон для страниц, к которым необходимо добавить код сценария.
1. В левой области разверните иерархию шаблонов, чтобы отобразить слот **Заголовок HTML**.
1. В ячейке **Заголовок HTML** выберите кнопку с многоточием (**...**), затем выберите **Добавить фрагмент страницы**.
1. Выберите фрагмент, который был создан для кода сценария.
1. Выберите **Сохранить**, затем выберите **Завершить правку**.
1. Выберите **Опубликовать**.

## <a name="add-an-external-script-or-inline-script-directly-to-a-template"></a>Добавление внешнего сценария или встроенного сценария непосредственно в шаблон

Если необходимо вставить встроенный или внешний сценарий непосредственно в набор страниц, управляемых одним шаблоном, не требуется сначала создавать фрагмент страницы.

### <a name="add-an-inline-script-directly-to-a-template"></a>Добавление встроенного сценария непосредственно в шаблон

Чтобы добавить встроенный сценарий непосредственно в шаблон в средстве построения сайтов, выполните следующие действия.

1. Перейдите к разделу **Шаблоны** и откройте шаблон для страниц, к которым необходимо добавить код сценария.
1. В левой области разверните иерархию шаблонов, чтобы отобразить слот **Заголовок HTML**.
1. В ячейке **Заголовок HTML** выберите кнопку с многоточием (**...**), затем выберите **Добавить модуль**.
1. В диалоговом окне **Добавить модуль** выберите **Встроенный сценарий**.
1. На панели свойств в правой части в разделе **Встроенный сценарий** введите клиентский сценарий. Затем настройте другие параметры нужным образом.
1. Выберите **Сохранить**, затем выберите **Завершить правку**.
1. Выберите **Опубликовать**.

### <a name="add-an-external-script-directly-to-a-template"></a>Добавление внешнего сценария непосредственно в шаблон

Чтобы добавить внешний сценарий непосредственно в шаблон в средстве построения сайтов, выполните следующие действия.

1. Перейдите к разделу **Шаблоны** и откройте шаблон для страниц, к которым необходимо добавить код сценария.
1. В левой области разверните иерархию шаблонов, чтобы отобразить слот **Заголовок HTML**.
1. В ячейке **Заголовок HTML** выберите кнопку с многоточием (**...**), затем выберите **Добавить модуль**.
1. В диалоговом окне **Добавить модуль** выберите **Внешний сценарий**.
1. На панели свойств в правой части в области **Источник сценария** добавьте внешний или относительный URL-адрес для источника внешнего сценария. Затем настройте другие параметры нужным образом.
1. Выберите **Сохранить**, затем выберите **Завершить правку**.
1. Выберите **Опубликовать**.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Добавление логотипа](add-logo.md)

[Выбор темы сайта](select-site-theme.md)

[Работа с переопределением файлов CSS](css-override-files.md)

[Добавление значка сайта](add-favicon.md)

[Добавление приветственного сообщения](add-welcome-message.md)

[Добавление уведомления об авторском праве](add-copyright-notice.md)

[Добавление языков на сайт](add-languages-to-site.md)
