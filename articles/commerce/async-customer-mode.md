---
title: Асинхронный режим создания клиента
description: В этой теме описывается асинхронный режим создания клиентов в Microsoft Dynamics 365 Commerce.
author: gvrmohanreddy
ms.date: 12/10/2021
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.scope: Retail, Core, Operations
ms.search.region: Global
ms.author: gmohanv
ms.search.validFrom: 2021-12-17
ms.openlocfilehash: 43418b61778d187364d4d52a05178078a37623eb
ms.sourcegitcommit: 3754d916799595eb611ceabe45a52c6280a98992
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2022
ms.locfileid: "7984278"
---
# <a name="asynchronous-customer-creation-mode"></a>Асинхронный режим создания клиента

[!include [banner](includes/banner.md)]

В этой теме описывается асинхронный режим создания клиентов в Microsoft Dynamics 365 Commerce.

в Commerce имеется два режима создания клиентов: синхронный (или sync) и асинхронный (или async). По умолчанию клиенты создаются синхронно. Другими словами, они создаются в Commerce headquarters в реальном времени. Синхронный режим создания клиентов является полезным, поскольку новые клиенты сразу же могут осуществлять поиск по каналам. Однако у него также есть недостаток. Поскольку он генерирует вызовы [Commerce Data Exchange: служба реального времени](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) в Commerce headquarters, производительность может быть нарушена, если будет выполнено много звонков для создания клиентов одновременно.

Если в параметре **Создание клиента в асинхронном режиме** установлено значение **Да** в профиле функциональности магазина (**Retail и Commerce \> Настройка канала \> Настройка интернет-магазина \> Профили функциональности**), вызовы службы реального времени не используются для создания записей клиентов в базе данных канала. Режим создания асинхронных клиентов не влияет на производительность Commerce Headquarters. Временный глобальный уникальный идентификатор (GUID) назначается каждой новой записи асинхронного клиента и используется в качестве идентификатора счета клиента. Этот GUID не отображается для пользователей POS. Вместо этого эти пользователи будут видеть **ожидающие синхронизации** в качестве кода счета клиента.

> [!IMPORTANT]
> Каждый раз, когда POS переходит в автономный режим, система автоматически создает клиентов асинхронно, даже если отключен режим асинхронного создания клиента. Поэтому, независимо от выбора между созданием синхронных и асинхронных клиентов, Commerce headquarters должен создать и спланировать повторяющееся пакетное задание для **P-задания**, задания **Синхронизация клиентов и деловых партнеров из асинхронного режима** (ранее именуемое **Синхронизация клиентов и деловых партнеров из асинхронного режима**) и задания **1010**, чтобы преобразовать всех асинхронных клиентов в синхронных клиентов в Commerce Headquarters.

## <a name="async-customer-limitations"></a>Ограничения асинхронных клиентов

Функциональность асинхронных клиентов в настоящее время имеет следующие ограничения:

- Записи асинхронных клиентов нельзя изменить, пока клиент не будет создан в Commerce headquarters, а новый код счета клиента был синхронизирован с каналом обратно.
- Карты лояльности не могут быть выпущены для асинхронных клиентов, если только новый код счета клиента не был синхронизирован с каналом обратно.

## <a name="async-customer-enhancements"></a>Улучшения асинхронных клиентов

В выпуске Commerce 10.0.24 можно включить функцию **Включить улучшенное асинхронное создание клиентов** в рабочей области **Управление функциями**. Эта функция устраняет разрыв в функциональности между асинхронным и синхронным режимами создания клиентов в POS-терминале и в электронной коммерции следующими способами:

- Назначения не могут быть связаны с асинхронными клиентами.
- Должности могут добавляться к асинхронным клиентам.
- Дополнительные адреса электронной почты и номера телефонов могут регистрироваться для асинхронных клиентов.

В выпуске Commerce версии 10.0.22 можно включить функцию **Включить асинхронное создание адресов клиентов** в рабочей области **Управление функциями**. Эта функция позволяет асинхронно сохранять новые адреса клиентов как для синхронных клиентов, так и для асинхронных клиентов.

После включения ранее упомянутых функций вы должны создать и запланировать повторяющееся пакетное задание для **P-задания**, задание **Синхронизация клиентов и деловых партнеров из асинхронного режима** и задание **1010**, чтобы преобразовать всех асинхронных клиентов в синхронных клиентов в Commerce Headquarters.

### <a name="customer-creation-in-pos-offline-mode"></a>Создание клиента в автономном режиме POS

Как упоминалось ранее, каждый раз, когда POS переходит в автономный режим, система автоматически создает клиентов асинхронно, даже если отключен режим создания асинхронного клиента. Поэтому администраторы Commerce headquarters должны создать и запланировать повторяющееся пакетное задание для **P-задания**, задание **Синхронизация клиентов и деловых партнеров из асинхронного режима** и задание **1010**, чтобы преобразовать всех асинхронных клиентов в синхронных клиентов в Commerce Headquarters.

> [!NOTE]
> Если параметр **Фильтрация общих таблиц данных о клиентах** имеет значение **Да** на странице **схема канала Commerce** (**Retail и Commerce \> Настройка Headquarters \> планировщик Commerce \> Группа базы данных канала**), записи клиентов не создаются в автономном режиме POS. Дополнительные сведения см. в разделе [Исключение автономных данных](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).

## <a name="additional-resources"></a>Дополнительные ресурсы

[Управление клиентами в магазинах](customer-mgmt-stores.md)

[Преобразование асинхронных клиентов в синхронных клиентов](convert-async-to-sync.md)

[Атрибуты заказчика](dev-itpro/customer-attributes.md)

[Исключение автономных данных](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion)
