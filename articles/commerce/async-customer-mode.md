---
title: Асинхронный режим создания клиента
description: В этой статье описывается асинхронный режим создания клиентов в Microsoft Dynamics 365 Commerce.
author: gvrmohanreddy
ms.date: 10/18/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: gmohanv
ms.search.validFrom: 2021-12-17
ms.openlocfilehash: b2926339021991f87dd3eadef94da3b500c954cf
ms.sourcegitcommit: 40c80a617b903c2b26e44b41147e0021c5cb680d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2022
ms.locfileid: "9690298"
---
# <a name="asynchronous-customer-creation-mode"></a>Асинхронный режим создания клиента

[!include [banner](includes/banner.md)]

В этой статье описывается асинхронный режим создания клиентов в Microsoft Dynamics 365 Commerce.

в Commerce имеется два режима создания клиентов: синхронный (или sync) и асинхронный (или async). По умолчанию клиенты создаются синхронно. Иначе говоря, они создаются в Commerce headquarters в реальном времени. Синхронный режим создания клиентов является полезным, поскольку новые клиенты сразу же могут осуществлять поиск по каналам. Однако у него также есть недостаток. Поскольку он генерирует вызовы [Commerce Data Exchange: служба реального времени](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) в Commerce headquarters, производительность может быть нарушена, если будет выполнено много звонков для создания клиентов одновременно.

Если в параметре **Создание клиента в асинхронном режиме** установлено значение **Да** в профиле функциональности магазина (**Retail и Commerce \> Настройка канала \> Настройка интернет-магазина \> Профили функциональности**), вызовы службы реального времени не используются для создания записей клиентов в базе данных канала. Режим создания асинхронных клиентов не влияет на производительность Commerce Headquarters. Временный глобальный уникальный идентификатор (GUID) назначается каждой новой записи асинхронного клиента и используется в качестве идентификатора счета клиента. Этот GUID не отображается для пользователей POS. Вместо этого эти пользователи будут видеть **ожидающие синхронизации** в качестве кода счета клиента.

> [!IMPORTANT]
> Каждый раз, когда POS переходит в автономный режим, система автоматически создает клиентов асинхронно, даже если отключен режим асинхронного создания клиента. Поэтому как при синхронном, так и при асинхронном создании клиентов администраторам Commerce headquarters необходимо создать и запланировать повторяющееся пакетное задание для **P-задания**, задание **Синхронизация клиентов и деловых партнеров из асинхронного режима** и задание **1010**, чтобы преобразовать всех асинхронных клиентов в синхронных клиентов в Commerce Headquarters.

## <a name="async-customer-limitations"></a>Ограничения асинхронных клиентов

Функциональность асинхронных клиентов в настоящее время имеет следующее ограничение:

- Карты лояльности не могут быть выпущены для асинхронных клиентов, если только новый код счета клиента не был синхронизирован с каналом обратно.

## <a name="async-customer-enhancements"></a>Улучшения асинхронных клиентов

Чтобы облегчить организациям использование асинхронного режима создания клиентов для управления клиентами и уменьшить объем взаимодействия в реальном времени с Commerce headquarters, были выполнены следующие усовершенствования для обеспечения паритета между синхронным и асинхронным режимами в каналах. 

| Улучшение функций | Версия Commerce | Сведения о функции |
|---|---|---|
| Повышение производительности при получении информации по клиенту из базы данных канала | 10.0.20 и более поздние версии | Чтобы повысить производительность, объект клиента разделяется на меньшие объекты. Затем система извлекает из базы данных канала только требуемые сведения. |
| Возможность асинхронного создания адреса во время извлечения | 10.0.22 и более поздние версии | <p>Включение функции **Включить асинхронное создание для адресов клиентов**</p><p>Сведения о функции:</p><ul><li>Возможность добавлять адреса без выполнения запросов на обслуживание в реальном времени к Commerce headquarters</li><li>Возможность уникальной идентификации адресов в базе данных канала без использования идентификатора записи (значение **RecID**)</li><li>Отслеживание меток времени для создания адреса</li><li>Синхронизация адресов в Commerce headquarters</li></ul><p>Эта функция затрагивает как синхронных, так и асинхронных клиентов. Для асинхронного изменения адресов в дополнение к их асинхронному созданию необходимо включить функцию **Редактирование клиентов в асинхронном режиме**.</p> |
| Обеспечение паритета между синхронным и асинхронным созданием клиента. | 10.0.24 и более поздние версии | <p>Включение функции **Включить расширенное асинхронное создание клиента**</p><p>Сведения о функции: возможность получения дополнительной информации, например заголовка, назначений клиента по умолчанию, а также дополнительной контактной информации (номера телефона и адреса электронной почты) при асинхронном создании клиентов</p> |
| Понятные пользователю сообщения об ошибках | 10.0.28 и более поздние версии | Эти улучшения помогают сделать сообщения об ошибках более понятными, если пользователь не имеет возможности сразу изменять данные во время процесса синхронизации. Эти расширения включаются с помощью параметра **Разрешить делать некоторые элементы интерфейса недоступными для изменения асинхронным клиентом** в разделе **Параметры узла \> Расширения** конструктора сайтов Commerce. |
| Возможность асинхронного редактирования сведений о клиенте | 10.0.29 и более поздние версии | <p>Включение функции **Включить изменение клиентов в асинхронном режиме**</p><p>Сведения о функции: возможность асинхронного изменения данных клиентов</p><p>Ответы на часто задаваемые вопросы об устранении проблем, связанных с асинхронным изменением сведений о клиентах, см. в разделе [Вопросы и ответы об асинхронном режиме создания клиента](async-customer-mode-faq.md).</p> |
| Возможность аудита синхронизации операций управления клиентами | 10.0.31 и более поздние версии | Это усовершенствование позволяет пользователям выполнять аудит синхронизации операций управления клиентами в Commerce headquarters. Оно также позволяет пользователям вносить изменения, если это необходимо, и синхронизировать данные. |

### <a name="feature-switch-hierarchy"></a>Иерархия включения функций

С учетом иерархии перед включением функции **Включить изменение клиентов в асинхронном режиме** необходимо включить следующие функции: 

- **Повышение производительности заказов клиентов и проводок клиентов** — эта функция является обязательной с момента выпуска версии Commerce 10.0.28. 
- **Включить расширенное асинхронное создание клиента**
- **Включить асинхронное создание для адресов клиентов**

Ответы на типичные вопросы по устранению неполадок см. в разделе [Вопросы и ответы об асинхронном режиме создания клиента](async-customer-mode-faq.md). 

После включения ранее упомянутых функций вы должны создать и запланировать повторяющееся пакетное задание для **P-задания**, задание **Синхронизация клиентов и деловых партнеров из асинхронного режима** и задание **1010**, чтобы преобразовать всех асинхронных клиентов в синхронных клиентов в Commerce Headquarters.

### <a name="customer-creation-in-pos-offline-mode"></a>Создание клиента в автономном режиме POS

Как упоминалось ранее, каждый раз, когда POS переходит в автономный режим, система автоматически создает клиентов асинхронно, даже если отключен режим создания асинхронного клиента. Поэтому администраторы Commerce headquarters должны создать и запланировать повторяющееся пакетное задание для **P-задания**, задание **Синхронизация клиентов и деловых партнеров из асинхронного режима** и задание **1010**, чтобы преобразовать всех асинхронных клиентов в синхронных клиентов в Commerce Headquarters.

> [!NOTE]
> Если параметр **Фильтрация общих таблиц данных о клиентах** имеет значение **Да** на странице **схема канала Commerce** (**Retail и Commerce \> Настройка Headquarters \> планировщик Commerce \> Группа базы данных канала**), записи клиентов не создаются в автономном режиме POS. Дополнительные сведения см. в разделе [Исключение автономных данных](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).

## <a name="additional-resources"></a>Дополнительные ресурсы

[Управление клиентами в магазинах](customer-mgmt-stores.md)

[Преобразование асинхронных клиентов в синхронных клиентов](convert-async-to-sync.md)

[Атрибуты заказчика](dev-itpro/customer-attributes.md)

[Исключение автономных данных](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion)
