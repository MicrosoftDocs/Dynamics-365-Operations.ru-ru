---
title: Заказы клиентов в POS-терминале
description: В этом разделе представлена информация о заказах клиентов в POS-терминале. Заказы клиентов также называются специальными заказами. Раздел включает в себя обсуждение связанных параметров и потоков проводки.
author: josaw1
manager: AnnBe
ms.date: 01/06/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
ms.search.form: RetailFunctionalityProfile
audience: Application User
ms.reviewer: josaw
ms.custom: 260594
ms.assetid: 6fc835ef-d62e-4f23-9d49-50299be642ca
ms.search.region: global
ms.search.industry: Retail
ms.author: anpurush
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: Release 10.0.14
ms.openlocfilehash: f60e07c1faae9bc3cb6d3c843e72e6000cff7591
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/15/2021
ms.locfileid: "5220518"
---
# <a name="customer-orders-in-point-of-sale-pos"></a><span data-ttu-id="bea6a-105">Заказы клиентов в POS-терминале</span><span class="sxs-lookup"><span data-stu-id="bea6a-105">Customer orders in Point of Sale (POS)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="bea6a-106">В этом разделе представлена информация о том, как создавать заказы клиентов и как управлять ими в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="bea6a-106">This topic provides information about how to create and manage customer orders in Point of Sale (POS).</span></span> <span data-ttu-id="bea6a-107">Заказы клиентов могут использоваться для сбора данных о продажах, в которых покупатели хотят скомплектовать продукты на более позднюю дату, скомплектовать продукты из других местоположений или заказать доставку номенклатур им.</span><span class="sxs-lookup"><span data-stu-id="bea6a-107">Customer orders can be used to capture sales where shoppers want to pick up products on a later date, pick up products from a different location, or have items shipped to them.</span></span> 

<span data-ttu-id="bea6a-108">В мире многоканальной торговли многие компании розничной торговли предоставляют возможность заказов клиента или специальных заказов для удовлетворения требований разных продуктов и требований выполнения.</span><span class="sxs-lookup"><span data-stu-id="bea6a-108">In an omni-channel commerce world, many retailers provide the option of customer orders, or special orders, to meet various product and fulfillment requirements.</span></span> <span data-ttu-id="bea6a-109">Вот некоторые типовые сценарии:</span><span class="sxs-lookup"><span data-stu-id="bea6a-109">Here are some typical scenarios:</span></span>

- <span data-ttu-id="bea6a-110">Клиент хочет, чтобы продукты были доставлены по определенному адресу на определенную дату.</span><span class="sxs-lookup"><span data-stu-id="bea6a-110">A customer wants products to be delivered to a specific address on a specific date.</span></span>
- <span data-ttu-id="bea6a-111">Клиент хочет забрать продукты из магазина или местоположения, отличных от магазина или местоположения, где клиент приобрел эти продукты.</span><span class="sxs-lookup"><span data-stu-id="bea6a-111">A customer wants to pick up products from a store or location that differs from the store or location where the customer purchased those products.</span></span>
- <span data-ttu-id="bea6a-112">Клиент в местоположении магазина хочет заказать продукты сегодня и скомплектовать их из того же местоположения магазина в более позднюю дату.</span><span class="sxs-lookup"><span data-stu-id="bea6a-112">A customer inside a store location wants to order products today and pick them up from the same store location on a later date.</span></span>

<span data-ttu-id="bea6a-113">Предприятия розничной торговли могут использовать заказы клиентов для уменьшения упущенных продаж, которые в противном случае могли бы возникнуть из-за отсутствия запасов на складе, поскольку товар может быть доставлен или получен в другое время или в другом месте.</span><span class="sxs-lookup"><span data-stu-id="bea6a-113">Retailers can use customer orders to minimize lost sales that stock outages might otherwise cause, because the merchandise can be delivered or picked up at a different time or place.</span></span>

## <a name="set-up-customer-orders"></a><span data-ttu-id="bea6a-114">Настройка заказов клиентов</span><span class="sxs-lookup"><span data-stu-id="bea6a-114">Set up customer orders</span></span>
<span data-ttu-id="bea6a-115">Прежде чем пытаться использовать функциональность заказов клиентов в POS-терминале, убедитесь, что все требуемые конфигурации в Commerce Headquarters выполнены/</span><span class="sxs-lookup"><span data-stu-id="bea6a-115">Before you try to use customer order functionality in POS, make sure that you complete all the required configurations in Commerce headquarters.</span></span>

### <a name="configure-modes-of-delivery"></a><span data-ttu-id="bea6a-116">Настройка режимов доставки</span><span class="sxs-lookup"><span data-stu-id="bea6a-116">Configure modes of delivery</span></span>

<span data-ttu-id="bea6a-117">Для использования заказов клиентов необходимо настроить способы доставки, которые может использовать канал магазина.</span><span class="sxs-lookup"><span data-stu-id="bea6a-117">To use customer orders, you must configure modes of delivery that the store channel can use.</span></span> <span data-ttu-id="bea6a-118">Необходимо определить по крайней мере один способ доставки, который может использоваться, когда строки заказа отгружаются клиенту из магазина.</span><span class="sxs-lookup"><span data-stu-id="bea6a-118">You must define at least one mode of delivery that can be used when order lines are shipped to a customer from a store.</span></span> <span data-ttu-id="bea6a-119">Необходимо также определить по крайней мере один способ самовывоза, который может использоваться, когда строки заказа забираются из магазина.</span><span class="sxs-lookup"><span data-stu-id="bea6a-119">You must also define at least one pickup mode of delivery that can be used when order lines are picked up from the store.</span></span> <span data-ttu-id="bea6a-120">Способы доставки определяются на странице **Способы доставки** в модуле Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="bea6a-120">Modes of delivery are defined on the **Modes of delivery** page in Commerce headquarters.</span></span> <span data-ttu-id="bea6a-121">Подробные сведения о настройке режимов доставки для каналов Commerce см. в разделе [Определение способов доставки](https://docs.microsoft.com/dynamics365/commerce/configure-call-center-delivery#define-delivery-modes).</span><span class="sxs-lookup"><span data-stu-id="bea6a-121">For more information about how to set up modes of delivery for Commerce channels, see [Define delivery modes](https://docs.microsoft.com/dynamics365/commerce/configure-call-center-delivery#define-delivery-modes).</span></span>

![Страница способов доставки](media/customer-order-modes-of-delivery.png)


### <a name="set-up-fulfillment-groups"></a><span data-ttu-id="bea6a-123">Настройка групп выполнения</span><span class="sxs-lookup"><span data-stu-id="bea6a-123">Set up fulfillment groups</span></span>

<span data-ttu-id="bea6a-124">Некоторые магазины или местоположения склада могут быть не в состоянии выполнить заказы клиентов.</span><span class="sxs-lookup"><span data-stu-id="bea6a-124">Some stores or warehouse locations might not be able to fulfill customer orders.</span></span> <span data-ttu-id="bea6a-125">Настроив группы выполнения, организация может указать, какие магазины и местоположения склада отображаются в качестве параметров для пользователей, создающих заказы клиентов в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="bea6a-125">By configuring fulfillment groups, an organization can specify which stores and warehouse locations are shown as options to users who create customer orders in POS.</span></span> <span data-ttu-id="bea6a-126">Группы выполнения настраиваются на странице **Группы выполнения**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-126">Fulfillment groups are configured on the **Fulfillment groups** page.</span></span> <span data-ttu-id="bea6a-127">Организации могут создавать столько групп выполнения, сколько требуется.</span><span class="sxs-lookup"><span data-stu-id="bea6a-127">Organizations can create as many fulfillment groups as they require.</span></span> <span data-ttu-id="bea6a-128">После того как группа выполнения определена, свяжите ее с магазином, выбрав **Назначение группы выполнения** на вкладке **Настройка** в области действия на странице **Магазины**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-128">After a fulfillment group is defined, link it to a store by selecting **Fulfillment group assignment** from the **Set up** tab on the Action Pane of the **Stores** page.</span></span>

<span data-ttu-id="bea6a-129">В Commerce версии 10.0.12 и более поздних организации могут определить, могут ли комбинации складов или складов и магазинов, которые определены в группах выполнения, использоваться для отгрузки, для отправки или как для отгрузки, так и для самовывоза.</span><span class="sxs-lookup"><span data-stu-id="bea6a-129">In Commerce version 10.0.12 and later, organizations can define whether the warehouse or warehouse and store combinations that are defined in fulfillment groups can be used for shipping, for pickup, or for both shipping and pickup.</span></span> <span data-ttu-id="bea6a-130">Это позволяет повысить гибкость бизнеса, чтобы определить, какие склады могут выбираться при создании заказа клиента для отгрузки номенклатуры и какие магазины могут выбираться при создании заказа клиента для номенклатур, которые требуется забрать.</span><span class="sxs-lookup"><span data-stu-id="bea6a-130">This allows for added flexibility for the business to determine which warehouses can be selected when creating a customer order for items to ship vs. which stores can be selected when creating a customer order for items to pick up.</span></span> <span data-ttu-id="bea6a-131">Чтобы использовать эти параметры конфигурации, включите функцию **Возможность указывать местоположения как "Отгрузка" или "Самовывоз" включена в рамках группы выполнения**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-131">To use these configuration options, turn on the **Ability to specify locations as "Shipping" or "Pickup" enabled within Fulfillment group** feature.</span></span> <span data-ttu-id="bea6a-132">Если склад, связанный с группой выполнения, не является магазином, он может быть сконфигурирован только в качестве места отгрузки.</span><span class="sxs-lookup"><span data-stu-id="bea6a-132">If a warehouse that's linked to a fulfillment group isn't a store, it can be configured only as a shipping location.</span></span> <span data-ttu-id="bea6a-133">Он не может использоваться, когда заказы для самовывоза настраиваются в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="bea6a-133">It can't be used when orders for pickup are configured in POS.</span></span>

![Страница групп выполнения](media/customer-order-fulfillment-group.png)

### <a name="configure-channel-settings"></a><span data-ttu-id="bea6a-135">Настройка параметров канала</span><span class="sxs-lookup"><span data-stu-id="bea6a-135">Configure channel settings</span></span>

<span data-ttu-id="bea6a-136">При работе с заказами клиентов в POS-терминале следует учитывать некоторые настройки канала магазина.</span><span class="sxs-lookup"><span data-stu-id="bea6a-136">When you work with customer orders in POS, you must consider some of the settings of the store channel.</span></span> <span data-ttu-id="bea6a-137">Эти параметры находятся на странице **Магазины** в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="bea6a-137">These settings are found on the **Stores** page in Commerce headquarters.</span></span>

- <span data-ttu-id="bea6a-138">**Склад** — это поле указывает склад, используемый для выполнения заказов, настроенных для отгрузки из магазина.</span><span class="sxs-lookup"><span data-stu-id="bea6a-138">**Warehouse** – This field indicates the warehouse that is used to fulfill orders that are configured for shipment from the store.</span></span>
- <span data-ttu-id="bea6a-139">**Назначение групп выполнения** — нажмите эту кнопку (на вкладке **Настройка** в области действий), чтобы связать группы выполнения, на которые имеются ссылки, чтобы показать параметры для местоположений самовывоза или происхождений отгрузки, когда заказы клиентов создаются в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="bea6a-139">**Fulfillment group assignment** – Select this button (on the **Set up** tab on the Action Pane) to link the fulfillment groups that are referenced to show options for pickup locations or shipment origins when customer orders are created in POS.</span></span>
- <span data-ttu-id="bea6a-140">**Использовать налог на основе места назначения** — этот параметр указывает, используется ли адрес отгрузки, чтобы определить налоговую группу, которая применяется к строкам заказов, отгруженным в адрес клиента.</span><span class="sxs-lookup"><span data-stu-id="bea6a-140">**Use destination-based tax** – This option indicates whether the shipping address is used to determine the tax group that is applied to order lines that are shipped to the customer's address.</span></span>
- <span data-ttu-id="bea6a-141">**Использовать налог на основе клиента** — этот параметр указывает, используется ли налоговая группа, определенная для адреса доставки клиента, для расчета налога с заказов клиента, созданных в POS-терминале для отгрузки на домашний адрес клиента.</span><span class="sxs-lookup"><span data-stu-id="bea6a-141">**Use customer-based tax** – This option indicates whether the tax group that is defined for the customer's delivery address is used to tax customer orders that are created in POS for shipment to the customer's home.</span></span>

![Настройка канала магазина на странице "Магазины"](media/customer-order-all-stores.png)

### <a name="set-up-customer-order-parameters"></a><span data-ttu-id="bea6a-143">Настройка параметров заказов клиентов</span><span class="sxs-lookup"><span data-stu-id="bea6a-143">Set up customer order parameters</span></span>

<span data-ttu-id="bea6a-144">Прежде чем пытаться создать заказы клиентов в POS-терминале, необходимо настроить соответствующие параметры в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="bea6a-144">Before you try to create customer orders in POS, you must configure the appropriate parameters in Commerce headquarters.</span></span> <span data-ttu-id="bea6a-145">Эти параметры можно найти на вкладке **Заказы клиентов** на странице **Параметры Commerce**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-145">These parameters can be found on the **Customer orders** tab of the **Commerce parameters** page.</span></span>

- <span data-ttu-id="bea6a-146">**Тип заказа по умолчанию** — можно указать тип заказа, который по умолчанию назначается заказам клиентов, созданным в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="bea6a-146">**Default order type** – You can specify the order type that is assigned by default to customer orders that are created in POS.</span></span> <span data-ttu-id="bea6a-147">Эти заказы клиентов могут быть либо заказами на продажу, либо заказами с предложениями с расценками.</span><span class="sxs-lookup"><span data-stu-id="bea6a-147">These customer orders can be either sales orders or quotation orders.</span></span> <span data-ttu-id="bea6a-148">Независимо от типа заказа по умолчанию пользователи по-прежнему могут создавать как заказы на продажу, так и заказы клиентов с POS-терминала.</span><span class="sxs-lookup"><span data-stu-id="bea6a-148">Regardless of the default order type, users can still create both sales orders and customer orders from POS.</span></span>
- <span data-ttu-id="bea6a-149">**Процент депозита по умолчанию** — укажите процент от общей суммы заказа, которую клиент должен заплатить как депозит, чтобы заказ мог быть подтвержден.</span><span class="sxs-lookup"><span data-stu-id="bea6a-149">**Default deposit percentage** – Specify the percentage of the order total amount that the customer must pay as a deposit before an order can be confirmed.</span></span> <span data-ttu-id="bea6a-150">В зависимости от своих привилегий, продавцы-консультанты могут переопределить сумму, используя операцию **Переопределение депозита** в POS-терминале, если эта операция настроена для макета экрана проводки.</span><span class="sxs-lookup"><span data-stu-id="bea6a-150">Depending on their privileges, store associates might be able to override the amount by using the **Deposit override** operation in POS, if that operation is configured for the transaction screen layout.</span></span>
- <span data-ttu-id="bea6a-151">**Способ доставки для самовывоза** — указывается способ доставки, который должен применяться к строкам заказов на продажу, настроенным для самовывоза в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="bea6a-151">**Pickup mode of delivery** – Specify the mode of delivery that should be applied to sales order lines that are configured for pickup in POS.</span></span>
- <span data-ttu-id="bea6a-152">**Способ доставки для продажи на вынос** — указывается способ доставки, который должен применяться к строкам заказа на продажу, которые считаются строками заказа на покупку на вынос, когда создается смешанная корзина, в которой некоторые строки могут быть забраны самовывозом или отгружены, а некоторые строки клиент сразу же заберет с собой.</span><span class="sxs-lookup"><span data-stu-id="bea6a-152">**Carryout mode of delivery** – Specify the mode of delivery that should be applied to sales order lines that are considered carryout order lines when a mixed cart is created, where some lines will be picked up or shipped, and other lines will be carried out by the customer immediately.</span></span>
- <span data-ttu-id="bea6a-153">**Процент сбора за аннулирование** — если при отмене заказа клиента должен взиматься сбор, укажите сумму такого сбора.</span><span class="sxs-lookup"><span data-stu-id="bea6a-153">**Cancellation charge percentage** – If a charge should be applied when a customer order is canceled, specify the amount of that charge.</span></span>
- <span data-ttu-id="bea6a-154">**Код сбора за отмену** — укажите код накладных расходов по расчетам с клиентами, который должен использоваться, когда сбор а отмену применяются к отмененным заказам клиентов через POS-терминал.</span><span class="sxs-lookup"><span data-stu-id="bea6a-154">**Cancellation charge code** – Specify the Accounts receivable charge code that should be used when a cancellation charge is applied to canceled customer orders through POS.</span></span> <span data-ttu-id="bea6a-155">Код накладных расходов определяет логику финансовой разноски для сбора за отмену.</span><span class="sxs-lookup"><span data-stu-id="bea6a-155">The charge code defines the financial posting logic for the cancellation charge.</span></span>
- <span data-ttu-id="bea6a-156">**Код накладных расходов за отгрузку** — если параметр **Использовать расширенные автоматические накладные расходы** имеет значение **Да**, этот параметр не действует.</span><span class="sxs-lookup"><span data-stu-id="bea6a-156">**Shipping charge code** – If the **Use advanced auto charges** option is set to **Yes**, this parameter setting has no effect.</span></span> <span data-ttu-id="bea6a-157">Если этот параметр имеет значение **Нет**, пользователям будет предложено ввести вручную накладные расходы на доставку при создании заказов клиентов в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="bea6a-157">If that option is set to **No**, users will be prompted to manually enter a shipping charge when they create customer orders in POS.</span></span> <span data-ttu-id="bea6a-158">Этот параметр используется для сопоставления кода накладных расходов по расчетам с клиентами, который будут применяться к заказам, когда пользователи вводят накладные расходы на отгрузку.</span><span class="sxs-lookup"><span data-stu-id="bea6a-158">Use this parameter to map an Accounts receivable charge code that will be applied to orders when users enter a shipping charge.</span></span> <span data-ttu-id="bea6a-159">Код накладных расходов определяет логику финансовой разноски для накладных расходов за отгрузку.</span><span class="sxs-lookup"><span data-stu-id="bea6a-159">The charge code defines the financial posting logic for the shipping charge.</span></span>
- <span data-ttu-id="bea6a-160">**Использовать расширенные автоматические накладные расходы** — установите для этого параметра значение **Да**, чтобы использовать автоматические накладные расходы, рассчитанные системой, когда заказы клиентов создаются в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="bea6a-160">**Use advanced auto charges** – Set this option to **Yes** to use system-calculated auto charges when customer orders are created in POS.</span></span> <span data-ttu-id="bea6a-161">Эти автоматические накладные расходы могут использоваться для расчета сборов за доставку или других накладных расходов, связанных с заказами или конкретными номенклатурами.</span><span class="sxs-lookup"><span data-stu-id="bea6a-161">These auto charges can be used to calculate shipping fees or other order or item-specific charges.</span></span> <span data-ttu-id="bea6a-162">Дополнительные сведения о порядке настройки и использования расширенных автоматических накладных расходов см. в разделе [Многоканальные расширенные автоматические накладные расходы](https://docs.microsoft.com/dynamics365/commerce/omni-auto-charges).</span><span class="sxs-lookup"><span data-stu-id="bea6a-162">For more information about how to set up and use advanced auto charges, see [Omni-channel advanced auto charges](https://docs.microsoft.com/dynamics365/commerce/omni-auto-charges).</span></span>

![Вкладка заказов клиентов на странице параметров Commerce](media/customer-order-parameters.png)

### <a name="update-transaction-screen-layouts-in-pos"></a><span data-ttu-id="bea6a-164">Обновление макетов экрана проводок в POS-терминале</span><span class="sxs-lookup"><span data-stu-id="bea6a-164">Update transaction screen layouts in POS</span></span>

<span data-ttu-id="bea6a-165">Убедитесь, что [макет экрана](https://docs.microsoft.com/dynamics365/commerce/pos-screen-layouts) POS-терминала настроен для поддержки создания и управления заказами клиентов, и настроены все необходимые операции POS-терминала.</span><span class="sxs-lookup"><span data-stu-id="bea6a-165">Make sure that the POS [screen layout](https://docs.microsoft.com/dynamics365/commerce/pos-screen-layouts) is configured to support the creation and management of customer orders, and that all required POS operations are configured.</span></span> <span data-ttu-id="bea6a-166">Ниже приведены некоторые операции POS-терминала, рекомендованные для правильной поддержки создания и управления заказами клиентов:</span><span class="sxs-lookup"><span data-stu-id="bea6a-166">Here are some of the POS operations that are recommended to correctly support customer order creation and management:</span></span>
- <span data-ttu-id="bea6a-167">**Отгрузка всех продуктов** — эта операция используется, чтобы указать, что все строки в корзине проводки будут отгружены в пункт назначения.</span><span class="sxs-lookup"><span data-stu-id="bea6a-167">**Ship all products** – This operation is used to specify that all lines in the transaction cart will be shipped to a destination.</span></span>
- <span data-ttu-id="bea6a-168">**Отгрузка выбранных продуктов** — эта операция используется, чтобы указать, что выбранные строки в корзине проводки будут отгружены в пункт назначения.</span><span class="sxs-lookup"><span data-stu-id="bea6a-168">**Ship selected products** – This operation is used to specify that selected lines in the transaction cart will be shipped to a destination.</span></span>
- <span data-ttu-id="bea6a-169">**Самовывоз всех продуктов** — эта операция используется, чтобы указать, что все строки в корзине проводки будут получены самовывозом в выбранном местоположении магазина.</span><span class="sxs-lookup"><span data-stu-id="bea6a-169">**Pick up all products** – This operation is used to specify that all lines in the transaction cart will be picked up from a selected store location.</span></span>
- <span data-ttu-id="bea6a-170">**Самовывоз выбранных продуктов** — эта операция используется, чтобы указать, что выбранные строки в корзине проводки будут получены самовывозом в выбранном местоположении магазина.</span><span class="sxs-lookup"><span data-stu-id="bea6a-170">**Pick up selected products** – This operation is used to specify that selected lines in the transaction cart will be picked up from a selected store location.</span></span>
- <span data-ttu-id="bea6a-171">**Немедленное получение всех продуктов** — эта операция используется, чтобы указать, что покупатель сразу же заберет все строки в корзине проводки. Если эта операция используется в POS-терминале, заказ клиента будет преобразован в проводку "заплатил и забрал".</span><span class="sxs-lookup"><span data-stu-id="bea6a-171">**Carry out all products** – This operation is used to specify that all lines in the transaction cart will be carried out. If this operation is used in POS, the customer order will be converted to a cash-and-carry transaction.</span></span>
- <span data-ttu-id="bea6a-172">**Немедленное получение выбранных продуктов** — эта операция используется, чтобы указать, что покупатель заберет выбранные строки в корзине проводки в момент покупки.</span><span class="sxs-lookup"><span data-stu-id="bea6a-172">**Carryout out selected products** – This operation is used to specify that selected lines in the transaction cart are being carried out by the customer at the time of purchase.</span></span> <span data-ttu-id="bea6a-173">Эта операция полезна только в случае [гибридного заказа](https://docs.microsoft.com/dynamics365/commerce/hybrid-customer-orders).</span><span class="sxs-lookup"><span data-stu-id="bea6a-173">This operation is useful only in a [hybrid order](https://docs.microsoft.com/dynamics365/commerce/hybrid-customer-orders) scenario.</span></span>
- <span data-ttu-id="bea6a-174">**Повторно вызвать заказ** — эта операция используется для поиска и извлечения заказов клиентов, чтобы пользователи POS-терминала могли изменить, отменить или выполнить в них требуемые операции, связанные с выполнением.</span><span class="sxs-lookup"><span data-stu-id="bea6a-174">**Recall order** – This operation is used to search and retrieve customer orders so that POS users can edit, cancel, or perform fulfillment-related operations on them as required.</span></span>
- <span data-ttu-id="bea6a-175">**Изменение способа доставки** — эта операция может использоваться для быстрого изменения способа доставки для строк, уже настроенных для отгрузки, без необходимости пользователям повторно выполнять поток "Отгрузка всех продуктов" или "Отгрузка выбранных продуктов".</span><span class="sxs-lookup"><span data-stu-id="bea6a-175">**Change mode of delivery** – This operation can be used to quickly change the mode of delivery for lines that are already configured for shipment, without requiring that users go through the "ship all products" or "ship selected products" flow again.</span></span>
- <span data-ttu-id="bea6a-176">**Переопределение депозита** — эта операция может использоваться для изменения суммы депозита, которую клиент будет платить за выбранный заказ клиента.</span><span class="sxs-lookup"><span data-stu-id="bea6a-176">**Deposit override** – This operation can be used to change the deposit amount that the customer will pay for the selected customer order.</span></span>

![Операции на экране POS-проводок](media/customer-order-screen-layout.png)

## <a name="work-with-customer-orders-in-pos"></a><span data-ttu-id="bea6a-178">Работа с заказами клиентов в POS-терминале</span><span class="sxs-lookup"><span data-stu-id="bea6a-178">Work with customer orders in POS</span></span>

> [!NOTE]
> <span data-ttu-id="bea6a-179">Функции распознавания выручки в настоящее время не поддерживаются для использования в каналах Commerce (электронная коммерция, POS, центр обработки вызовов).</span><span class="sxs-lookup"><span data-stu-id="bea6a-179">Revenue recognition functionality isn't currently supported for use in Commerce channels (e-commerce, POS, call center).</span></span> <span data-ttu-id="bea6a-180">Номенклатуры, для которых задано распознавание выручки, не следует добавлять в заказы, созданные в каналах Commerce.</span><span class="sxs-lookup"><span data-stu-id="bea6a-180">Items configured with revenue recognition shouldn't be added to orders created in Commerce channels.</span></span> 

### <a name="create-a-customer-order-for-products-that-will-be-shipped-to-the-customer"></a><span data-ttu-id="bea6a-181">Создание заказа клиента для продуктов, которые будут отгружены клиенту</span><span class="sxs-lookup"><span data-stu-id="bea6a-181">Create a customer order for products that will be shipped to the customer</span></span>

1. <span data-ttu-id="bea6a-182">На экране POS-проводки добавьте клиента в проводку.</span><span class="sxs-lookup"><span data-stu-id="bea6a-182">On the POS transaction screen, add a customer to the transaction.</span></span>
2. <span data-ttu-id="bea6a-183">Добавить продукты в корзину.</span><span class="sxs-lookup"><span data-stu-id="bea6a-183">Add products to the cart.</span></span>
3. <span data-ttu-id="bea6a-184">Выберите **Отгрузить выбранное** или **Отгрузить все**, чтобы отгрузить продукты по адресу, указанному в учетной записи клиента.</span><span class="sxs-lookup"><span data-stu-id="bea6a-184">Select **Ship selected** or **Ship all** to ship the products to an address on the customer account.</span></span>
4. <span data-ttu-id="bea6a-185">Выберите параметр для создания заказа клиента.</span><span class="sxs-lookup"><span data-stu-id="bea6a-185">Select the option to create a customer order.</span></span>
5. <span data-ttu-id="bea6a-186">Подтвердите или измените "место отгрузки", подтвердите или измените адрес доставки и выберите способ отгрузки.</span><span class="sxs-lookup"><span data-stu-id="bea6a-186">Confirm or change the "ship from" location, confirm or change the shipping address, and select a shipping method.</span></span>
6. <span data-ttu-id="bea6a-187">Введите дату желаемого отгрузки для заказа клиента.</span><span class="sxs-lookup"><span data-stu-id="bea6a-187">Enter the customer's desired order shipment date.</span></span>
7. <span data-ttu-id="bea6a-188">Используйте функции платежа для оплаты всех причитающихся рассчитанных сумм или используйте операцию **Переопределение депозита** для изменения сумм, подлежащих оплате, затем примените платеж.</span><span class="sxs-lookup"><span data-stu-id="bea6a-188">Use the payment functions to pay for any calculated amounts that are due, or use the **Deposit override** operation to change the amounts that are due, and then apply payment.</span></span>
8. <span data-ttu-id="bea6a-189">Если полный итог по заказу не оплачен, введите кредитную карту, которая будет использована для сальдо, которое должно быть оплачено по заказу, когда по нему будет выставлен счет.</span><span class="sxs-lookup"><span data-stu-id="bea6a-189">If the full order total wasn't paid, enter a credit card that will be captured for the balance that is due on the order when it's invoiced.</span></span>

### <a name="create-a-customer-order-for-products-that-the-customer-will-pick-up"></a><span data-ttu-id="bea6a-190">Создание заказа клиента для продуктов, которые клиент заберет самовывозом</span><span class="sxs-lookup"><span data-stu-id="bea6a-190">Create a customer order for products that the customer will pick up</span></span>

1. <span data-ttu-id="bea6a-191">На экране POS-проводки добавьте клиента в проводку.</span><span class="sxs-lookup"><span data-stu-id="bea6a-191">On the POS transaction screen, add a customer to the transaction.</span></span>
2. <span data-ttu-id="bea6a-192">Добавить продукты в корзину.</span><span class="sxs-lookup"><span data-stu-id="bea6a-192">Add products to the cart.</span></span>
3. <span data-ttu-id="bea6a-193">Выберите **Самовывоз выбранного** или **Самовывоз всего**, чтобы начать настройку самовывоза заказа.</span><span class="sxs-lookup"><span data-stu-id="bea6a-193">Select **Pick up selected** or **Pick up all** to initiate the order pick up configuration.</span></span>
4. <span data-ttu-id="bea6a-194">Выберите местоположение магазина, из которого клиент заберет выбранные продукты самовывозом.</span><span class="sxs-lookup"><span data-stu-id="bea6a-194">Select the store location where the customer will pick up the selected products.</span></span>
5. <span data-ttu-id="bea6a-195">Выберите дату, когда номенклатура будет получена самовывозом.</span><span class="sxs-lookup"><span data-stu-id="bea6a-195">Select a date when the item will be picked up.</span></span>
6. <span data-ttu-id="bea6a-196">Используйте функции платежа для оплаты всех причитающихся рассчитанных сумм или используйте операцию **Переопределение депозита** для изменения сумм, подлежащих оплате, затем примените платеж.</span><span class="sxs-lookup"><span data-stu-id="bea6a-196">Use the payment functions to pay for any calculated amounts that are due, or use the **Deposit override** operation to change the amounts that are due, and then apply payment.</span></span>
7. <span data-ttu-id="bea6a-197">Если полный итог по заказу не был оплачен, выберите, будет ли клиент производить платеж позже (при самовывозе), или будет ли сейчас токенизирована кредитная карта, чтобы затем ее можно было использовать и отслеживать во время самовывоза.</span><span class="sxs-lookup"><span data-stu-id="bea6a-197">If the full order total wasn't paid, select whether the customer will provide payment later (at pick up), or whether a credit card will be tokenized now, and then used and captured at the time of pickup.</span></span>

### <a name="edit-an-existing-customer-order"></a><span data-ttu-id="bea6a-198">Изменение существующего заказа клиента</span><span class="sxs-lookup"><span data-stu-id="bea6a-198">Edit an existing customer order</span></span>

<span data-ttu-id="bea6a-199">Розничные заказы, созданные в Интернет-канале или в канале магазина, могут быть вызваны и отредактированы в POS-терминале, как требуется.</span><span class="sxs-lookup"><span data-stu-id="bea6a-199">Retail orders that are created in either the online or store channel can be recalled and edited through POS as required.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="bea6a-200">Не все розничные заказы могут редактироваться в приложении POS-терминала.</span><span class="sxs-lookup"><span data-stu-id="bea6a-200">Not all retail orders can be edited through the POS application.</span></span> <span data-ttu-id="bea6a-201">Заказы, созданные в канале центра обработки вызовов, невозможно изменить через POS-терминал, если для канала центра обработки вызовов включен параметр [Включить завершение заказа](https://docs.microsoft.com/dynamics365/commerce/set-up-order-processing-options#enable-order-completion).</span><span class="sxs-lookup"><span data-stu-id="bea6a-201">Orders that are created in a call center channel can't be edited through POS if the [Enable order completion](https://docs.microsoft.com/dynamics365/commerce/set-up-order-processing-options#enable-order-completion) setting is turned on for the call center channel.</span></span> <span data-ttu-id="bea6a-202">Чтобы обеспечить правильную обработку платежей, заказы, созданные в канале центра обработки звонков и использующие функцию "Включить завершение заказов", должны быть отредактированы в приложении "Центр обработки вызовов" в Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="bea6a-202">To ensure correct payment processing, orders that originated in a call center channel and that use Enable order completion functionality must be edited through the call center application in Commerce headquarters.</span></span>

<span data-ttu-id="bea6a-203">В версии 10.0.17 и более поздних пользователи могут редактировать соответствующие заказы в приложении POS, даже если заказ выполнен частично.</span><span class="sxs-lookup"><span data-stu-id="bea6a-203">In version 10.0.17 and later, users can edit eligible orders through the POS application, even if the order is partially fulfilled.</span></span> <span data-ttu-id="bea6a-204">Однако заказы, по которым полностью выставлены счета, по-прежнему не могут редактироваться в POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="bea6a-204">However, orders that are fully invoiced still can't be edited through POS.</span></span> <span data-ttu-id="bea6a-205">Чтобы включить эту возможность, включите функцию **Правка частично выполненных заказов в POS-терминале** в рабочей области **Управление функциями**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-205">To enable this capability, turn on the **Edit partially fulfilled orders in Point of Sale** feature in the **Feature management** workspace.</span></span> <span data-ttu-id="bea6a-206">Если эта функция не активирована или если используется версия 10.0.16 или более ранняя, пользователи смогут редактировать только заказы клиентов в POS-терминале только в том случае, если заказ полностью открыт.</span><span class="sxs-lookup"><span data-stu-id="bea6a-206">If this feature is not enabled, or if you're using version 10.0.16 or earlier, users will only be able to edit customer orders in POS if the order is fully open.</span></span> <span data-ttu-id="bea6a-207">Кроме того, если функция включена, можно ограничить, какие магазины могут редактировать частично выполненные заказы.</span><span class="sxs-lookup"><span data-stu-id="bea6a-207">Further, if the feature is enabled, you can limit which stores can edit partially fulfilled orders.</span></span> <span data-ttu-id="bea6a-208">Возможность отключить эту возможность для некоторых магазинов может быть настроена через **Профиль функциональности** на вкладке **Общие**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-208">The option to disable this capability for specific stores can be configured through the **Functionality profile** under the **General** FastTab.</span></span>


1. <span data-ttu-id="bea6a-209">Выберите **Повторно вызвать заказ**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-209">Select **Recall order**.</span></span>
2. <span data-ttu-id="bea6a-210">Используйте **Поиск** для ввода фильтров для поиска заказа, затем выберите **Применить**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-210">Use **Search** to enter filters to find the order, and then select **Apply**.</span></span>
3. <span data-ttu-id="bea6a-211">Выберите заказ в списке результатов, затем выберите **Правка**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-211">Select the order in the list of results, and then select **Edit**.</span></span> <span data-ttu-id="bea6a-212">Если кнопка **Правка** недоступна, заказ находится в состоянии, в котором его нельзя изменить.</span><span class="sxs-lookup"><span data-stu-id="bea6a-212">If the **Edit** button is unavailable, the order is in a state where it can't be edited.</span></span>
4. <span data-ttu-id="bea6a-213">В корзине проводки внесите все необходимые изменения в заказ клиента.</span><span class="sxs-lookup"><span data-stu-id="bea6a-213">From the transaction cart, make any necessary changes to the customer order.</span></span> <span data-ttu-id="bea6a-214">Некоторые изменения могут быть запрещены во время редактирования.</span><span class="sxs-lookup"><span data-stu-id="bea6a-214">Some changes might be prohibited during editing.</span></span>
5. <span data-ttu-id="bea6a-215">Завершите процесс редактирования, выбрав операцию платежа.</span><span class="sxs-lookup"><span data-stu-id="bea6a-215">Complete the editing process by selecting a payment operation.</span></span>
6. <span data-ttu-id="bea6a-216">Чтобы выйти из процесса редактирования без сохранения изменений, можно использовать операцию **Аннулировать проводку**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-216">To exit the editing process without saving any changes, you can use the **Void transaction** operation.</span></span>



### <a name="cancel-a-customer-order"></a><span data-ttu-id="bea6a-217">Отмена заказа клиента</span><span class="sxs-lookup"><span data-stu-id="bea6a-217">Cancel a customer order</span></span>

1. <span data-ttu-id="bea6a-218">Выберите **Повторно вызвать заказ**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-218">Select **Recall order**.</span></span>
2. <span data-ttu-id="bea6a-219">Используйте **Поиск** для ввода фильтров для поиска заказа, затем выберите **Применить**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-219">Use **Search** to enter filters to find the order, and then select **Apply**.</span></span>
3. <span data-ttu-id="bea6a-220">Выберите заказ в списке результатов, затем выберите **Отмена**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-220">Select the order in the list of results, and then select **Cancel**.</span></span> <span data-ttu-id="bea6a-221">Если кнопка **Отмена** недоступна, заказ находится в состоянии, в котором его больше нельзя отменить.</span><span class="sxs-lookup"><span data-stu-id="bea6a-221">If the **Cancel** button is unavailable, the order is in a state where it can no longer be canceled.</span></span>
4. <span data-ttu-id="bea6a-222">Если настроены сборы на отмену, подтвердите их.</span><span class="sxs-lookup"><span data-stu-id="bea6a-222">If cancellation charges are configured, confirm them.</span></span> <span data-ttu-id="bea6a-223">Накладные расходы за отмену можно откорректировать до их подтверждения в случае необходимости.</span><span class="sxs-lookup"><span data-stu-id="bea6a-223">You can adjust the cancellation charges before you confirm them, as required.</span></span> 
5. <span data-ttu-id="bea6a-224">Из корзины проводок завершите процесс отмены, выбрав операцию платежа.</span><span class="sxs-lookup"><span data-stu-id="bea6a-224">From the transaction cart, complete the cancellation process by selecting a payment operation.</span></span> <span data-ttu-id="bea6a-225">Если депозиты, которые были оплачены, превышают накладные расходы за отмену, могут требоваться платежи по возврату денежных средств.</span><span class="sxs-lookup"><span data-stu-id="bea6a-225">If deposits that were paid exceed the cancellation charge, refund payments might be due.</span></span>
6. <span data-ttu-id="bea6a-226">Чтобы выйти из процесса отмены без сохранения изменений, можно использовать операцию **Аннулировать проводку**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-226">To exit the cancellation process without saving any changes, you can use the **Void transaction** operation.</span></span>

## <a name="finalizing-the-customer-order-shipment-or-pickup-from-pos"></a><span data-ttu-id="bea6a-227">Завершение отгрузки или самовывоза по заказу клиента с POS-терминала</span><span class="sxs-lookup"><span data-stu-id="bea6a-227">Finalizing the customer order shipment or pickup from POS</span></span>

<span data-ttu-id="bea6a-228">После создания заказа номенклатуры будут получены клиентом из местоположения магазина или отгружены, в зависимости от конфигурации заказа.</span><span class="sxs-lookup"><span data-stu-id="bea6a-228">After an order is created, the items will be picked up by the customer from a store location or shipped, depending on the configuration of the order.</span></span> <span data-ttu-id="bea6a-229">Дополнительные сведения об этом процессе см. в документации по [выполнению заказов в магазине](https://docs.microsoft.com/dynamics365/commerce/order-fulfillment-overview).</span><span class="sxs-lookup"><span data-stu-id="bea6a-229">For more information about this process, see the [store order fulfillment](https://docs.microsoft.com/dynamics365/commerce/order-fulfillment-overview) documentation.</span></span>

## <a name="asynchronous-transaction-flow-for-customer-orders"></a><span data-ttu-id="bea6a-230">Порядок асинхронной проводки для клиентских заказов</span><span class="sxs-lookup"><span data-stu-id="bea6a-230">Asynchronous transaction flow for customer orders</span></span>

<span data-ttu-id="bea6a-231">Клиентские заказы можно создавать в POS-терминале в синхронном или асинхронном режиме.</span><span class="sxs-lookup"><span data-stu-id="bea6a-231">Customer orders can be created in POS in either synchronous mode or asynchronous mode.</span></span> <span data-ttu-id="bea6a-232">Если вы заметили, что при создании заказов клиентов в POS-терминале возникают проблемы с производительностью или задержки пользователей, рассмотрите возможность включения асинхронного создания заказов.</span><span class="sxs-lookup"><span data-stu-id="bea6a-232">If you notice performance issues or user delays when you create customer orders in POS, consider turning on asynchronous order creation.</span></span>

### <a name="enable-customer-orders-to-be-created-in-asynchronous-mode"></a><span data-ttu-id="bea6a-233">Включение возможности создания заказов клиентов в асинхронном режиме</span><span class="sxs-lookup"><span data-stu-id="bea6a-233">Enable customer orders to be created in asynchronous mode</span></span>

1. <span data-ttu-id="bea6a-234">В Commerce Headquarters на странице **Профили функциональности** выберите профиль функциональности, соответствующий магазину, который требуется настроить.</span><span class="sxs-lookup"><span data-stu-id="bea6a-234">In Commerce headquarters, on the **Functionality profiles** page, select the functionality profile that corresponds to the store that you want to configure.</span></span>
2. <span data-ttu-id="bea6a-235">На экспресс-вкладке **Общие** задайте для параметра **Создать клиентский заказ в асинхронном режиме** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="bea6a-235">On the **General** FastTab, set the **Create customer order in async mode** option to **Yes**.</span></span>

<span data-ttu-id="bea6a-236">Если для параметра **Создать клиентский заказ в асинхронном режиме** задано значение **Да**, клиентские заказы всегда создаются в асинхронном режиме, даже когда служба Retail Transaction Service (RTS) доступна.</span><span class="sxs-lookup"><span data-stu-id="bea6a-236">When the **Create customer order in async mode** option is set to **Yes**, customer orders are always created in asynchronous mode, even if Retail Transaction Service (RTS) is available.</span></span> <span data-ttu-id="bea6a-237">Если для этого параметра задано значение **Нет**, клиентские заказы всегда создаются в синхронном режиме с помощью службы RTS.</span><span class="sxs-lookup"><span data-stu-id="bea6a-237">If you set this option to **No**, customer orders are always created in synchronous mode by using RTS.</span></span> <span data-ttu-id="bea6a-238">Когда заказы клиентов создаются в асинхронном режиме, они извлекаются и создаются в качестве проводок розничной торговли в Commerce Headquarters из заданий Commerce Pull (P).</span><span class="sxs-lookup"><span data-stu-id="bea6a-238">When customer orders are created in asynchronous mode, they're pulled and created as retail transactions in Commerce headquarters from the Commerce Pull (P) jobs.</span></span> <span data-ttu-id="bea6a-239">Соответствующие заказы на продажу для транзакций розничной торговли создаются при выполнении команды **Синхронизация заказов** либо вручную, либо с помощью пакетной обработки.</span><span class="sxs-lookup"><span data-stu-id="bea6a-239">The corresponding sales orders for the retail transactions are created when **Synchronize orders** is run either manually or through a batch process.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="bea6a-240">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="bea6a-240">Additional resources</span></span>

[<span data-ttu-id="bea6a-241">Гибридные клиентские заказы</span><span class="sxs-lookup"><span data-stu-id="bea6a-241">Hybrid customer orders</span></span>](hybrid-customer-orders.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]