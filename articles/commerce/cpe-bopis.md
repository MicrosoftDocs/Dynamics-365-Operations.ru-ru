---
title: Настройка BOPIS в ознакомительной среде Dynamics 365 Commerce
description: В этой теме объясняется, как настроить сценарий "купить в интернете, забрать в магазине" (BOPIS) в ознакомительной среде Microsoft Dynamics 365 Commerce после ее подготовки.
author: rubendel
manager: annbe
ms.date: 07/16/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: josaw
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: rubendel
ms.search.validFrom: 2020-04-20
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 62dabaa2610341cc8ad8e85812a317ac3123fcb1
ms.sourcegitcommit: 199848e78df5cb7c439b001bdbe1ece963593cdb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2020
ms.locfileid: "4415135"
---
# <a name="configure-bopis-in-a-dynamics-365-commerce-evaluation-environment"></a>Настройка BOPIS в ознакомительной среде Dynamics 365 Commerce

[!include [banner](includes/banner.md)]

В этой теме объясняется, как настроить сценарий "купить в интернете, забрать в магазине" (BOPIS) в ознакомительной среде Microsoft Dynamics 365 Commerce после подготовки этой среды.

## <a name="prerequisite"></a>Необходимые условия

Выполните процедуры в этой теме только после того, как ваша ознакомительная среда Commerce была создана и настроена. Для получения информации о том, как подготовить и настроить среду, см. разделы [Подготовка ознакомительной среды Dynamics 365 Commerce](provisioning-guide.md) и [Настройка ознакомительной среды Dynamics 365 Commerce](https://docs.microsoft.com/dynamics365/commerce/cpe-post-provisioning).

После того как ваша среда Commerce подготовлена и полностью настроена, эту тему можно использовать для включения сценариев BOPIS.

## <a name="configure-the-pos"></a>Настройка POS-терминала

### <a name="configure-modern-pos"></a>Настройка Modern POS

Сценарии BOPIS, в которых участвует платеж по кредитной карте, требуют наличия станции оборудования. Станция оборудования встроена в клиенты Modern POS для Windows и Android. Если вы используете Cloud POS или Modern POS для iOS, клиент POS должен составлять пару с общей аппаратной станцией. В этой теме объясняется, как настроить BOPIS для клиентов Windows и Android. Сведения о том, как настроить общую станцию оборудования, см. в разделе [Настройка и установка Retail Hardware Station](https://docs.microsoft.com/dynamics365/commerce/retail-hardware-station-configuration-installation).

1. Перейдите в раздел **Розничная торговля и коммерция \> Настройка канала \> Настройка POS \> Регистры**.
2. Выберите регистр **SANFRAN-5**, затем выберите **Правка**.
3. Измените значение поля **Профиль оборудования** с **HW002** на **HW001**, затем выберите **Сохранить**.
4. Чтобы синхронизировать изменения, выберите **Розничная торговля и коммерция \> ИТ розничной торговли и коммерции \> График распределения**.
5. Выберите план распределения **1090**, затем, на панели действий, выберите **Выполнить**.
6. Выберите **Да**, затем **OK**, чтобы начать синхронизацию данных. 

### <a name="install-modern-pos"></a>Установка Modern POS

1. Перейдите в раздел **Розничная торговля и коммерция \> Настройка канала \> Настройка POS \> Устройства**.
2. Выберите устройство **SANFRANCIS-5**.
3. На панели операций выберите **Загрузить**, затем выберите **Файл конфигурации**.
4. Выберите **Загрузить**, затем выберите **Retail Modern POS**. 
5. После завершения загрузки файла **ModernPOSSetup.exe** выберите **Открыть файл**.

    ![Открыть файл](./dev-itpro/media/PAYMENTS/openfile.png)

6. Выберите **Далее**, чтобы пройти процесс установки. После завершения установки выберите **Закрыть**.

### <a name="activate-modern-pos"></a>Активация Modern POS

1. На рабочем столе Windows нажмите кнопку **Пуск** и введите **Retail Modern POS**.
2. Выберите приложение **Retail Modern POS**, для которого начать активацию.
3. Выберите **Далее**. Поля **URL-адрес сервера**, **ИД устройства** и **Номер регистра** должны быть предварительно установлены с использованием сведений из файла конфигурации, загруженного в предыдущей процедуре.
4. Выберите **Активировать**.
5. Появляется диалоговое окно проверки подлинности. Выберите счет, который использует адрес электронной почты, который ранее был связан с сотрудником **000713 — Эндрю Коллетт**.

    > [!NOTE]
    > Если сотрудник еще не сопоставлен с вашим удостоверением, активация будет неудачной. В этом случае выполните действия, указанные в разделе "Связывание работника с вашим удостоверением" в теме [Настройка ознакомительной среды Dynamics 365 Commerce](cpe-post-provisioning.md#associate-a-worker-with-your-identity).
    
6. Когда появится приглашение, предлагающее разрешить вашей организации управление устройством, выберите **Только это приложение**.
7. После завершения активации выберите **Начать работу**.

### <a name="enable-bopis-in-modern-pos"></a>Включение BOPIS в Modern POS

1. Войдите в Modern POS, используя **000713** в качестве идентификатора оператора и **123** в качестве пароля.
2. В процессе воспроизведения видео с вводным пошаговым руководством установите два флажка в нижнем левом углу диалогового окна, затем закройте это диалоговое окно.
3. Если не выводится запрос на закрытие смены, перейдите вправо на странице **Добро пожаловать**, выберите **Закрыть смену**, затем снова выполните вход в POS-терминал.
4. После входа в ответ на запрос выберите **Выполнение операций, не связанных с кассовым лотком**.
5. На странице **Добро пожаловать** прокрутите вправо и выберите операцию **Выбрать станцию оборудования**.
6. Выберите **Управление**, установите для параметра **Использовать станцию оборудование** значение **Вкл.**, затем выберите **ОК**.
7. Выйдите из POS, затем снова войдите в нее.
8. После входа выберите **Открыть новую смену**, затем выберите **Ящик**.

## <a name="complete-a-bopis-scenario"></a>Завершение сценария BOPIS

### <a name="create-a-storefront-order-for-in-store-pickup"></a>Создание заказа в магазине для получения в магазине

1. Перейдите по URL-адресу, указанному на этапе [Инициализация электронной коммерции](https://docs.microsoft.com/dynamics365/commerce/provisioning-guide#initialize-e-commerce) во время конфигурации среды.
2. Выберите номенклатуру и выберите **Добавить в корзину**.
3. На странице корзины выберите пункт **Забрать это** для строки заказа, которая была только что добавлена.
4. В диалоговом окне **Выбор магазина** введите **Сан-Франциско**, затем выберите кнопку **Поиск**.
5. В списке результатов найдите магазин в Сан-Франциско и выберите **Забрать здесь**.
6. На странице корзины выберите **Оформить как гость**. 

    > [!NOTE]
    > Чтобы продолжить оформление, необходимо принять оповещение о файлах cookie. Это уведомление появляется в виде баннера в верхней части страницы оформления заказа.

7. Для метода платежа кредитной картой введите следующие сведения:

    - **Имя владельца карты:** введите любое имя.
    - **Номер карты:** введите **4111-1111-1111-1111**.
    - **Срок действия:** введите **10/20**.
    - **Контрольный код карты (CVV):** введите **737**.

    > [!IMPORTANT]
    > Никогда не следует пытаться использовать фактические сведения кредитной карты на тестовых сайтах при любых обстоятельствах.

8. Продолжите оформление, введя подробные данные об адресе для выставления счета, затем выберите **Сохранить и продолжить**.
9. Когда заказ готов к размещению, выберите **Оформить**.

### <a name="synchronize-online-orders-to-the-back-office"></a>Синхронизация интернет-заказов с бек-офисом

Сведения о синхронизации интернет-заказов см. в разделе [Разноска продаж и платежей через Интернет](https://docs.microsoft.com/dynamics365/commerce/tasks/posting-online-sales-payments).

### <a name="pick-up-an-order-in-the-store"></a>Получение заказа в магазине

1. Войдите в POS.
2. На экране **Добро пожаловать** выберите **Выполнение заказа**
3. В списке номенклатур для получения выберите строку из заказа, который был размещен через Интернет.
4. Когда выбрана строка заказа, выберите **Скомплектовать**.

    Номенклатура строки добавляется на экран проводки, и сумма **$0,00** отображается в качестве сальдо, которое должно быть оплачено.

5. Выберите подлежащее оплате сальдо **$0,00** или выберите любой метод платежа для завершения проводки.

## <a name="troubleshooting"></a>Устранение неполадок

### <a name="online-orders-that-are-retrieved-in-the-pos-have-a-non-zero-balance-due"></a>Интернет-заказы, извлеченные в POS, имеют ненулевое дебетовое сальдо

Когда заказ извлекается для получения в магазине, если дебетовое сальдо не равно 0 (нулю), убедитесь, что используется Modern POS и что станция оборудования активна. Если используется Cloud POS или Modern POS для iOS, убедитесь, что активна общая станция оборудования. Для получения платежей, которые были сделаны в Интернете, требуется какая-то активная станция оборудования.

### <a name="general-issues-with-payment-capture"></a>Общие проблемы при записи платежа

Для всех общих вопросов сначала следует всегда обращаться к журналам событий Modern POS или станции оборудования IIS Hardware Station. Эти журналы можно найти в следующих узлах журнала событий Windows:

- Журналы приложений и служб \> Microsoft \> Dynamics \> Commerce-ModernPOS
- Журналы приложений и служб \> Microsoft \> Dynamics \> Commerce-Hardware Station

## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор ознакомительной среды Dynamics 365 Commerce](cpe-overview.md)

[Подготовка ознакомительной среды Dynamics 365 Commerce](provisioning-guide.md)

[Настройка дополнительных функций ознакомительной среды Dynamics 365 Commerce](cpe-optional-features.md)

[Вопросы и ответы по ознакомительной среде Dynamics 365 Commerce](cpe-faq.md)

[Microsoft Lifecycle Services (LCS)](https://docs.microsoft.com/dynamics365/unified-operations/dev-itpro/lifecycle-services/lcs-user-guide)

[Retail Cloud Scale Unit (RCSU)](https://docs.microsoft.com/business-applications-release-notes/october18/dynamics365-retail/retail-cloud-scale-unit)

[Портал Microsoft Azure](https://azure.microsoft.com/features/azure-portal)

[Веб-сайт Dynamics 365 Commerce](https://aka.ms/Dynamics365CommerceWebsite)

[Соединитель платежей Adyen](https://docs.microsoft.com/dynamics365/commerce/dev-itpro/adyen-connector?tabs=8-1-3)

[Сохранение интерактивных платежных инструментов с помощью соединителя Adyen](https://docs.microsoft.com/dynamics365/commerce/dev-itpro/adyen-connector-listpi)

[Обзор многоканальных платежей](https://docs.microsoft.com/dynamics365/commerce/omni-channel-payments)


[!INCLUDE[footer-include](../includes/footer-banner.md)]