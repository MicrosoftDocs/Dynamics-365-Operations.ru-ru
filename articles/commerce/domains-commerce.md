---
title: Домены в Dynamics 365 Commerce
description: В этом разделе описывается, как обрабатываются домены в Microsoft Dynamics 365 Commerce.
author: BrShoo
manager: AnnBe
ms.date: 09/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: ''
ms.search.region: Global
ms.search.industry: retail
ms.author: BrShoo
ms.search.validFrom: ''
ms.dyn365.ops.version: Release 10.0.12
ms.openlocfilehash: 84becee12363ca38951ff13073d87d1b1f14b616
ms.sourcegitcommit: a47a4652a29fdb567a8ba67c4f914a8698e8c48c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/03/2020
ms.locfileid: "3765009"
---
# <a name="domains-in-dynamics-365-commerce"></a><span data-ttu-id="6987d-103">Домены в Dynamics 365 Commerce</span><span class="sxs-lookup"><span data-stu-id="6987d-103">Domains in Dynamics 365 Commerce</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="6987d-104">В этом разделе описывается, как обрабатываются домены в Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="6987d-104">This topic describes how domains are handled in Microsoft Dynamics 365 Commerce.</span></span>

<span data-ttu-id="6987d-105">Домены — это веб-адреса, используемые для перехода к сайтам Dynamics 365 Commerce в веб-браузере.</span><span class="sxs-lookup"><span data-stu-id="6987d-105">Domains are web addresses used to navigate to Dynamics 365 Commerce sites in a web browser.</span></span> <span data-ttu-id="6987d-106">Управление доменом можно контролировать с помощью выбранного поставщика сервера доменных имен DNS (Domain Name Server).</span><span class="sxs-lookup"><span data-stu-id="6987d-106">You control management of your domain with a chosen Domain Name Server (DNS) provider.</span></span> <span data-ttu-id="6987d-107">Домены упоминаются в сборщике сайтов Dynamics 365 Commerce для координации того, как при публикации будет осуществляться доступ к сайту.</span><span class="sxs-lookup"><span data-stu-id="6987d-107">Domains are referenced throughout Dynamics 365 Commerce site builder to coordinate how a site will be accessed when published.</span></span> <span data-ttu-id="6987d-108">В этом разделе рассматриваются способы обработки и использования доменов в жизненном цикле разработки и запуска веб-сайта Commerce.</span><span class="sxs-lookup"><span data-stu-id="6987d-108">This topic reviews how domains are handled and referenced throughout the lifecycle of the Commerce site development and launch.</span></span>

## <a name="provisioning-and-supported-host-names"></a><span data-ttu-id="6987d-109">Подготовка и поддерживаемые имена узлов</span><span class="sxs-lookup"><span data-stu-id="6987d-109">Provisioning and supported host names</span></span>

<span data-ttu-id="6987d-110">При подготовке среды электронной коммерции в [Microsoft Dynamics Lifecycle Services (LCS)](https://lcs.dynamics.com/) поле **Поддерживаемые имена узлов** на экране подготовки электронной коммерции служит для ввода доменов, которые будут связаны с развернутой средой Commerce.</span><span class="sxs-lookup"><span data-stu-id="6987d-110">When provisioning an e-Commerce environment in [Microsoft Dynamics Lifecycle Services (LCS)](https://lcs.dynamics.com/), the **Supported host names** box on the e-Commerce provisioning screen is used to enter domains that will be associated with the deployed Commerce environment.</span></span> <span data-ttu-id="6987d-111">Эти домены являются предназначенными для клиентов именами серверов доменных имен DNS, на которых будут размещаться веб-сайты электронной коммерции.</span><span class="sxs-lookup"><span data-stu-id="6987d-111">These domains will be the customer-facing Domain Name Server (DNS) names where e-Commerce websites will be hosted.</span></span> <span data-ttu-id="6987d-112">Ввод домена на этом этапе не запускает передачу трафика для этого домена в Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="6987d-112">Entering a domain at this stage does not start diverting traffic for the domain to Dynamics 365 Commerce.</span></span> <span data-ttu-id="6987d-113">Трафик для домена будет перенаправлен в конечную точку Commerce при обновлении DNS-записи CNAME для использования конечной точки Commerce с этим доменом.</span><span class="sxs-lookup"><span data-stu-id="6987d-113">Traffic for a domain will only be routed to the Commerce endpoint when the DNS CNAME record is updated to use the Commerce endpoint with the domain.</span></span>

> [!NOTE]
> <span data-ttu-id="6987d-114">В поле **Поддерживаемые имена узлов** можно ввести несколько доменов, разделяя их точкой с запятой.</span><span class="sxs-lookup"><span data-stu-id="6987d-114">Multiple domains can be entered into the **Supported host names** box by separating them with semi-colons.</span></span>

<span data-ttu-id="6987d-115">На следующем рисунке показан экран LCS подготовки электронной коммерции с выделенным полем **Поддерживаемые имена узлов**.</span><span class="sxs-lookup"><span data-stu-id="6987d-115">The following illustration shows the LCS e-Commerce provisioning screen with the **Supported host names** box highlighted.</span></span> 

![Экран LCS подготовки электронной коммерции с выделенным полем **Поддерживаемые имена узлов**](./media/Domains_ProvisioningeCommerceScreen.png)

<span data-ttu-id="6987d-117">Если подготовка уже выполнена, можно создать запрос на обслуживание для добавления дополнительных доменов в среду.</span><span class="sxs-lookup"><span data-stu-id="6987d-117">You can create a service request to add additional domains to an environment if provisioning has already occurred.</span></span> <span data-ttu-id="6987d-118">Чтобы создать запрос на обслуживание в LCS, в вашей среде перейдите к пункту **Поддержка \> Проблемы поддержки** и выберите **Отправить инцидент**.</span><span class="sxs-lookup"><span data-stu-id="6987d-118">To create a service request in LCS, within your environment go to **Support \> Support issues** and select **Submit an incident**.</span></span>

## <a name="commerce-generated-urls"></a><span data-ttu-id="6987d-119">Создаваемые Commerce URL-адреса</span><span class="sxs-lookup"><span data-stu-id="6987d-119">Commerce-generated URLs</span></span>

<span data-ttu-id="6987d-120">При подготовке среды электронной коммерции в Commerce создается URL-адрес, который будет использоваться в качестве рабочего адреса для среды.</span><span class="sxs-lookup"><span data-stu-id="6987d-120">When provisioning an e-Commerce environment, Commerce will generate a URL that will be the working address for the environment.</span></span> <span data-ttu-id="6987d-121">Ссылка на этот URL-адрес содержится в ссылке сайта электронной коммерции, указанной в LCS после подготовки среды.</span><span class="sxs-lookup"><span data-stu-id="6987d-121">This URL is referenced in the e-Commerce site link shown in LCS after the environment is provisioned.</span></span> <span data-ttu-id="6987d-122">Генерируемый Commerce URL-адрес указывается в формате `https://<e-Commerce tenant name>.commerce.dynamics.com`, где название клиента электронной коммерции является именем, введенным в LCS для среды Commerce.</span><span class="sxs-lookup"><span data-stu-id="6987d-122">A Commerce-generated URL is in the format `https://<e-Commerce tenant name>.commerce.dynamics.com`, where the e-Commerce tenant name is the name entered in LCS for the Commerce environment.</span></span>

<span data-ttu-id="6987d-123">Можно также использовать имена узлов производственного сайта в среде "песочницы".</span><span class="sxs-lookup"><span data-stu-id="6987d-123">You can use production site host names in a sandbox environment as well.</span></span> <span data-ttu-id="6987d-124">Этот вариант идеально подходит для копирования сайта из среды "песочницы" в производственную среду.</span><span class="sxs-lookup"><span data-stu-id="6987d-124">This option is ideal when you will be copying a site from a sandbox environment to production.</span></span>

## <a name="site-setup"></a><span data-ttu-id="6987d-125">Настройка сайта</span><span class="sxs-lookup"><span data-stu-id="6987d-125">Site setup</span></span>

<span data-ttu-id="6987d-126">После подготовки среды электронной коммерции необходимо настроить сайт в конфигураторе сайта Commerce, чтобы связать сайт с работающим URL-адресом.</span><span class="sxs-lookup"><span data-stu-id="6987d-126">After your e-Commerce environment is provisioned, you must set up your site in Commerce site builder to associate your site to the working URL.</span></span>

<span data-ttu-id="6987d-127">При первой настройке сайта в конфигураторе сайтов появится диалоговое окно **Настройка сайта**.</span><span class="sxs-lookup"><span data-stu-id="6987d-127">When you first set up a site in site builder, the **Setup your Site** dialog box will appear.</span></span>

<span data-ttu-id="6987d-128">На следующем рисунке показано диалоговое окно **Настройка сайта** для сайта с именем "по умолчанию" при первом обращении к сайту в конструкторе сайтов.</span><span class="sxs-lookup"><span data-stu-id="6987d-128">The following illustration shows the **Setup your Site** dialog box for a site named "default" when you access the site for the first time in site builder.</span></span>

![Диалоговое окно **Настройка сайта**](./media/Domains_SetupyoursiteScreen.png)

<span data-ttu-id="6987d-130">Поле **Выберите домен** позволяет сопоставить одно из поддерживаемых имен узла, предоставленных для вашего сайта в LCS, сайту в конструкторе сайтов.</span><span class="sxs-lookup"><span data-stu-id="6987d-130">The **Select a domain** box allows you to associate one of the supported host names provided for your site in LCS to your site in site builder.</span></span>

<span data-ttu-id="6987d-131">Поле **Путь** можно оставить пустым или добавить дополнительную строку пути, которая будет отражена в рабочем URL-адресе.</span><span class="sxs-lookup"><span data-stu-id="6987d-131">The **Path** box can be left blank, or an additional path string can be added that will be reflected in your working URL.</span></span> <span data-ttu-id="6987d-132">Если поле **Путь** не заполнено, созданный в Commerce базовый URL-адрес связывается с сайтом, настраиваемым в конструкторе сайтов.</span><span class="sxs-lookup"><span data-stu-id="6987d-132">Leaving the **Path** box blank associates the base Commerce-generated URL with the site being set up in site builder.</span></span> <span data-ttu-id="6987d-133">Пути для каждой пары сайт-домен должны быть уникальными.</span><span class="sxs-lookup"><span data-stu-id="6987d-133">Paths must be unique for each site/domain pair.</span></span> <span data-ttu-id="6987d-134">В выбранном сайте и домене только один сайт в среде может использовать пустой путь или быть связанным с уникальной строкой пути.</span><span class="sxs-lookup"><span data-stu-id="6987d-134">Within the site and domain selected, only one site in the environment can use the blank path or be associated with a unique path string.</span></span> <span data-ttu-id="6987d-135">Любая строка, добавляемая к полю **Путь** во время настройки сайта, становится подпутем к создаваемому в Commerce базовому URL-адресу, используемому для доступа к сайту в веб-браузере.</span><span class="sxs-lookup"><span data-stu-id="6987d-135">Any string added to the **Path** field during site setup will become a subpath of the base Commerce-generated URL used to access the site in a web browser.</span></span>

> [!NOTE]
> <span data-ttu-id="6987d-136">Этот путь известен также как **Путь соответствия** при добавлении канала в раздел конфигурации **Параметры сайта \> Каналы** в конструкторе сайтов.</span><span class="sxs-lookup"><span data-stu-id="6987d-136">The path is also known as the **Match path** when adding a channel in the **Site Settings \> Channels** configuration section of site builder.</span></span>

<span data-ttu-id="6987d-137">Например, если в конструкторе сайтов имеется сайт под названием "fabrikam" в клиенте электронной коммерции с именем "xyz", и если сайт настроен с пустым путем, то можно получить доступ к опубликованному содержимому сайта в веб-браузере, перейдя непосредственно по созданному в Commerce базовому URL-адресу:</span><span class="sxs-lookup"><span data-stu-id="6987d-137">For example, if you have a site in site builder called "fabrikam" in an e-Commerce tenant named "xyz," and if you set up the site with a blank path, then you would access the published site content in a web browser by going directly to the base Commerce-generated URL:</span></span>

`https://xyz.commerce.dynamics.com`

<span data-ttu-id="6987d-138">Кроме того, если в настройку этого сайта был добавлен путь "fabrikam", то к опубликованному содержимому сайта можно получить доступ в веб-браузере, используя следующий URL-адрес:</span><span class="sxs-lookup"><span data-stu-id="6987d-138">Alternately, if you had added a path of "fabrikam" during this same site's setup, you would access the published site content in a web browser using the following URL:</span></span>

`https://xyz.commerce.dynamics.com/fabrikam`

## <a name="pages-and-urls"></a><span data-ttu-id="6987d-139">Страницы и URL-адреса</span><span class="sxs-lookup"><span data-stu-id="6987d-139">Pages and URLs</span></span>

<span data-ttu-id="6987d-140">После того как сайт настроен с помощью пути, все URL-адреса, связанные со страницами в конструкторе сайтов, будут построены на рабочем URL-адресе (созданный в Commerce URL-адрес или созданный в Commerce URL-адрес плюс путь) для сайта.</span><span class="sxs-lookup"><span data-stu-id="6987d-140">After your site is set up with a path, all URLs associated with pages in site builder will build on the working URL (the Commerce-generated URL, or the Commerce-generated URL plus the path) for the site.</span></span> <span data-ttu-id="6987d-141">При создании нового URL-адреса в конструкторе сайтов (**URL-адреса /> +Создать**) путем выбора страницы из списка в диалоговом окне **Создание URL-адреса** и ввода URL-пути для этой страницы будет связан этот URL-адрес с выбранной страницей.</span><span class="sxs-lookup"><span data-stu-id="6987d-141">Creating a new URL in site builder (**URLS /> +New**) by selecting a page from the list in the **New URL** dialog box and entering the URL path for that page will associate that URL with the selected page.</span></span> <span data-ttu-id="6987d-142">Значение URL-пути затем добавляется к рабочему URL-адресу сайта для доступа к странице и помечается как `./<URL path>` в списке URL-адресов страницы **URL-адреса** в конструкторе сайтов.</span><span class="sxs-lookup"><span data-stu-id="6987d-142">The URL path value then appends to the site's working URL to access the page, and is labeled as `./<URL path>` in the URL list of the **URLs** page in site builder.</span></span>

<span data-ttu-id="6987d-143">На следующем рисунке показано диалоговое окно **Создание URL-адреса** в конструкторе сайтов с выбранным примером URL-пути.</span><span class="sxs-lookup"><span data-stu-id="6987d-143">The following illustration shows the **New URL** dialog box in site builder with an example URL path highlighted.</span></span> 

![Диалоговое окно **Создание URL-адреса** в конструкторе сайтов](./media/Domains_PageSetup2a.png)

<span data-ttu-id="6987d-145">На следующем рисунке показана страница **URL-адреса** в конструкторе сайтов с выбранным примером URL-адреса в списке.</span><span class="sxs-lookup"><span data-stu-id="6987d-145">The following illustration shows the **URLs** page in site builder with an example URL highlighted in the list.</span></span>

![Параметр выполнения потока пользователей в потоке политик](./media/Domains_URLsInSiteBuilder2a.png)

## <a name="domains-in-site-builder"></a><span data-ttu-id="6987d-147">Домены в конструкторе сайтов</span><span class="sxs-lookup"><span data-stu-id="6987d-147">Domains in site builder</span></span>

<span data-ttu-id="6987d-148">Поддерживаемые значения имен узлов можно связать в качестве домена при настройке сайта.</span><span class="sxs-lookup"><span data-stu-id="6987d-148">The supported host names values are available to be associated as a domain when setting up a site.</span></span> <span data-ttu-id="6987d-149">При выборе поддерживаемого значения имени узла в качестве домена вы увидите выбранный домен, указанный в конструкторе сайтов.</span><span class="sxs-lookup"><span data-stu-id="6987d-149">When selecting a supported host name value as the domain, you will see the chosen domain referenced throughout site builder.</span></span> <span data-ttu-id="6987d-150">Этот домен представляет собой только ссылку в среде Commerce, настоящий трафик для этого домена еще не будет переадресован в Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="6987d-150">This domain is only a reference within the Commerce environment, live traffic for that domain will not yet be forwarded to Dynamics 365 Commerce.</span></span>

<span data-ttu-id="6987d-151">Если при работе с сайтами в конструкторе сайтов имеются два сайта с настроенными двумя разными доменами, можно добавить атрибут **?domain=** к рабочему URL-адресу, чтобы получить доступ к опубликованному содержимому сайта в браузере.</span><span class="sxs-lookup"><span data-stu-id="6987d-151">When working with sites in site builder, if you have two sites set up with two different domains, you can append the **?domain=** attribute to your working URL to access the published site content in a browser.</span></span>

<span data-ttu-id="6987d-152">Например, была подготовлена среда "xyz", и в конструкторе сайтов были созданы два сайта: один с доменом `www.fabrikam.com`, а другой — с доменом `www.constoso.com`.</span><span class="sxs-lookup"><span data-stu-id="6987d-152">For example, environment "xyz" has been provisioned, and two sites have been created and associated in site builder: one with the domain `www.fabrikam.com` and the other with the domain `www.constoso.com`.</span></span> <span data-ttu-id="6987d-153">Каждый сайт был настроен с использованием пустого пути.</span><span class="sxs-lookup"><span data-stu-id="6987d-153">Each site was set up using a blank path.</span></span> <span data-ttu-id="6987d-154">В этом случае в веб-браузере можно будет получить доступ к этим двум сайтам, используя атрибут **?domain=**:</span><span class="sxs-lookup"><span data-stu-id="6987d-154">These two sites could then be accessed in a web browser as follows using the **?domain=** attribute:</span></span>
- `https://xyz.commerce.dynamics.com?domain=www.fabrikam.com`
- `https://xyz.commerce.dynamics.com?domain=www.contoso.com`

<span data-ttu-id="6987d-155">Если строка запроса домена не указана в среде с несколькими доменами, в Commerce используется первый предоставленный домен.</span><span class="sxs-lookup"><span data-stu-id="6987d-155">When a domain query string is not given in an environment with multiple domains provided, Commerce uses the first domain you provided.</span></span> <span data-ttu-id="6987d-156">Например, если путь "fabrikam" был указан первым во время настройки сайта, URL-адрес `https://xyz.commerce.dynamics.com` может быть использован для доступа к опубликованному контенту сайта `www.fabrikam.com`.</span><span class="sxs-lookup"><span data-stu-id="6987d-156">For example, if the path "fabrikam" was provided first during site setup, the URL `https://xyz.commerce.dynamics.com` could be used to access the published site content site for `www.fabrikam.com`.</span></span>

## <a name="traffic-forwarding-in-production"></a><span data-ttu-id="6987d-157">Пересылка трафика в производственной среде</span><span class="sxs-lookup"><span data-stu-id="6987d-157">Traffic forwarding in production</span></span>

<span data-ttu-id="6987d-158">Можно смоделировать несколько доменов, используя параметры строки запроса домена для самой конечной точки commerce.dynamics.com.</span><span class="sxs-lookup"><span data-stu-id="6987d-158">You can simulate multiple domains using domain query string parameters on the commerce.dynamics.com endpoint itself.</span></span> <span data-ttu-id="6987d-159">Но если необходимо перейти к эксплуатации в производстве, необходимо переадресовать трафик для пользовательского домена на конечную точку `<e-Commerce tenant name>.commerce.dynamics.com`.</span><span class="sxs-lookup"><span data-stu-id="6987d-159">But when you need to go live in production, you must forward the traffic for your custom domain to the `<e-Commerce tenant name>.commerce.dynamics.com` endpoint.</span></span>

<span data-ttu-id="6987d-160">Конечная точка `<e-Commerce tenant name>.commerce.dynamics.com` не поддерживает пользовательские домены SSL, поэтому необходимо настроить пользовательские домены с помощью службы точки входа или сети доставки содержимого (CDN).</span><span class="sxs-lookup"><span data-stu-id="6987d-160">The `<e-Commerce tenant name>.commerce.dynamics.com` endpoint does not support custom domain Secure Sockets Layers (SSLs), so you must set up custom domains using a front door service or content delivery network (CDN).</span></span> 

<span data-ttu-id="6987d-161">Для настройки пользовательских доменов с помощью службы точки входа или сети CDN существует две возможности:</span><span class="sxs-lookup"><span data-stu-id="6987d-161">To set up custom domains using a front door service or CDN, you have two options:</span></span>

- <span data-ttu-id="6987d-162">Настройте службу точки входа, например, Azure Front Door для обработки клиентского трафика и подключения к среде Commerce.</span><span class="sxs-lookup"><span data-stu-id="6987d-162">Set up a front door service like Azure Front Door to handle front-end traffic and connect to your Commerce environment.</span></span> <span data-ttu-id="6987d-163">Это обеспечивает больший контроль над доменом и управлением сертификатами и более детализированные политики безопасности.</span><span class="sxs-lookup"><span data-stu-id="6987d-163">This provides greater control over domain and certificate management and more granular security policies.</span></span>
- <span data-ttu-id="6987d-164">Используйте экземпляр Azure Front Door, поставляемый в Commerce.</span><span class="sxs-lookup"><span data-stu-id="6987d-164">Use the Commerce-supplied Azure Front Door instance.</span></span> <span data-ttu-id="6987d-165">Для этого требуется координирование действий с рабочей группой Dynamics 365 Commerce для проверки доменов и получения сертификатов SSL для производственного домена.</span><span class="sxs-lookup"><span data-stu-id="6987d-165">This requires coordinating action with the Dynamics 365 Commerce team for domain verification and obtaining SSL certificates for your production domain.</span></span>

<span data-ttu-id="6987d-166">Сведения о непосредственной настройке службы CDN см. в разделе [Добавление поддержки сети доставки содержимого (CDN)](add-cdn-support.md).</span><span class="sxs-lookup"><span data-stu-id="6987d-166">For information about how to set up a CDN service directly, see [Add support for a content delivery network (CDN)](add-cdn-support.md).</span></span>

<span data-ttu-id="6987d-167">Чтобы использовать экземпляр службы Azure Front Door, поставляемый Commerce, необходимо создать запрос на обслуживание для помощи в настройке CDN со стороны рабочей группы с помощью команды подключения Commerce.</span><span class="sxs-lookup"><span data-stu-id="6987d-167">To use the Commerce-supplied Azure Front Door instance, you must create a service request for CDN setup assistance from the Commerce onboarding team.</span></span> 

- <span data-ttu-id="6987d-168">Необходимо указать название компании, производственный домен, идентификатор среды и наименование производственного клиента электронной коммерции.</span><span class="sxs-lookup"><span data-stu-id="6987d-168">You will need to provide your company name, the production domain, environment ID, and production e-Commerce tenant name.</span></span> 
- <span data-ttu-id="6987d-169">Необходимо подтвердить, что это существующий домен (используемый для активного в данный момент сайта) или новый домен.</span><span class="sxs-lookup"><span data-stu-id="6987d-169">You will need to confirm if this is an existing domain (used for a currently active site) or a new domain.</span></span> 
- <span data-ttu-id="6987d-170">Для нового домена проверка домена и SSL-сертификат могут быть выполнены за один шаг.</span><span class="sxs-lookup"><span data-stu-id="6987d-170">For a new domain, the domain verification and SSL certificate can be achieved in a single step.</span></span> 
- <span data-ttu-id="6987d-171">Для домена, обслуживающего существующий веб-сайт, существует многошаговый процесс, необходимый для выполнения проверки домена и получения SSL-сертификата.</span><span class="sxs-lookup"><span data-stu-id="6987d-171">For a domain serving an existing website, there is a multistep process required to establish the domain verification and SSL certificate.</span></span> <span data-ttu-id="6987d-172">Этот процесс имеет соглашение об уровне обслуживания (SLA) на 7 рабочих дней для ввода домена в действие, поскольку он включает несколько последовательных шагов.</span><span class="sxs-lookup"><span data-stu-id="6987d-172">This process has a 7-working-day service level agreement (SLA) for a domain to go live, because it includes multiple sequential steps.</span></span>

<span data-ttu-id="6987d-173">Чтобы создать запрос на обслуживание в LCS, в вашей среде перейдите к пункту **Поддержка \> Проблемы поддержки** и выберите **Отправить инцидент**.</span><span class="sxs-lookup"><span data-stu-id="6987d-173">To create a service request in LCS, within your environment go to **Support \> Support issues** and select **Submit an incident**.</span></span>

> [!NOTE]
> <span data-ttu-id="6987d-174">Пользовательские домены с SSL поддерживаются только в производственных средах.</span><span class="sxs-lookup"><span data-stu-id="6987d-174">Custom domains with SSL are only supported on production environments.</span></span> <span data-ttu-id="6987d-175">Для непроизводственных сред, таких как "песочница" и пользовательское приемочное тестирование (UAT), используйте созданный Commerce URL-адрес для доступа к опубликованному содержимому в веб-браузере.</span><span class="sxs-lookup"><span data-stu-id="6987d-175">For non-production environments such as sandbox and user acceptance testing (UAT), use the Commerce-generated URL to access published content in a web browser.</span></span>

## <a name="ssl-certificate-process"></a><span data-ttu-id="6987d-176">Процесс получения SSL-сертификата</span><span class="sxs-lookup"><span data-stu-id="6987d-176">SSL certificate process</span></span>

<span data-ttu-id="6987d-177">Когда подается запрос на обслуживание, рабочая группа Commerce будет координировать следующие шаги с вами.</span><span class="sxs-lookup"><span data-stu-id="6987d-177">When a service request is filed, the Commerce team will coordinate the following steps with you.</span></span>

<span data-ttu-id="6987d-178">Для новых доменов:</span><span class="sxs-lookup"><span data-stu-id="6987d-178">For new domains:</span></span>
- <span data-ttu-id="6987d-179">Рабочая группа Commerce настроит экземпляр службы Azure Front Door (размещаемый в Commerce).</span><span class="sxs-lookup"><span data-stu-id="6987d-179">The Commerce team will set up the Azure Front Door instance (Commerce-hosted).</span></span>
- <span data-ttu-id="6987d-180">Затем рабочая группа Commerce предоставит запись CNAME для указания вашего пользовательского домена.</span><span class="sxs-lookup"><span data-stu-id="6987d-180">The Commerce team will then provide the CNAME record to point your custom domain.</span></span>
- <span data-ttu-id="6987d-181">После обновления записи CNAME экземпляр службы Azure Front Door, размещенный в Commerce, сможет проверить владельца домена и получить сертификат SSL.</span><span class="sxs-lookup"><span data-stu-id="6987d-181">After the CNAME record is updated, the Commerce-hosted Azure Front Door instance will be able to verify the domain ownership and get the SSL certificate.</span></span>

<span data-ttu-id="6987d-182">Для существующих или активных доменов:</span><span class="sxs-lookup"><span data-stu-id="6987d-182">For existing/active domains:</span></span>
- <span data-ttu-id="6987d-183">Рабочая группа Commerce поможет вам добавить запись CNAME `afdverify.<custom-domain>` для предоставления поставщику DNS вашего домена.</span><span class="sxs-lookup"><span data-stu-id="6987d-183">The Commerce team will instruct you to add an `afdverify.<custom-domain>` CNAME record to provide to your domain DNS provider.</span></span>
- <span data-ttu-id="6987d-184">По завершении рабочая группа Commerce добавит домен в экземпляр службы Azure Front Door и предоставит дополнительные записи DNS TXT для добавления в DNS для этого домена.</span><span class="sxs-lookup"><span data-stu-id="6987d-184">When complete, the Commerce team will add the domain to the Azure Front Door instance and provide additional DNS TXT records to be added to the DNS for the domain.</span></span>
- <span data-ttu-id="6987d-185">После заполнения записей TXT рабочая группа Commerce выполнит обновления службы Azure Front Door для домена, в результате чего будет настроен SSL-сертификат.</span><span class="sxs-lookup"><span data-stu-id="6987d-185">After the TXT records are completed, the Commerce team will complete the Azure Front Door updates for the domain that will set up the SSL certificate.</span></span>

## <a name="apex-domains"></a><span data-ttu-id="6987d-186">Вершинные домены</span><span class="sxs-lookup"><span data-stu-id="6987d-186">Apex domains</span></span>

<span data-ttu-id="6987d-187">Предоставленный Commerce экземпляр службы Azure Front Door не поддерживает вершинные домены Апекс (корневые домены, не содержащие вложенных доменов).</span><span class="sxs-lookup"><span data-stu-id="6987d-187">The Commerce-supplied Azure Front Door instance does not support apex domains (root domains that do not contain subdomains).</span></span> <span data-ttu-id="6987d-188">Вершинным доменам требуется IP-адрес для разрешения, а экземпляр Commerce службы Azure Front Door существует только с виртуальными конечными точками.</span><span class="sxs-lookup"><span data-stu-id="6987d-188">Apex domains require an IP address to resolve, and the Commerce Azure Front Door instance exists with virtual endpoints only.</span></span> <span data-ttu-id="6987d-189">Для использования вершинного домена имеются две возможности:</span><span class="sxs-lookup"><span data-stu-id="6987d-189">To use an apex domain, you have two options:</span></span>

- <span data-ttu-id="6987d-190">**Вариант 1** — используйте поставщика DNS для перенаправления вершинного домена в домен "www".</span><span class="sxs-lookup"><span data-stu-id="6987d-190">**Option 1** - Use your DNS provider to redirect the apex domain to a "www" domain.</span></span> <span data-ttu-id="6987d-191">Например, fabrikam.com перенаправляет на `www.fabrikam.com`, где `www.fabrikam.com` — это запись CNAME, указывающая на экземпляр Azure Front Door, размещенной в Commerce.</span><span class="sxs-lookup"><span data-stu-id="6987d-191">For example, fabrikam.com redirects to `www.fabrikam.com` where `www.fabrikam.com` is the CNAME record that points to the Commerce-hosted Azure Front Door instance.</span></span>

- <span data-ttu-id="6987d-192">**Вариант 2** — настройте свой собственный экземпляр CDN/точки входа для размещения вершинного домена.</span><span class="sxs-lookup"><span data-stu-id="6987d-192">**Option 2** - Set up a CDN/front door instance on your own to host the apex domain.</span></span>

> [!NOTE]
> <span data-ttu-id="6987d-193">Если используется служба Azure Front Door, необходимо также настроить DNS-сервер Azure в этой же подписке.</span><span class="sxs-lookup"><span data-stu-id="6987d-193">If you are using Azure Front Door, you must also set up an Azure DNS in the same subscription.</span></span> <span data-ttu-id="6987d-194">Вершинный домен, размещенный в Azure DNS, может указывать на службу Azure Front Door в качестве записи-псевдонима.</span><span class="sxs-lookup"><span data-stu-id="6987d-194">The apex domain hosted on Azure DNS can point to your Azure Front Door as an alias record.</span></span> <span data-ttu-id="6987d-195">Это единственный обходной путь, так как вершинные домены должны всегда указывать на IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="6987d-195">This is the only work around, as apex domains must always point to an IP address.</span></span>

  ## <a name="additional-resources"></a><span data-ttu-id="6987d-196">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="6987d-196">Additional resources</span></span>

  [<span data-ttu-id="6987d-197">Развертывание нового сайта электронной коммерции</span><span class="sxs-lookup"><span data-stu-id="6987d-197">Deploy a new e-Commerce site</span></span>](deploy-ecommerce-site.md)

  [<span data-ttu-id="6987d-198">Настройка канала интернет-магазина</span><span class="sxs-lookup"><span data-stu-id="6987d-198">Set up an online store channel</span></span>](online-stores.md)

  [<span data-ttu-id="6987d-199">Создание сайта электронной коммерции</span><span class="sxs-lookup"><span data-stu-id="6987d-199">Create an e-Commerce site</span></span>](create-ecommerce-site.md)

  [<span data-ttu-id="6987d-200">Связывание веб-сайта с каналом</span><span class="sxs-lookup"><span data-stu-id="6987d-200">Associate an online site with a channel</span></span>](associate-site-online-store.md)

  [<span data-ttu-id="6987d-201">Управление файлами robots.txt</span><span class="sxs-lookup"><span data-stu-id="6987d-201">Manage robots.txt files</span></span>](manage-robots-txt-files.md)

  [<span data-ttu-id="6987d-202">Пакетная отправка перенаправлений URL-адресов</span><span class="sxs-lookup"><span data-stu-id="6987d-202">Upload URL redirects in bulk</span></span>](upload-bulk-redirects.md)

  [<span data-ttu-id="6987d-203">Настройка клиента B2C в Commerce</span><span class="sxs-lookup"><span data-stu-id="6987d-203">Set up a B2C tenant in Commerce</span></span>](set-up-B2C-tenant.md)

  [<span data-ttu-id="6987d-204">Настройка специальных страниц для входа пользователей</span><span class="sxs-lookup"><span data-stu-id="6987d-204">Set up custom pages for user logins</span></span>](custom-pages-user-logins.md)

  [<span data-ttu-id="6987d-205">Настройка нескольких клиентов B2C в среде Commerce</span><span class="sxs-lookup"><span data-stu-id="6987d-205">Configure multiple B2C tenants in a Commerce environment</span></span>](configure-multi-B2C-tenants.md)

  [<span data-ttu-id="6987d-206">Добавление поддержки сети доставки контента (CDN)</span><span class="sxs-lookup"><span data-stu-id="6987d-206">Add support for a content delivery network (CDN)</span></span>](add-cdn-support.md)

  [<span data-ttu-id="6987d-207">Включение обнаружения магазинов на основе местоположения</span><span class="sxs-lookup"><span data-stu-id="6987d-207">Enable location-based store detection</span></span>](enable-store-detection.md)
