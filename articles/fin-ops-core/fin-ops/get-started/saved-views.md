---
title: Сохраненные представления
description: В этом разделе описывается, как использовать функции сохраненных представлений.
author: jasongre
manager: AnnBe
ms.date: 03/02/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: DefaultDashboard
audience: Application User, IT Pro
ms.reviewer: sericks
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: jasongre
ms.search.validFrom: 2019-07-31
ms.dyn365.ops.version: Platform update 28
ms.openlocfilehash: c6a5880c6ae9470dbf7986f39798ec888d0c22ea
ms.sourcegitcommit: 1789a78de1cbeac19d96767812df653a191c67e9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2020
ms.locfileid: "3100316"
---
# <a name="saved-views"></a>Сохраненные представления

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

## <a name="introduction"></a>Введение
Персонализация играет важную роль в предоставлении пользователям и организациям возможности оптимизации работы пользователей в соответствии с их потребностями. Дополнительные сведения о персонализации см. в разделе [Персонализация работы пользователя](personalize-user-experience.md).

При использовании традиционной персонализации у пользователей может быть только один набор личных настроек для каждой формы. Сохраненные представления расширяют личные настройки несколькими важными способами:

-    Представления позволяют пользователям иметь несколько именованных наборов личных настроек в форме, между которыми можно быстро переключаться по мере необходимости. Это позволяет пользователю создавать несколько оптимизированных представлений страницы, где каждое из представлений приспособлено под потребности выполнения определенной бизнес-задачи. 

-    Представления, созданные для конкретных типов страниц, также могут включать фильтры или сортировки, добавленные пользователем, что позволяет пользователям быстро вернуться к часто фильтруемым наборам данных. Дополнительные сведения см. в разделе [Какие страницы поддерживают представления](saved-views.md#what-pages-support-views). 

-    Представления могут быть опубликованы для пользователей с указанными ролями безопасности и с указанными юридическими лицами. Таким образом, любой пользователь, имеющий указанную роль и доступ в указанном юридическом лице, может получить доступ к этому представлению и использовать его, даже если этот пользователь не может его персонализировать. Эта возможность публикации позволяет организациям определять корпоративные стандартные представления, оптимизированные для их бизнеса. Дополнительные сведения см. в разделе [Управление персонализациями на уровне организации с помощью представлений](saved-views.md#managing-personalizations-at-an-organizational-level-with-views).

-    В отличие от традиционных личных настроек, представления не сохраняются автоматически, когда пользователь выполняет явную персонализацию или фильтрует список. Явные сохранения необходимы для обеспечения гибкости при создании представления до или после внесения изменений, связанных с этим представлением, и для исключения непреднамеренного изменения определений представлений с помощью фильтров или личных настроек, которые не предназначены для долгосрочного использования.  

-    Представления могут быть добавлены в рабочие области в виде плиток, списков или ссылок. Таким образом, набор отфильтрованных данных может отображаться в рабочей области, и пользователи могут связать набор персонализаций, которые соответствуют этому набору данных с помощью плитки или ссылки.

## <a name="switching-between-views"></a>Переключение между представлениями
После включения представлений для среды любая страница, поддерживающая представления, будет содержать свернутый элемент управления селектора представления в верхней части формы, в котором отображается имя текущего представления.  

Селектор представлений имеет два варианта размера: 

-   **Крупные селекторы представлений:** страницы, выразительно представляющие список, будут иметь больший селектор выбор представления по нескольким причинам. Что более важно, больший селектор представления показывает страницы, в которых представление может включать определяемые пользователем фильтры. Так как в представления включены фильтры, больший размер селектора также гарантируется, так как имена представлений часто являются наилучшим описанием данных, отображаемых на экране, и ожидается, что пользователи будут чаще переключаться между представлениями на этих типах страниц.  
 
-   **Небольшие селекторы представлений:** Все другие формы полных страниц (за исключением рабочих областей и панели мониторинга) имеют более мелкий селектор представлений, который отображается рядом с заголовком страницы. Представления на этих страницах включают только личные настройки (но не определяемые пользователем фильтры). На этих страницах часто наиболее важными сведениями в верхней части формы является подпись или заголовок записи формы. Меньший размер также отражает меньшую ожидаемую частоту переключения представлений на этих страницах. 
 
Если щелкнуть имя представления, откроется селектор представления, в котором будет отображен список доступных представлений для этой страницы

-    **Стандартное представление**: **стандартное** представление (ранее известное как **классическое** представление) — это готовое представление страницы, при котором не применяются явные персонализации.
-    **Персональные представления**: представления без замка представляют личные представления пользователя. Это представления, которые были созданы пользователем или были представлены администратором.  
-    **Заблокированные представления**: некоторые представления рядом (например, **стандартные** представления, и любые представления, опубликованные для вашей роли) имеют символ замка рядом с ними в селекторе представлений. Этот символ указывает на то, что вы не можете редактировать эти представления. Однако неявные персонализации, которые отображают использование страницы, автоматически сохраняются. Эти неявные персонализации включают изменение ширины столбца сетки или развертывание или сворачивание экспресс-вкладки. Однако, если имеются привилегии персонализации, можно использовать действие **Сохранить как**, чтобы создать личное представление, основанное на заблокированном представлении.
-    **Новые представления**: опубликованные представления, которые еще не были открыты, выделяются символом искры с левой стороны имени представления.  

Чтобы перейти к другому представлению, сначала откройте селектор представлений, затем выберите представление, которое требуется загрузить. 

## <a name="creating-and-modifying-views"></a>Создание и изменение представлений
В отличие от традиционных личных настроек, представления не сохраняются автоматически, когда пользователь выполняет явную персонализацию (или фильтрует список). Чтобы сохранить эти изменения в представлении, необходимо выполнить явное действие. Это обеспечивает гибкость при создании представления до или после внесения изменений, связанных с этим представлением, и также исключает непреднамеренное изменение определений представлений с помощью однократных фильтров или личных настроек. Обратите внимание, что неявная персонализация (например разворачивание или сворачивание экспресс-вкладки или изменение ширины столбца сетки) автоматически сохраняется в текущем представлении, даже для заблокированных представлений. 

Чтобы убедиться в том, что текущее состояние представления известно, при начале внесения изменений в представление путем выполнения явной настройки или фильтрации рядом с текущим именем представления появится звездочка, указывающая на то, что вы видите несохраненную, измененную версию этого представления.

Если требуется сохранить эти изменения, выполните следующие действия.
1.  Выберите имя представления, чтобы открыть селектор представления.
2.  Чтобы изменить существующее представление:
     1. Нажмите **Сохранить**. Обратите внимание, что это действие не будет разрешено для заблокированных представлений. 
3.  Чтобы создать новое представление:
     1.    Нажмите **Сохранить как**. 
     2.    Введите имя представления и (необязательно) описание.
     3.    Нажмите **Сохранить**.

## <a name="changing-the-default-view"></a>Изменение представления по умолчанию
Представление по умолчанию — это представление, которое система будет пытаться открыть при первом переходе к странице. Следует задать для этого представление, которое планируется использовать чаще всего.  

Чтобы изменить представление по умолчанию для страницы, выполните следующие шаги: 
1.  Переключитесь в представление, используемое по умолчанию. 
2.  Выберите имя представления, чтобы открыть селектор представления. 
3.  Выберите **Дополнительно**, затем **Закрепить по умолчанию**.  

Можно также при создании нового представления (с помощью действия **Сохранить как**) сделать это новое представление представлением по умолчанию, задав **Закрепить по умолчанию** перед сохранением.

Обратите внимание, что в некоторых случаях запрос, связанный с представлением по умолчанию, не выполняется при первом переходе на страницу. Например, при переходе с плитки к странице запрос плитки будет выполняться независимо от запроса, связанного с представлением по умолчанию. Кроме того, при переходе к странице со стандартным представлением, которое уже имеет определенный запрос, исходный запрос будет выполнен вместо запроса представления по умолчанию. Когда это происходит, вы будете оповещены информационным сообщением при загрузке представления. Переключение представлений после загрузки страницы должно позволить выполнить запрос представления так, как ожидалось. Начиная с версии 10.0.10 с обновлением платформы Platform update 34, информационное сообщение будет иметь встроенное действие, позволяющее загрузить запрос представления по умолчанию непосредственно.

## <a name="managing-personal-views"></a>Управление личными представлениями 
В диалоговом окне **Управление моими представлениями** предоставляются основные возможности по обслуживанию личных представлений и порядка отображения в селекторе представления. Чтобы открыть эту страницу, щелкните имя представления, чтобы открыть раскрывающееся меню селектора представления, выберите пункт **Дополнительно**, затем выберите **Управление моими представлениями**.  

Для списка доступных представлений для этой страницы доступен следующий наборов действий.  
-    **Изменение представления по умолчанию**: используйте действие **Закрепить по умолчанию**, чтобы сделать текущее выделенное представление представлением по умолчанию для данной страницы.  
-    **Изменить порядок представлений**: используйте действия **Вверх** и **Вниз**, чтобы изменить порядок представлений на конкретный порядок.  
-    **Переименовать представление**: для изменения имени выбранного в данный момент личного представления воспользуйтесь действием **Переименовать**. Это действие отключено для заблокированных представлений. 
-    **Удаление представления**: используйте действие **Удалить**, чтобы удалить текущее выбранное представление со страницы без возможности восстановления. Невозможно восстановить представление после его удаления.  

Любые изменения, сделанные в этом диалоговом окне, вступят в силу после выбора кнопки **Сохранить**.

## <a name="managing-personalizations-at-an-organizational-level-with-views"></a>Управление персонализациями на уровне организации с помощью представлений
Чтобы помочь понять, как сохраненные представления помогают улучшить управление персонализациями на организационном уровне, в этом разделе описываются некоторые различия в управлении персонализацией с функцией сохранения представлений и без сохранения.

Без представлений администраторы применяют набор личных настроек для страницы к пользователю или группе пользователей через страницу «Персонализация». Если у этих пользователей имеются права персонализации, персонализации будут применены к этой странице. Однако невозможно было запретить пользователям дальнейшую персонализацию страницы, что означает, что организация не может гарантировать, что у пользователей будет согласованный пользовательский интерфейс. Если какой-либо из этих пользователей не имеет прав персонализации, персонализации, присвоенные им администратором, не были загружены. Более того, если новые пользователи были приняты в организацию, администраторам необходимо вручную загрузить набор персонализаций для пользователя. Не было автоматического механизма указания определенного набора личных настроек должен быть доступен пользователям с такой ролью.

Функция сохраненных представлений значительно упрощает организационное управление персонализациями, главным образом из-за возможности публикации для групп пользователей. После публикации представления любой пользователь, имеющий одну из определенных ролей безопасности и доступ к одному из указанных юридических лиц, сможет просматривать представление и использовать это представление, даже если этот пользователь не может его персонализировать. Хотя у каждого пользователя есть копия опубликованного представления, в которой использование страницы (неявные персонализации) применяется автоматически, ни один пользователь не может сохранить явные персонализации или обновления запроса в опубликованном представлении. Другими словами, опубликованные представления блокируются. Кроме того, если новые пользователи получают роли в юридических лицах, в которых были опубликованы представления, они будут автоматически просматривать представления, связанные с их ролями и юридическими лицами. Администратору не потребуется предпринимать никаких дополнительных действий. Аналогичным образом, если пользователи изменяют роли в организации или получают доступ к разным юридическим лицам, они могут больше не иметь доступа к представлениям, которые ранее были опубликованы в них. И снова, администратору не потребуется предпринимать никаких дополнительных действий.

Обновления опубликованного представления могут быть легко распределены пользователям путем повторной публикации представления для соответствующих ролей безопасности и юридических лиц.

Возможность публикации позволяет организациям определять корпоративные стандартные представления, оптимизированные для их бизнеса и предназначенные для пользователей с конкретными ролями безопасности.  

## <a name="publishing-views"></a>Публикация представлений
Во время процесса публикации представления могут быть назначены одной или нескольким ролям безопасности для одного или нескольких юридических лиц. Таким образом, любой пользователь, имеющий доступ к юридическому лицу и назначенный одной из этих ролей, может получать доступ и использовать эти представления, но они не могут редактировать их. Системные администраторы имеют доступ к действию **Опубликовать** в раскрывающемся меню селектора представления. Однако другим доверенным пользователям организации также может быть предоставлен доступ к публикации с помощью новой роли **Администратора сохраненных представлений**.

Чтобы опубликовать представление, выполните следующие действия: 
1.  Создайте и сохраните личную копию представления, которое необходимо опубликовать. 
2.  Когда текущее представление загружено, выберите имя представления, чтобы открыть раскрывающееся меню селектора представления. 
3.  Выберите кнопку **Дополнительно**, затем выберите **Опубликовать**. Откроется диалоговое окно публикации.  
4.  Введите имя и (необязательно) описание представления. Имя, которое вы ввели, это имя, которое пользователи, получающие это представление, увидят в селекторах представлений. Имена опубликованных представлений для страницы должны быть уникальными. Не допускаются повторяющиеся имена, даже если список ролей или юридических лиц, к которым применяются представления, отличается.
5.  Добавьте роли безопасности, соответствующие пользователям, которые получат это представление.
6. Добавление юридических лиц, для которых это представление должно быть доступно. 
7. [10.0.9/обновление платформы Platform update 33 или более поздняя версия] Определите, должно ли данное представление публиковаться в качестве представления по умолчанию для выбранных пользователей. Создание представления по умолчанию означает, что его будут просматривать пользователи при следующем открытии целевой страницы. Это приведет к изменению представления по умолчанию для этих пользователей; однако пользователи все же могут изменить представление по умолчанию после публикации.    
8.  Выберите **Опубликовать**.

Обратите внимание, что в некоторых средах пользователи опубликованного представления смогут увидеть его только через некоторое время (до часа)

## <a name="modifying-a-published-view"></a>Изменение опубликованного представления
После публикации представления можно обнаружить, что требуется внести изменения в опубликованное представление. Хотя динамические изменения не могут быть внесены в опубликованное представление, так как эти представления заблокированы для редактирования для всех пользователей (включая издателей), можно повторно опубликовать представление, чтобы выполнить обновления.  

Если изменения, которые необходимо внести в опубликованное представление, включают только параметры публикации (имя и описание представления или роли безопасности, для которых публикуется представление), выполните следующие действия: 
1.  Перейдите к опубликованному представлению для параметров, которые необходимо обновить. 
2.  Выберите **Опубликовать** из раскрывающегося меню селектора представлений. 
3.  Выберите **Да**, если необходимо обновить существующее представление (или **Нет**, если вы хотите опубликовать его под другим именем).
4.  Обновите имя, описание и/или роли безопасности для представления. 
5.  Выберите **Опубликовать**. 
6.  [10.0.8/обновление платформы Platform update 32 или раньше] При обновлении имени опубликованного представления также необходимо удалить опубликованное представление со старым именем (дополнительные сведения см. в разделе **Управление опубликованными представлениями**). 
7. [10.0.9/обновление платформы Platform update 33 или более поздняя версия] Если изначально это представление было выбрано как представление по умолчанию, оно будет отображаться как представление по умолчанию для этих пользователей после повторной публикации.  

Если изменения, внесенные в опубликованное представление, требуют изменения персонализаций или фильтров, связанных с данным представлением, выполните следующие действия: 
1.  Перейдите к опубликованному представлению, которое необходимо изменить. 
2.  Сохраните копию опубликованного представления, чтобы создать локальный черновик опубликованного представления. 
3.  Измените локальный черновик, внеся необходимые изменения.
4.  Опубликуйте представление с исходным именем. 

## <a name="managing-published-views"></a>Управление опубликованными представлениями
Аналогично управлению личными представлениями, диалоговое окно **Управление моими представлениями** предоставляет пользователям с привилегиями публикации основные возможности по обслуживанию опубликованных представлений этой страницы (в дополнение к собственным личным представлениям). Чтобы открыть эту страницу, выберите имя представления, чтобы открыть раскрывающееся меню селектора представления, выберите пункт **Дополнительно**, затем выберите **Управление моими представлениями**.

Хотя все пользователи видят свои личные представления на вкладке **Мои представления**, пользователи, имеющие привилегии публикации, также увидят вкладку **Опубликовано**, на которой отображаются все опубликованные представления для этой страницы. Поскольку несколько пользователей могут публиковать представления, важно иметь возможность управлять полным списком опубликованных представлений, независимо от того, кто именно опубликовал представление.

Для списка всех опубликованных представлений для страницы доступен следующий наборов действий. 

-    **Опубликовать**: используйте действие **Опубликовать**, чтобы повторно опубликовать представление с измененными параметрами публикации (имя, описание, роли безопасности или юридические лица).
-    **Удалить**: воспользуйтесь действием **Удалить**, чтобы удалить опубликованное представление без возможности восстановления. Это действие удаляет представление для всех пользователей в системе. Удаление опубликованных представлений вступит в силу после того, как будет выбрана кнопка **Сохранить**.

## <a name="frequently-asked-questions"></a>Вопросы и ответы
### <a name="how-do-i-enable-saved-views-in-my-environment"></a>Как включить сохраненные представления в моей среде? 
Примечание. Функция **Сохраненные представления** должна быть включена в системе персонализации в Finance and Operations. Если персонализация для всей среды отключена, представления будут отключены даже при выполнении указанных ниже шагов. 

**10.0.9 / обновление платформы 33 и более поздняя версия** Функция **Сохраненные представления** доступна непосредственно в управлении функциями в любой среде. Как и другие общие функции предварительного просмотра, включение этой функции в производство осуществляется в рамках [Дополнительные условия договора об использовании](https://go.microsoft.com/fwlink/?linkid=2105274).  

**10.0.8 / обновление платформы 32** Функция **Сохраненные представления** может быть включена в средах уровня 1 (разработка/тестирование) и 2 (песочница) для обеспечения дополнительной проверки и изменения структуры с помощью описанных ниже шагов.

1.  **Включить рейс**: Выполните следующий оператор SQL: 

    `INSERT INTO SYSFLIGHTING (FLIGHTNAME, enabled, FLIGHTSERVICEID, PARTITION) VALUES('CLISavedViewsEnableFeature', 1, 0, 5637144576);`

2. **Сброс IIS** для очистки кэша статического фокус-тестирования. 

3.  **Найти функцию**: перейдите к рабочей области **Управление функциями**. Если **Сохраненные представления** не отображаются в списке, выберите **Проверить наличие обновлений**.   

4.  **Включить функцию**: найдите функцию **Сохраненные представления** в списке функций, и выберите **Включить сейчас** в области сведений.

Все последующие сеансы пользователя начнутся с включенных сохраненных представлений.


### <a name="what-happens-to-existing-personalizations-when-views-are-enabled"></a>Что происходит с существующими персонализациями при включении представлений? 
При включении представлений все существующие личные настройки для пользователя и формы сохраняются в новом представлении под названием **Мое представление**, которое автоматически устанавливается в качестве представления по умолчанию. Это необходимо, чтобы обеспечить согласованность пользовательского взаимодействия до и после включения представлений, за исключением того, что в формах отображается элемент управления селектора представления.  

### <a name="what-pages-support-views"></a>Какие страницы поддерживают представления? 
Представления доступны на большинстве страниц, но не на всех страницах. В частности, представления в настоящее время доступны на всех полноэкранных страницах, за исключением панелей мониторинга и рабочих областей. Страницы не во весь экран, которые включают в себя диалоговые окна, раскрывающиеся диалоговые окна, подстановки, расширенные просмотры, в настоящее время не поддерживают представления. Поддержка представлений для дополнительных типов страниц, таких как рабочие области и диалоговые окна, может быть рассмотрена для будущих обновлений.   

### <a name="who-is-allowed-to-publish-views"></a>Кому разрешено публиковать представления?
Только системные администраторы и пользователи с назначенной ролью **администратора сохраненных представлений**, имеют право публиковать представления. 

### <a name="why-am-i-not-able-to-save-filters-with-this-view"></a>Почему я не могу сохранить фильтры с этим представлением? 
Существуют несколько причин, по которым фильтр не будет сохраняться вместе с представлением: 

- Страница может не поддерживать сохранение фильтров как части определения представления. Обратите внимание, что только страницы с большими селекторами представлений позволяют сохранять персонализации и изменения запросов в виде представления. Дополнительные сведения см. в разделе **Переключение представлений**. 

- Страница, о которой идет речь, может не поддерживать должным образом представления, так как она может полностью игнорировать запрос представления или работать на временной таблице, данные которой не являются постоянными. 

### <a name="what-data-will-i-see-when-i-visit-a-page"></a>Какие данные я вижу при посещении страницы? 
Для страниц с небольшими селекторами представлений (только персонализации могут быть сохранены в представлении) будут отображены те же данные, что и обычно при посещении страницы. 

Для страниц с большими селекторами представлений (персонализации и запросы могут быть сохранены в представлении) в первую очередь будут отображены данные, связанные с запросом, связанным с представлением по умолчанию. Есть два больших исключения: в случае перехода к странице с плитки запрос плитки будет выполняться независимо от запроса, связанного с представлением по умолчанию. Если создать плитку после включения представлений, при выборе плитки будет открыта страница с представлением, связанным с этой плиткой.   
     - В случае перехода к странице, точка входа которой включает запрос, исходный запрос будет выполнен изначально вместо запроса представления по умолчанию. Когда это происходит, вы будете оповещены информационным сообщением при загрузке представления. Можно также подтвердить, перейдя к этому представлению после загрузки страницы, так как это позволит выполнить запрос представления независимо от других причин.  


