---
title: Пакетная обработка оповещений
description: В этой теме представлены сведения о пакетной обработке оповещений.
author: tjvass
manager: AnnBe
ms.date: 09/10/2010
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: tjvass
ms.search.validFrom: 2018-3-30
ms.dyn365.ops.version: Platform update 15
ms.openlocfilehash: d57586cb18c581e4a462d93a64a88310e251a7af
ms.sourcegitcommit: b112925c389a460a98c3401cc2c67df7091b066f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/19/2020
ms.locfileid: "4798605"
---
# <a name="batch-processing-of-alerts"></a>Пакетная обработка оповещений

[!include [banner](../includes/banner.md)]

Оповещения обрабатываются при помощи функции пакетной обработки. Необходимо настроить пакетную обработку, прежде чем обрабатывать и доставлять оповещения.

Функция пакетной обработки поддерживает события двух типов:

- События, запускаемые событиями на основе изменений. Эти события также называются событиями создания-удаления и обновления.
- События, запускаемые сроками выполнения.

Можно настроить пакетную обработку для каждого типа событий.

## <a name="batch-processing-for-change-based-events"></a>Пакетная обработка для событий на основе изменений

Система считывает все события на основе изменений, которые произошли после последней пакетной обработки. События на основе изменений включают обновления полей, удаление записей, а также создание записей. Эти события сравниваются с условиями, настроенными в правилах оповещения. Если событие соответствует условиям правила, процесс пакетной обработки создает оповещение.

### <a name="frequency-for-change-based-events"></a>Частота для событий на основе изменений

Для событий на основе изменений можно настроить пакетное задание, запускающее обработку события вскоре после того, как система зарегистрирует событие. Если настроить пакетное задание на более частое повторение, пользователи получат оповещения раньше после внесения изменений. Однако высокая частота пакетной обработки может негативно повлиять на производительность системы.

С другой стороны, пакетное задание, которое выполняется менее часто и запланировано вами на время низкой загрузки системы, может помочь улучшить производительность системы. Однако низкая частота пакетной обработки может не соответствовать требованиям пользователей по своевременному оповещению.

Таким образом, при настройке частоты пакетной обработки для событий, связанных с изменениями, необходимо позаботиться о балансе между интервалами между оповещениями и производительностью системы в целом. Чем больше число пользователей, создающих правила оповещений, тем более важны эти закономерности. Частота не влияет на количество событий, которые обрабатываются системой. Однако если большее число пользователей создает правила, процесс выполняет большее число проверок. Обмена данными такого типа может влиять на производительность системы.

#### <a name="the-risks-of-low-batch-frequency"></a>Риски при низкой частоте пакетной обработки

Настройка низкой частоты пакетной обработки на основе изменений может привести к тому, что данные, которые соответствуют условиям оповещения, могут измениться до обработки. Таким образом возможна потеря оповещений.

Например, вы создаете оповещение, которое запускается при событии **изменение контактов клиента**, если условие равно **клиент = BB**. Другими словами, если контактные данные клиента BB изменятся, процесс регистрирует это событие. Однако система пакетной обработки настроена так, что пакетная обработка будет происходить реже, чем ввод данных. Если имя клиента изменится с **BB** на **AA** раньше, чем событие будет обработано, данные в базе данных больше не будут соответствовать условию в правиле, **клиент = BB**. Следовательно, когда событие будет наконец обработано, никакое оповещение не создается.

### <a name="set-up-processing-for-change-based-alerts"></a>Настройка обработки оповещений на основе изменений

1. Выберите **Администрирование системы** &gt; **Периодические задачи** &gt; **Оповещения** &gt; **Изменение основных оповещений**.
2. В диалоговом окне **Изменение основных оповещений** введите соответствующую информацию.

## <a name="batch-processing-for-due-date-events"></a>Пакетная обработка для событий срока выполнения

Система определяет все события, причиной которых стал срок выполнения, эти события сопоставляются с условиями, настроенным в правилах оповещения. Если событие соответствует условиям правила, процесс пакетной обработки создает оповещение.

### <a name="frequency-for-due-date-events"></a>Частота для событий срока выполнения

Для событий срока выполнения может понадобиться настроить пакетные задания, которые выполняются ночью или в определенное время дня, для балансировки загрузки системы. Рекомендуется настроить пакетное задание, чтобы оно выполнялось как минимум один раз в день. Если оповещения должны отправляться как можно раньше, настройте пакетную обработку, чтобы она выполнялась сразу же после изменения даты в системе. Если необходимо создавать оповещения для событий срока выполнения, происходящих после того, как пакетное задание обработало оповещения, можно запустить пакетное задание еще раз в тот же день.

Например, пакетное задание выполнено в определенный день. Затем вы создаете заказ на покупку, для которого дата оплаты должна запустить оповещение в тот же день. Чтобы получить оповещение в тот же день, необходимо снова запустить пакетное задание после создания заказа на покупку. Однако если не запустить пакетное задание повторно в тот же день, на следующий день пакетное задание обнаружит события срока выполнения, не обработанные в предыдущие дни.

> [!NOTE]
> Даже если пакетная обработка запускается чаще, чем раз в день, оповещения не создаются дважды для одних и тех же условий и одного события срока выполнения. Оповещения создаются только для тех дат, которые стали сроками выполнения из-за изменений в системе, произошедших после выполнения последнего пакетного задания.

### <a name="batch-processing-window"></a>Окно пакетной обработки

Обработка правил оповещения в компании может быть остановлена по нескольким причинам. Эти причины включают отпуска, ошибки системы или другие проблемы, из-за которых в течение некоторого времени пакетные задания не выполняются.

Чтобы оповещения срока выполнения не устаревали, когда пакетное задание не выполняется несколько дней, можно настроить окно пакетной обработки. Окно пакетной обработки может использоваться для предотвращения выполнения пакетного задания в течение указанного количества дней.

Если настроить окно пакетной обработки, оповещение отправляется после обработки правила оповещения, даже если оповещение превышает лимит времени, определенный в критериях срока. Оповещение продолжает отправляться, если не превышен этот лимит плюс окно пакетной обработки. Однако если период превышает значение, определенное этим лимитом времени плюс окно пакетной обработки, оповещение больше не отправляется.

### <a name="set-up-processing-for-due-date-alerts"></a>Настройка обработки оповещений, связанных со сроком выполнения

1. Выберите **Администрирование системы** &gt; **Периодические задачи** &gt; **Оповещения** &gt; **Оповещения о сроке выполнения**.
2. В диалоговом окне **Оповещения о сроке выполнения** введите соответствующую информацию.
