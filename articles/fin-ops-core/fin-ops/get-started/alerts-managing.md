---
title: Пакетная обработка оповещений
description: В этой теме представлены сведения о пакетной обработке оповещений.
author: tjvass
manager: AnnBe
ms.date: 09/10/2010
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: tjvass
ms.search.validFrom: 2018-3-30
ms.dyn365.ops.version: Platform update 15
ms.openlocfilehash: 57208e87dbbd0ae6fc05644229a8a9cf08da4249
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/09/2021
ms.locfileid: "5562418"
---
# <a name="batch-processing-of-alerts"></a><span data-ttu-id="2e1ca-103">Пакетная обработка оповещений</span><span class="sxs-lookup"><span data-stu-id="2e1ca-103">Batch processing of alerts</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="2e1ca-104">Оповещения обрабатываются при помощи функции пакетной обработки.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-104">Alerts are processed by the batch processing functionality.</span></span> <span data-ttu-id="2e1ca-105">Необходимо настроить пакетную обработку, прежде чем обрабатывать и доставлять оповещения.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-105">You must set up batch processing before the process and deliver alerts.</span></span>

<span data-ttu-id="2e1ca-106">Функция пакетной обработки поддерживает события двух типов:</span><span class="sxs-lookup"><span data-stu-id="2e1ca-106">Batch processing functionality supports two types of events:</span></span>

- <span data-ttu-id="2e1ca-107">События, запускаемые событиями на основе изменений.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-107">Events triggered by change-based events.</span></span> <span data-ttu-id="2e1ca-108">Эти события также называются событиями создания-удаления и обновления.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-108">These events are also referred to as create/delete and update events.</span></span>
- <span data-ttu-id="2e1ca-109">События, запускаемые сроками выполнения.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-109">Events triggered by due dates.</span></span>

<span data-ttu-id="2e1ca-110">Можно настроить пакетную обработку для каждого типа событий.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-110">You can set up batch processes for each type of event.</span></span>

## <a name="batch-processing-for-change-based-events"></a><span data-ttu-id="2e1ca-111">Пакетная обработка для событий на основе изменений</span><span class="sxs-lookup"><span data-stu-id="2e1ca-111">Batch processing for change-based events</span></span>

<span data-ttu-id="2e1ca-112">Система считывает все события на основе изменений, которые произошли после последней пакетной обработки.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-112">The system reads all change-based events that have occurred since batch processing was last run.</span></span> <span data-ttu-id="2e1ca-113">События на основе изменений включают обновления полей, удаление записей, а также создание записей.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-113">Change-based events include updates to fields, the deletion of records, and the creation of records.</span></span> <span data-ttu-id="2e1ca-114">Эти события сравниваются с условиями, настроенными в правилах оповещения.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-114">These events are compared with the conditions that you set up in alert rules.</span></span> <span data-ttu-id="2e1ca-115">Если событие соответствует условиям правила, процесс пакетной обработки создает оповещение.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-115">When an event matches the conditions in a rule, the batch process generates an alert.</span></span>

### <a name="frequency-for-change-based-events"></a><span data-ttu-id="2e1ca-116">Частота для событий на основе изменений</span><span class="sxs-lookup"><span data-stu-id="2e1ca-116">Frequency for change-based events</span></span>

<span data-ttu-id="2e1ca-117">Для событий на основе изменений можно настроить пакетное задание, запускающее обработку события вскоре после того, как система зарегистрирует событие.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-117">For change-based events, you can set up a batch job that triggers the processing of an event soon after the system logs the event.</span></span> <span data-ttu-id="2e1ca-118">Если настроить пакетное задание на более частое повторение, пользователи получат оповещения раньше после внесения изменений.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-118">If you set up the batch job to recur more often, users receive their alerts sooner after changes occur.</span></span> <span data-ttu-id="2e1ca-119">Однако высокая частота пакетной обработки может негативно повлиять на производительность системы.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-119">However, a high frequency for batch processing might adversely affect system performance.</span></span>

<span data-ttu-id="2e1ca-120">С другой стороны, пакетное задание, которое выполняется менее часто и запланировано вами на время низкой загрузки системы, может помочь улучшить производительность системы.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-120">On the other hand, a batch job that recurs less often, and that you schedule for times when the system load is low, might help improve system performance.</span></span> <span data-ttu-id="2e1ca-121">Однако низкая частота пакетной обработки может не соответствовать требованиям пользователей по своевременному оповещению.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-121">However, a low frequency for batch processing might not meet the users' demands for timely alerts.</span></span>

<span data-ttu-id="2e1ca-122">Таким образом, при настройке частоты пакетной обработки для событий, связанных с изменениями, необходимо позаботиться о балансе между интервалами между оповещениями и производительностью системы в целом.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-122">Therefore, when you set up the frequency of batch processing for change-based events, consider the balance between the timeliness of alerts and the performance of the whole system.</span></span> <span data-ttu-id="2e1ca-123">Чем больше число пользователей, создающих правила оповещений, тем более важны эти закономерности.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-123">These considerations become more relevant as the number of users who create alert rules increases.</span></span> <span data-ttu-id="2e1ca-124">Частота не влияет на количество событий, которые обрабатываются системой.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-124">The frequency doesn't affect the number of events that the system processes.</span></span> <span data-ttu-id="2e1ca-125">Однако если большее число пользователей создает правила, процесс выполняет большее число проверок.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-125">However, if more users create rules, the process runs more checks.</span></span> <span data-ttu-id="2e1ca-126">Обмена данными такого типа может влиять на производительность системы.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-126">This type of data exchange might affect system performance.</span></span>

#### <a name="the-risks-of-low-batch-frequency"></a><span data-ttu-id="2e1ca-127">Риски при низкой частоте пакетной обработки</span><span class="sxs-lookup"><span data-stu-id="2e1ca-127">The risks of low batch frequency</span></span>

<span data-ttu-id="2e1ca-128">Настройка низкой частоты пакетной обработки на основе изменений может привести к тому, что данные, которые соответствуют условиям оповещения, могут измениться до обработки.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-128">If you set up a low frequency for batch processing for change-based events, data that is relevant to the conditions in alert rules might change before processing.</span></span> <span data-ttu-id="2e1ca-129">Таким образом возможна потеря оповещений.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-129">Therefore, you might lose alerts.</span></span>

<span data-ttu-id="2e1ca-130">Например, вы создаете оповещение, которое запускается при событии **изменение контактов клиента**, если условие равно **клиент = BB**.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-130">For example, you create an alert to trigger when the event is **customer contact changes** and the condition is **customer = BB**.</span></span> <span data-ttu-id="2e1ca-131">Другими словами, если контактные данные клиента BB изменятся, процесс регистрирует это событие.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-131">In other words, when the customer contact for customer BB changes, the process logs the event.</span></span> <span data-ttu-id="2e1ca-132">Однако система пакетной обработки настроена так, что пакетная обработка будет происходить реже, чем ввод данных.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-132">However, the batch processing system is set up so that batch processing occurs less often than data entry.</span></span> <span data-ttu-id="2e1ca-133">Если имя клиента изменится с **BB** на **AA** раньше, чем событие будет обработано, данные в базе данных больше не будут соответствовать условию в правиле, **клиент = BB**.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-133">If the customer name changes from **BB** to **AA** before the event is processed, the data in the database no longer matches the condition in the rule, **customer = BB**.</span></span> <span data-ttu-id="2e1ca-134">Следовательно, когда событие будет наконец обработано, никакое оповещение не создается.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-134">Therefore, when the event is finally processed, no alert is generated.</span></span>

### <a name="set-up-processing-for-change-based-alerts"></a><span data-ttu-id="2e1ca-135">Настройка обработки оповещений на основе изменений</span><span class="sxs-lookup"><span data-stu-id="2e1ca-135">Set up processing for change-based alerts</span></span>

1. <span data-ttu-id="2e1ca-136">Выберите **Администрирование системы** &gt; **Периодические задачи** &gt; **Оповещения** &gt; **Изменение основных оповещений**.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-136">Go to **System administration** &gt; **Periodic tasks** &gt; **Alerts** &gt; **Change based alerts**.</span></span>
2. <span data-ttu-id="2e1ca-137">В диалоговом окне **Изменение основных оповещений** введите соответствующую информацию.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-137">In the **Change based alerts** dialog box, enter the appropriate information.</span></span>

## <a name="batch-processing-for-due-date-events"></a><span data-ttu-id="2e1ca-138">Пакетная обработка для событий срока выполнения</span><span class="sxs-lookup"><span data-stu-id="2e1ca-138">Batch processing for due-date events</span></span>

<span data-ttu-id="2e1ca-139">Система определяет все события, причиной которых стал срок выполнения, эти события сопоставляются с условиями, настроенным в правилах оповещения.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-139">The system detects all events that are caused by due dates, and these events are compared with the conditions that are set up in alert rules.</span></span> <span data-ttu-id="2e1ca-140">Если событие соответствует условиям правила, процесс пакетной обработки создает оповещение.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-140">The batch process generates an alert when an event matches the conditions in a rule.</span></span>

### <a name="frequency-for-due-date-events"></a><span data-ttu-id="2e1ca-141">Частота для событий срока выполнения</span><span class="sxs-lookup"><span data-stu-id="2e1ca-141">Frequency for due-date events</span></span>

<span data-ttu-id="2e1ca-142">Для событий срока выполнения может понадобиться настроить пакетные задания, которые выполняются ночью или в определенное время дня, для балансировки загрузки системы.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-142">For due-date events, you might want to set up batch jobs that are run during the night or at specific times of the day, to balance the system load.</span></span> <span data-ttu-id="2e1ca-143">Рекомендуется настроить пакетное задание, чтобы оно выполнялось как минимум один раз в день.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-143">We recommend that you set up the batch job so that it's run at least one time per day.</span></span> <span data-ttu-id="2e1ca-144">Если оповещения должны отправляться как можно раньше, настройте пакетную обработку, чтобы она выполнялась сразу же после изменения даты в системе.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-144">If alerts should be sent as early as possible, set up the batch processing to occur immediately after the system date changes.</span></span> <span data-ttu-id="2e1ca-145">Если необходимо создавать оповещения для событий срока выполнения, происходящих после того, как пакетное задание обработало оповещения, можно запустить пакетное задание еще раз в тот же день.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-145">If you want to generate alerts for due-date events that occur after a batch job has already processed alerts, you can run the batch job again on the same day.</span></span>

<span data-ttu-id="2e1ca-146">Например, пакетное задание выполнено в определенный день.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-146">For example, a batch job has been run on a particular day.</span></span> <span data-ttu-id="2e1ca-147">Затем вы создаете заказ на покупку, для которого дата оплаты должна запустить оповещение в тот же день.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-147">You then create a purchase order that has a due date that should trigger an alert on that same day.</span></span> <span data-ttu-id="2e1ca-148">Чтобы получить оповещение в тот же день, необходимо снова запустить пакетное задание после создания заказа на покупку.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-148">To receive the alert on that day, you must run the batch job again after the purchase order is created.</span></span> <span data-ttu-id="2e1ca-149">Однако если не запустить пакетное задание повторно в тот же день, на следующий день пакетное задание обнаружит события срока выполнения, не обработанные в предыдущие дни.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-149">However, if you don't run the batch job again on that day, the next day's batch job detects any due-date events that weren't processed on previous days.</span></span>

> [!NOTE]
> <span data-ttu-id="2e1ca-150">Даже если пакетная обработка запускается чаще, чем раз в день, оповещения не создаются дважды для одних и тех же условий и одного события срока выполнения.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-150">Even when the batch process is run more than one time per day, alerts aren't duplicated for the same due-date event and conditions.</span></span> <span data-ttu-id="2e1ca-151">Оповещения создаются только для тех дат, которые стали сроками выполнения из-за изменений в системе, произошедших после выполнения последнего пакетного задания.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-151">Alerts are generated only for dates that have become due because of changes that occurred in the system after the last batch job was run.</span></span>

### <a name="batch-processing-window"></a><span data-ttu-id="2e1ca-152">Окно пакетной обработки</span><span class="sxs-lookup"><span data-stu-id="2e1ca-152">Batch processing window</span></span>

<span data-ttu-id="2e1ca-153">Обработка правил оповещения в компании может быть остановлена по нескольким причинам.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-153">The processing of alert rules in a company can be stopped for several reasons.</span></span> <span data-ttu-id="2e1ca-154">Эти причины включают отпуска, ошибки системы или другие проблемы, из-за которых в течение некоторого времени пакетные задания не выполняются.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-154">These reasons include vacations, system errors, or other issues that prevent the batch jobs from being run for some time.</span></span>

<span data-ttu-id="2e1ca-155">Чтобы оповещения срока выполнения не устаревали, когда пакетное задание не выполняется несколько дней, можно настроить окно пакетной обработки.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-155">To prevent due-date alerts from becoming obsolete because the batch job hasn't been run for several days, you can set up a batch processing window.</span></span> <span data-ttu-id="2e1ca-156">Окно пакетной обработки может использоваться для предотвращения выполнения пакетного задания в течение указанного количества дней.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-156">A batch processing window can be used to prevent a batch job from being run for a specified number of days.</span></span>

<span data-ttu-id="2e1ca-157">Если настроить окно пакетной обработки, оповещение отправляется после обработки правила оповещения, даже если оповещение превышает лимит времени, определенный в критериях срока.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-157">If you set up a batch processing window, an alert is sent when the alert rule is processed, even if the alert exceeds the time limit that is defined in the due-date criteria.</span></span> <span data-ttu-id="2e1ca-158">Оповещение продолжает отправляться, если не превышен этот лимит плюс окно пакетной обработки.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-158">An alert continues to be sent for as long as the period that is defined by this time limit plus the batch processing window isn't exceeded.</span></span> <span data-ttu-id="2e1ca-159">Однако если период превышает значение, определенное этим лимитом времени плюс окно пакетной обработки, оповещение больше не отправляется.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-159">However, when the period exceeds the value defined by the time limit plus the batch processing window, an alert is no longer sent.</span></span>

### <a name="set-up-processing-for-due-date-alerts"></a><span data-ttu-id="2e1ca-160">Настройка обработки оповещений, связанных со сроком выполнения</span><span class="sxs-lookup"><span data-stu-id="2e1ca-160">Set up processing for due-date alerts</span></span>

1. <span data-ttu-id="2e1ca-161">Выберите **Администрирование системы** &gt; **Периодические задачи** &gt; **Оповещения** &gt; **Оповещения о сроке выполнения**.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-161">Go to **System administration** &gt; **Periodic tasks** &gt; **Alerts** &gt; **Due date alerts**.</span></span>
2. <span data-ttu-id="2e1ca-162">В диалоговом окне **Оповещения о сроке выполнения** введите соответствующую информацию.</span><span class="sxs-lookup"><span data-stu-id="2e1ca-162">In the **Due date alerts** dialog box, enter the appropriate information.</span></span>


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]