---
title: Обзор управления функциями
description: В этой теме описывается функция управления функциями и способы ее использования.
author: Peakerbl
ms.date: 09/13/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: FeatureManagementWorkspace
audience: IT Pro, Application user
ms.reviewer: sericks
ms.custom: intro-internal
ms.search.region: Global
ms.author: peakerbl
ms.search.validFrom:
- month/year of release that feature was introduced in
- in format yyyy-mm-dd
ms.dyn365.ops.version: 10.0.2
ms.openlocfilehash: 1318093d66cfc30a04815311cce332df010d4b69
ms.sourcegitcommit: 7a2001e4d01b252f5231d94b50945fd31562b2bc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/15/2021
ms.locfileid: "7488186"
---
# <a name="feature-management-overview"></a>Обзор управления компонентами

[!include [banner](../../includes/banner.md)]

Функции добавляются и обновляются в каждом выпуске. Опыт управления функциями предоставляет рабочую область, в которой можно просматривать список функций, которые были поставлены в каждом выпуске. Затем можно использовать рабочее пространство для просмотра документации по функциям и включения или отключения функций.

## <a name="the-feature-management-workspace"></a>Рабочая область управления функциями

Рабочую область **Управление функциями** можно открыть, выбрав соответствующую плитку на панели мониторинга. Будет отображена страница со списком функций для всех выпусков, поддерживаемых опытом управления функциями. 

Список функций включает в себя следующие сведения:

- **Имя функции** — описание добавленной функции.
- **Статус** — символ указывает, включена ли функция (галочка), не была включена (пусто), была запланирована для включения (часы) или обязательно должна быть включена (замок), требует внимания, прежде чем включить (символ предупреждения), или не может быть включена (X). Указанная настройка используется для всех юридических лиц. Обратите внимание, что даже когда функция была включена, она по-прежнему управляется системой безопасности. Таким образом, эта функция будет доступна только тем пользователям, которые имеют доступ к ней, в зависимости от их роли безопасности. Она также будет доступна только в юридических лицах, к которым пользователь имеет доступ.
- **Дата включения** — это дата, когда функция была включена или запланирована для включения.
- **Функция добавлена** — дата добавления функции в среду. Эта дата автоматически вводится при обновлении среды во время ежемесячных циклов выпуска.
- **Состояние функции** — текущее состояние жизненного цикла функции: **Предварительная версия**, **Выпущена** (отображается как пустое), **Включена по умолчанию** и **Обязательная**. Эти состояния рассматриваются более подробно далее в этой теме. 
- **Модуль** — модуль, на который влияет новая функция.

> [!NOTE]
> Столбец **Состояние функции** добавлен в версии 10.0.21.

При выборе функции в области сведений справа от списка функций отображается дополнительная информация. В верхней части области отображается имя функции, дата добавления функции, модуль, на который влияет функция, и ссылка **Подробнее**. Выберите эту ссылку для просмотра документации для функции. Если документация недоступна, открывается временная страница. Область сведений также содержит поле **Комментарии**, в котором можно добавить собственные комментарии о функции.

Рабочая область **Управление функциями** также содержит несколько вкладок, на каждой из которых отображается список функций.

- **Новые** — на этой вкладке отображаются все функции, которые были добавлены с момента последнего ежемесячного обновления. Если вы пропустили какие-либо ежемесячные обновления, на вкладке отображаются все новые возможности, добавленные со времени последнего обновления. Новейшие функции отображаются в верхней части списка. Общее число новых функций также отображается на плитке в верхней части страницы.
- **Не включено** — на этой вкладке отображаются все функции, которые не были включены. Новейшие функции отображаются в верхней части списка. Кроме того, плитка в верхней части страницы показывает общее число новых функций, отключенных в данный момент.
- **Запланировано** — на этой вкладке отображаются все функции, которые были запланированы к включению в будущем. В верхней части списка отображаются функции с самой ранней датой по расписанию. Кроме того, общее число запланированных функций отображается на плитке в верхней части страницы.
- **Все** — на этой вкладке отображаются все функции. Новейшие функции отображаются в верхней части списка.

## <a name="feature-states"></a>Состояния функций
Функции могут переходить между несколькими состояниями, начиная с момента их использования в управлении функциями, чтобы в конечном итоге стали обязательными в продукте. В этом разделе описываются допустимые состояния функций.

### <a name="preview-features-optional"></a>Предварительные версии функций (дополнительно)

Рабочие группа по продуктам могут изначально начать создавать новую функцию в качестве предварительной версии. Предварительные версии функций не активированы по умолчанию и не являются обязательными. Рабочая группа, владеющая продуктом, будет обновлять функции для последующего выпуска после успешного завершения предварительного периода.

> [!NOTE]
> На предварительные версии функций распространяются особые [условия и положения](https://go.microsoft.com/fwlink/?linkid=2105274) для предварительных версий. 

### <a name="released-features-optional"></a>Выпущенные функции (дополнительно)

Столбец **Состояние функции** для этих функций пуст. Изначально добавленные как выпущенные функции не активированы по умолчанию, и включение этих функций не является обязательным. Функции, обновленные из предварительной версии, сохраняют свой статус активации.

### <a name="on-by-default-features-optional"></a>Включенные по умолчанию функции (дополнительно)

Функции, обновленные на **Включено по умолчанию**, активированы по умолчанию, но их можно отключить. После того, как функции, которые могут быть отключены, были в состоянии **Выпущено** по крайней мере в течение шести месяцев, ожидается переход в это состояние в следующем основном выпуске. Функции, которые переходя в состояние **Включено по умолчанию**, должны быть указаны в теме [Что нового](../whats-new-changed.md) для выпуска. Обновление инициировано рабочей группой-владельцем продукта.

> [!NOTE]
> Поскольку эти функции будут активированы автоматически, важно определить, готова ли ваша организация к использованию этих функций, или требуется больше времени. Если требуется дополнительное время, может потребоваться временно отключить эти функции. Обратите внимание, что переход функции в состояние **Включено по умолчанию** обычно выполняется в основном выпуске до того, как функция становится **Обязательной**. В этот момент у вас нет возможности отключить эту функцию. 

### <a name="released-features-mandatory"></a>Выпущенные функции (обязательные)

**Выпущено** — конечное состояние для функций. Оно указывает, что функции включены и не могут быть отключены без обращения в корпорацию Майкрософт. После двух основных выпусков ожидается, что дополнительные функции станут обязательными. Критические функции могут, например, быть введены как обязательные.

## <a name="example-of-expected-feature-lifecycles"></a>Пример ожидаемых жизненных циклов функций

Функции, которые могут быть отключены и которые были добавлены как выпущенные и необязательные до или после выпуска в апреле, должны быть переведены в состояние **Включено по умолчанию** в следующем выпуске в октябре. Затем они должны стать **Обязательными** в апреле следующего года.

Функции, которые не могут быть отключены и которые были добавлены как выпущенные и необязательные до или после выпуска в апреле, должны быть переведены в состояние **Обязательные** в апреле следующего года.

## <a name="enable-a-feature"></a>Включить функцию

Если функция не была включена, в области сведений появляется кнопка **Включить сейчас**. Эту кнопку можно использовать, чтобы включить эту функцию.

После включения некоторых функций их невозможно будет отключить. Если функция, которую вы пытаетесь включить, не может быть включена, вы получите предупреждение. На этом этапе можно выбрать кнопку **Отмена**, чтобы отменить операцию и оставить функцию отключенной. Однако если выбрать **Включить**, чтобы включить функцию, ее будет невозможно отключить позже.

Некоторые функции будут отображать сообщение, которое предоставляет дополнительную информацию, прежде чем включить их. Эти функции обозначены желтым предупреждающим символом. Вы должны внимательно изучить дополнительную информацию, чтобы лучше понять, что произойдет, когда функция включена. Тем не менее, вы все равно можете выбрать **Включить**, чтобы активировать функцию.

Некоторые функции будут отображать сообщение о том, что функция не может быть включена до тех пор, пока не будет принято действие. Эти функции обозначены красным символом X. Вы должны принять действия, описанные в описании, прежде чем функция включена. Например, если вы не можете использовать функцию до тех пор, пока ключ конфигурации не будет отключен, необходимо сначала отключить ключ конфигурации, а затем вернуться к управлению функциями, чтобы включить функцию.

После включения этой функции в области сведений появится сообщение под ссылкой **Подробнее**. В сообщении либо указано, что функция была включена, либо отображается будущая дата, на которую запланировано включение функции. Оно появляется каждый раз при выборе функции в списке функций.

Функции, которые запланировано включить в будущем, появятся на вкладке **Запланировано** . Пакетный процесс включит их в полночь в указанную дату на основе часового пояса, представленного системной датой.

## <a name="reschedule-a-feature"></a>Перепланирование функции

Если функция была запланирована для включения в будущем, в области сведений появляется кнопка **Запланировать**. Можно использовать эту кнопку, чтобы изменить значение **Дата включения** на другую дату.

1. Выберите запланированную функцию, которую требуется перепланировать, затем в области сведений выберите **Запланировать**.
2. В появившемся диалоговом окне в поле **Дата включения** укажите новую дату, когда должна быть включена функция.
3. Выберите **Включить**, чтобы перепланировать функцию, или **Отключить**, чтобы отменить расписание.

## <a name="disable-a-feature"></a>Отключение функции

Если функция была включена, в области сведений появляется кнопка **Отключить**. Эту кнопку можно использовать, чтобы отключить эту функцию. Кнопка **Отключить** недоступна, если функцию невозможно отключить. 

После отключения этой функции в области сведений появится сообщение под ссылкой **Подробнее**. В сообщении говорится, что функция не включена. Оно появляется каждый раз при выборе функции в списке функций. Функции, которые не были включены, отображаются на вкладке **Не включено**.

## <a name="features-that-must-be-enabled"></a>Функции, которые должны быть включены

Иногда поставляется критическая функция, которая должна быть включена автоматически при выполнении обновления. Эти функции будут автоматически включены в дату, указанную в поле **Дата включения**. Для этих функций в области сведений появится сообщение под ссылкой **Подробнее**. В сообщении либо указано, что функция была включена, либо отображается будущая дата, когда функция будет включена. Оно появляется каждый раз при выборе функции в списке функций.

## <a name="enable-all-features"></a>Включить все функции

Вы можете включить все функции, выбрав кнопку **Включить все**. 

При выборе **Включить все** появится параметр, где вам нужно предоставить следующую информацию:

- Список всех функций, требующих подтверждения, прежде чем они могут быть включены. Если вы хотите включить функции в списке, выберите **Да** для кнопки **Включить функции, требующие подтверждения**.
- Будет показан список всех функций, которые не могут быть включены. Эти функции не будут включены.

Все функции, которые могут быть включены будут включены. Если функция уже спланирована на включение в будущем, расписание не изменится. 

## <a name="enable-all-features-automatically"></a>Включение всех функций автоматически

Если требуется автоматически включать все новые функции, можно использовать раскрывающийся список под заголовком рабочей области для изменения того, что происходит при добавлении новых функций.

- Выберите **Включать все новые функции автоматически**, чтобы автоматически включать все новые функции при их добавлении в среду.
- Выберите **Не включать все новые функции автоматически**, чтобы по умолчанию все новые функции были выключены при их добавлении в среду.

При автоматическом включении всех функций, она включит все функции, которые должны быть включены при нажатии кнопки **Включить все**. Она не будет включать функции, требующие подтверждения, или функции, которые не могут быть включены до тех пор, пока не будет принято действие.

## <a name="check-for-updates"></a>Проверить наличие обновлений

Функции добавляются в среду после каждого обновления. Тем не менее, вы можете вручную проверить наличие обновлений, нажав на кнопку **Проверить наличие обновлений**. Любая функция, которая была добавлена в систему после обновления, будет добавлена в список функций. Например, если активированная функция включена после релиза, вы можете проверить наличие обновлений, и функция будет добавлена в список.

## <a name="assigning-roles"></a>Назначение ролей

Рабочую область **Управление функциями** можно быть открыты системными администраторами, а также пользователями, которым назначена роль диспетчера функций или роль просмотра функций. Эти две роли были созданы для поддержки возможности управления функциями. Пользователи, имеющие роль диспетчера функций, могут включить или отключить любую функцию. Они также могут обновлять поле **Комментарии** для функции. Пользователи, имеющие роль просмотра функций, могут только просматривать рабочую область **Управление функциями**. Они не могут включать или выключать функции.

Роль диспетчера функций и роль просмотра функций не переопределяют существующую безопасность, установленную для пользователя. Они просто управляют тем, могут ли пользователи включать и выключать функции. Они не предоставляют доступа к самим функциям.

## <a name="features-that-use-configuration-keys"></a>Функции, использующие конфигурационные ключи

Если функция использует конфигурационный ключ, но конфигурационный ключ не включен, в рабочей области **Управление функциями** не отображается эта функция в списке доступных функций. После включения конфигурационного ключа необходимо обновить список функций, используя пункт меню **Проверить наличие обновлений**. Затем эта функция появится в списке функций.

Если выключить ключ конфигурации, функция не удаляется из списка функций.

## <a name="data-entities"></a>Информационные объекты

Информационный объект под названием **Управление функциями** позволяет экспортировать настройки управления функциями из одной среды, затем импортировать их в другую среду. Данный объект обновляет только существующие функции. Бизнес-логика в объекте также помогает гарантировать, что те же правила, которые используются в рабочей области **Управление функциями**, будут применяться после завершения импорта. Например, нельзя переопределить параметр обязательной функции, удалив дату во время импорта.

Следующие примеры описывают, что происходит при использовании объекта **Управление функциями** для импорта данных.

- Если изменить значение поля **Включено** на **Да**, функция включается, и в поле **Дата включения** устанавливается текущая дата.
- Если изменить значение поля **Включено** на **Нет** или оставить поле **EnableDate** пустым, функция включается, и поле **Дата включения** очищается. Невозможно отключить обязательную функцию или функцию, которая не может быть отключена после ее включения.
- Если изменить значение поля **EnableDate** на дату в будущем, эта функция планируется для этой даты.
- Если изменить значение поля **Включено** на **Да** и изменить значение поля **EnableDate** на дату в будущем, функция планируется на эту дату. 
- Если изменить значение поля **Включено** на **Нет**, но также изменить значение поля **EnableDate** на дату в будущем, функция планируется на эту дату.
- Если функция включена, при добавлении поля **EnableDate**, для которого установлена дата в будущем, функция остается включенной. Чтобы перепланировать функцию, необходимо изменить значение поле **Включено** на **Нет**.

## <a name="feature-management-and-flighting"></a>Управление функциями и фокус-тестирование

Управление функциями позволяет управлять функциями, поставляемыми в каждом выпуске. Фокус-тестирование позволяет рабочим группам Microsoft выпускать функции для ограниченного числа клиентов, чтобы эти функции можно было тестировать и проверять без воздействия на всех клиентов. Управление функциями не контролирует фокус-тестирование каких-либо функций.

## <a name="using-feature-management-to-turn-on-isv-features-or-custom-features"></a>Использование управления функциями для включения функций независимых разработчиков программного обеспечения или пользовательских функций

В настоящее время управление функциями недоступно для функций независимых поставщиков программного обеспечения (ISV) и пользовательских функций. Однако корпорация Майкрософт добавляет дополнительные функции для улучшения управления функциями. После завершения этих усовершенствований Майкрософт сделает управление функциями доступным для всех функций и предоставит инструкции по обновлению функций для их использования.

## <a name="frequently-asked-questions-faq"></a>Вопросы и ответы (часто задаваемые вопросы)

### <a name="when-are-features-added-removed-or-changed"></a>Когда добавляются, удаляются или изменяются функции? 
Функции добавляются, удаляются и изменяются путем изменения кода рабочими группами-владельцами продуктов. Для получения этих изменений необходимо обновить среды.

### <a name="does-a-feature-become-mandatory-automatically"></a>Становится ли функция обязательной автоматически? 
Нет, функция не становится обязательной автоматически. Рабочие группы-владельцы продуктов должны внести изменения в код.

### <a name="why-isnt-there-a-specific-mandatory-enabled-date"></a>Почему не указана конкретная дата обязательной активации? 
Время выпуска обновлений может изменяться, время обновления среды переменное, и клиенты могут отказаться от некоторых обновлений. В результате трудно определить конкретные даты. 

### <a name="wheres-the-documentation-for-features-that-are-mandatory"></a>Где документация для функций, которые обязательны? 
Эта документация поступает от рабочей группы приложения Dynamics 365. Часто эти функции будут упомянуты в [обновлениях состояний функций клиента](/dynamics365-release-plan/2021wave1/finance-operations/finance-operations-crossapp-capabilities/updates-client-feature-states) или [удаленные или устаревшие функции](../../../dev-itpro/migration-upgrade/deprecated-features.md). 

### <a name="is-there-an-in-product-notification-or-signal-that-a-feature-is-going-to-be-mandatory-enabled"></a>Имеется ли в продукте уведомление или сигнал о том, что функция должна быть обязательно активирована? 
Механизм уведомления, связанный с преобразованием функций в обязательные, не существует сегодня.

### <a name="do-features-ever-get-enabled-without-the-customer-knowing-about-it"></a>Могут ли функции включаться без извещения клиента? 
Да, функции могут быть включены без оповещения клиента в следующих ситуациях:
- Функция переходит в состояние **Включено по умолчанию**. В этом состоянии функцию можно по-прежнему отключить. 
- Функция обновляется до **Обязательная**. Это изменение происходит только в сочетании с основным выпуском. Критические функции могут быть перемещены в состояние **Обязательные** в любом обновлении.

### <a name="what-is-feature-flighting-and-how-does-it-relate-to-feature-management"></a>Что такое фокус-тестирование функций и как оно связано с управлением функциями? 
Фокус-тестирования функций являются выключателями в реальном времени, которые контролирует Microsoft. Они отделены от клиентского управления, предоставляемого системой управления функциями. 
- Закрытые предварительные версии функций не будут отображаться в управлении функциями до тех пор, пока они не будут включены для фокус-тестирования. В производстве клиент должен согласиться с участием в особой программе, чтобы это произошло.
- Общедоступная предварительная версия и выпущенная версия (общедоступная) функции будет указана в модуле "Управление функциями", если только для них не выключено фокус-тестирование. Отключение фокус-тестирования функции рассматривается как последний экстренный вариант для рабочей группы продукта в случае обнаружения критической проблемы, и обычно он используется отдельно для каждого клиента.

### <a name="do-features-ever-get-flighted-off-without-the-customer-knowing-about-it"></a>Может ли фокус-тестирование функции включаться без извещения клиента? 
Да, если функция влияет на работоспособность среды без функционального воздействия, она может быть включена по умолчанию.

### <a name="how-can-feature-enablement-be-checked-in-code"></a>Как можно проверить включение функции в коде?
Используйте метод **isFeatureEnabled** класса **FeatureStateProvider**, передав ему экземпляр класса функции. Пример: 

```xpp
if (FeatureStateProvider::isFeatureEnabled(BatchContentionPreventionFeature::instance()))
```

### <a name="how-can-feature-enablement-be-checked-in-metadata"></a>Как можно проверить включение функции в метаданных?
Свойство **FeatureClass** может использоваться, чтобы указать, что некоторые метаданные связаны с функцией. Следует использовать имя класса, используемое для данной функции, например **BatchContentionPreventionFeature**. Эти метаданные видимы только в этой функции. Свойство **FeatureClass** доступно в меню, элементах меню, перечисляемых значениях и полях таблиц/представлений.

### <a name="what-is-a-feature-class"></a>Что такое класс функций?
Функции в управлении функциями определяются как *классы функций*. Класс функции **реализует IFeatureMetadata** и использует атрибут класса функции для идентификации себя в рабочей области управления функциями. Существует множество примеров доступных классов функций, которые могут быть проверены для включения в код с использованием API-интерфейса **FeatureStateProvider** и в метаданных с помощью свойства **FeatureClass**. Пример: 

```xpp
[ExportAttribute(identifierStr(Microsoft.Dynamics.ApplicationPlatform.FeatureExposure.IFeatureMetadata))]
internal final class BankCurrencyRevalGlobalEnableFeature implements IFeatureMetadata
```

### <a name="what-is-the-ifeaturelifecycle-implemented-by-some-feature-classes"></a>Что такое IFeatureLifecycle, реализуемый некоторыми классами функций?
IFeatureLifecycle является внутренним механизмом Microsoft, указывающим на стадию жизненного цикла функции. Функции могут быть:
- `PrivatePreview` — требуется предоставление доступа, чтобы была видна.
- `PublicPreview` — показывается по умолчанию, но с предупреждением о том, что эта функция является предварительной версией.
- `Released`— полностью выпущена.



[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]
