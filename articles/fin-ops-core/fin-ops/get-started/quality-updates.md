---
title: Упреждающие обновления качества
description: В этой статье приводятся сведения о упреждающей поставке обновлений качества.
author: rashmansur
ms.date: 08/23/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: sericks
ms.search.region: Global
ms.author: rashmim
ms.search.validFrom: 2022-08-19
ms.search.form: ''
ms.dyn365.ops.version: 10.0.29
ms.openlocfilehash: 9d81cb15e9a127e7bea7ad9b5e0f50a1ee543f71
ms.sourcegitcommit: 78e85ad49634cd31459fdb7325cb273352bf1501
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/23/2022
ms.locfileid: "9338147"
---
# <a name="proactive-quality-updates"></a>Упреждающие обновления качества

[!include[banner](../includes/banner.md)]

В течение последних нескольких лет корпорация Microsoft выполнила непрерывное развитие того, что мы называем как [Одна версия](../../dev-itpro/lifecycle-services/oneversion-overview.md). Идея одной версии проста: чем ближе мы будем к ситуации, когда все клиенты используют одну и ту же версию программного обеспечения, тем выше качество, которое мы можем доставить. Мы находим и исправляем проблемы один раз, и эти решения быстрее попадают в руки большего количества клиентов.

Эти идея подтверждается результатами: снижение количества инцидентов по нашим продуктам. Когда клиенты работают не в одной версии, мы постоянно видим, что они подвержены проблемам, для которых уже имеется решение. Мы уже добились большого прогресса с Dynamics 365 Finance, Dynamics 365 Supply Chain, Dynamics 365 Project Operations и Dynamics 365 Commerce, и благодаря последним техническим усовершенствованиям, теперь можно сделать следующий шаг. Ниже представлены сведения о том, что мы собираемся делать, что уже сделали для настройки этого этапа, и как и когда мы будем вводить новые возможности без перерыва в работе.

## <a name="focus-on-quality-updates"></a>Фокус на обновлениях качества

В настоящее время мы предлагаем семь [сервисных обновлений](public-preview-releases.md) в год. Например, версия 10.0.29 является сервисным обновлением. До недавнего времени было 8 обновлений в год. Однако мы отбросили одно обновление в ответ на отзывы клиентов, которые продемонстрировали желание избежать изменений ближе к концу календарного года.

Мы не будем менять ритмичность сервисных обновлений. Вместо этого наш следующий шаг к одной версии будет сосредоточен на *обновлениях качества*. Обновления качества являются накопительными сборками исправлений. Они не включают новых функций. В любой момент времени все сообщество клиентов распределяется между тремя или четырьмя последними сервисными обновлениями. Однако для любого данного сервисного обновления могут использоваться десятки версий обновлений качества в рамках группы, в зависимости от даты развертывания у пользователей. На нашем следующем шаге мы будем упреждающе транслировать обновления качества. Мы уже используем эту модель для наших приложений на основе Dataverse и увидели ожидаемые результаты улучшения качества и уменьшения обращений в службу технической поддержки.

Разумеется, уменьшение дефектов может позволить уменьшить количество или полностью отказаться от необходимости в обновлениях качества. У нас есть несколько работающих инициатив, чтобы уменьшить количество дефектов, требующих обновлений качества. Даже в том случае, когда полезные данные уменьшаются в обновлении качества, согласованность во всей клиентской базе увеличит уровень поддержки, позволит клиентам быстрее получать улучшения и снизит частоту, с которой клиенты сталкиваются с проблемами, для которых уже существуют решения.

## <a name="making-proactive-distribution-possible"></a>Обеспечение возможности упреждающего распределения

Несколько усовершенствований уже развернуты, что позволяет выполнять упреждающую поставку обновлений качества:

- **Обновление почти с нулевым временем простоя** — для отправки более частых сред важно снизить влияние на доступность среды, чтобы сохранить соглашения об уровне обслуживания Dynamics 365 (SLA). Обновление с почти нулевым временем простоя было изначально введено для улучшения ежемесячного исправления операционной системы с помощью отказоустойчивости кластера для активации обновленного образа с минимальным перерывом в работе. Механизм применения обновлений совершенствуется, так что он еще больше уменьшает перерывы в работе, и он будет охватывать развертывание исправлений для операционных систем и обновлений качества.

    Для интерактивных пользователей может прерываться активный сеанс, и повторная попытка будет переведена в уже обновленную среду. С появлением [планирования партий на основе приоритета](../../dev-itpro/sysadmin/priority-based-batch-scheduling.md), которое в данный момент доступно на основе согласия, планирование и обработка партий восстанавливаются и возобновляются сразу же после обновления. Планирование партий на основе приоритета будет введено для клиентов до того, как они начнут участвовать в упреждающем распространении обновлений качества для их рабочих сред.

- **Темные часы** — темные часы определяются для каждой области Azure, и обновления с почти нулевым временем простоя будут выполняться в течение темного периода времени.

## <a name="the-proactive-update-process"></a>Процесс упреждающего обновления

Развертывание обновлений качество должно следовать процессу безопасного развертывания (SDP). Особенности SDP будут развиваться, но обновления качества первоначально будут развертываться в средах "песочниц". Процесс будет начинаться в средах, для которых получено согласие для раннего развертывания. При увеличении процентного значения успешно развернутых "песочниц" будет начато развертывание в производственные среды. Опять же, процесс будет начинаться в средах, для которых получено согласие для раннего развертывания. Прослушивающие систем будет отслеживать телеметрические данные системы и инциденты активных сайтов, а также останавливать развертывание определенной версии в случае обнаружения какой-либо регрессии Клиенты по-прежнему смогут получать обновления качества до упреждающего развертывания, если они этого хотят.

В текущих данных управления выпуском показано, что обновления качества дают менее 3 процентов регрессий. Со все большим смещением фокуса на устранение регрессии и улучшение SDP, потенциальное воздействие регрессий будет значительно ниже, чем увеличение качества, которое достигается в результате более быстрого получения исправлений для широкого круга клиентов.

## <a name="process-changes"></a>Обработать изменения

Набор изменений процесса развертывается до активации упреждающего развертывания обновлений качества:

- **Схема** — инструментарий гарантирует, что в сборки обновления качества будут включены только те изменения схемы, которые могут быть применены, когда служба находится в оперативном режиме. Этот подход поможет сохранить возможность применения обновления с почти нулевым временем простоя.
- **Более тщательная проверка изменений** — в настоящее время уже существует дополнительный этап процесса для утверждения изменений для включения в обновление качества. Тщательная проверка на дополнительном шаге будет увеличен, чтобы уменьшить потенциал регрессий. Критические изменения не допускаются в обновлениях качества, а усиленная проверка изменений поможет гарантировать соответствие этой цели.
- **Видимость** — уведомления будут отправляться по электронной почте и в Lifecycle Services (LCS) для предстоящих упреждающих обновлений качества. Кроме того, рабочие группы поддержки и руководители по работе с инцидентами будут видеть, где обновления качества были упреждающе развернуты.
- **Откат версии** — фокус-тестирование будет использоваться для группировки всех изменений в упреждающее обновление качества. Если после завершения упреждающего развертывания требуется откат, его можно выполнить через систему фокус-тестирования.
- **Назначение синхронизации "песочницы"** — менее 20 процентов клиентов в настоящее время имеют несколько "песочниц" и держат одну песочницу развернутой, версия которой соответствует производственной среде, чтобы помочь в устранении неполадок. В ближайшем будущем мы введем возможность для клиентов указывать среду "песочницы", которая не должна получать упреждающие развертывания обновлений качества, а также другие "песочницы", которые вместо этого должны получить их позднее, вместе с производственной средой. Обратите внимание, что если клиент использует "песочницу" для проверки более поздней версии, чем ее производственная версия, эта песочница будет получать обновления качества до более новой версии.
- 
## <a name="when-will-proactive-quality-updates-start"></a>Когда начнутся упреждающие обновления качества?

Предполагается, что распределение упреждающих обновлений качества в средах "песочницы" должно начаться в конце сентября или в октябре 2022 г. для клиентов общедоступного облака Azure. Пробные среды также начнут получать упреждающее развертывание обновлений в это время. В сентябре уведомление будет отправлено каждому клиенту, чтобы сообщить об ожидаемом расписании для среды. Исключениями для процесса распространения упреждающих обновлений будут разрешены только для клиентов, контролируемых FDA. Мы все еще работаем над тем, как будут управляться регулируемые среды и клиенты суверенного и правительственного облака.

В течение следующего периода в шесть месяцев мы будем постепенно увеличивать процент сред "песочниц", которые получают упреждающие обновления, до тех пор, пока все назначенные среды не будут включены, затем перейдем к обновлению производственных сред. В течение этого периода мы будем следить, чтобы обеспечить бесперебойность процесса развертывания и достижение нашей цели полезных данных без перерывов в работе.

Так как клиенты будут регулярно получать небольшие полезные данные, ожидается, что процесс обновления станет более простым. Частота развертывания обновлений будет настраиваться по мере того, как мы продемонстрируем способность выполнять процесс без нарушения функциональности. Этот процесс уже работает эффективно для наших платформ и приложений Dataverse и предоставляет ожидаемые улучшения качества обслуживания. Мы стремимся выполнить тот же шаг вперед для приложений для управления финансами и операциями.
