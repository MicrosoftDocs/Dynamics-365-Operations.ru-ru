---
title: Создание изображений штрихкодов с помощью источников данных штрихкодов
description: В этой теме объясняется, как использовать источники данных штрихкодов для формирования изображений штрихкода.
author: NickSelin
manager: AnnBe
ms.date: 10/21/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERWorkspace, ERSolutionTable, ERModelMappingDesigner, EROperationDesigner
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 220314
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-05-01
ms.dyn365.ops.version: Version 10.0.13
ms.openlocfilehash: c549a476f854ffcf962ffb62e430b459d3445734
ms.sourcegitcommit: cc78f9bf585082ce65c2ab0b011ff62620fa883d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/21/2020
ms.locfileid: "4088205"
---
# <a name="use-barcode-data-sources-to-generate-bar-code-images"></a><span data-ttu-id="e195d-103">Создание изображений штрихкодов с помощью источников данных штрихкодов</span><span class="sxs-lookup"><span data-stu-id="e195d-103">Use Barcode data sources to generate bar code images</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="e195d-104">Для создания требуемых вам электронных и печатаемых исходящих документов можно использовать платформу [электронной отчетности (ER)](general-electronic-reporting.md) для разработки [компонентов формата ER](general-electronic-reporting.md#FormatComponentOutbound).</span><span class="sxs-lookup"><span data-stu-id="e195d-104">You can use the [Electronic reporting (ER)](general-electronic-reporting.md) framework to design [ER format components](general-electronic-reporting.md#FormatComponentOutbound) that you can run to generate electronic and printable outbound documents that you require.</span></span> <span data-ttu-id="e195d-105">Чтобы создать исходящий документ в формате Microsoft Office, необходимо задать формат отчета, используя документ Microsoft Excel или документ Microsoft Word в качестве шаблона отчета.</span><span class="sxs-lookup"><span data-stu-id="e195d-105">To generate an outbound document in Microsoft Office format, you must specify the layout of the report by using either a Microsoft Excel document or a Microsoft Word document as a report template.</span></span> <span data-ttu-id="e195d-106">С помощью [конструктора операций ER](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) можно привязать документ Excel или Word в качестве шаблона для формата ER.</span><span class="sxs-lookup"><span data-stu-id="e195d-106">The [ER Operations designer](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) lets you attach an Excel or Word document as a template for an ER format.</span></span> <span data-ttu-id="e195d-107">Следующие именованные элементы в связанном шаблоне связаны с элементами сконфигурированного компонента формата:</span><span class="sxs-lookup"><span data-stu-id="e195d-107">The following named elements in the attached template are associated with the elements of the configured format component:</span></span>

- <span data-ttu-id="e195d-108">Элементы управления содержимым в Word</span><span class="sxs-lookup"><span data-stu-id="e195d-108">Content controls in Word</span></span>
- <span data-ttu-id="e195d-109">Именованные листы, диапазоны, ячейки, фигуры и изображения в Excel</span><span class="sxs-lookup"><span data-stu-id="e195d-109">Named sheets, ranges, cells, shapes, and images in Excel</span></span>

<span data-ttu-id="e195d-110">Эти именованные элементы используются в качестве заполнителей для данных, вводимых в созданный документ при выполнении формата ER.</span><span class="sxs-lookup"><span data-stu-id="e195d-110">These named elements are used as placeholders for data that is entered in a generated document when an ER format is run.</span></span> <span data-ttu-id="e195d-111">Элементы формата ER связаны с источниками данных.</span><span class="sxs-lookup"><span data-stu-id="e195d-111">ER format elements are bound to data sources.</span></span> <span data-ttu-id="e195d-112">Эти источники данных определяют данные, которые будут введены в генерируемые документы во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="e195d-112">These data sources specify the data that will be entered in the generated documents at runtime.</span></span> <span data-ttu-id="e195d-113">Дополнительные сведения см. в разделе [Внедрение изображений и фигур в документы, создаваемые с помощью электронной отчетности](electronic-reporting-embed-images-shapes.md).</span><span class="sxs-lookup"><span data-stu-id="e195d-113">For more information, see [Embed images and shapes in documents that you generate by using ER](electronic-reporting-embed-images-shapes.md).</span></span>

<span data-ttu-id="e195d-114">ER теперь поддерживает тип источника данных **Штрихкод**.</span><span class="sxs-lookup"><span data-stu-id="e195d-114">ER now supports the **Barcode** data source type.</span></span> <span data-ttu-id="e195d-115">Таким образом, теперь можно создать изображение, представляющее штрихкод для указанного текста.</span><span class="sxs-lookup"><span data-stu-id="e195d-115">Therefore, you can now generate an image that represents the bar code for specified text.</span></span> <span data-ttu-id="e195d-116">При настройке формата ER можно указать источники данных типа **Штрихкод** для создания изображений штрихкодов.</span><span class="sxs-lookup"><span data-stu-id="e195d-116">When you configure an ER format, you can specify data sources of the **Barcode** type to generate bar code images.</span></span> <span data-ttu-id="e195d-117">Затем эти изображения можно добавлять в созданные деловые документы, такие как заказы, счета, отборочные накладные и чеки.</span><span class="sxs-lookup"><span data-stu-id="e195d-117">You can then add those images to generated business documents, such as orders, invoices, packing slips, and receipts.</span></span> <span data-ttu-id="e195d-118">Их можно также добавить к различным видам этикеток, таким как этикетки продукта или полки и этикетки упаковки и отгрузки.</span><span class="sxs-lookup"><span data-stu-id="e195d-118">You can also add them to various kind of labels, such as product and shelf labels, and packaging and shipping labels.</span></span>

<span data-ttu-id="e195d-119">Следующие местозаполнители могут использоваться в шаблонах отчетов для ввода изображений штрихкодов:</span><span class="sxs-lookup"><span data-stu-id="e195d-119">The following placeholders can be used in report templates to enter bar code images:</span></span>

- <span data-ttu-id="e195d-120">Элемент управления содержимым [Рисунок](https://docs.microsoft.com/office/client-developer/word/content-controls-in-word) для Word</span><span class="sxs-lookup"><span data-stu-id="e195d-120">[Picture](https://docs.microsoft.com/office/client-developer/word/content-controls-in-word) content control for Word</span></span>
- <span data-ttu-id="e195d-121">Объект [Рисунок](https://support.office.com/article/insert-pictures-3c51edf4-22e1-460a-b372-9329a8724344) в Excel</span><span class="sxs-lookup"><span data-stu-id="e195d-121">[Picture](https://support.office.com/article/insert-pictures-3c51edf4-22e1-460a-b372-9329a8724344) object in Excel</span></span>

<span data-ttu-id="e195d-122">Используя источник данных типа **Штрихкод** , можно формировать штрихкоды в следующих форматах:</span><span class="sxs-lookup"><span data-stu-id="e195d-122">By using a data source of the **Barcode** type, you can generate bar codes in the following formats:</span></span>

- <span data-ttu-id="e195d-123">Одномерные штрихкоды:</span><span class="sxs-lookup"><span data-stu-id="e195d-123">One-dimensional bar codes:</span></span>

    - <span data-ttu-id="e195d-124">Codabar</span><span class="sxs-lookup"><span data-stu-id="e195d-124">Codabar</span></span>
    - <span data-ttu-id="e195d-125">Code 39</span><span class="sxs-lookup"><span data-stu-id="e195d-125">Code 39</span></span>
    - <span data-ttu-id="e195d-126">Code 93</span><span class="sxs-lookup"><span data-stu-id="e195d-126">Code 93</span></span>
    - <span data-ttu-id="e195d-127">Code 128</span><span class="sxs-lookup"><span data-stu-id="e195d-127">Code 128</span></span>
    - <span data-ttu-id="e195d-128">EAN-8</span><span class="sxs-lookup"><span data-stu-id="e195d-128">EAN-8</span></span>
    - <span data-ttu-id="e195d-129">EAN-13</span><span class="sxs-lookup"><span data-stu-id="e195d-129">EAN-13</span></span>
    - <span data-ttu-id="e195d-130">ITF-14</span><span class="sxs-lookup"><span data-stu-id="e195d-130">ITF-14</span></span>
    - <span data-ttu-id="e195d-131">Intelligent Mail</span><span class="sxs-lookup"><span data-stu-id="e195d-131">Intelligent Mail</span></span>
    - <span data-ttu-id="e195d-132">MSI</span><span class="sxs-lookup"><span data-stu-id="e195d-132">MSI</span></span>
    - <span data-ttu-id="e195d-133">Plessey</span><span class="sxs-lookup"><span data-stu-id="e195d-133">Plessey</span></span>
    - <span data-ttu-id="e195d-134">PDF417</span><span class="sxs-lookup"><span data-stu-id="e195d-134">PDF417</span></span>
    - <span data-ttu-id="e195d-135">UPC-A</span><span class="sxs-lookup"><span data-stu-id="e195d-135">UPC-A</span></span>
    - <span data-ttu-id="e195d-136">UPC-E</span><span class="sxs-lookup"><span data-stu-id="e195d-136">UPC-E</span></span>

- <span data-ttu-id="e195d-137">Двумерные штрихкоды:</span><span class="sxs-lookup"><span data-stu-id="e195d-137">Two-dimensional bar codes:</span></span>

    - <span data-ttu-id="e195d-138">Aztec</span><span class="sxs-lookup"><span data-stu-id="e195d-138">Aztec</span></span>
    - <span data-ttu-id="e195d-139">Data Matrix</span><span class="sxs-lookup"><span data-stu-id="e195d-139">Data Matrix</span></span>
    - <span data-ttu-id="e195d-140">QR-код</span><span class="sxs-lookup"><span data-stu-id="e195d-140">QR Code</span></span>

<span data-ttu-id="e195d-141">При настройке источника данных **Штрихкод** можно определить отдельные параметры отрисовки, которые используются для создания изображения:</span><span class="sxs-lookup"><span data-stu-id="e195d-141">When you configure a **Barcode** data source, you can define specific rendering parameters that are used to generate an image:</span></span>

- <span data-ttu-id="e195d-142">**Ширина** — определяет ширину штрихкода в пикселах.</span><span class="sxs-lookup"><span data-stu-id="e195d-142">**Width** – Specify the bar code's width in pixels.</span></span> <span data-ttu-id="e195d-143">Значение **0** (ноль) указывает, что используется ширина по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e195d-143">A value of **0** (zero) indicates that the default width is used.</span></span> <span data-ttu-id="e195d-144">Значение может различаться для различных форматов.</span><span class="sxs-lookup"><span data-stu-id="e195d-144">The meaning can vary for different formats.</span></span>
- <span data-ttu-id="e195d-145">**Высота** — определяет высоту штрихкода в пикселах.</span><span class="sxs-lookup"><span data-stu-id="e195d-145">**Height** – Specify the bar code's height in pixels.</span></span> <span data-ttu-id="e195d-146">Значение **0** (ноль) указывает, что используется высота по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e195d-146">A value of **0** (zero) indicates that the default height is used.</span></span> <span data-ttu-id="e195d-147">Значение может различаться для различных форматов.</span><span class="sxs-lookup"><span data-stu-id="e195d-147">The meaning can vary for different formats.</span></span>
- <span data-ttu-id="e195d-148">**Поле** — укажите размер поля штрихкода в пикселах.</span><span class="sxs-lookup"><span data-stu-id="e195d-148">**Margin** – Specify the size of the bar code's margin in pixels.</span></span> <span data-ttu-id="e195d-149">Поле — это область на каждой стороне штрихкода, которая должна быть сохранена чистой (тихая зона).</span><span class="sxs-lookup"><span data-stu-id="e195d-149">The margin is the area on each side of a bar code that must be kept clear (quiet zone).</span></span> <span data-ttu-id="e195d-150">Значение **0** (ноль) указывает, что используется поле по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e195d-150">A value of **0** (zero) indicates that the default margin is used.</span></span> <span data-ttu-id="e195d-151">Значение может различаться для различных форматов.</span><span class="sxs-lookup"><span data-stu-id="e195d-151">The meaning can vary for different formats.</span></span>
- <span data-ttu-id="e195d-152">**Выходное содержимое** — установите значение **Да** , чтобы создать изображение штрихкода, содержащее закодированные данные в виде текста.</span><span class="sxs-lookup"><span data-stu-id="e195d-152">**Output content** – Set the value to **Yes** to generate a bar code image that contains the encoded information as text.</span></span> <span data-ttu-id="e195d-153">Значение по умолчанию равно **Нет**.</span><span class="sxs-lookup"><span data-stu-id="e195d-153">The default value is **No**.</span></span>
- <span data-ttu-id="e195d-154">**Кодирование** — укажите тип символов, которые кодируются в созданном изображении штрихкода.</span><span class="sxs-lookup"><span data-stu-id="e195d-154">**Encoding** – Specify the type of characters that are encoded in the generated bar code image.</span></span> <span data-ttu-id="e195d-155">По умолчанию используется кодировка **UTF-8**.</span><span class="sxs-lookup"><span data-stu-id="e195d-155">By default, the **UTF-8** encoding is used.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e195d-156">При добавлении нового источника данных **Штрихкод** необходимо поместить его в другой элемент (контейнер) как вложенный элемент.</span><span class="sxs-lookup"><span data-stu-id="e195d-156">When you add a new **Barcode** data source, you must place it under another item (container) as a nested element.</span></span>
>
> <span data-ttu-id="e195d-157">При привязке источника данных **Штрихкод** к элементу ячейки в формате, а элемент ячейки представляет либо элемент управления содержимым Word, либо рисунок Excel, источник данных представлен в этой привязке в виде функции, имеющей единственный параметр типа **Строка**.</span><span class="sxs-lookup"><span data-stu-id="e195d-157">When you bind a **Barcode** data source to a cell element in a format, and the cell element represents either a Word content control or an Excel picture, the data source is presented in that binding as a function that has a single parameter of the **String** type.</span></span> <span data-ttu-id="e195d-158">Этот параметр необходимо использовать, чтобы указать текст, который должен быть преобразован в изображение штрихкода и считан при сканировании созданного штрихкода.</span><span class="sxs-lookup"><span data-stu-id="e195d-158">You must use this parameter to specify the text that should be transformed into a bar code image and read when a generated bar code is scanned.</span></span>

<span data-ttu-id="e195d-159">Чтобы получить дополнительные сведения об этой функции, выполните примеры в этой теме.</span><span class="sxs-lookup"><span data-stu-id="e195d-159">For more information about this feature, complete the examples in this topic.</span></span>

## <a name="example-generate-a-payment-check-that-contains-a-bar-code-that-encodes-the-payable-amount"></a><span data-ttu-id="e195d-160">Пример. Создание чека платежа, который содержит штрихкод, кодирующий сумму оплаты</span><span class="sxs-lookup"><span data-stu-id="e195d-160">Example: Generate a payment check that contains a bar code that encodes the payable amount</span></span>

<span data-ttu-id="e195d-161">В этом примере показано, как пользователь с ролью **Системный администратор** или **Консультант по функциональным возможностям электронной отчетности** может настроить формат ER, содержащий шаблон, используемый для создания исходящего документа в формате Excel, содержащего штрихкод.</span><span class="sxs-lookup"><span data-stu-id="e195d-161">This example shows how a user in the **System administrator** or **Electronic reporting functional consultant** role can configure an ER format that contains a template that is used to generate an outbound document in Excel format that contains a bar code.</span></span> <span data-ttu-id="e195d-162">Ниже приводится обзор используемых шагов.</span><span class="sxs-lookup"><span data-stu-id="e195d-162">Here is an overview of the steps that are involved.</span></span>

1. <span data-ttu-id="e195d-163">[Выполнение необходимых условий](#ExamplePrerequisites).</span><span class="sxs-lookup"><span data-stu-id="e195d-163">[Complete the prerequisites](#ExamplePrerequisites).</span></span>
2. <span data-ttu-id="e195d-164">[Активация поставщика конфигураций](#ExampleProvider).</span><span class="sxs-lookup"><span data-stu-id="e195d-164">[Activate a configuration provider](#ExampleProvider).</span></span>
3. <span data-ttu-id="e195d-165">[Импорт предоставленного решения ER](#ExampleImportSolution).</span><span class="sxs-lookup"><span data-stu-id="e195d-165">[Import the provided ER solution](#ExampleImportSolution).</span></span>
4. <span data-ttu-id="e195d-166">[Создание чека платежа](#ExampleGenerateCheque).</span><span class="sxs-lookup"><span data-stu-id="e195d-166">[Generate a payment check](#ExampleGenerateCheque).</span></span>
5. <span data-ttu-id="e195d-167">[Проверка созданного чека платежа](#ExampleReviewGeneratedCheque).</span><span class="sxs-lookup"><span data-stu-id="e195d-167">[Review the generated payment check](#ExampleReviewGeneratedCheque).</span></span>
6. <span data-ttu-id="e195d-168">[Изменение формата предоставленного решения ER](#ExampleModifyFormat).</span><span class="sxs-lookup"><span data-stu-id="e195d-168">[Modify the format of the provided ER solution](#ExampleModifyFormat).</span></span>

    1. <span data-ttu-id="e195d-169">[Применение нового шаблона чека](#ExampleModifyFormatApplyTemplate).</span><span class="sxs-lookup"><span data-stu-id="e195d-169">[Apply a new check template](#ExampleModifyFormatApplyTemplate).</span></span>
    2. <span data-ttu-id="e195d-170">[Добавление нового источника данных штрихкода](#ExampleModifyFormatAddDataSource).</span><span class="sxs-lookup"><span data-stu-id="e195d-170">[Add a new Barcode data source](#ExampleModifyFormatAddDataSource).</span></span>
    3. <span data-ttu-id="e195d-171">[Привязка нового элемента формата](#ExampleModifyFormatBindFormatElement).</span><span class="sxs-lookup"><span data-stu-id="e195d-171">[Bind a new format element](#ExampleModifyFormatBindFormatElement).</span></span>
    4. <span data-ttu-id="e195d-172">[Создание измененной версии, доступной для тестового запуска](#ExampleModifyFormatMakeVersionAvailable).</span><span class="sxs-lookup"><span data-stu-id="e195d-172">[Make the modified version available for test runs](#ExampleModifyFormatMakeVersionAvailable).</span></span>

        1. <span data-ttu-id="e195d-173">[Выполнение измененной версии формата](#CompleteToRun).</span><span class="sxs-lookup"><span data-stu-id="e195d-173">[Complete the modified format version](#CompleteToRun).</span></span>
        2. <span data-ttu-id="e195d-174">[Разрешение использования черновой версии](#MarkToRun).</span><span class="sxs-lookup"><span data-stu-id="e195d-174">[Make the draft version available for use](#MarkToRun).</span></span>

7. <span data-ttu-id="e195d-175">[Создание чека платежа](#ExampleGenerateCheque2).</span><span class="sxs-lookup"><span data-stu-id="e195d-175">[Generate a payment check](#ExampleGenerateCheque2).</span></span>
8. <span data-ttu-id="e195d-176">[Преобразование созданного чека в PDF-файл](#ExampleConvertToPDF).</span><span class="sxs-lookup"><span data-stu-id="e195d-176">[Convert the generated check to a PDF](#ExampleConvertToPDF).</span></span>

<span data-ttu-id="e195d-177">В этом примере будет использоваться предоставляемое решение ER, настроенное для создания чеков платежей.</span><span class="sxs-lookup"><span data-stu-id="e195d-177">In this example, you will use the provided ER solution that has been configured to generate payment checks.</span></span> <span data-ttu-id="e195d-178">Это решение создает чеки платежей, где сумма к оплате записывается и как число, и как текст.</span><span class="sxs-lookup"><span data-stu-id="e195d-178">This solution generates payment checks where the payable amount is written both as a number and as text.</span></span> <span data-ttu-id="e195d-179">Это решение электронной отчетности будет изменено таким образом, чтобы чек включал также созданный штрихкод, в котором сумма платежа кодируется и может быть считана с помощью сканера штрихкодов.</span><span class="sxs-lookup"><span data-stu-id="e195d-179">You will modify this ER solution so that the check also includes a generated bar code where the payable amount is encoded and can be read by using a bar code scanner.</span></span>

<span data-ttu-id="e195d-180">Эти шаги можно выполнить в компании **USMF** в Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="e195d-180">The steps can be completed in the **USMF** company in Microsoft Dynamics 365 Finance.</span></span>

### <a name="complete-the-prerequisites"></a><a name="ExamplePrerequisites"></a><span data-ttu-id="e195d-181">Выполнение необходимых условий</span><span class="sxs-lookup"><span data-stu-id="e195d-181">Complete the prerequisites</span></span>

<span data-ttu-id="e195d-182">Чтобы выполнить пример в этом разделе, необходимо иметь доступ к компании USMF в Finance для одной из следующих ролей:</span><span class="sxs-lookup"><span data-stu-id="e195d-182">To complete this example, you must have access to the USMF company in Finance for one of the following roles:</span></span>

- <span data-ttu-id="e195d-183">Консультант по функциональным возможностям электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="e195d-183">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="e195d-184">Системный администратор</span><span class="sxs-lookup"><span data-stu-id="e195d-184">System administrator</span></span>

<span data-ttu-id="e195d-185">Если вы еще не завершили пример в теме [Внедрение изображений и фигур в документы, создаваемые с помощью электронной отчетности](electronic-reporting-embed-images-shapes.md), загрузите следующие конфигурации примера решения ER.</span><span class="sxs-lookup"><span data-stu-id="e195d-185">If you haven't yet completed the example in the [Embed images and shapes in documents that you generate by using ER](electronic-reporting-embed-images-shapes.md) topic, download the following configurations of the sample ER solution.</span></span>

| <span data-ttu-id="e195d-186">Описание содержания</span><span class="sxs-lookup"><span data-stu-id="e195d-186">Content description</span></span>         | <span data-ttu-id="e195d-187">Имя файла</span><span class="sxs-lookup"><span data-stu-id="e195d-187">File name</span></span>                   |
|-----------------------------|-----------------------------|
| <span data-ttu-id="e195d-188">Конфигурации модели данных электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="e195d-188">ER data model configuration</span></span> | <span data-ttu-id="e195d-189">Model for cheques.xml</span><span class="sxs-lookup"><span data-stu-id="e195d-189">Model for cheques.xml</span></span>       |
| <span data-ttu-id="e195d-190">Конфигурация формата электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="e195d-190">ER format configuration</span></span>     | <span data-ttu-id="e195d-191">Cheques printing format.xml</span><span class="sxs-lookup"><span data-stu-id="e195d-191">Cheques printing format.xml</span></span> |

<span data-ttu-id="e195d-192">Кроме того, загрузите следующий файл Excel, содержащий измененный шаблон для указанного решения электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="e195d-192">Additionally, download the following Excel file that contains the modified template for the provided ER solution.</span></span>

| <span data-ttu-id="e195d-193">Описание содержания</span><span class="sxs-lookup"><span data-stu-id="e195d-193">Content description</span></span> | <span data-ttu-id="e195d-194">Имя файла</span><span class="sxs-lookup"><span data-stu-id="e195d-194">File name</span></span>                 |
|---------------------|---------------------------|
| <span data-ttu-id="e195d-195">Шаблон отчета</span><span class="sxs-lookup"><span data-stu-id="e195d-195">Report template</span></span>     | <span data-ttu-id="e195d-196">Check template Excel.xlsx</span><span class="sxs-lookup"><span data-stu-id="e195d-196">Check template Excel.xlsx</span></span> |

### <a name="activate-a-configuration-provider"></a><a name="ExampleProvider"></a><span data-ttu-id="e195d-197">Активация поставщика конфигураций</span><span class="sxs-lookup"><span data-stu-id="e195d-197">Activate a configuration provider</span></span>

1. <span data-ttu-id="e195d-198">Перейдите в раздел **Управление организацией** \> **Рабочие области** \> **Электронная отчетность**.</span><span class="sxs-lookup"><span data-stu-id="e195d-198">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="e195d-199">На странице **Конфигурации локализации** в разделе **Поставщики конфигурации** убедитесь, что [поставщик конфигурации](general-electronic-reporting.md#Provider) для демонстрационной компании **Litware, Inc.** есть в списке и помечен как активный.</span><span class="sxs-lookup"><span data-stu-id="e195d-199">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the [configuration provider](general-electronic-reporting.md#Provider) for the **Litware, Inc.** sample company is listed, and that it's marked as active.</span></span> <span data-ttu-id="e195d-200">Если его в списке нет или он не помечен как активный, следуйте указаниям в теме [Создание поставщика конфигурации и пометка его как активного](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="e195d-200">If it isn't listed, or if it isn't marked as active, follow the steps in the [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) topic.</span></span>

![Настройка демонстрационной компании для активации на странице конфигураций локализации](./media/er-barcode-data-source-active-provider.png)

### <a name="import-the-provided-er-solution"></a><a name="ExampleImportSolution"></a><span data-ttu-id="e195d-202">Импорт предоставленного решения ER</span><span class="sxs-lookup"><span data-stu-id="e195d-202">Import the provided ER solution</span></span>

1. <span data-ttu-id="e195d-203">Перейдите в раздел **Управление организацией** \> **Рабочие области** \> **Электронная отчетность**.</span><span class="sxs-lookup"><span data-stu-id="e195d-203">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="e195d-204">На странице **Конфигурации локализации** в разделе **Конфигурации** выберите плитку **Конфигурации отчетности**.</span><span class="sxs-lookup"><span data-stu-id="e195d-204">On the **Localization configurations** page, in the **Configurations** section, select the **Reporting configurations** tile.</span></span>
3. <span data-ttu-id="e195d-205">На странице **Конфигурации** , если конфигурация **Модель для чеков** недоступна в дереве конфигурации, выполните следующие шаги для импорта конфигурации модели данных ER:</span><span class="sxs-lookup"><span data-stu-id="e195d-205">On the **Configurations** page, if the **Model for cheques** configuration isn't available in the configuration tree, follow these steps to import the ER data model configuration:</span></span>

    1. <span data-ttu-id="e195d-206">На панели действий выберите пункт **Обмен** \> **Загрузить из XML-файла**.</span><span class="sxs-lookup"><span data-stu-id="e195d-206">On the Action Pane, select **Exchange** \> **Load from XML file**.</span></span>
    2. <span data-ttu-id="e195d-207">В диалоговом окне выберите **Обзор** , найдите и выберите файл **Model for cheques.xml** , затем выберите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="e195d-207">In the dialog box, select **Browse** , find and select the **Model for cheques.xml** file, and then select **OK**.</span></span>

4. <span data-ttu-id="e195d-208">Если конфигурация **Формат печати чеков** недоступна в дереве конфигурации, выполните следующие шаги для импорта конфигурации формата ER:</span><span class="sxs-lookup"><span data-stu-id="e195d-208">If the **Cheques printing format** configuration isn't available in the configuration tree, follow these steps to import the ER format configuration:</span></span>

    1. <span data-ttu-id="e195d-209">На панели действий выберите пункт **Обмен** \> **Загрузить из XML-файла**.</span><span class="sxs-lookup"><span data-stu-id="e195d-209">On the Action Pane, select **Exchange** \> **Load from XML file**.</span></span>
    2. <span data-ttu-id="e195d-210">В диалоговом окне выберите **Обзор** , найдите и выберите файл **Cheques printing format.xml** , затем выберите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="e195d-210">In the dialog box, select **Browse** , find and select the **Cheques printing format.xml** file, and then select **OK**.</span></span>

5. <span data-ttu-id="e195d-211">В дереве конфигурации разверните **Модель для чеков**.</span><span class="sxs-lookup"><span data-stu-id="e195d-211">In the configuration tree, expand **Model for cheques**.</span></span>
6. <span data-ttu-id="e195d-212">Просмотрите список импортированных конфигураций ER в дереве конфигурации.</span><span class="sxs-lookup"><span data-stu-id="e195d-212">Review the list of imported ER configurations in the configuration tree.</span></span>

### <a name="generate-a-payment-check"></a><a name="ExampleGenerateCheque"></a><span data-ttu-id="e195d-213">Создание чека платежа</span><span class="sxs-lookup"><span data-stu-id="e195d-213">Generate a payment check</span></span>

1. <span data-ttu-id="e195d-214">Перейдите в раздел **Управление банком и кассовыми операциями** \> **Банковские счета** \> **Банковские счета**.</span><span class="sxs-lookup"><span data-stu-id="e195d-214">Go to **Cash and bank management** \> **Bank accounts** \> **Bank accounts**.</span></span>
2. <span data-ttu-id="e195d-215">На странице **Банковские счета** выберите счет **USMF OPER**.</span><span class="sxs-lookup"><span data-stu-id="e195d-215">On the **Bank accounts** page, select the **USMF OPER** account.</span></span>
3. <span data-ttu-id="e195d-216">На странице сведений о банковском счете в области действий на вкладке **Настройка** в группе **Макет** выберите **Чек**.</span><span class="sxs-lookup"><span data-stu-id="e195d-216">On the bank account details page, on the Action Pane, on the **Set up** tab, in the **Layout** group, select **Check**.</span></span>
4. <span data-ttu-id="e195d-217">На странице **Макет чека** выберите **Правка**.</span><span class="sxs-lookup"><span data-stu-id="e195d-217">On the **Check layout** page, select **Edit**.</span></span>
5. <span data-ttu-id="e195d-218">На экспресс-вкладке **Общие** установите для параметра **Универсальный электронный формат экспорта** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="e195d-218">On the **General** FastTab, set the **Generic electronic Export format** option to **Yes**.</span></span>
6. <span data-ttu-id="e195d-219">В поле **Конфигурация формата экспорта** выберите формат ER **Формат печати чеков** , который был импортирован ранее.</span><span class="sxs-lookup"><span data-stu-id="e195d-219">In the **Export format configuration** field, select the **Cheques printing format** ER format that you imported earlier.</span></span>
7. <span data-ttu-id="e195d-220">В области действий выберите **Тест печати**.</span><span class="sxs-lookup"><span data-stu-id="e195d-220">On the Action Pane, select **Print test**.</span></span>
8. <span data-ttu-id="e195d-221">В диалоговом окне установите для параметра **Формат оборотных чеков** значение **Да** , затем выберите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="e195d-221">In the dialog box, set the **Negotiable check format** option to **Yes** , and then select **OK**.</span></span>

    ![Макет чека — диалоговое окно проверки печати](./media/er-barcode-data-source-check-layout.png)

### <a name="review-the-generated-payment-check"></a><a name="ExampleReviewGeneratedCheque"></a><span data-ttu-id="e195d-223">Проверка созданного чека платежа</span><span class="sxs-lookup"><span data-stu-id="e195d-223">Review the generated payment check</span></span>

- <span data-ttu-id="e195d-224">Откройте созданный чек в Excel.</span><span class="sxs-lookup"><span data-stu-id="e195d-224">Open the generated check in Excel.</span></span>
2. <span data-ttu-id="e195d-225">Просмотрите сформированный чек.</span><span class="sxs-lookup"><span data-stu-id="e195d-225">Review the generated check.</span></span>

    ![Созданный чек платежа в Excel](./media/er-barcode-data-source-cheque1.png)

### <a name="modify-the-format-of-the-provided-er-solution"></a><a name="ExampleModifyFormat"></a><span data-ttu-id="e195d-227">Изменение формата предоставленного решения ER</span><span class="sxs-lookup"><span data-stu-id="e195d-227">Modify the format of the provided ER solution</span></span>

#### <a name="apply-a-new-check-template"></a><a name="ExampleModifyFormatApplyTemplate"></a><span data-ttu-id="e195d-228">Применение нового шаблона чека</span><span class="sxs-lookup"><span data-stu-id="e195d-228">Apply a new check template</span></span>

<span data-ttu-id="e195d-229">Можно использовать приложение рабочего стола Excel, чтобы открыть файл **Cheque template Excel.xlsx** , который был импортирован ранее.</span><span class="sxs-lookup"><span data-stu-id="e195d-229">You can use the Excel desktop application to open the **Cheque template Excel.xlsx** file that you imported earlier.</span></span> <span data-ttu-id="e195d-230">Обратите внимание, что этот шаблон отличается от шаблона, использованного для создания чека платежа в предоставленном решении ER.</span><span class="sxs-lookup"><span data-stu-id="e195d-230">Notice that this template differs from the template that you used to generate a payment check in the provided ER solution.</span></span> <span data-ttu-id="e195d-231">Кроме того, он включает элемент **AmountBarcode** для изображения штрихкода.</span><span class="sxs-lookup"><span data-stu-id="e195d-231">In addition, it includes an **AmountBarcode** element for the bar code image.</span></span>

![Элемент AmountBarcode в шаблоне Excel](./media/er-barcode-data-source-cheque2.png)

<span data-ttu-id="e195d-233">Теперь необходимо изменить решение ER, а затем [повторно применить](modify-electronic-reporting-format-reapply-excel-template.md) измененный шаблон.</span><span class="sxs-lookup"><span data-stu-id="e195d-233">You must now modify the ER solution and then [reapply](modify-electronic-reporting-format-reapply-excel-template.md) the modified template.</span></span>

1. <span data-ttu-id="e195d-234">Перейдите в раздел **Управление организацией** \> **Рабочие области** \> **Электронная отчетность**.</span><span class="sxs-lookup"><span data-stu-id="e195d-234">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="e195d-235">На странице **Конфигурации локализации** в разделе **Конфигурации** выберите **Конфигурации отчетности**.</span><span class="sxs-lookup"><span data-stu-id="e195d-235">On the **Localization configurations** page, in the **Configurations** section, select **Reporting configurations**.</span></span>
3. <span data-ttu-id="e195d-236">На странице **Конфигурации** в дереве конфигурации разверните **Модель для чеков** и выберите **Формат печати чеков**.</span><span class="sxs-lookup"><span data-stu-id="e195d-236">On the **Configurations** page, in the configuration tree, expand **Model for cheques** , and select **Cheques printing format**.</span></span>
4. <span data-ttu-id="e195d-237">В области действий выберите **Конструктор**.</span><span class="sxs-lookup"><span data-stu-id="e195d-237">On the Action Pane, select **Designer**.</span></span>
5. <span data-ttu-id="e195d-238">В конструкторе операций электронной отчетности выберите вкладку **Сопоставление** в правой части страницы, затем на панели в дереве формата слева выберите **Развернуть/свернуть**.</span><span class="sxs-lookup"><span data-stu-id="e195d-238">In the ER Operations designer, select the **Mapping** tab on the right side of the page, and then, in the format tree pane on the left, select **Expand/collapse**.</span></span>
6. <span data-ttu-id="e195d-239">Обратите внимание, что все элементы формата ячейки привязаны к соответствующим источникам данных.</span><span class="sxs-lookup"><span data-stu-id="e195d-239">Notice that all cell format elements are bound to the appropriate data sources.</span></span>

    ![Привязка элементов формата ячейки к источникам данных в конструкторе операций ER](./media/er-barcode-data-source-cells-bound.png)

7. <span data-ttu-id="e195d-241">Выберите вкладку **Формат** в правой части страницы.</span><span class="sxs-lookup"><span data-stu-id="e195d-241">Select the **Format** tab on the right side of the page.</span></span>
8. <span data-ttu-id="e195d-242">На панели операций выберите многоточие ( **...** ), затем выберите **Импорт**.</span><span class="sxs-lookup"><span data-stu-id="e195d-242">On the Action Pane, select the ellipsis ( **...** ), and then select **Import**.</span></span>
9. <span data-ttu-id="e195d-243">В группе **Импорт** выберите **Обновить из Excel** , затем выберите **Обновить шаблон**.</span><span class="sxs-lookup"><span data-stu-id="e195d-243">In the **Import** group, select **Update from Excel** , and then select **Update template**.</span></span>
10. <span data-ttu-id="e195d-244">В диалоговом окне перейдите к файлу **Cheque template Excel.xlsx** , сохраненному на компьютере, выберите его и выберите **ОК** , чтобы подтвердить применение выбранного шаблона.</span><span class="sxs-lookup"><span data-stu-id="e195d-244">In the dialog box, browse to the **Cheque template Excel.xlsx** file that is saved on your computer, select it, and then select **OK** to confirm that the selected template should be applied.</span></span>
11. <span data-ttu-id="e195d-245">Выберите вкладку **Сопоставление** в правой части страницы, затем на панели в дереве формата слева выберите **Развернуть/свернуть**.</span><span class="sxs-lookup"><span data-stu-id="e195d-245">Select the **Mapping** tab on the right side of the page, and then, in the format tree pane on the left, select **Expand/collapse**.</span></span>
12. <span data-ttu-id="e195d-246">Обратите внимание, что элемент ячейки **AmountBarcode** был добавлен к формату.</span><span class="sxs-lookup"><span data-stu-id="e195d-246">Notice that the **AmountBarcode** cell element has been added to the format.</span></span> <span data-ttu-id="e195d-247">Этот элемент связан с элементом **AmountBarcode** , который был добавлен в измененный шаблон Excel в качестве заполнителя для изображения штрихкода.</span><span class="sxs-lookup"><span data-stu-id="e195d-247">This element is associated with the **AmountBarcode** element that has been added to the modified Excel template as a placeholder for a bar code image.</span></span>

    ![Элемент ячейки AmountBarcode добавлен в формат в конструкторе операций ER](./media/er-barcode-data-source-cell-added.png)

#### <a name="add-a-new-barcode-data-source"></a><a name="ExampleModifyFormatAddDataSource"></a><span data-ttu-id="e195d-249">Добавление нового источника данных штрихкода</span><span class="sxs-lookup"><span data-stu-id="e195d-249">Add a new Barcode data source</span></span>

<span data-ttu-id="e195d-250">Далее необходимо добавить новый источник данных типа **Штрихкод**.</span><span class="sxs-lookup"><span data-stu-id="e195d-250">Next, you must add a new data source of the **Barcode** type.</span></span>

1. <span data-ttu-id="e195d-251">В конструкторе операций электронной отчетности на вкладке **Сопоставление** в правой части страницы выберите источник данных для **печати**.</span><span class="sxs-lookup"><span data-stu-id="e195d-251">In the ER Operations designer, on the **Mapping** tab on the right side of the page, select the **print** data source.</span></span>
2. <span data-ttu-id="e195d-252">Выберите **Добавить** , затем в группе **Функции** выберите тип источника данных **Штрихкод**.</span><span class="sxs-lookup"><span data-stu-id="e195d-252">Select **Add** , and then, in the **Functions** group, select the **Barcode** data source type.</span></span>

    ![Выбор типа источника данных штрихкода](./media/er-barcode-data-source-add.png)

3. <span data-ttu-id="e195d-254">В диалоговом окне в поле **Имя** введите **штрихкод**.</span><span class="sxs-lookup"><span data-stu-id="e195d-254">In the dialog box, in the **Name** field, enter **barcode**.</span></span>
4. <span data-ttu-id="e195d-255">В поле **Формат штрихкода** выберите **Код 128**.</span><span class="sxs-lookup"><span data-stu-id="e195d-255">In the **Barcode format** , select **Code 128**.</span></span>
5. <span data-ttu-id="e195d-256">В поле **Ширина** введите **500**.</span><span class="sxs-lookup"><span data-stu-id="e195d-256">In the **Width** field, enter **500**.</span></span>
6. <span data-ttu-id="e195d-257">Нажмите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="e195d-257">Select **OK**.</span></span>

    ![Диалоговое окно свойств источника данных](./media/er-barcode-data-source-add2.png)

#### <a name="bind-a-new-format-element"></a><a name="ExampleModifyFormatBindFormatElement"></a><span data-ttu-id="e195d-259">Привязка нового элемента формата</span><span class="sxs-lookup"><span data-stu-id="e195d-259">Bind a new format element</span></span>

<span data-ttu-id="e195d-260">Далее необходимо связать новый элемент форматирования с добавленным источником данных.</span><span class="sxs-lookup"><span data-stu-id="e195d-260">Next, you must bind the new format element to the data source that you just added.</span></span>

1. <span data-ttu-id="e195d-261">В конструкторе операций электронной отчетности на вкладке **Сопоставление** в правой части страницы выберите источник данных **печать\\штрихкод**.</span><span class="sxs-lookup"><span data-stu-id="e195d-261">In the ER Operations designer, on the **Mapping** tab on the right side of the page, select the **print\\barcode** data source.</span></span>
2. <span data-ttu-id="e195d-262">На панели дерева формата слева выберите элемент ячейки **AmountBarcode** , затем выберите **Связать**.</span><span class="sxs-lookup"><span data-stu-id="e195d-262">In the format tree pane on the left, select the **AmountBarcode** cell element, and then select **Bind**.</span></span>
3. <span data-ttu-id="e195d-263">В области действий выберите **Показать сведения**.</span><span class="sxs-lookup"><span data-stu-id="e195d-263">On the Action Pane, select **Show details**.</span></span>
4. <span data-ttu-id="e195d-264">Обратите внимание, что поскольку источник данных **Штрихкод** представлен в привязке в виде функции, содержащей один параметр, имя связанного элемента форматирования было автоматически взято в качестве аргумента этого параметра.</span><span class="sxs-lookup"><span data-stu-id="e195d-264">Notice that, because the **Barcode** data source is represented in the binding as a function that contains a single parameter, the name of the bound format element has been automatically taken as the argument of that parameter.</span></span>

    ![Сведения об источнике данных штрихкода в конструкторе операций электронной отчетности](./media/er-barcode-data-source-bind1.png)

5. <span data-ttu-id="e195d-266">Для корректировки привязки выберите команду **Изменить формулу**.</span><span class="sxs-lookup"><span data-stu-id="e195d-266">Select **Edit formula** to adjust the binding.</span></span>

    <span data-ttu-id="e195d-267">Вам не нужно, чтобы возвращалось имя элемента ячейки.</span><span class="sxs-lookup"><span data-stu-id="e195d-267">You don't want the name of the cell element to be returned.</span></span> <span data-ttu-id="e195d-268">Поэтому необходимо настроить выражение, возвращающее текст, который содержит сумму платежа для текущего чека.</span><span class="sxs-lookup"><span data-stu-id="e195d-268">Therefore, you must configure an expression that returns text that contains the payable amount of the current check.</span></span> <span data-ttu-id="e195d-269">Так как родительский диапазон **ChequeLines** привязан к источнику данных **model.cheques** , сумма оплаты текущего чека доступна в поле **model.cheques.attributes.amount** типа данных **Вещественный**.</span><span class="sxs-lookup"><span data-stu-id="e195d-269">Because the parent **ChequeLines** range is bound to the **model.cheques** data source, the payable amount of the current check is available in the **model.cheques.attributes.amount** field of the **Real** data type.</span></span>

6. <span data-ttu-id="e195d-270">В поле **Формула** введите **print.barcode(NUMBERFORMAT(@.attributes.amount, "F2"))**.</span><span class="sxs-lookup"><span data-stu-id="e195d-270">In the **Formula** field, enter **print.barcode(NUMBERFORMAT(@.attributes.amount, "F2"))**.</span></span>
7. <span data-ttu-id="e195d-271">Выберите **Сохранить** , затем закройте [конструктор формул ER](general-electronic-reporting-formula-designer.md).</span><span class="sxs-lookup"><span data-stu-id="e195d-271">Select **Save** , and then close the [ER Formula designer](general-electronic-reporting-formula-designer.md).</span></span>
8. <span data-ttu-id="e195d-272">Обратите внимание, что привязка была изменена.</span><span class="sxs-lookup"><span data-stu-id="e195d-272">Notice that the binding has been adjusted.</span></span>

    ![Скорректированная привязка в конструкторе операций ER](./media/er-barcode-data-source-bind2.png)

9. <span data-ttu-id="e195d-274">Выберите **Сохранить** , затем закройте конструктор операций ER.</span><span class="sxs-lookup"><span data-stu-id="e195d-274">Select **Save** , and then close the ER Operations designer.</span></span>

#### <a name="make-the-modified-version-available-for-test-runs"></a><a name="ExampleModifyFormatMakeVersionAvailable"></a><span data-ttu-id="e195d-275">Создание измененной версии, доступной для тестового запуска</span><span class="sxs-lookup"><span data-stu-id="e195d-275">Make the modified version available for test runs</span></span>

<span data-ttu-id="e195d-276">По умолчанию при выполнении формата ER используются только те версии, которые имеют статус **Завершено** и **Общие**.</span><span class="sxs-lookup"><span data-stu-id="e195d-276">By default, the only versions that have a status of **Completed** and **Shared** are used when you run an ER format.</span></span>

<span data-ttu-id="e195d-277">После завершения изменений можно выполнить работу с текущей черновой версией и сделать изменения доступными для использования.</span><span class="sxs-lookup"><span data-stu-id="e195d-277">If you've finalized your changes, you can complete your work with the current draft version and make your changes available for use.</span></span> <span data-ttu-id="e195d-278">Инструкции см. в разделе [Выполнение измененной версии формата](#CompleteToRun) ниже.</span><span class="sxs-lookup"><span data-stu-id="e195d-278">For instructions, see the [Complete the modified format version](#CompleteToRun) section that follows.</span></span>

<span data-ttu-id="e195d-279">Если необходимо продолжить работу с текущей черновой версией, но ее необходимо использовать для создания чеков, необходимо явно указать, что необходимо использовать черновую версию формата для выполнения.</span><span class="sxs-lookup"><span data-stu-id="e195d-279">If you want to continue to work with the current draft version, but you have to use it to generate checks, you must explicitly specify that you want to use the draft version of the format for execution.</span></span> <span data-ttu-id="e195d-280">Инструкции см. в разделе [Разрешение использования черновой версии](#MarkToRun).</span><span class="sxs-lookup"><span data-stu-id="e195d-280">For instructions, see the [Make the draft version available for use](#MarkToRun) section.</span></span>

##### <a name="complete-the-modified-format-version"></a><a name="CompleteToRun"></a><span data-ttu-id="e195d-281">Выполнение измененной версии формата</span><span class="sxs-lookup"><span data-stu-id="e195d-281">Complete the modified format version</span></span>

1. <span data-ttu-id="e195d-282">Перейдите в раздел **Управление организацией** \> **Рабочие области** \> **Электронная отчетность**.</span><span class="sxs-lookup"><span data-stu-id="e195d-282">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="e195d-283">На странице **Конфигурации локализации** в разделе **Конфигурации** выберите **Конфигурации отчетности**.</span><span class="sxs-lookup"><span data-stu-id="e195d-283">On the **Localization configurations** page, in the **Configurations** section, select **Reporting configurations**.</span></span>
3. <span data-ttu-id="e195d-284">На странице **Конфигурации** в дереве конфигурации разверните **Модель для чеков** и выберите **Формат печати чеков**.</span><span class="sxs-lookup"><span data-stu-id="e195d-284">On the **Configurations** page, in the configuration tree, expand **Model for cheques** , and select **Cheques printing format**.</span></span>
4. <span data-ttu-id="e195d-285">На экспресс-вкладке **Версии** выберите запись со статусом **Черновик**.</span><span class="sxs-lookup"><span data-stu-id="e195d-285">On the **Versions** FastTab, select the record that has a status of **Draft**.</span></span>
5. <span data-ttu-id="e195d-286">Выберите **Изменить статус** , затем выберите **Завершено**.</span><span class="sxs-lookup"><span data-stu-id="e195d-286">Select **Change status** , and then select **Complete**.</span></span>
6. <span data-ttu-id="e195d-287">В диалоговом окне выберите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="e195d-287">In the dialog box, select **OK**.</span></span>

<span data-ttu-id="e195d-288">Статус текущей версии изменяется с **Черновик** на **Завершено** , и новая версия со статусом **Черновик** создается.</span><span class="sxs-lookup"><span data-stu-id="e195d-288">The status of the current version is changed from **Draft** to **Completed** , and a new version that has a status of **Draft** is created.</span></span> <span data-ttu-id="e195d-289">Эту новую черную версию можно использовать для применения дополнительных изменений.</span><span class="sxs-lookup"><span data-stu-id="e195d-289">You can use this new draft version to apply additional changes.</span></span>

##### <a name="make-the-draft-version-available-for-use"></a><a name="MarkToRun"></a><span data-ttu-id="e195d-290">Разрешение использования черновой версии</span><span class="sxs-lookup"><span data-stu-id="e195d-290">Make the draft version available for use</span></span>

1. <span data-ttu-id="e195d-291">Перейдите в раздел **Управление организацией** \> **Рабочие области** \> **Электронная отчетность**.</span><span class="sxs-lookup"><span data-stu-id="e195d-291">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="e195d-292">На странице **Конфигурации локализации** в разделе **Конфигурации** выберите **Конфигурации отчетности**.</span><span class="sxs-lookup"><span data-stu-id="e195d-292">On the **Localization configurations** page, in the **Configurations** section, select **Reporting configurations**.</span></span>
3. <span data-ttu-id="e195d-293">На странице **Конфигурации** в области действий на вкладке **Конфигурации** в группе **Дополнительные параметры** выберите **Параметры пользователя**.</span><span class="sxs-lookup"><span data-stu-id="e195d-293">On the **Configurations** page, on the Action Pane, in the **Configurations** tab, in the **Advance settings** group, select **User parameters**.</span></span>
4. <span data-ttu-id="e195d-294">В диалоговом окне установите для параметров **Параметр выполнения** значение **Да** , затем выберите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="e195d-294">In the dialog box, set the **Run setting** options to **Yes** , and then select **OK**.</span></span>
5. <span data-ttu-id="e195d-295">В дереве конфигурации разверните **Модель для чеков** и выберите **Формат печати чеков**.</span><span class="sxs-lookup"><span data-stu-id="e195d-295">In the configuration tree, expand **Model for cheques** , and select **Cheques printing format**.</span></span>
6. <span data-ttu-id="e195d-296">Для параметра **Выполнить черновик** выберите значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="e195d-296">Set the **Run draft** option to **Yes**.</span></span>
7. <span data-ttu-id="e195d-297">Нажмите **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="e195d-297">Select **Save**.</span></span>

<span data-ttu-id="e195d-298">Черновая версия выбранного формата помечается как доступная для использования при выполнении выбранного формата.</span><span class="sxs-lookup"><span data-stu-id="e195d-298">The draft version of the selected format is marked as available for use when the selected format is run.</span></span>

### <a name="generate-a-payment-check"></a><a name="ExampleGenerateCheque2"></a><span data-ttu-id="e195d-299">Создание чека платежа</span><span class="sxs-lookup"><span data-stu-id="e195d-299">Generate a payment check</span></span>

1. <span data-ttu-id="e195d-300">Перейдите в раздел **Управление банком и кассовыми операциями** \> **Банковские счета** \> **Банковские счета**.</span><span class="sxs-lookup"><span data-stu-id="e195d-300">Go to **Cash and bank management** \> **Bank accounts** \> **Bank accounts**.</span></span>
2. <span data-ttu-id="e195d-301">На странице **Банковские счета** выберите счет **USMF OPER**.</span><span class="sxs-lookup"><span data-stu-id="e195d-301">On the **Bank accounts** page, select the **USMF OPER** account.</span></span>
3. <span data-ttu-id="e195d-302">На странице сведений о банковском счете в области действий на вкладке **Настройка** в группе **Макет** выберите **Чек**.</span><span class="sxs-lookup"><span data-stu-id="e195d-302">On the bank account details page, on the Action Pane, on the **Set up** tab, in the **Layout** group, select **Check**.</span></span>
4. <span data-ttu-id="e195d-303">На странице **Макет чека** на панели операций выберите **Тест печати**.</span><span class="sxs-lookup"><span data-stu-id="e195d-303">On the **Check layout** page, on the Action Pane, select **Print test**.</span></span>
5. <span data-ttu-id="e195d-304">В диалоговом окне установите для параметра **Формат оборотных чеков** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="e195d-304">In the dialog box, set the **Negotiable check format** option to **Yes**.</span></span>
6. <span data-ttu-id="e195d-305">Нажмите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="e195d-305">Select **OK**.</span></span>
7. <span data-ttu-id="e195d-306">Просмотрите сформированный чек.</span><span class="sxs-lookup"><span data-stu-id="e195d-306">Review the generated check.</span></span> <span data-ttu-id="e195d-307">Обратите внимание, что был создан штрихкод для кодирования суммы платежа в чеке.</span><span class="sxs-lookup"><span data-stu-id="e195d-307">Notice that a bar code has been generated to encode the payable amount of the check.</span></span>

    ![Созданный чек платежа со штрихкодом в Excel](./media/er-barcode-data-source-cheque3.png)

> [!IMPORTANT]
> <span data-ttu-id="e195d-309">Исключение генерируется, если аргумент источника данных **Штрихкод** не соответствует требованиям, предъявляемым к формату штрихкода.</span><span class="sxs-lookup"><span data-stu-id="e195d-309">An exception is thrown if the argument of a **Barcode** data source doesn't comply with the appropriate requirements that are specific to the bar code format.</span></span> <span data-ttu-id="e195d-310">Например, при вызове источника данных **Штрихкод** для создания штрихкода [EAN-8](https://wikipedia.org/wiki/EAN-8) для указанного текста, создается исключение, если длина текста превышает семь символов.</span><span class="sxs-lookup"><span data-stu-id="e195d-310">For example, when the **Barcode** data source is called to generate an [EAN-8](https://wikipedia.org/wiki/EAN-8) bar code for the provided text, an exception is thrown if the length of the text exceeds seven characters.</span></span>

### <a name="convert-the-generated-check-to-a-pdf"></a><a name="ExampleConvertToPDF"></a><span data-ttu-id="e195d-311">Преобразование созданного чека в PDF-файл</span><span class="sxs-lookup"><span data-stu-id="e195d-311">Convert the generated check to a PDF</span></span>

<span data-ttu-id="e195d-312">Как описано в разделе [Создание форм для печати FTI](er-generate-printable-fti-forms.md#finland), можно использовать специальный шрифт для создания штрихкодов в созданном документе.</span><span class="sxs-lookup"><span data-stu-id="e195d-312">As described in the [Generate printable FTI forms](er-generate-printable-fti-forms.md#finland) topic, you can use a special font to produce bar codes in a generated document.</span></span> <span data-ttu-id="e195d-313">В этом случае дополнительные преобразования создаваемого документа могут зависеть от доступности этого шрифта в среде преобразования.</span><span class="sxs-lookup"><span data-stu-id="e195d-313">In this case, additional transformations of the generated document might depend on the availability of that font in the transformation environment.</span></span> <span data-ttu-id="e195d-314">Например, при попытке преобразовать документ в формат PDF или просмотреть его в среде, в которой отсутствует шрифт, штрихкоды не будут отображаться правильно.</span><span class="sxs-lookup"><span data-stu-id="e195d-314">For example, if you try to convert a document to PDF format or preview it in an environment where the font is missing, bar codes won't be rendered correctly.</span></span>

<span data-ttu-id="e195d-315">Однако при использовании источника данных **Штрихкод** для создания штрихкодов отображение этих штрихкодов не зависит от шрифта.</span><span class="sxs-lookup"><span data-stu-id="e195d-315">However, when you use the **Barcode** data source to produce bar codes, the rendering of those bar codes doesn't depend on any font.</span></span> <span data-ttu-id="e195d-316">Таким образом, можно легко преобразовать документы, содержащие штрихкоды, в формат PDF.</span><span class="sxs-lookup"><span data-stu-id="e195d-316">Therefore, you can easily convert documents that contain the bar codes to PDF format.</span></span> <span data-ttu-id="e195d-317">На следующем рисунке показан предварительный просмотр созданного чека платежа, который был [преобразован](electronic-reporting-destinations.md#OutputConversionToPDF) в PDF-файл на основе настройки настроенного [места назначения](electronic-reporting-destinations.md) электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="e195d-317">The following illustration shows the preview of a generated payment check that has been [converted](electronic-reporting-destinations.md#OutputConversionToPDF) to a PDF, based on the setting of the configured ER [destination](electronic-reporting-destinations.md).</span></span>

![Предварительный просмотр чека платежа в формате PDF](./media/er-barcode-data-source-cheque4.png)

## <a name="limitations"></a><span data-ttu-id="e195d-319">Ограничения</span><span class="sxs-lookup"><span data-stu-id="e195d-319">Limitations</span></span>

> [!NOTE]
> <span data-ttu-id="e195d-320">Некоторые типы создаваемых штрихкодов имеют фиксированные пропорции.</span><span class="sxs-lookup"><span data-stu-id="e195d-320">Some types of bar codes that are generated have a fixed aspect ratio.</span></span> <span data-ttu-id="e195d-321">Такое поведение имеет смысл, если включена функция **Включить использование библиотеки EPPlus в платформе электронной отчетности** , чтобы работать с документами Excel в электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="e195d-321">This behavior makes sense if you've turned on the **Enable usage of EPPlus library in Electronic reporting framework** feature to work with Excel documents in ER.</span></span> <span data-ttu-id="e195d-322">В этом случае изображение вводится в местозаполнитель, который имеет заблокированную пропорцию.</span><span class="sxs-lookup"><span data-stu-id="e195d-322">In that case, an image is entered into a placeholder that has a locked aspect ratio.</span></span> <span data-ttu-id="e195d-323">Таким образом, когда размеры местозаполнителя в шаблоне соответствуют соотношениям изображения, которое введено, можно изменить размер реального изображения в созданном документе, чтобы сохранить необходимые пропорции.</span><span class="sxs-lookup"><span data-stu-id="e195d-323">Therefore, when the dimensions of a placeholder in a template correspond to the ratio of an image that is entered, a real picture in a generated document might be resized to maintain the required aspect ratio.</span></span> <span data-ttu-id="e195d-324">Чтобы не допустить изменения размера изображения, используйте местозаполнитель с ожидаемыми пропорциями.</span><span class="sxs-lookup"><span data-stu-id="e195d-324">To prevent picture resizing, use a placeholder that has an expected aspect ratio.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="e195d-325">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="e195d-325">Additional resources</span></span>

- [<span data-ttu-id="e195d-326">Обзор электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="e195d-326">Electronic Reporting overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="e195d-327">Места назначения электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="e195d-327">Electronic Reporting destinations</span></span>](electronic-reporting-destinations.md)
- [<span data-ttu-id="e195d-328">Язык формул электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="e195d-328">Electronic reporting formula language</span></span>](er-formula-language.md)
- [<span data-ttu-id="e195d-329">Функция NUMBERFORMAT</span><span class="sxs-lookup"><span data-stu-id="e195d-329">NUMBERFORMAT function</span></span>](er-functions-text-numberformat.md)
