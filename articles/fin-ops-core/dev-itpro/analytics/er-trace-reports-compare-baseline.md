---
title: Отслеживание результатов из сформированного отчета и их сравнение с базовыми значениями
description: В этом теме рассматриваются способы сравнения результатов созданных отчетов электронной отчетности (ER) с базовыми значениями отчета.
author: NickSelin
manager: AnnBe
ms.date: 06/17/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2018-04-01
ms.dyn365.ops.version: Release 8.0
ms.openlocfilehash: d89922bd10b6db17d3fee22409137d6ec966858b
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2020
ms.locfileid: "4682831"
---
# <a name="trace-generated-report-results-and-compare-them-with-baseline-values"></a>Отслеживание результатов из сформированного отчета и их сравнение с базовыми значениями

[!include[banner](../includes/banner.md)]

Можно отслеживать результаты форматов электронной отчетности (ER), создающих исходящие электронные документы. При включении трассировки создания (используя параметр пользователя ER **Запустить в режиме отладки**), новая запись трассировки создается в журнале выполнения формата ER каждый раз при запуске отчета ER. Следующие сведения хранятся в каждой создаваемой трассировке:

- Все предупреждения, созданные с помощью правил проверки
- Все ошибки, созданные с помощью правил проверки
- Все созданные файлы, которые хранятся в виде вложений к записи трассировки

Можно сохранять отдельные файлы приложения для любого формата ER. Файлы считаются базовыми файлами, когда они описывают ожидаемые результаты отчетов, которые выполняются. Если базовый файл доступен для формата ER, выполняющегося при включенном создании трассировки, трассировка сохраняет, в дополнение к сведениям, которые были указаны ранее, результат сравнения созданного электронного документа с базовым файлом. Одним щелчком мыши можно также получить созданный элетронный документ и его базовые файлы в одном ZIP-файл. Затем можно выполнить подробное сравнение с помощью внешнего инструмента, например WinDiff.

Чтобы оценить трассировку для выяснения, включают ли создаваемые электронные документов ожидаемое содержимое. Это можно сделать эту оценку в среде приемочного тестирования пользователями (UAT) при изменении базы кода (например, при переходе на новый экземпляр приложения, установленных пакетов исправлений или развертке модификаций кода). Таким образом можно убедиться в том, что оценка не влияет на выполнение отчетов ER, которые используются. Для многих отчетов ER оценка может выполняться в автоматическом режиме.

Для получения дополнительных сведений о данном компоненте, воспроизведите проводники по задаче **ER создать отчеты и сравнить результаты (часть 1)** и **ER создать отчеты и сравнить результаты (часть 2)**, которые являются частью бизнес-процесса **7.5.4.3 Тестирование ИТ-услуг и решений (10679)** и может быть загружены из [центра загрузки Майкрософт](https://go.microsoft.com/fwlink/?linkid=874684). Эти проводники по задаче объясняют процесс настройки структуры ER, для использования базовых файлов для оценки созданных электронных документов.

## <a name="example-trace-generated-report-results-and-compare-them-with-baseline-values"></a>Пример. Отслеживание результатов из сформированного отчета и их сравнение с базовыми значениями

Данная процедура описывает, как настроить платформу ER для сбора сведений о выполнении формата ER, а затем оценить результаты этих выполнений. В ходе этой оценки созданные документы сравниваются с их базовыми файлами. В этом примере вам предстоит создать необходимые конфигурации ER для демонстрационной компании Litware, Inc. Эта процедура предназначена для пользователей, которым назначена роль "Системный администратор" или "Разработчик электронной отчетности". Эти шаги можно выполнить с использованием любого набора данных.

Для выполнения шагов в этом примере необходимо сначала выполнить шаги в процедуре [Создание поставщиков конфигураций и пометка их как активных](tasks/er-configuration-provider-mark-it-active-2016-11.md).

1. Перейдите в раздел **Управление организацией** \> **Рабочие области** \> **Электронная отчетность**.
2. На странице **Конфигурации локализации** в разделе **Поставщики конфигурации** убедитесь, что поставщик конфигурации для демонстрационной компании Litware, Inc. указан и помечен как **Активный**. Если вы не видите этого поставщика конфигурации, выполните шаги в процедуре [Создание поставщиков конфигураций и пометка их как активных](tasks/er-configuration-provider-mark-it-active-2016-11.md).

### <a name="configure-document-management-parameters"></a>Настройка параметров управления документооборотом

1. Перейдите к разделу **Администрирование организации** \> **Управление документами** \> **Типы документов** и создайте новый тип документа для хранения базисных файлов.
2. В поле **Класс** введите **Вложить файл**.
3. В поле **Группа** введите **Файл**.

![Страница типов документов](media/GER-BaselineSample-SetupDocumentType.PNG "Снимок экрана страницы типов документов")

> [!NOTE]
> Новый тип документа с таким же именем должен быть настроен для каждого набора данных, в котором планируется использовать базовую функцию ER.

### <a name="configure-er-parameters-to-start-to-use-the-baseline-feature"></a>Настройка параметров ER для начала использования базовой функции

1. В рабочей области **Электронная отчетность** в разделе **Связанные ссылки** выберите **Параметры электронной отчетности**.

    ![Рабочая область электронной отчетности](media/GER-BaselineSample-ERWorkspace.PNG "Снимок экрана рабочей области электронной отчетности")

2. На вкладке **Вложения** в поле **Базовая** введите или выберите тип документа, который был только что создан.

    ![Вкладка "Вложения" страницы параметров электронной отчетности](media/GER-BaselineSample-ERParameters.PNG "Снимок экрана параметров электронной отчетности")

3. Выберите **Сохранить**, затем закройте страницу **Параметры электронной отчетности**.

### <a name="add-a-new-er-model-configuration"></a>Добавление новой конфигурации модели ER

1. В рабочей области **Электронная отчетность** в разделе **Конфигурации** выберите плитку **Конфигурации отчетности**.
2. В панели операций выберите **Создать конфигурацию**.
3. В диалоговом окне в раскрывающемся списке в поле **Имя** введите **Модель для изучения базовых образцов ER**.
4. Выберите **Создать конфигурацию**, чтобы подтвердить создание новой записи модели данных ER.

![Раскрывающееся диалоговое окно создания конфигурации](media/GER-BaselineSample-ModelAdd.PNG "Снимок экрана раскрывающегося диалогового окна создания конфигурации")

### <a name="design-a-data-model"></a>Разработка модели данных

1. На странице **Конфигурации** на панели действий выберите **Конструктор**.
2. Выберите **Создать**.
3. В диалоговом окне в раскрывающемся списке в поле **Имя** введите **Корень**.
4. Выберите **Добавить**.
5. Выберите **Корневая ссылка**.
6. Выберите **ОК**, затем выберите **Сохранить**.
7. Закройте страницу **Конструктор моделей**.
8. Выберите **Изменить статус**.
9. Выберите **Завершить**, затем выберите **ОК**.

![Страница конфигураций](media/GER-BaselineSample-ModelComplete.PNG "Снимок экрана страницы конфигураций")

### <a name="add-a-new-er-format-configuration"></a>Добавление новой конфигурации формата электронной отчетности

1. На странице **Конфигурации** на панели действий выберите **Создать конфигурацию**.
2. В раскрывающемся диалоговом окне в группе полей **Создать** выберите **Формат, основанный на модели "Модель для изучения базовых образцов ER"**.
3. В поле **Имя** введите **Формат для изучения базовых образцов ER**.
4. Выберите **Создать конфигурацию**, чтобы подтвердить создание новой записи формата ER.

![Раскрывающееся диалоговое окно создания конфигурации](media/GER-BaselineSample-FormatAdd.PNG "Снимок экрана раскрывающегося диалогового окна создания конфигурации")

### <a name="design-a-format"></a>Разработка формата

В данном примере создается простой формат ER для создания XML-документов.

1. На странице **Конфигурации** на панели действий выберите **Конструктор**.
2. Выберите **Добавить корень**.
2. В раскрывающемся диалоговом окне выполните следующие действия:

    1. В дереве выберите **Общее\\Файл**.
    2. В поле **Имя** введите **Вывод**.
    3. Нажмите **ОК**.

3. Выберите **Добавить**.
4. В раскрывающемся диалоговом окне выполните следующие действия:

    1. В дереве выберите **XML\\Элемент**.
    2. В поле **Имя** введите **Документ**.
    3. Нажмите **ОК**.

5. В дереве выберите **Вывод\\Документ**.
6. Выберите **Добавить**.
7. В раскрывающемся диалоговом окне выполните следующие действия:

    1. В дереве выберите **XML\\Атрибут**.
    2. В поле **Имя** введите **ИД**.
    3. Нажмите **ОК**.

    ![Страница конструктора форматов](media/GER-BaselineSample-FormatLayoutDesign.PNG "Снимок экрана страницы конструктора формата")

8. На вкладке **Сопоставление** выберите **Удалить**.
9. Выберите **Добавить корень**.
10. В раскрывающемся диалоговом окне в дереве выберите **Общее\\Параметр пользовательского ввода**, затем выполните следующие действия:

    1. В поле **Имя** введите **ИД**.
    2. В поле **Подпись** введите **Введите ИД**.
    3. Нажмите **ОК**.

11. В дереве выберите **Вывод\\Документ\\ИД**.
12. Выберите **Связать**, затем выберите **Сохранить**.

![Страница конструктора форматов](media/GER-BaselineSample-FormatMappingDesign.PNG "Снимок экрана страницы конструктора формата")

На основе разработанной структуры настроенный формат создаст файл XML. Этот XML-код содержит элемент **Корень** с атрибутом **ИД**, который имеет значение, введенное пользователем в диалоговом окне во время выполнения электронной отчетности.

### <a name="generate-a-new-baseline-file-for-a-designed-er-format"></a>Создание нового файла базового шаблона для разработанного формата ER

1. На странице **Конфигурации** на экспресс-вкладке **Версии** выберите **Выполнить**.
2. В поле **Введите ИД** введите **1**.
3. Нажмите **ОК**.

    ![Диалоговое окно параметров электронной отчетности](media/GER-BaselineSample-FormatRunToMakeBaselineFile1.PNG "Снимок экрана диалогового окна параметров электронной отчетности")

4. Сохраните локальную копию созданного файла **out.Admin.xml**. чтобы его можно было использовать позже в качестве базового шаблона для этого формата ER.

    ![Уведомление о созданном файле на странице "Конфигурации"](media/GER-BaselineSample-FormatRunToMakeBaselineFile2.PNG "Снимок экрана уведомления о созданном файле на странице "Конфигурации"")

### <a name="configure-er-parameters-to-use-the-baseline-feature"></a>Настройка параметров ER для использования функции базовых образцов

1. На странице **Конфигурации** в области действий на вкладке **Конфигурации** выберите **Параметры пользователя**.
2. Установите для параметра **Запустить в режиме отладки** значение **Да**.
3. Нажмите **ОК**.

![Диалоговое окно параметров пользователя](media/GER-BaselineSample-ERUserParameters.PNG "Снимок экрана диалогового окна параметров пользователя")

### <a name="add-a-new-baseline-for-designed-er-format"></a>Добавление нового базового шаблона для разработанного формата ER

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. В области действий выберите **Базовые**.

    ![Кнопка базовых образцов на странице конфигураций](media/GER-BaselineSample-OpenBaselinePage.PNG "Снимок экрана кнопки базовых образцов на странице конфигураций")

3. В области действий выберите **Создать**.
4. Выберите формат ER **Формат для изучения базовых образцов ER**, который был создан ранее.
5. Нажмите **Сохранить**.

![Страница базовых образцов формата электронной отчетности](media/GER-BaselineSample-AddBaseline.PNG "Снимок экрана страницы базовых образцов формата электронной отчетности")

Базовый образец добавляется в формат **Формат для изучения базовых образцов ER**.

### <a name="configure-a-baseline-rule-for-the-added-baseline"></a>Настройка базового правила для добавленного базового образца

1. На странице **Базовые образцы формата электронной отчетности** на панели операций выберите кнопку **Вложения** (символ скрепки для бумаги).
2. В области действий выберите **Создать** \> **Файл**. В параметрах электронной отчетности тип документа **Файл** должен быть ранее выбран в качестве типа документа, используемого для хранения базисных файлов.
3. Выберите **Обзор** и выберите файл **out.Admin.xml**, созданный при выполнении ранее настроенного формата ER.

    ![Страница вложений](media/GER-BaselineSample-UploadBaselineFile.PNG "Снимок экрана страницы вложений")

4. Закройте страницу **Вложения**.
5. На экспресс-вкладке **Базовые** выберите **Создать**.
6. В поле **Имя** введите **Базовый 1**.
7. В поле **Имя компонента файла** введите или выберите **Вывод**. Это значение указывает, что настроенный базовый образец будет сравниваться с файлом, созданным с использованием элемента формата **Вывод**.
8. В поле **Маска имени файла** введите **\*.xml**.

    > [!NOTE]
    > Можно определить маску имени файла. Когда определена маска имени файла, базовая запись будет использоваться для оценки созданных выходных данных, только когда имя выходного файла, который создается, удовлетворяет этой маске.

9. Если настроенный базовый образец должен использоваться только в том случае, когда формат ER **Формат для изучения базовых образцов ER** запускается в данный момент пользователями, вошедшими в определенные компании, выберите эти компании в поле **Компании**.
10. В поле **Базовая** введите или выберите вложение **out.Admin**.
11. Нажмите **Сохранить**.

![Страница базовых образцов формата электронной отчетности](media/GER-BaselineSample-SetupBaselineLine.PNG "Снимок экрана страницы базовых образцов формата электронной отчетности")

### <a name="run-the-designed-er-format-and-review-the-log-to-analyze-the-results"></a>Выполнение спроектированного формата ER и просмотр журнала, чтобы проанализировать результаты

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. В дереве разверните **Модель для изучения базовых образцов ER**, затем выберите **Модель для изучения базовых образцов ER\\Формат для изучения базовых образцов ER**.
3. На экспресс-вкладке **Версии** выберите **Выполнить**.
4. В поле **Введите ИД** введите **1**.
5. Нажмите **ОК**.
6. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Журналы отладки конфигураций**.

    ![Страница журналов выполнения электронной отчетности](media/GER-BaselineSample-ReviewBaselineComparison1.PNG "Снимок экрана страницы журналов выполнения электронной отчетности")

    > [!NOTE]
    > Журнал выполнения содержит сведения о результатах сравнения созданного файла с настроенным базовым образцом. В этом примере журнал указывает, что созданный файл и базовый образец равны.

7. Выберите **Удалить все**.

### <a name="run-the-designed-er-format-and-review-the-log-to-analyze-the-results"></a>Выполнение спроектированного формата ER и просмотр журнала, чтобы проанализировать результаты

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. В дереве разверните **Модель для изучения базовых образцов ER**, затем выберите **Модель для изучения базовых образцов ER\\Формат для изучения базовых образцов ER**.
3. На экспресс-вкладке **Версии** выберите **Выполнить**.
4. В поле **Введите ИД** введите **2**.
5. Нажмите **ОК**.
6. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Журналы отладки конфигураций**.

    ![Страница журналов выполнения электронной отчетности](media/GER-BaselineSample-ReviewBaselineComparison2.PNG "Снимок экрана страницы журналов выполнения электронной отчетности")

    > [!NOTE]
    > Журнал выполнения содержит сведения о результатах сравнения созданного файла с настроенным базовым образцом. В этом примере журнал указывает, что созданный файл и базовый образец различаются.

7. Выберите **Сравнить**.

> [!NOTE]
> Созданный файл и базисный файл предлагаются в виде ZIP-файла. Можно использовать внешние средства сравнения, такие как WinDiff, для сравнения файлов и просмотра различий.

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Настройка платформы для электронной отчетности (ER)](electronic-reporting-er-configure-parameters.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]