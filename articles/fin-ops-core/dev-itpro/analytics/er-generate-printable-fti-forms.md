---
title: Создание печатаемых форм FTI
description: В этом разделе объясняется, как использовать инфраструктуру электронной отчетности (ER) для создания печатной формы накладной с произвольным текстом (FTI) в виде документов Microsoft Office.
author: NickSelin
manager: AnnBe
ms.date: 07/24/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2018-04-01
ms.dyn365.ops.version: Release 8.0
ms.openlocfilehash: 731b6a61bd78388f3db0a7007478e3a5e9629a49
ms.sourcegitcommit: 3ba95d50b8262fa0f43d4faad76adac4d05eb3ea
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "2181435"
---
# <a name="generate-printable-fti-forms"></a><span data-ttu-id="cd8dc-103">Создание печатных форм FTI</span><span class="sxs-lookup"><span data-stu-id="cd8dc-103">Generate printable FTI forms</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="cd8dc-104">Инфраструктура электронной отчетности (ER) позволяет создавать печатные формы накладной с произвольным текстом (FTI) в виде документов Microsoft Office.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-104">The Electronic reporting (ER) framework lets you generate printable free text invoice (FTI) forms as Microsoft Office documents.</span></span> <span data-ttu-id="cd8dc-105">В этом разделе представлена информация о создании собственных конфигураций, а также сведения о доступных шаблонах конфигурации.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-105">This topic provides information about how to build your own configurations as well as details of available configuration templates.</span></span>

## <a name="overview"></a><span data-ttu-id="cd8dc-106">Обзор</span><span class="sxs-lookup"><span data-stu-id="cd8dc-106">Overview</span></span>

<span data-ttu-id="cd8dc-107">В дополнение к существующей возможности создания печатных форм FTI с помощью Microsoft SQL Server Reporting Services (SSRS), теперь можно использовать инфраструктуру ER.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-107">In addition to the existing capability of generating printable FTI forms by using Microsoft SQL Server Reporting Services (SSRS), you can now use the ER framework.</span></span> <span data-ttu-id="cd8dc-108">Вы можете управлять печатными формами FTI в Microsoft Office Excel и Word.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-108">You can manage printable FTI forms in Microsoft Office Excel and Word.</span></span> <span data-ttu-id="cd8dc-109">Можно также изменить макет, поток данных и форматирование в соответствии с конкретными требованиями без внесения изменений в код.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-109">You can also modify the layout, data flow, and formatting to meet specific requirements without making code changes.</span></span>

> [!NOTE]
> <span data-ttu-id="cd8dc-110">Если требуется начать с обзора существующих конфигураций электронной отчетности для данного примера решения печатных форм FTI, можно перейти непосредственно к пункту **Загрузка образцов конфигурации электронной отчетности для создания печатных форм FTI** далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-110">If you want to start with an overview of existing ER configurations for this sample of the printable FTI forms solution, you can go directly to section **Download sample ER configurations to generate printable FTI forms** later in this topic.</span></span>

## <a name="create-customized-configurations-for-fti-printable-forms"></a><span data-ttu-id="cd8dc-111">Создание настраиваемых конфигураций для печатных форм FTI</span><span class="sxs-lookup"><span data-stu-id="cd8dc-111">Create customized configurations for FTI printable forms</span></span>
<span data-ttu-id="cd8dc-112">В рамках настраиваемого решения для печатных форм FTI необходимо создать набор конфигураций электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-112">As part of your customized solution for printable FTI forms, you must create a set of ER configurations.</span></span>

### <a name="configure-the-er-data-model"></a><span data-ttu-id="cd8dc-113">Настройка модели данных электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="cd8dc-113">Configure the ER data model</span></span>
<span data-ttu-id="cd8dc-114">Ваше приложение должно включать конфигурацию модели данных электронной отчетности, содержащую модель данных, которая описывает бизнес-среду выставления накладной клиента.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-114">Your application must include the ER data model configuration that contains a data model that describes the customer invoicing business domain.</span></span> <span data-ttu-id="cd8dc-115">Имеется требование, что имя модели данных должно быть **CustomersInvoicing**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-115">As a requirement, the name of the data model must be **CustomersInvoicing**.</span></span> <span data-ttu-id="cd8dc-116">Сведения о разработке моделей данных электронной отчетности см. в разделе [Разработка модели данных для конкретного домена для электронной отчетности (ER)](tasks/er-design-domain-specific-data-model-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="cd8dc-116">For information about how to design ER data models, see [Design a domain-specific data model for electronic reporting (ER)](tasks/er-design-domain-specific-data-model-2016-11.md).</span></span>

### <a name="configure-the-er-model-mapping"></a><span data-ttu-id="cd8dc-117">Настройка сопоставления модели электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="cd8dc-117">Configure the ER model mapping</span></span>
<span data-ttu-id="cd8dc-118">Приложение должно включать сопоставления модели электронной отчетности для модели данных CustomersInvoicing.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-118">Your application must include the ER model mapping for the CustomersInvoicing data model.</span></span> <span data-ttu-id="cd8dc-119">Сопоставление модели может быть в конфигурацию модели данных электронной отчетности, или в конфигурацию сопоставления модели электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-119">The model mapping can be in either the ER data model configuration or the ER model mapping configuration.</span></span> <span data-ttu-id="cd8dc-120">Однако корневой дескриптор сопоставления модели должен называться **FreeTextInvoice**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-120">However, the name of the root descriptor of the model mapping must be **FreeTextInvoice**.</span></span>

<span data-ttu-id="cd8dc-121">Сопоставление должно содержать следующие источники данных:</span><span class="sxs-lookup"><span data-stu-id="cd8dc-121">The mapping must contain the following data sources:</span></span>

- <span data-ttu-id="cd8dc-122">Тип источника данных: **Записи таблицы**</span><span class="sxs-lookup"><span data-stu-id="cd8dc-122">Data source type: **Table records**</span></span>

    - <span data-ttu-id="cd8dc-123">Этот источник данных должен иметь имя **CustInvoiceJour**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-123">This data source must be named **CustInvoiceJour**.</span></span>
    - <span data-ttu-id="cd8dc-124">Он должен ссылаться на таблицу приложения CustInvoiceJour.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-124">It must refer to the CustInvoiceJour application table.</span></span>
    - <span data-ttu-id="cd8dc-125">Он используется во время выполнения для передачи из приложения в сопоставление модели электронной отчетности списка накладных, которые были выбраны для печати.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-125">It's used at runtime to pass from the application to the ER model mapping the list of invoices that have been selected for printing.</span></span>

- <span data-ttu-id="cd8dc-126">Тип источника данных: **Объект**</span><span class="sxs-lookup"><span data-stu-id="cd8dc-126">Data source type: **Object**</span></span>

    - <span data-ttu-id="cd8dc-127">Этот источник данных должен иметь имя **PrintMgmtPrintSettingDetail**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-127">This data source must be named **PrintMgmtPrintSettingDetail**.</span></span>
    - <span data-ttu-id="cd8dc-128">Он должен ссылаться на класс приложения **PrintMgmtPrintSettingDetail**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-128">It must refer to the **PrintMgmtPrintSettingDetail** application class.</span></span>
    - <span data-ttu-id="cd8dc-129">Он используется во время выполнения для передачи из приложения в сопоставление модели электронной отчетности сведений о параметрах управления печатью для формата электронной отчетности, который выполняется.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-129">It's used at runtime to pass from the application to the ER model mapping details of the print management settings for the ER format that is running.</span></span>

<span data-ttu-id="cd8dc-130">Сведения о интеграции приложения с помощью платформы электронной отчетности можно найти в классе **ERPrintMgmtReportFormatSubscriber** (модель интеграции пакета приложений электронной отчетности) в исходном коде приложения.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-130">The details of the application integration with the ER framework can be found in the **ERPrintMgmtReportFormatSubscriber** class (ER Application Suite integration model) in the source code of the application.</span></span>

<span data-ttu-id="cd8dc-131">Дополнительные сведения о разработке сопоставлений моделей электронной отчетности см. в разделе [Определение сопоставления модели и выбор источника данных для электронной отчетности (ER)](tasks/er-define-model-mapping-select-data-sources-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="cd8dc-131">For more information about the design of ER model mappings, see [Define model mapping and select data sources for electronic reporting (ER)](tasks/er-define-model-mapping-select-data-sources-2016-11.md).</span></span>

### <a name="configure-the-er-format"></a><span data-ttu-id="cd8dc-132">Настройка формата электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="cd8dc-132">Configure the ER format</span></span>
<span data-ttu-id="cd8dc-133">В вашем экземпляре приложения должна иметься конфигурация формата электронной отчетности, который будет использоваться для создания форм FTI.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-133">In your application instance, you must have the ER format configuration that will be used to generate FTI forms.</span></span> 

> [!NOTE]
> <span data-ttu-id="cd8dc-134">Данная конфигурация формата должна быть создана для модели данных CustomersInvoicing, и она должна использовать сопоставление модели с корневым дескриптором **FreeTextInvoice**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-134">This format configuration must be created for the CustomersInvoicing data model, and it must use the model mapping that has the **FreeTextInvoice** root descriptor.</span></span>

<span data-ttu-id="cd8dc-135">Сведения о настройке форматов электронной отчетности см. в разделе [Создание конфигурации формата для электронной отчетности (ER)](tasks/er-format-configuration-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="cd8dc-135">For information about how to configure ER formats, see [Create a format configuration for electronic reporting (ER)](tasks/er-format-configuration-2016-11.md).</span></span> <span data-ttu-id="cd8dc-136">Сведения о разработке форматов электронной отчетности для создания отчетов в формате OpenXML см. в разделе [Разработка конфигурации для создания отчетов в формате OpenXML для электронной отчетности (ER)](tasks/er-design-reports-openxml-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="cd8dc-136">For information about how to design ER formats to generate reports in OpenXML format, see [Design a configuration for generating reports in OpenXML format for electronic reporting (ER)](tasks/er-design-reports-openxml-2016-11.md).</span></span>

## <a name="configure-print-management"></a><span data-ttu-id="cd8dc-137">Настройка управления печатью</span><span class="sxs-lookup"><span data-stu-id="cd8dc-137">Configure print management</span></span>
<span data-ttu-id="cd8dc-138">Для создания форм FTI с помощью платформы электронной отчетности можно назначить форматы электронной отчетности таким же образом, как при назначении отчетов SSRS.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-138">To generate FTI forms by using the ER framework, you can assign ER formats in the same way that you assign SSRS reports.</span></span> <span data-ttu-id="cd8dc-139">Чтобы связать формат электронной отчетности со всеми накладными FTI модуля расчетов с клиентами, выберите **Расчеты с клиентами** \> **Настройка** \> **Формы** \> **Настройка форм** \> **Общее** \> **Управление печатью** \> **Накладная с произвольным текстом** \> **Оригинал**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-139">To associate the ER format with all Accounts receivable FTIs, go to **Accounts receivable** \> **Setup** \> **Forms** \> **Form setup** \> **General** \> **Print management** \> **Free text invoice** \> **Original**.</span></span> <span data-ttu-id="cd8dc-140">Чтобы связать формат электронной отчетности с определенным клиентом или накладной, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-140">To associate the ER format with a specific customer or invoice, follow these steps.</span></span>

1. <span data-ttu-id="cd8dc-141">Перейдите в раздел **Расчеты с клиентами** \> **Накладные** \> **Все накладные с произвольным текстом**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-141">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="cd8dc-142">Выберите накладную с произвольным текстом, которую требуется связать с форматом электронной отчетности, и откройте страницу **Настройка управления печатью**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-142">Select the FTI to associate the ER format with, and open the **Print management setup** page.</span></span>
3. <span data-ttu-id="cd8dc-143">Выберите уровень документа, чтобы задать область для обработки накладных.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-143">Select the document level to specify the scope of invoices for processing.</span></span>
4. <span data-ttu-id="cd8dc-144">Выберите формат электронной отчетности для указанного уровня документов.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-144">Select the ER format for the specified document level.</span></span>

![Печать настройки управления](media/FTIbyGER-PMSetting.png)

> [!NOTE]
> <span data-ttu-id="cd8dc-146">Только форматы,электронной отчетности, которые используют корневой дескриптор **FreeTextInvoice** модели данных **CustomersInvoicing**, отображаются в поле **Подстановка формата отчета** для выбранного формата.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-146">Only ER formats that use the **FreeTextInvoice** root descriptor of the **CustomersInvoicing** data model appear in the **Report format lookup** field for the selected format.</span></span>

## <a name="generate-fti-forms"></a><span data-ttu-id="cd8dc-147">Создание форм FTI</span><span class="sxs-lookup"><span data-stu-id="cd8dc-147">Generate FTI forms</span></span>
<span data-ttu-id="cd8dc-148">Формы FTI формируются в платформе электронной отчетности таким же образом, как формируются отчеты SSRS.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-148">FTI forms are generated in the ER framework in the same way that SSRS reports are generated.</span></span>

<span data-ttu-id="cd8dc-149">Чтобы создать формы FTI, можно выбрать накладные по диапазону или путем выделения.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-149">To generate FTI forms, you can select invoices either by range or by selection.</span></span> 

![Выбор накладной](media/FTIbyGER-InvoiceSelection.png)

![Предварительный просмотр накладных](media/FTIbyGER-InvoiceExcelPreview.png)

<span data-ttu-id="cd8dc-152">При использовании форматов электронной отчетности для печати форм FTI таким образом используется файлы назначения электронной отчетности по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-152">When you use ER formats to print FTI forms in this way, the default ER file destinations are used.</span></span> <span data-ttu-id="cd8dc-153">Место назначения изменить невозможно.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-153">You can't change the destination.</span></span> <span data-ttu-id="cd8dc-154">Дополнительные сведения о настройке мест назначения электронной отчетности для форматов электронной отчетности см. в разделе [Места назначения электронной отчетности](electronic-reporting-destinations.md).</span><span class="sxs-lookup"><span data-stu-id="cd8dc-154">For more information about how to configure the ER destinations for ER formats, see [Electronic reporting destinations](electronic-reporting-destinations.md).</span></span>

<span data-ttu-id="cd8dc-155">Можно также создавать формы FTI при разноске FTI, включив параметр **Печать накладной** и выключив параметр **Использовать назначение управления печатью**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-155">You can also generate FTI forms when you post an FTI, by turning **Print invoice** on and turning **Use print management destinations** off.</span></span>

> [!NOTE]
> <span data-ttu-id="cd8dc-156">При использовании форматов электронной отчетности для печати форм FTI таким образом используется файлы назначения электронной отчетности по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-156">When you use ER formats to print FTI forms in this way, the default ER file destinations are used.</span></span> <span data-ttu-id="cd8dc-157">Место назначения по умолчанию во время выполнения можно изменить, если место назначения уже настроено.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-157">You can change the default destination at runtime if the destination has already been configured.</span></span> <span data-ttu-id="cd8dc-158">Чтобы изменить место назначения, необходимо иметь следующие привилегии безопасности:</span><span class="sxs-lookup"><span data-stu-id="cd8dc-158">To change the destination, you must have the following security privilege:</span></span>
>
> - <span data-ttu-id="cd8dc-159">**Имя:** ERFormatDestinationRuntimeMaintain</span><span class="sxs-lookup"><span data-stu-id="cd8dc-159">**Name:** ERFormatDestinationRuntimeMaintain</span></span>
> - <span data-ttu-id="cd8dc-160">**Метка:** Ведение места назначения форматов электронной отчетности во время выполнения</span><span class="sxs-lookup"><span data-stu-id="cd8dc-160">**Label:** Maintain electronic reporting format destination during runtime</span></span>

![Место назначения электронной отчетности](media/FTIbyGER-ERFileDestinationSetting.png)

![Место назначения форматов электронной отчетности](media/FTIbyGER-ERFileDestinationUsage.png)

<span data-ttu-id="cd8dc-163">Платформа электронной отчетности в настоящее время поддерживает следующие места назначения для созданных документов:</span><span class="sxs-lookup"><span data-stu-id="cd8dc-163">The ER framework currently supports the following destinations for generated documents:</span></span>

- <span data-ttu-id="cd8dc-164">**Загруженный файл** — создаваемые формы предлагаются как файлы для загрузки, которые можно сохранить с помощью обозревателя.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-164">**Downloaded file** – Generated forms are offered as downloads that you can save by using the browser.</span></span>
- <span data-ttu-id="cd8dc-165">**Экран** — Microsoft Office 365 Excel используется для предварительного просмотра созданных форм FTI в формате Excel.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-165">**Screen** – Microsoft Office 365 Excel is used to preview generated FTI forms in Excel format.</span></span>
- <span data-ttu-id="cd8dc-166">**Папка SharePoint** — создаваемые формы хранятся на основе параметров структуры управления документами.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-166">**SharePoint folder** – Generated forms are stored based on the settings of the Document management framework.</span></span>
- <span data-ttu-id="cd8dc-167">**Архив приложений** — создаваемые формы хранятся как вложения записей журнала выполнения в хранилище Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-167">**Application archive** – Generated forms are stored as attachments of execution log records in the Microsoft Azure Storage.</span></span>
- <span data-ttu-id="cd8dc-168">**Электронная почта** — создаваемые формы отправляются в виде вложений электронной почты.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-168">**Email** – Generated forms are sent as email attachments.</span></span>

> [!NOTE]
> <span data-ttu-id="cd8dc-169">Невозможно отправить создаваемые формы FTI непосредственно на принтер, поскольку прямая печать, использующая агент маршрутизации принтера Dynamics, не поддерживается в настоящее время.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-169">You can't send the FTI forms that are generated directly to the printer, because direct printing that uses the Dynamics Printer Routing Agent isn't currently supported.</span></span>

## <a name="download-sample-er-configurations-to-generate-printable-fti-forms"></a><span data-ttu-id="cd8dc-170">Загрузка образца конфигураций электронной отчетности для создания печатных форм FTI</span><span class="sxs-lookup"><span data-stu-id="cd8dc-170">Download sample ER configurations to generate printable FTI forms</span></span>
<span data-ttu-id="cd8dc-171">Можно загрузить образец конфигураций электронной отчетности для использования в качестве шаблона для решения FTI.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-171">You can download sample ER configurations to use as a template for your FTI solution.</span></span> <span data-ttu-id="cd8dc-172">Конфигурации хранятся в библиотеке общих ресурсов в Microsoft Dynamics Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="cd8dc-172">The configurations are stored in the Shared asset library in Microsoft Dynamics Lifecycle Services (LCS).</span></span> <span data-ttu-id="cd8dc-173">Включены следующие конфигурации:</span><span class="sxs-lookup"><span data-stu-id="cd8dc-173">The configurations include:</span></span>

- <span data-ttu-id="cd8dc-174">Конфигурация **Модель выставления накладных клиенту** содержит необходимую модуль данных и сопоставление модели.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-174">The **Customer invoicing model** configuration contains the required data model and model mapping.</span></span>
- <span data-ttu-id="cd8dc-175">Конфигурация **Отчет FTI клиента (Немецкий)** содержит образец формата.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-175">The **Customer FTI report (GER)** configuration contains the sample format.</span></span>

> [!NOTE]
> <span data-ttu-id="cd8dc-176">Эти конфигурации были созданы как образцы, чтобы помочь прояснить возможные сценарии.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-176">These configurations have been created as samples to help clarify possible scenarios.</span></span> <span data-ttu-id="cd8dc-177">Будущее эти конфигурации зависит от результатов их оценки и полученных отзывов.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-177">The future of these configurations depends on the results of this evaluation and any feedback that is received.</span></span>

### <a name="features-that-are-implemented-in-the-sample-er-format"></a><span data-ttu-id="cd8dc-178">Функции, реализованные в образце формата электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="cd8dc-178">Features that are implemented in the sample ER format</span></span>
<span data-ttu-id="cd8dc-179">В примере конфигурации формата электронной отчетности файл Excel используется как шаблон для создания форм FTI.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-179">In the sample ER format configuration, an Excel file is used as a template to generate FTI forms.</span></span>

![Конструктор форматов](media/FTIbyGER-ERFormat.png)

<span data-ttu-id="cd8dc-181">В настоящее время этот образец формата электронной отчетности поддерживает следующие функции для создания форм FTI:</span><span class="sxs-lookup"><span data-stu-id="cd8dc-181">Currently, this sample ER format supports the following features to generate FTI forms:</span></span>

- <span data-ttu-id="cd8dc-182">Формы FTI-создаются как из исходных накладных, которые были разнесены, так и из исходных накладных, которые еще не были разнесены.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-182">FTI forms are generated for both original invoices that have been posted and original invoices that haven't yet been posted.</span></span> <span data-ttu-id="cd8dc-183">Скорректированные накладные и кредит-ноты не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-183">Corrected invoices and credit notes aren't supported.</span></span>
- <span data-ttu-id="cd8dc-184">Формы FTI создаются на языке накладной.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-184">FTI forms are generated in the invoice language.</span></span> <span data-ttu-id="cd8dc-185">Формат значений и дат в созданных формах основан на настройках языкового стандарта клиента пользователя.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-185">The format of values and dates in the generated forms is based on the settings of the user's client locale.</span></span>
- <span data-ttu-id="cd8dc-186">Созданные накладные показывают уведомления о недоступности данных в том случае, если отсутствуют строки в накладных, которые обработаны.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-186">Generated invoices show data unavailability notifications if there are no lines in the invoices that are processed.</span></span>
- <span data-ttu-id="cd8dc-187">Заголовки созданных накладных основаны на формате бумаги, который был выбран для формы FTI на странице **Параметры модуля расчетов с клиентами**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-187">Generated invoice headers are based on the paper format that has been selected for the FTI form on the **Accounts receivable parameters** page.</span></span> <span data-ttu-id="cd8dc-188">Сведения о компании отображаются в заголовке созданной формы накладной только в том случае, если формат бумаги пуст.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-188">Company details appear in the header of the generated invoice form only if the paper format is blank.</span></span>
- <span data-ttu-id="cd8dc-189">На созданных формах накладных отображается коды налогового освобождения компании и клиента, когда был выбран соответствующий параметр для формы FTI на странице **Параметры модуля расчетов с клиентами**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-189">Generated invoice forms show company and customer tax exempt numbers when the appropriate option has been selected for the FTI form on the **Accounts receivable parameters** page.</span></span>
- <span data-ttu-id="cd8dc-190">Разделы созданных строк накладной и итоговых сумм накладной показывают денежные подробные сведения накладной по умолчанию в валюте регистрации накладной.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-190">The generated invoice lines and invoice totals sections show the default invoice's monetary details in the invoice registration currency.</span></span>
- <span data-ttu-id="cd8dc-191">В разделе итогов созданной накладной могут отображаться денежные сведения в евро и в валюте регистрации накладной, если параметр **Печатать сумму в валюте, соответствующей евро** включен на странице **Параметры модуля расчетов с клиентами**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-191">The generated invoice totals section can show monetary details in the euro currency and the invoice registration currency when the **Print amount in currency representing the euro** option is enabled on the **Accounts receivable parameters** page.</span></span>
- <span data-ttu-id="cd8dc-192">Созданные формы накладных, показывают все заметки обработки накладной, которые доступны, на основе параметров на странице **Параметры модуля расчетов с клиентами**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-192">Generated invoice forms show any process invoice notes that are available, based on settings on the **Accounts receivable parameters** page.</span></span> <span data-ttu-id="cd8dc-193">Примечания включаются как для всей накладной, так и для каждой строки накладной.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-193">Notes are included for both the whole invoice and each invoice line.</span></span>
- <span data-ttu-id="cd8dc-194">Созданные формы накладной включают примечаний для формы FTI клиента и язык обработки накладной, когда они были настроены в списке примечаний формы расчетов с клиентами.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-194">Generated invoice forms include notes for the customer FTI form and the processing invoice language when they have been configured in the AR form notes list.</span></span>
- <span data-ttu-id="cd8dc-195">В зависимости от параметров управления печатью созданные накладные включают настраиваемый текст нижнего колонтитула, когда он был настроен для языка накладной, формат электронной отчетности и область документа FTI.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-195">Depending on the Print management settings, generated invoices include custom footer text when it has been configured for the invoice language, the ER format, and the FTI document scope.</span></span>
- <span data-ttu-id="cd8dc-196">Раздел итоговых сумм созданных форм накладных включает всю информация о скидках по оплате, которые доступны.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-196">The totals section of generated invoice forms includes any cash discount information that is available.</span></span>
- <span data-ttu-id="cd8dc-197">Раздел графика оплаты созданных форм накладных включает в себя все сведения о графиках оплаты, которые доступны.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-197">The payment schedule section of generated invoice forms includes any payment schedule details that are available.</span></span>
- <span data-ttu-id="cd8dc-198">Раздел разметки созданных форм накладных включает в себя все проводки расходов, которые доступны.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-198">The markup section of generated invoice forms includes any charges transactions that are available.</span></span>
- <span data-ttu-id="cd8dc-199">Созданные формы накладных содержат подробные сведения о налогах на основе параметра **Спецификация налога** на странице **Параметры модуля расчетов с клиентами**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-199">Generated invoice forms include sales tax details, based on the **Sales tax specification** setting on the **Accounts receivable parameters** page.</span></span> <span data-ttu-id="cd8dc-200">В этом разделе можно показать налоговые данные только в валюте регистрации накладной или в валюте регистрации накладной и валюте учета компании в одно и то же время.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-200">This section can show tax details either in the invoice registration currency only, or in the invoice registration currency and the company accounting currency at the same time.</span></span>
- <span data-ttu-id="cd8dc-201">Созданные формы накладных показывают подробные сведения об уведомлениях прямого дебетования.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-201">Generated invoice forms show direct debit notification details.</span></span> <span data-ttu-id="cd8dc-202">Например, они показывают, когда был выбран метод оплаты, который имеет идентификатор предписания обязательного прямого дебетования для накладной, когда обработка накладной была зарегистрирована в евро, и когда был определен идентификатор предписания прямого дебетования для накладной.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-202">For example, they show when the method of payment that has the mandatory direct debit mandate ID was selected for the invoice, when the processing invoice was registered in the euro currency, and when the direct debit mandate ID was defined for the invoice.</span></span>
- <span data-ttu-id="cd8dc-203">Созданные накладные показывают все сведения о предоплате, доступные для учтенных накладных.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-203">Generated invoices show any prepayment details that are available for posted invoices.</span></span>
- <span data-ttu-id="cd8dc-204">Создание формы накладных могут быть отправлены клиенту накладной как вложение электронной почты.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-204">Generated invoice forms can be sent to an invoice customer as an email attachment.</span></span> <span data-ttu-id="cd8dc-205">Следует настроить соответствующей место назначения файла электронной отчетности для формата электронной отчетности, который использовался.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-205">The appropriate ER file destination should be configured for the ER format that is being used.</span></span>

### <a name="countryregion-specific-features"></a><span data-ttu-id="cd8dc-206">Функции для страны/региона</span><span class="sxs-lookup"><span data-stu-id="cd8dc-206">Country/region-specific features</span></span> 
<span data-ttu-id="cd8dc-207">Следующие функции, специфичные для стран/регионов, включены в образец формата электронной отчетности для демонстрации, как особые требования могут быть обработаны в конфигурациях электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-207">The following country/region-specific features are included in the sample ER format to show how specific requirements can be handled in ER configurations.</span></span>

#### <a name="norway"></a><span data-ttu-id="cd8dc-208">Норвегия</span><span class="sxs-lookup"><span data-stu-id="cd8dc-208">Norway</span></span>
<span data-ttu-id="cd8dc-209">Термин "регистр предприятий" помещается в заголовок созданной формы накладной при обработке накладной для юридического лица, который настроен следующим образом:</span><span class="sxs-lookup"><span data-stu-id="cd8dc-209">The Enterprise register term is put on the header of the generated invoice form when the invoice is processed for a legal entity that is configured in the following manner:</span></span>

- <span data-ttu-id="cd8dc-210">Используется контекст страны/региона для Норвегии.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-210">The country/region context for Norway is used.</span></span>
- <span data-ttu-id="cd8dc-211">Параметр **Печать Foretaksregisteret** активен в документах продажи.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-211">The **Print Foretaksregisteret** parameter is active on sales documents.</span></span>

#### <a name="spain"></a><span data-ttu-id="cd8dc-212">Испания</span><span class="sxs-lookup"><span data-stu-id="cd8dc-212">Spain</span></span>
<span data-ttu-id="cd8dc-213">Термин **Специальный режим для учета кассы** помещается в заголовок созданной формы накладной при обработке накладной для юридического лица, который настроен следующим образом:</span><span class="sxs-lookup"><span data-stu-id="cd8dc-213">The **Special regime for cash accounting method** term is put on the header of the generated invoice form when the invoice is processed for a legal entity that is configured in the following manner:</span></span>

- <span data-ttu-id="cd8dc-214">Используется контекст страны/региона для Испании.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-214">The country/region context for Spain is used.</span></span>
- <span data-ttu-id="cd8dc-215">Специальный режим для метода учета кассы включен на дату обработки накладной.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-215">The special regime for the cash accounting method is enabled on the invoice processing date.</span></span>

<span data-ttu-id="cd8dc-216">Когда данные скидки по оплате, например, сумма скидки по оплате и чистая сумма строки накладной, доступны, они представляются в разделе итогов по накладной созданной формы накладной при его обработке для юридического лица, настроенного следующим образом:</span><span class="sxs-lookup"><span data-stu-id="cd8dc-216">When cash discount details, such as the cash discount amount and invoice line net amount, are available, they are presented in the invoice totals section of the generated invoice form when it has been processed for a legal entity that is configured in the following manner:</span></span>

- <span data-ttu-id="cd8dc-217">Используется контекст страны/региона для Испании.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-217">The country/region context for Spain is used.</span></span>
- <span data-ttu-id="cd8dc-218">Параметр **В накладной применена скидка по оплате** включен в параметре накладной (**Параметры главной книги** \> **Раздел налогов**).</span><span class="sxs-lookup"><span data-stu-id="cd8dc-218">**Cash discount is applied in the invoice** is turned on in the invoice option (**General ledger parameters** \> **Sales tax section**).</span></span>

#### <a name="italy"></a><span data-ttu-id="cd8dc-219">Италия</span><span class="sxs-lookup"><span data-stu-id="cd8dc-219">Italy</span></span>
<span data-ttu-id="cd8dc-220">Знак скидки на товары включается в строки накладной созданной накладной при ее обработке для юридического лица, настроенного с использованием контекста страны/региона для Италии.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-220">The goods discount mark is included on the invoice lines of the generated invoice when it's being processed for a legal entity that is configured using the country/region context for Italy.</span></span>

#### <a name="finland"></a><span data-ttu-id="cd8dc-221">Финляндия</span><span class="sxs-lookup"><span data-stu-id="cd8dc-221">Finland</span></span>
<span data-ttu-id="cd8dc-222">В дополнение к созданной форме накладной квитанции перевода денег с жиросчета могут создаваться следующим образом:</span><span class="sxs-lookup"><span data-stu-id="cd8dc-222">In addition to the generated invoice form, Giro money transfer slips can be generated as follows:</span></span>

- <span data-ttu-id="cd8dc-223">Для юридического лица, который использует контекст страны/региона для Финляндии и имеет хотя бы один банковский счет, который помечен как **Жиросчет** и **Банковский штрихкод**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-223">For the legal entity that uses the country/region context for Finland, and that has at least one bank account that is marked as **Giro account** and **Bank bar code**.</span></span> 
- <span data-ttu-id="cd8dc-224">Для накладной, которая отмечена **Финляндия** как требуется для вложение со связанным платежом.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-224">For an invoice that is marked as required for the **Finnish** associated payment attachment.</span></span>

![Квитанция жиросчета](media/FTIbyGER-GiroSlip.PNG)

> [!NOTE]
> <span data-ttu-id="cd8dc-226">Пример формата электронной отчетности был настроен для формирования при необходимости квитанций перевода денег с жиросчета на отдельном листе.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-226">The sample ER format has been configured to optionally generate the Giro money transfer slips in the separate worksheet.</span></span>

> [!NOTE]
> <span data-ttu-id="cd8dc-227">Необходимо сначала установить шрифт, который используется для создания штрихкода на локальном компьютере, где созданная форма накладной в формате Excel будет просматриваться.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-227">You must first install the font that is used to generate the bar code on the local machine where the generated invoice form in Excel format will be previewed.</span></span>

### <a name="use-the-sample-er-format-to-configure-email-destinations"></a><span data-ttu-id="cd8dc-228">Использование примера формата электронной отчетности для настройки адресов электронной почты</span><span class="sxs-lookup"><span data-stu-id="cd8dc-228">Use the sample ER format to configure email destinations</span></span>
<span data-ttu-id="cd8dc-229">Используйте следующие элементы примера формата электронной отчетности для настройки адресов электронной почты:</span><span class="sxs-lookup"><span data-stu-id="cd8dc-229">Use the following elements of the sample ER format to configure email destinations:</span></span>

- <span data-ttu-id="cd8dc-230">Адрес электронной почты контактного лица клиента можно получить с помощью следующего выражения электронной отчетности: **model.InvoiceBase.Contact.ElectronicMail**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-230">The email address of a customer contact can be accessed through the following ER expression: **model.InvoiceBase.Contact.ElectronicMail**.</span></span>
- <span data-ttu-id="cd8dc-231">Текст темы сообщения электронной почты можно получить с помощью следующего выражения электронной почты: **Emailing.TxtToUse.Subject**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-231">The email subject text can be accessed through the following ER expression: **Emailing.TxtToUse.Subject**.</span></span>
- <span data-ttu-id="cd8dc-232">Основной текст сообщения электронной почты можно получить с помощью следующего выражения электронной почты: **Emailing.TxtToUse.Body**.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-232">The email body text can be accessed through the following ER expression: **Emailing.TxtToUse.Body**.</span></span>

![Параметры места назначения](media/FTIbyGER-ERFileDestinationSettingEmail.png)

<span data-ttu-id="cd8dc-234">Текст по умолчанию темы и основного текста сообщения электронной почты определяется в примере формата электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-234">The default text of the email's subject and body is defined in the sample ER format.</span></span> <span data-ttu-id="cd8dc-235">Язык определяется подписями формата.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-235">The language depends on the format's labels.</span></span> <span data-ttu-id="cd8dc-236">Этот текст по умолчанию будет использоваться для сообщений электронной почты, если настраиваемый шаблон электронной почты организации, имеющий предварительно определенный идентификатор **ERFTITMP**, не был добавлен.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-236">This default text will be used for emails if a custom organization email template that has the predefined **ERFTITMP** ID hasn't been added.</span></span>

> [!NOTE]
> <span data-ttu-id="cd8dc-237">Идентификатор шаблона электронной почты **ERFTITMP** был определен в примере формата электронной почты.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-237">The **ERFTITMP** email template ID has been defined in the sample ER format.</span></span> <span data-ttu-id="cd8dc-238">Он может быть изменен при необходимости в новом формате электронной отчетности, созданном на основе этого образца формата.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-238">It can be changed as required in a new ER format that is created from this sample format.</span></span>

<span data-ttu-id="cd8dc-239">Если шаблон электронной почты организации, который имеет предварительно определенный код **ERFTITMP**, был добавлен для юридического лица, для которого обрабатывается накладная, шаблон для текст темы и основного текста сообщения электронной почты будет использоваться для создания сообщения электронной почты.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-239">If the organization email template that has the predefined **ERFTITMP** ID has been added for the legal entity that you're processing the invoice for, the template for the email subject and body text will be used to generate the email.</span></span> 

![Шаблоны сообщений электронной почты организации](media/FTIbyGER-EmailTemplate.png)

![Отправка шаблона сообщения электронной почты](media/FTIbyGER-EmailTemplateBody.png)

<span data-ttu-id="cd8dc-242">Выражение электронной отчетности **Emailing.TxtToUse.Subject** образца формата электронной отчетности настроен для замены всех вхождений заполнителя %1 идентификатором обработки накладной.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-242">The **Emailing.TxtToUse.Subject** ER expression of the sample ER format is configured to replace any occurrences of the placeholder %1 by the processing invoice ID.</span></span>

<span data-ttu-id="cd8dc-243">Выражение **Emailing.TxtToUse.Body** образца формата настроено на следующие подстановки для местозаполнителей:</span><span class="sxs-lookup"><span data-stu-id="cd8dc-243">The **Emailing.TxtToUse.Body** expression of the sample format is configured for the following substitutions for placeholders:</span></span>

- <span data-ttu-id="cd8dc-244">"%1" заменяется именем контактного лица клиента.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-244">"%1" is replaced with the name of the customer's contact person.</span></span>
- <span data-ttu-id="cd8dc-245">"%2" заменяется названием компании.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-245">"%2" is replaced with the company name.</span></span>
- <span data-ttu-id="cd8dc-246">"%3" заменяется именем клиента.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-246">"%3" is replaced with the customer name.</span></span>
- <span data-ttu-id="cd8dc-247">"%4" заменяется именем контактного лица компании.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-247">"%4" is replaced with the name of the company's contact person.</span></span>
- <span data-ttu-id="cd8dc-248">"%5" заменяется должностью контактного лица компании.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-248">"%5" is replaced with the job title of the company's contact person.</span></span>
- <span data-ttu-id="cd8dc-249">"%6" заменяется адресом электронной почты контактного лица компании.</span><span class="sxs-lookup"><span data-stu-id="cd8dc-249">"%6" is replaced with the email address of the company's contact person.</span></span>

![Эл. почта](media/FTIbyGER-Email.PNG)

## <a name="additional-resources"></a><span data-ttu-id="cd8dc-251">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="cd8dc-251">Additional resources</span></span>
[<span data-ttu-id="cd8dc-252">Обзор электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="cd8dc-252">Electronic reporting overview</span></span>](general-electronic-reporting.md)
