---
title: Проверка настроенного компонента электронной отчетности для предотвращения неполадок среды выполнения
description: В этой теме объясняется, как проверить настроенные компоненты электронной отчетности (ER), чтобы исключить возможные проблемы среды выполнения.
author: NickSelin
manager: AnnBe
ms.date: 12/04/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERSolutionTable, ERDataModelDesigner, ERModelMappingTable, ERModelMappingDesigner, EROperationDesigner
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 220314
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 72db7660c07b2f57f8609ab6c14964193e842d75
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2020
ms.locfileid: "4688575"
---
# <a name="inspect-the-configured-er-component-to-prevent-runtime-issues"></a><span data-ttu-id="b5d71-103">Проверка настроенного компонента электронной отчетности для предотвращения неполадок среды выполнения</span><span class="sxs-lookup"><span data-stu-id="b5d71-103">Inspect the configured ER component to prevent runtime issues</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="b5d71-104">Каждый настроенный [формат](general-electronic-reporting.md#FormatComponentOutbound) [электронной отчетности (ER)](general-electronic-reporting.md) и компонент [сопоставления моделей](general-electronic-reporting.md#data-model-and-model-mapping-components) могут быть [проверены](er-fillable-excel.md#validate-an-er-format) во время разработки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-104">Every configured [Electronic reporting (ER)](general-electronic-reporting.md) [format](general-electronic-reporting.md#FormatComponentOutbound) and [model mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) component can be [validated](er-fillable-excel.md#validate-an-er-format) at design time.</span></span> <span data-ttu-id="b5d71-105">Во время этой проверки выполняется проверка целостности, которая позволяет предотвратить возможные проблемы среды выполнения, такие как ошибки выполнения и снижение производительности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-105">During this validation, a consistency check is done to help prevent runtime issues that might occur, such as execution errors and performance degradation.</span></span> <span data-ttu-id="b5d71-106">Для каждой найденной проблемы предоставляется путь проблемного элемента.</span><span class="sxs-lookup"><span data-stu-id="b5d71-106">For every issue that is found, the path of a problematic element is provided.</span></span> <span data-ttu-id="b5d71-107">Для некоторых проблем доступно автоматическое исправление.</span><span class="sxs-lookup"><span data-stu-id="b5d71-107">For some issues, an automatic fix is available.</span></span>

<span data-ttu-id="b5d71-108">По умолчанию проверка применяется автоматически в следующих случаях для конфигурации электронной отчетности, которая содержит ранее упомянутые компоненты электронной отчетности:</span><span class="sxs-lookup"><span data-stu-id="b5d71-108">By default, the validation is automatically applied in the following cases for an ER configuration that contains the previously mentioned ER components:</span></span>

- <span data-ttu-id="b5d71-109">Выполняется [импорт](general-electronic-reporting.md#importing-an-er-component-from-lcs-to-use-it-internally) новой [версии](general-electronic-reporting.md#component-versioning) конфигурации электронной отчетности в экземпляр Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="b5d71-109">You [import](general-electronic-reporting.md#importing-an-er-component-from-lcs-to-use-it-internally) a new [version](general-electronic-reporting.md#component-versioning) of an ER configuration into your instance of Microsoft Dynamics 365 Finance.</span></span>
- <span data-ttu-id="b5d71-110">Вы изменяете [статус](general-electronic-reporting.md#component-versioning) редактируемой конфигурации электронной отчетности с **Черновик** на **Завершено**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-110">You change the [status](general-electronic-reporting.md#component-versioning) of the editable ER configuration from **Draft** to **Completed**.</span></span>
- <span data-ttu-id="b5d71-111">Вы [перебазируете](general-electronic-reporting.md#upgrading-a-format-selecting-a-new-version-of-base-format-rebase) редактируемую конфигурацию электронной отчетности, применяя новую базовую версию.</span><span class="sxs-lookup"><span data-stu-id="b5d71-111">You [rebase](general-electronic-reporting.md#upgrading-a-format-selecting-a-new-version-of-base-format-rebase) an editable ER configuration by applying a new base version.</span></span>

<span data-ttu-id="b5d71-112">Эту проверку можно выполнить явно.</span><span class="sxs-lookup"><span data-stu-id="b5d71-112">You can explicitly run this validation.</span></span> <span data-ttu-id="b5d71-113">Выберите один из следующих трех параметров и выполните следующие предусмотренные шаги:</span><span class="sxs-lookup"><span data-stu-id="b5d71-113">Select one of the following three options, and follow the steps that are provided:</span></span>

- <span data-ttu-id="b5d71-114">Вариант 1:</span><span class="sxs-lookup"><span data-stu-id="b5d71-114">Option 1:</span></span>

    1. <span data-ttu-id="b5d71-115">Перейдите в раздел **Управление организацией \> Электронная отчетность \> Конфигурации**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-115">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
    2. <span data-ttu-id="b5d71-116">В дереве конфигурации в левой области выберите нужную конфигурацию электронной отчетности, которая содержит формат электронной отчетности или компонент сопоставления модели электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-116">In the configurations tree in the left pane, select the desired ER configuration that contains the ER format or ER model mapping component.</span></span>
    3. <span data-ttu-id="b5d71-117">На экспресс-вкладке **Версии** выберите желаемую версию выбранной конфигурации электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-117">On the **Versions** FastTab, select the desired version of the selected ER configuration.</span></span>
    4. <span data-ttu-id="b5d71-118">На панели операций выберите **Проверить**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-118">On the Action Pane, select **Validate**.</span></span>

- <span data-ttu-id="b5d71-119">Вариант 2 для формата электронной отчетности:</span><span class="sxs-lookup"><span data-stu-id="b5d71-119">Option 2, for an ER format:</span></span>

    1. <span data-ttu-id="b5d71-120">Перейдите в раздел **Управление организацией \> Электронная отчетность \> Конфигурации**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-120">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
    2. <span data-ttu-id="b5d71-121">В дереве конфигурации в левой области выберите нужную конфигурацию электронной отчетности, которая содержит компонент формата электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-121">In the configurations tree in the left pane, select the desired ER configuration that contains the ER format component.</span></span>
    3. <span data-ttu-id="b5d71-122">На экспресс-вкладке **Версии** выберите желаемую версию выбранной конфигурации электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-122">On the **Versions** FastTab, select the desired version of the selected ER configuration.</span></span>
    4. <span data-ttu-id="b5d71-123">В области действий выберите **Конструктор**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-123">On the Action Pane, select **Designer**.</span></span>
    5. <span data-ttu-id="b5d71-124">На странице **Конструктор форматов** в области действий выберите **Проверить**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-124">On the **Format designer** page, on the Action Pane, select **Validate**.</span></span>

- <span data-ttu-id="b5d71-125">Вариант 3 для сопоставления модели электронной отчетности:</span><span class="sxs-lookup"><span data-stu-id="b5d71-125">Option 3, for an ER model mapping:</span></span>

    1. <span data-ttu-id="b5d71-126">Перейдите в раздел **Управление организацией \> Электронная отчетность \> Конфигурации**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-126">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
    2. <span data-ttu-id="b5d71-127">В дереве конфигурации в левой области выберите нужную конфигурацию электронной отчетности, которая содержит компонент сопоставления модели электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-127">In the configurations tree in the left pane, select the desired ER configuration that contains the ER model mapping component.</span></span>
    3. <span data-ttu-id="b5d71-128">На экспресс-вкладке **Версии** выберите желаемую версию выбранной конфигурации электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-128">On the **Versions** FastTab, select the desired version of the selected ER configuration.</span></span>
    4. <span data-ttu-id="b5d71-129">В области действий выберите **Конструктор**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-129">On the Action Pane, select **Designer**.</span></span>
    5. <span data-ttu-id="b5d71-130">На странице **Сопоставление модели и источника данных** в области действий выберите **Конструктор**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-130">On the **Model to datasource mapping** page, on the Action Pane, select **Designer**.</span></span>
    6. <span data-ttu-id="b5d71-131">На странице **Конструктор сопоставлений моделей** в области действий выберите **Проверить**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-131">On the **Model mapping designer** page, on the Action Pane, select **Validate**.</span></span>

<span data-ttu-id="b5d71-132">Чтобы пропустить проверку при импорте конфигурации, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="b5d71-132">To skip the validation when the configuration is imported, follow these steps.</span></span>

1. <span data-ttu-id="b5d71-133">Перейдите в раздел **Управление организацией \> Электронная отчетность \> Конфигурации**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-133">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
2. <span data-ttu-id="b5d71-134">На странице **Конфигурации** в области действий на вкладке **Конфигурации** в группе **Дополнительные параметры** выберите **Параметры пользователя**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-134">On the **Configurations** page, on the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
3. <span data-ttu-id="b5d71-135">Установите для параметра **Проверить конфигурацию после импорта** значение **Нет**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-135">Set the **Validate the configuration after importing** option to **No**.</span></span>

<span data-ttu-id="b5d71-136">Чтобы пропустить проверку, когда статус версии изменится или выполнено изменение базы, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="b5d71-136">To skip the validation when the version's status is changed or rebased, follow these steps.</span></span>

1. <span data-ttu-id="b5d71-137">Перейдите в раздел **Управление организацией \> Электронная отчетность \> Конфигурации**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-137">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
2. <span data-ttu-id="b5d71-138">На странице **Конфигурации** в области действий на вкладке **Конфигурации** в группе **Дополнительные параметры** выберите **Параметры пользователя**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-138">On the **Configurations** page, on the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
3. <span data-ttu-id="b5d71-139">Задайте для параметра **Пропустить проверку при изменении статуса конфигурации и изменении базы** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-139">Set the **Skip validation at configuration's status change and rebase** option to **Yes**.</span></span>

<span data-ttu-id="b5d71-140">Электронная отчетность использует следующие категории для группировки инспекций проверок согласованности:</span><span class="sxs-lookup"><span data-stu-id="b5d71-140">ER uses the following categories to group consistency check inspections:</span></span>

- <span data-ttu-id="b5d71-141">**Выполнимость** — проверки, которые определяют критические проблемы, которые могут произойти во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-141">**Executability** – Inspections that detect critical issues that might happen at runtime.</span></span> <span data-ttu-id="b5d71-142">Эти проблемы обычно имеют уровень **Ошибка**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-142">These issues are mostly at an **Error** level.</span></span> 
- <span data-ttu-id="b5d71-143">**Производительность** — проверки, которые определяют, какие проблемы могут привести к неэффективному выполнению настроенных компонентов электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-143">**Performance** – Inspections that detect issues that might cause inefficient execution of configured ER components.</span></span> <span data-ttu-id="b5d71-144">Эти проблемы обычно имеют уровень **Предупреждение**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-144">These issues are mostly at a **Warning** level.</span></span>
- <span data-ttu-id="b5d71-145">**Целостность данных** — проверки, которые определяют проблемы, которые могут привести к потере данных или проблемам во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-145">**Data integrity** – Inspections that detect issues that might cause data loss or runtime issues.</span></span> <span data-ttu-id="b5d71-146">Эти проблемы обычно имеют уровень **Предупреждение**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-146">These issues are mostly at a **Warning** level.</span></span>

## <a name="list-of-inspections"></a><span data-ttu-id="b5d71-147">Список инспекций</span><span class="sxs-lookup"><span data-stu-id="b5d71-147">List of inspections</span></span>

<span data-ttu-id="b5d71-148">В следующей таблице приводится обзор инспекций, предоставляемых электронной отчетностью.</span><span class="sxs-lookup"><span data-stu-id="b5d71-148">The following table provides an overview of the inspections that ER provides.</span></span> <span data-ttu-id="b5d71-149">Для получения дополнительных сведений об этих проверках воспользуйтесь ссылками в первом столбце, чтобы перейти к соответствующим разделам данной темы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-149">For more information about these inspections, use the links in the first column to go to the relevant sections of this topic.</span></span> <span data-ttu-id="b5d71-150">В этих разделах описываются типы компонентов, для которых электронная отчетность предоставляет проверки, а также способы изменения конфигурации компонентов аварийной отчетности, которые помогают предотвратить проблемы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-150">Those sections explain the types of components that ER provides inspections for and how you can reconfigure ER components to help prevent issues.</span></span>

<table>
<thead>
<tr>
<th><span data-ttu-id="b5d71-151">Наименование</span><span class="sxs-lookup"><span data-stu-id="b5d71-151">Name</span></span></th>
<th><span data-ttu-id="b5d71-152">Категория</span><span class="sxs-lookup"><span data-stu-id="b5d71-152">Category</span></span></th>
<th><span data-ttu-id="b5d71-153">Уровень</span><span class="sxs-lookup"><span data-stu-id="b5d71-153">Level</span></span></th>
<th><span data-ttu-id="b5d71-154">Сообщение</span><span class="sxs-lookup"><span data-stu-id="b5d71-154">Message</span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span data-ttu-id="b5d71-155"><a href='#i1'>Преобразование типов</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-155"><a href='#i1'>Type conversion</a></span></span></td>
<td><span data-ttu-id="b5d71-156">Выполнимость</span><span class="sxs-lookup"><span data-stu-id="b5d71-156">Executability</span></span></td>
<td><span data-ttu-id="b5d71-157">Ошибка</span><span class="sxs-lookup"><span data-stu-id="b5d71-157">Error</span></span></td>
<td>
<p><span data-ttu-id="b5d71-158">Невозможно преобразовать выражение типа &lt;тип&gt; в поле типа &lt;тип&gt;.</span><span class="sxs-lookup"><span data-stu-id="b5d71-158">Cannot convert expression of type &lt;type&gt; to field of type &lt;type&gt;.</span></span></p>
<p><span data-ttu-id="b5d71-159"><b>Ошибка выполнения:</b> исключение типа</span><span class="sxs-lookup"><span data-stu-id="b5d71-159"><b>Runtime error:</b> Exception of type</span></span></p>
</td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-160"><a href='#i2'>Совместимость типов</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-160"><a href='#i2'>Type compatibility</a></span></span></td>
<td><span data-ttu-id="b5d71-161">Выполнимость</span><span class="sxs-lookup"><span data-stu-id="b5d71-161">Executability</span></span></td>
<td><span data-ttu-id="b5d71-162">Ошибка</span><span class="sxs-lookup"><span data-stu-id="b5d71-162">Error</span></span></td>
<td>
<p><span data-ttu-id="b5d71-163">Настроенное выражение не может использоваться в качестве привязки элемента текущего формата к источнику данных, так как это выражение возвращает значение типа данных &lt;тип&gt;, которое находится за пределами диапазона типов данных, поддерживаемых текущим элементом форматирования типа &lt;тип&gt;.</span><span class="sxs-lookup"><span data-stu-id="b5d71-163">The configured expression cannot be used as the binding of the current format element to a data source as this expression returns value of the data type &lt;type&gt; that is beyond the scope of data types that are supported by the current format element of type &lt;type&gt;.</span></span></p>
<p><span data-ttu-id="b5d71-164"><b>Ошибка выполнения:</b> исключение типа</span><span class="sxs-lookup"><span data-stu-id="b5d71-164"><b>Runtime error:</b> Exception of type</span></span></p>
</td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-165"><a href='#i3'>Отсутствует элемент конфигурации</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-165"><a href='#i3'>Missing configuration element</a></span></span></td>
<td><span data-ttu-id="b5d71-166">Выполнимость</span><span class="sxs-lookup"><span data-stu-id="b5d71-166">Executability</span></span></td>
<td><span data-ttu-id="b5d71-167">Ошибка</span><span class="sxs-lookup"><span data-stu-id="b5d71-167">Error</span></span></td>
<td>
<p><span data-ttu-id="b5d71-168">Путь не найден &lt;путь&gt;.</span><span class="sxs-lookup"><span data-stu-id="b5d71-168">Path not found &lt;path&gt;.</span></span></p>
<p><span data-ttu-id="b5d71-169"><b>Ошибка выполнения:</b> элемент конфигурации &lt;путь&gt; не найден</span><span class="sxs-lookup"><span data-stu-id="b5d71-169"><b>Runtime error:</b> Element of the configuration &lt;path&gt; not found</span></span></p>
</td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-170"><a href='#i4'>Выполнимость выражения с функцией FILTER</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-170"><a href='#i4'>Executability of an expression with FILTER function</a></span></span></td>
<td><span data-ttu-id="b5d71-171">Выполнимость</span><span class="sxs-lookup"><span data-stu-id="b5d71-171">Executability</span></span></td>
<td><span data-ttu-id="b5d71-172">Ошибка</span><span class="sxs-lookup"><span data-stu-id="b5d71-172">Error</span></span></td>
<td>
<p><span data-ttu-id="b5d71-173">Выражение списка функции FILTER недоступно для запросов.</span><span class="sxs-lookup"><span data-stu-id="b5d71-173">The list expression of FILTER function is not queryable.</span></span></p>
<p><span data-ttu-id="b5d71-174"><b>Ошибка выполнения:</b> фильтрация не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="b5d71-174"><b>Runtime error:</b> Filtering is not supported.</span></span> <span data-ttu-id="b5d71-175">Проверьте конфигурацию для получения дополнительных сведений об этом.</span><span class="sxs-lookup"><span data-stu-id="b5d71-175">Validate the configuration to get more details about this.</span></span></p>
</td>
</tr>
<tr>
<td rowspan='2'><span data-ttu-id="b5d71-176"><a href='#i5'>Выполнимость источника данных GROUPBY</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-176"><a href='#i5'>Executability of a GROUPBY data source</a></span></span></td>
<td><span data-ttu-id="b5d71-177">Выполнимость</span><span class="sxs-lookup"><span data-stu-id="b5d71-177">Executability</span></span></td>
<td><span data-ttu-id="b5d71-178">Ошибка</span><span class="sxs-lookup"><span data-stu-id="b5d71-178">Error</span></span></td>
<td><span data-ttu-id="b5d71-179">Путь &lt;путь&gt; не поддерживает запросы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-179">Path &lt;path&gt; does not support querying.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-180">Выполнимость</span><span class="sxs-lookup"><span data-stu-id="b5d71-180">Executability</span></span></td>
<td><span data-ttu-id="b5d71-181">Ошибка</span><span class="sxs-lookup"><span data-stu-id="b5d71-181">Error</span></span></td>
<td>
<p><span data-ttu-id="b5d71-182">Функция "группировка по" не может быть выполнена с запросом.</span><span class="sxs-lookup"><span data-stu-id="b5d71-182">Group by function cannot be executed with query.</span></span></p>
<p><span data-ttu-id="b5d71-183"><b>Ошибка выполнения:</b> функция "группировка по" не может быть выполнена с запросом.</span><span class="sxs-lookup"><span data-stu-id="b5d71-183"><b>Runtime error:</b> Group by function can't be executed with query.</span></span></p>
</td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-184"><a href='#i6'>Выполнимость источника данных JOIN</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-184"><a href='#i6'>Executability of a JOIN data source</a></span></span></td>
<td><span data-ttu-id="b5d71-185">Выполнимость</span><span class="sxs-lookup"><span data-stu-id="b5d71-185">Executability</span></span></td>
<td><span data-ttu-id="b5d71-186">Ошибка</span><span class="sxs-lookup"><span data-stu-id="b5d71-186">Error</span></span></td>
<td>
<p><span data-ttu-id="b5d71-187">Невозможно объединить &lt;путь&gt; списка, который не является фильтром в запросе.</span><span class="sxs-lookup"><span data-stu-id="b5d71-187">Cannot join a list &lt;path&gt; that is not a filter in query.</span></span></p>
<p><span data-ttu-id="b5d71-188"><b>Ошибка выполнения:</b> функция "Объединенный источник данных должен быть вычисленным полем выражения фильтра" была неправильно вызвана.</span><span class="sxs-lookup"><span data-stu-id="b5d71-188"><b>Runtime error:</b> Function Joined datasource should be a filter expression calculated field has been incorrectly called.</span></span></p>
</td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-189"><a href='#i7'>Предпочтительность функции FILTER по сравнению с WHERE</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-189"><a href='#i7'>Preferability of FILTER vs WHERE function</a></span></span></td>
<td><span data-ttu-id="b5d71-190">Производительность</span><span class="sxs-lookup"><span data-stu-id="b5d71-190">Performance</span></span></td>
<td><span data-ttu-id="b5d71-191">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="b5d71-191">Warning</span></span></td>
<td><span data-ttu-id="b5d71-192">Использование функции FILTER для выражения предпочтительнее, чем WHERE с точки зрения производительности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-192">Using FILTER function for the expression is preferable than WHERE from the performance perspective.</span></span> <span data-ttu-id="b5d71-193">Выберите исправление, чтобы заменить это автоматически.</span><span class="sxs-lookup"><span data-stu-id="b5d71-193">Select Fix to replace it automatically.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-194"><a href='#i8'>Предпочтительность функции ALLITEMSQUERY по сравнению с ALLITEMS</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-194"><a href='#i8'>Preferability of ALLITEMSQUERY vs ALLITEMS function</a></span></span></td>
<td><span data-ttu-id="b5d71-195">Производительность</span><span class="sxs-lookup"><span data-stu-id="b5d71-195">Performance</span></span></td>
<td><span data-ttu-id="b5d71-196">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="b5d71-196">Warning</span></span></td>
<td><span data-ttu-id="b5d71-197">Использование функции ALLITEMSQUERY для выражения предпочтительнее, чем ALLITEMS с точки зрения производительности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-197">Using ALLITEMSQUERY function for the expression is preferable than ALLITEMS from the performance perspective.</span></span> <span data-ttu-id="b5d71-198">Выберите исправление, чтобы заменить это автоматически.</span><span class="sxs-lookup"><span data-stu-id="b5d71-198">Select Fix to replace it automatically.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-199"><a href='#i9'>Рассмотрение пустых вариантов списка</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-199"><a href='#i9'>Consideration of empty list cases</a></span></span></td>
<td><span data-ttu-id="b5d71-200">Выполнимость</span><span class="sxs-lookup"><span data-stu-id="b5d71-200">Executability</span></span></td>
<td><span data-ttu-id="b5d71-201">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="b5d71-201">Warning</span></span></td>
<td>
<p><span data-ttu-id="b5d71-202">&lt;Путь&gt; списка не имеет никакой проверки на пустой вариант списка, что может привести к ошибке во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-202">List &lt;path&gt; does not have any check for empty list case, it can result an error at run time.</span></span> <span data-ttu-id="b5d71-203">Добавьте проверку для пустого варианта списка.</span><span class="sxs-lookup"><span data-stu-id="b5d71-203">Add a check for empty list case.</span></span></p>
<p><span data-ttu-id="b5d71-204"><b>Ошибка выполнения:</b> список пуст по &lt;пути&gt;</span><span class="sxs-lookup"><span data-stu-id="b5d71-204"><b>Runtime error:</b> List is empty at &lt;path&gt;</span></span></p>
<p><span data-ttu-id="b5d71-205"><b><a href='#i9a'>Потенциальная проблема</a>:</b> строка заполняется один раз, а источник данных, из которого она заполняется, содержится несколько записей</span><span class="sxs-lookup"><span data-stu-id="b5d71-205"><b><a href='#i9a'>Potential issue</a>:</b> Line is getting populated once while a data source it is populated from contains multiple records</span></span></p>
</td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-206"><a href='#i10'>Выполнимость выражения с функцией FILTER (кэширование)</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-206"><a href='#i10'>Executability of an expression with FILTER function (caching)</a></span></span></td>
<td><span data-ttu-id="b5d71-207">Выполнимость</span><span class="sxs-lookup"><span data-stu-id="b5d71-207">Executability</span></span></td>
<td><span data-ttu-id="b5d71-208">Ошибка</span><span class="sxs-lookup"><span data-stu-id="b5d71-208">Error</span></span></td>
<td>
<p><span data-ttu-id="b5d71-209">Функция FILTER не может применяться к выбранному типу источника данных.</span><span class="sxs-lookup"><span data-stu-id="b5d71-209">FILTER function cannot be applied to the selected type of data source.</span></span> <span data-ttu-id="b5d71-210">Источник данных типа табличных записей применяется только в том случае, если он не кэширован и не содержит вложенных источников данных, добавленных вручную.</span><span class="sxs-lookup"><span data-stu-id="b5d71-210">A data source of the Table records type is applicable only when it is not cached and has no manually added nested data sources.</span></span></p>
<p><span data-ttu-id="b5d71-211"><b>Ошибка выполнения:</b> фильтрация не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="b5d71-211"><b>Runtime error:</b> Filtering is not supported.</span></span> <span data-ttu-id="b5d71-212">Проверьте конфигурацию для получения дополнительных сведений об этом.</span><span class="sxs-lookup"><span data-stu-id="b5d71-212">Validate the configuration to get more details about this.</span></span></p>
</td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-213"><a href='#i11'>Отсутствует привязка</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-213"><a href='#i11'>Missing binding</a></span></span></td>
<td><span data-ttu-id="b5d71-214">Выполнимость</span><span class="sxs-lookup"><span data-stu-id="b5d71-214">Executability</span></span></td>
<td><span data-ttu-id="b5d71-215">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="b5d71-215">Warning</span></span></td>
<td>
<p><span data-ttu-id="b5d71-216">Путь &lt;путь&gt; не имеет привязки к источнику данных в использовании сопоставления модели.</span><span class="sxs-lookup"><span data-stu-id="b5d71-216">Path &lt;path&gt; has no binding to any datasource in using model's mapping.</span></span></p>
<p><span data-ttu-id="b5d71-217"><b>Ошибка выполнения:</b> путь &lt;путь&gt; не привязан</span><span class="sxs-lookup"><span data-stu-id="b5d71-217"><b>Runtime error:</b> Path &lt;path&gt; is not bound</span></span></p>
</td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-218"><a href='#i12'>Несвязанный шаблон</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-218"><a href='#i12'>Not linked template</a></span></span></td>
<td><span data-ttu-id="b5d71-219">Целостность данных</span><span class="sxs-lookup"><span data-stu-id="b5d71-219">Data integrity</span></span></td>
<td><span data-ttu-id="b5d71-220">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="b5d71-220">Warning</span></span></td>
<td><span data-ttu-id="b5d71-221">Файл &lt;имя&gt; связан с компонентами, не являющимися файлом, и будет удален после изменения статуса версии конфигурации.</span><span class="sxs-lookup"><span data-stu-id="b5d71-221">File &lt;name&gt; is linked to no file components and will be removed after changing status of configuration version.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="b5d71-222"><a href='#i13'>Несинхронизированный формат</a></span><span class="sxs-lookup"><span data-stu-id="b5d71-222"><a href='#i13'>Not synced format</a></span></span></td>
<td><span data-ttu-id="b5d71-223">Целостность данных</span><span class="sxs-lookup"><span data-stu-id="b5d71-223">Data integrity</span></span></td>
<td><span data-ttu-id="b5d71-224">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="b5d71-224">Warning</span></span></td>
<td><span data-ttu-id="b5d71-225">Определенное имя &lt;имя компонента&gt; не существует в &lt;имени листа&gt; листов Excel</span><span class="sxs-lookup"><span data-stu-id="b5d71-225">Defined name &lt;component name&gt; does not exist in Excel sheet &lt;sheet name&gt;</span></span></td>
</tr>
</tbody>
</table>

## <a name="type-conversion"></a><a id="i1"></a><span data-ttu-id="b5d71-226">Преобразование типов</span><span class="sxs-lookup"><span data-stu-id="b5d71-226">Type conversion</span></span>

<span data-ttu-id="b5d71-227">Электронная отчетность проверяет, совместим ли тип данных поля модели данных с типом данных выражения, настроенного в качестве привязки этого поля.</span><span class="sxs-lookup"><span data-stu-id="b5d71-227">ER checks whether the data type of a data model field is compatible with the data type of an expression that is configured as the binding of that field.</span></span> <span data-ttu-id="b5d71-228">Если типы данных несовместимы, в конструкторе сопоставления модели электронной отчетности возникает ошибка проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-228">If the data types are incompatible, a validation error occurs in the ER model mapping designer.</span></span> <span data-ttu-id="b5d71-229">В сообщении, которое вы получаете, говориться, что электронная отчетность не может преобразовать выражение типа A в поле типа B.</span><span class="sxs-lookup"><span data-stu-id="b5d71-229">The message that you receive states that ER can't convert an expression of type A to a field of type B.</span></span>

<span data-ttu-id="b5d71-230">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-230">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-231">Начните настраивать модель данных электронной отчетности и компоненты сопоставления модели электронной отчетности одновременно.</span><span class="sxs-lookup"><span data-stu-id="b5d71-231">Start to configure the ER data model and the ER model mapping components simultaneously.</span></span>
2. <span data-ttu-id="b5d71-232">В дереве модели данных добавьте поле с именем **X** и выберите **Integer** в качестве типа данных.</span><span class="sxs-lookup"><span data-stu-id="b5d71-232">In the data model tree, add a field that is named **X**, and select **Integer** as the data type.</span></span>

    ![Поле X и тип данных "целое число" добавлены в дерево режима данных на странице модели данных](./media/er-components-inspections-01.png)

3. <span data-ttu-id="b5d71-234">В области источников данных сопоставления модели добавьте источник данных типа **Вычисляемое поле**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-234">In the model mapping data sources pane, add a data source of the **Calculated field** type.</span></span>
4. <span data-ttu-id="b5d71-235">Назовите новый источник данных **Y** и настройте его так, чтобы он содержал выражение `INTVALUE(100)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-235">Name the new data source **Y**, and configure it so that it contains the expression `INTVALUE(100)`.</span></span>
5. <span data-ttu-id="b5d71-236">Выполните привязку **X** к **Y**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-236">Bind **X** to **Y**.</span></span>
6. <span data-ttu-id="b5d71-237">В конструкторе моделей данных измените тип данных поля **X** с **Integer** на **Int64**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-237">In the data model designer, change the data type of the **X** field from **Integer** to **Int64**.</span></span>
7. <span data-ttu-id="b5d71-238">Выберите **Проверить**, чтобы проверить редактируемый компонент сопоставления моделей на странице **Конструктор сопоставления моделей**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-238">Select **Validate** to inspect the editable model mapping component on the **Model mapping designer** page.</span></span>

    ![Проверка редактируемого компонента сопоставления моделей на странице конструктора сопоставления моделей](./media/er-components-inspections-01.gif)

8. <span data-ttu-id="b5d71-240">Выберите **Проверить**, чтобы проверить компонент сопоставления моделей выбранной конфигурации электронной отчетности на странице **Конфигурации**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-240">Select **Validate** to inspect the model mapping component of the selected ER configuration on the **Configurations** page.</span></span>

    ![Проверьте, чтобы проверить компонент сопоставления моделей на странице конфигураций](./media/er-components-inspections-01a.png)

9. <span data-ttu-id="b5d71-242">Обратите внимание, что происходит ошибка проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-242">Notice that a validation error occurs.</span></span> <span data-ttu-id="b5d71-243">В сообщении говорится, что значение типа **Integer**, возвращаемое выражением `INTVALUE(100)` источника данных **Y**, не может быть сохранено в поле модели данных **X** типа **Int64**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-243">The message states that the value of the **Integer** type that the `INTVALUE(100)` expression of the **Y** data source returns can't be stored in the **X** data model field of the **Int64** type.</span></span>

<span data-ttu-id="b5d71-244">На следующем рисунке показана ошибка среды выполнения, которая происходит, если вы проигнорируете предупреждение и выберите команду **Выполнить**, чтобы выполнить формат, настроенный для использования сопоставления модели.</span><span class="sxs-lookup"><span data-stu-id="b5d71-244">The following illustration shows the runtime error that occurs if you ignore the warning and select **Run** to run a format that is configured to use the model mapping.</span></span>

![Ошибки среды выполнения на странице конструктора форматов](./media/er-components-inspections-01b.png)

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-246">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-246">Automatic resolution</span></span>

<span data-ttu-id="b5d71-247">Нет параметров для автоматического исправления этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-247">No option to automatically fix this issue is available.</span></span>

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-248">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-248">Manual resolution</span></span>

#### <a name="option-1"></a><span data-ttu-id="b5d71-249">Параметр 1</span><span class="sxs-lookup"><span data-stu-id="b5d71-249">Option 1</span></span>

<span data-ttu-id="b5d71-250">Обновите структуру модели данных, изменив тип данных поля модели данных таким образом, чтобы он соответствовал типу данных выражения, которое настроено для привязки этого поля.</span><span class="sxs-lookup"><span data-stu-id="b5d71-250">Update the data model structure by changing the data type of the data model field so that it matches the data type of the expression that is configured for the binding of that field.</span></span> <span data-ttu-id="b5d71-251">В предыдущем примере тип данных поля **X** должен быть изменен обратно на целое число **Integer**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-251">For the preceding example, the data type of the **X** field must be changed back to **Integer**.</span></span>

#### <a name="option-2"></a><span data-ttu-id="b5d71-252">Параметр 2</span><span class="sxs-lookup"><span data-stu-id="b5d71-252">Option 2</span></span>

<span data-ttu-id="b5d71-253">Обновите сопоставление модели путем изменения выражения источника данных, связанного с полем модели данных.</span><span class="sxs-lookup"><span data-stu-id="b5d71-253">Update the model mapping by changing the expression of the data source that is bound with the data model field.</span></span> <span data-ttu-id="b5d71-254">Для предыдущего примера выражение источника данных **Y** должно быть изменено на `INT64VALUE(100)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-254">For the preceding example, the expression of the **Y** data source must be changed to `INT64VALUE(100)`.</span></span>

## <a name="type-compatibility"></a><a id="i2"></a><span data-ttu-id="b5d71-255">Совместимость типов</span><span class="sxs-lookup"><span data-stu-id="b5d71-255">Type compatibility</span></span>

<span data-ttu-id="b5d71-256">Электронная отчетность проверяет, совместим ли тип данных элемента формата с типом данных выражения, настроенного в качестве привязки этого элемента формата.</span><span class="sxs-lookup"><span data-stu-id="b5d71-256">ER checks whether the data type of a format element is compatible with the data type of an expression that is configured as the binding of that format element.</span></span> <span data-ttu-id="b5d71-257">Если типы данных несовместимы, в конструкторе операций электронной отчетности возникает ошибка проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-257">If the data types are incompatible, a validation error occurs in the ER Operations designer.</span></span> <span data-ttu-id="b5d71-258">В получаемом вами сообщении говорится, что настроенное выражение не может использоваться в качестве привязки элемента текущего формата к источнику данных, так как это выражение возвращает значение типа данных A, которое находится за пределами области типов данных, поддерживаемых текущим элементом форматирования типа B.</span><span class="sxs-lookup"><span data-stu-id="b5d71-258">The message that you receive states that the configured expression can't be used as the binding of the current format element to a data source, because the expression returns a value of data type A that is beyond the scope of the data types that are supported by the current format element of type B.</span></span>

<span data-ttu-id="b5d71-259">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-259">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-260">Начните настраивать модель данных электронной отчетности и компоненты формата электронной отчетности одновременно.</span><span class="sxs-lookup"><span data-stu-id="b5d71-260">Start to configure the ER data model and the ER format components simultaneously.</span></span>
2. <span data-ttu-id="b5d71-261">В дереве модели данных добавьте поле с именем **X** и выберите **Integer** в качестве типа данных.</span><span class="sxs-lookup"><span data-stu-id="b5d71-261">In the data model tree, add a field that is named **X**, and select **Integer** as the data type.</span></span>
3. <span data-ttu-id="b5d71-262">В дереве структуры формата добавьте элемент формата типа **Числовой**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-262">In the format structure tree, add a format element of the **Numeric** type.</span></span>
4. <span data-ttu-id="b5d71-263">Присвойте имя новому элементу форматирования **Y**. В поле **Числовой тип** выберите **Integer** в качестве типа данных.</span><span class="sxs-lookup"><span data-stu-id="b5d71-263">Name the new format element **Y**. In the **Numeric type** field, select **Integer** as the data type.</span></span>
5. <span data-ttu-id="b5d71-264">Выполните привязку **X** к **Y**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-264">Bind **X** to **Y**.</span></span>
6. <span data-ttu-id="b5d71-265">В дереве структуры формата измените тип данных элемента формата **Y** с **Integer** на **Int64**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-265">In the format structure tree, change the data type of the **Y** format element from **Integer** to **Int64**.</span></span>
7. <span data-ttu-id="b5d71-266">Выберите **Проверить**, чтобы проверить редактируемый компонент формата на странице **Конструктор формата**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-266">Select **Validate** to inspect the editable format component on the **Format designer** page.</span></span>

    ![Проверка совместимости типов на странице конструктора формата](./media/er-components-inspections-02.gif)

8. <span data-ttu-id="b5d71-268">Обратите внимание, что происходит ошибка проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-268">Notice that a validation error occurs.</span></span> <span data-ttu-id="b5d71-269">В сообщении говорится, что настроенное выражение может принимать только значения **Int64**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-269">The message states that the configured expression can accept only **Int64** values.</span></span> <span data-ttu-id="b5d71-270">Таким образом, значение поля модели данных **X** типа **Integer** не может быть введено в элемент формата **Y**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-270">Therefore, the value of the **X** data model field of the **Integer** type can't be entered in the **Y** format element.</span></span>

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-271">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-271">Automatic resolution</span></span>

<span data-ttu-id="b5d71-272">Нет параметров для автоматического исправления этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-272">No option to automatically fix this issue is available.</span></span>

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-273">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-273">Manual resolution</span></span>

#### <a name="option-1"></a><span data-ttu-id="b5d71-274">Параметр 1</span><span class="sxs-lookup"><span data-stu-id="b5d71-274">Option 1</span></span>

<span data-ttu-id="b5d71-275">Обновите структуру формата, изменив тип данных элемента формата **Числовой** таким образом, чтобы он соответствовал типу данных выражения, которое настроено для привязки этого элемента.</span><span class="sxs-lookup"><span data-stu-id="b5d71-275">Update the format structure by changing the data type of the **Numeric** format element so that it matches the data type of the expression that is configured for the binding of that element.</span></span> <span data-ttu-id="b5d71-276">В предыдущем примере значение **Числовой тип** элемента формата **X** должен быть изменен обратно на целое число **Integer**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-276">In the preceding example, the **Numeric type** value of the **X** format element must be changed back to **Integer**.</span></span>

#### <a name="option-2"></a><span data-ttu-id="b5d71-277">Параметр 2</span><span class="sxs-lookup"><span data-stu-id="b5d71-277">Option 2</span></span>

<span data-ttu-id="b5d71-278">Обновите сопоставление формата элемента формата **X**, изменив выражение с `model.X` на `INT64VALUE(model.X)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-278">Update the format mapping of the **X** format element by changing the expression from `model.X` to `INT64VALUE(model.X)`.</span></span>

## <a name="missing-configuration-element"></a><a id="i3"></a><span data-ttu-id="b5d71-279">Отсутствует элемент конфигурации</span><span class="sxs-lookup"><span data-stu-id="b5d71-279">Missing configuration element</span></span>

<span data-ttu-id="b5d71-280">Электронная отчетность проверяет, содержат ли выражения привязки только те источники данных, которые настроены в редактируемом компоненте электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-280">ER checks whether the binding expressions contain only data sources that are configured in the editable ER component.</span></span> <span data-ttu-id="b5d71-281">Для каждой привязки, содержащей источник данных, отсутствующий в редактируемом компоненте электронной отчетности, в конструкторе операций электронной отчетности или в конструкторе сопоставления моделей электронной отчетности возникает ошибка проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-281">For every binding that contains a data source that is missing in the editable ER component, a validation error occurs in the ER Operations designer or the ER model mapping designer.</span></span>

<span data-ttu-id="b5d71-282">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-282">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-283">Начните настраивать модель данных электронной отчетности и компоненты сопоставления модели электронной отчетности одновременно.</span><span class="sxs-lookup"><span data-stu-id="b5d71-283">Start to configure the ER data model and the ER model mapping components simultaneously.</span></span>
2. <span data-ttu-id="b5d71-284">В дереве модели данных добавьте поле с именем **X** и выберите **Integer** в качестве типа данных.</span><span class="sxs-lookup"><span data-stu-id="b5d71-284">In the data model tree, add a field that is named **X**, and select **Integer** as the data type.</span></span>

    ![Дерево модели данных с полем X и типом данных Integer на странице модели данных](./media/er-components-inspections-01.png)

3. <span data-ttu-id="b5d71-286">В области источников данных сопоставления модели добавьте источник данных типа **Вычисляемое поле**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-286">In the model mapping data sources pane, add a data source of the **Calculated field** type.</span></span>
4. <span data-ttu-id="b5d71-287">Назовите новый источник данных **Y** и настройте его так, чтобы он содержал выражение `INTVALUE(100)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-287">Name the new data source **Y**, and configure it so that it contains the expression `INTVALUE(100)`.</span></span>
5. <span data-ttu-id="b5d71-288">Выполните привязку **X** к **Y**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-288">Bind **X** to **Y**.</span></span>
6. <span data-ttu-id="b5d71-289">В конструкторе сопоставления моделей в области источников данных удалите источник данных **Y**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-289">In the model mapping designer, in the data sources pane, delete the **Y** data source.</span></span>
7. <span data-ttu-id="b5d71-290">Выберите **Проверить**, чтобы проверить редактируемый компонент сопоставления моделей на странице **Конструктор сопоставления моделей**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-290">Select **Validate** to inspect the editable model mapping component on the **Model mapping designer** page.</span></span>

    ![Проверка редактируемого компонента сопоставления моделей электронной отчетности на странице конструктора сопоставления моделей](./media/er-components-inspections-03.gif)

8. <span data-ttu-id="b5d71-292">Обратите внимание, что происходит ошибка проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-292">Notice that a validation error occurs.</span></span> <span data-ttu-id="b5d71-293">В сообщении говорится, что привязка поля модель данных **X** содержит путь, относящийся к источнику данных **Y**, но этот источник данных не найден.</span><span class="sxs-lookup"><span data-stu-id="b5d71-293">The message states that the binding of the **X** data model field contains the path that refers to the **Y** data source, but this data source isn't found.</span></span>

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-294">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-294">Automatic resolution</span></span>

<span data-ttu-id="b5d71-295">Выберите **Отменить связь**, чтобы устранить эту проблему автоматически, удалив отсутствующую привязку источника данных.</span><span class="sxs-lookup"><span data-stu-id="b5d71-295">Select **Unbind** to automatically fix this issue by removing the missing data source binding.</span></span>

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-296">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-296">Manual resolution</span></span>

#### <a name="option-1"></a><span data-ttu-id="b5d71-297">Параметр 1</span><span class="sxs-lookup"><span data-stu-id="b5d71-297">Option 1</span></span>

<span data-ttu-id="b5d71-298">Отмените привязку поля модели данных **X** для прекращения связи с несуществующим источником данных **Y**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-298">Unbind the **X** data model field to stop referring to the nonexistent **Y** data source.</span></span>

#### <a name="option-2"></a><span data-ttu-id="b5d71-299">Параметр 2</span><span class="sxs-lookup"><span data-stu-id="b5d71-299">Option 2</span></span>

<span data-ttu-id="b5d71-300">В области источников данных конструктора сопоставления моделей электронной отчетности снова добавьте источник данных **Y**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-300">In the data sources pane of the ER model mapping designer, add the **Y** data source again.</span></span>

## <a name="executability-of-an-expression-with-filter-function"></a><a id="i4"></a><span data-ttu-id="b5d71-301">Выполнимость выражения с функцией FILTER</span><span class="sxs-lookup"><span data-stu-id="b5d71-301">Executability of an expression with FILTER function</span></span>

<span data-ttu-id="b5d71-302">Встроенная функция электронной отчетности [FILTER](er-functions-list-filter.md) используется для доступа к таблицам приложений, представлениям или сущностям данных путем помещения одного вызова SQL для получения необходимых данных в виде списка записей.</span><span class="sxs-lookup"><span data-stu-id="b5d71-302">The built-in [FILTER](er-functions-list-filter.md) ER function is used to access application tables, views, or data entities by placing a single SQL call to get the required data as a list of records.</span></span> <span data-ttu-id="b5d71-303">Источник данных типа **Список записей** используется в качестве аргумента данной функции и определяет источник приложения для вызова.</span><span class="sxs-lookup"><span data-stu-id="b5d71-303">A data source of the **Record list** type is used as an argument of this function and specifies the application source for the call.</span></span> <span data-ttu-id="b5d71-304">Электронная отчетность проверяет, можно ли установить прямой SQL-запрос для источника данных, на который имеется ссылка в функции `FILTER`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-304">ER checks whether a direct SQL query can be established to a data source that is referred to in the `FILTER` function.</span></span> <span data-ttu-id="b5d71-305">Если невозможно установить прямой запрос, в конструкторе сопоставления моделей электронной отчетности возникает ошибка проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-305">If a direct query can't be established, a validation error occurs in the ER model mapping designer.</span></span> <span data-ttu-id="b5d71-306">Выводится сообщение о том, что выражение электронной отчетности, включающее функцию `FILTER`, не может быть выполнено во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-306">The message that you receive states that the ER expression that includes the `FILTER` function can't be run at runtime.</span></span> 

<span data-ttu-id="b5d71-307">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-307">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-308">Начните настройку компонента сопоставления модели электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-308">Start to configure the ER model mapping component.</span></span>
2. <span data-ttu-id="b5d71-309">Добавьте источник данных типа **Dynamics 365 for Operations \\ Записи таблицы**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-309">Add a data source of the **Dynamics 365 for Operations \\ Table records** type.</span></span>
3. <span data-ttu-id="b5d71-310">Назовите новый источник данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-310">Name the new data source **Vendor**.</span></span> <span data-ttu-id="b5d71-311">В поле **Таблица** выберите **VendTable**, чтобы указать, что этот источник данных будет запрашивать таблицу VendTable.</span><span class="sxs-lookup"><span data-stu-id="b5d71-311">In the **Table** field, select **VendTable** to specify that this data source will request the VendTable table.</span></span>
4. <span data-ttu-id="b5d71-312">Добавьте источник данных типа **Вычисляемое поле**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-312">Add a data source of the **Calculated field** type.</span></span>
5. <span data-ttu-id="b5d71-313">Назовите новый источник данных **FilteredVendor** и настройте его так, чтобы он содержал выражение `FILTER(Vendor, Vendor.AccountNum="US-101")`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-313">Name the new data source **FilteredVendor**, and configure it so that it contains the expression `FILTER(Vendor, Vendor.AccountNum="US-101")`.</span></span>
6. <span data-ttu-id="b5d71-314">Выберите **Проверить** для проверки редактируемого компонента сопоставления моделей на странице **Конструктор сопоставления моделей** и убедитесь, что можно запросить выражение `FILTER(Vendor, Vendor.AccountNum="US-101")` в источнике данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-314">Select **Validate** to inspect the editable model mapping component on the **Model mapping designer** page and verify that the `FILTER(Vendor, Vendor.AccountNum="US-101")` expression in the **Vendor** data source can be queried.</span></span>
7. <span data-ttu-id="b5d71-315">Измените источник данных **Vendor**, добавив вложенное поле типа **Вычисляемое поле** для того, чтобы получить номер счета поставщика с удаленными начальными и конечными лишними символами.</span><span class="sxs-lookup"><span data-stu-id="b5d71-315">Modify the **Vendor** data source by adding a nested field of the **Calculated field** type to get the trimmed vendor account number.</span></span>
8. <span data-ttu-id="b5d71-316">Назовите новое вложенное поле **$AccNumber** и настройте его так, чтобы оно содержало выражение `TRIM(Vendor.AccountNum)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-316">Name the new nested field **$AccNumber**, and configure it so that it contains the expression `TRIM(Vendor.AccountNum)`.</span></span>
9. <span data-ttu-id="b5d71-317">Выберите **Проверить** для проверки редактируемого компонента сопоставления моделей на странице **Конструктор сопоставления моделей** и убедитесь, что можно запросить выражение `FILTER(Vendor, Vendor.AccountNum="US-101")` в источнике данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-317">Select **Validate** to inspect the editable model mapping component on the **Model mapping designer** page and verify that the `FILTER(Vendor, Vendor.AccountNum="US-101")` expression in the **Vendor** data source can be queried.</span></span>

    ![Проверка возможности запроса выражения на странице конструктора сопоставления моделей](./media/er-components-inspections-04.gif)

10. <span data-ttu-id="b5d71-319">Обратите внимание, что возникает ошибка проверки, так как источник данных **Vendor** содержит вложенное поле типа **Вычисляемое поле**, которое не позволяет преобразовать выражение источника данных **FilteredVendor** в прямую инструкцию SQL.</span><span class="sxs-lookup"><span data-stu-id="b5d71-319">Notice that a validation error occurs, because the **Vendor** data source contains a nested field of the **Calculated field** type that doesn't allow the expression of the **FilteredVendor** data source to be translated to the direct SQL statement.</span></span>

<span data-ttu-id="b5d71-320">На следующем рисунке показана ошибка среды выполнения, которая происходит, если вы проигнорируете предупреждение и выберите команду **Выполнить**, чтобы выполнить формат, настроенный для использования сопоставления модели.</span><span class="sxs-lookup"><span data-stu-id="b5d71-320">The following illustration shows the runtime error that occurs if you ignore the warning and select **Run** to run a format that is configured to use the model mapping.</span></span>

![Ошибки времени выполнения, которые возникают при выполнении редактируемого формата на странице конструктора формата](./media/er-components-inspections-04a.png)

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-322">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-322">Automatic resolution</span></span>

<span data-ttu-id="b5d71-323">Нет параметров для автоматического исправления этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-323">No option to automatically fix this issue is available.</span></span>

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-324">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-324">Manual resolution</span></span>

#### <a name="option-1"></a><span data-ttu-id="b5d71-325">Параметр 1</span><span class="sxs-lookup"><span data-stu-id="b5d71-325">Option 1</span></span>

<span data-ttu-id="b5d71-326">Вместо добавления вложенного поля типа **Вычисляемое поле** к источнику данных **Vendor** добавьте вложенное поле **$AccNumber** в источник данных **FilteredVendor** и настройте его так, чтобы оно содержало выражение `TRIM(FilteredVendor.AccountNum)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-326">Instead of adding a nested field of the **Calculated field** type to the **Vendor** data source, add the **$AccNumber** nested field to the **FilteredVendor** data source, and configure it so that it contains the expression `TRIM(FilteredVendor.AccountNum)`.</span></span> <span data-ttu-id="b5d71-327">Таким образом, выражение `FILTER(Vendor, Vendor.AccountNum="US-101")` можно выполнить на уровне SQL и рассчитать вложенное поле **$AccNumber** позже.</span><span class="sxs-lookup"><span data-stu-id="b5d71-327">In this way, the `FILTER(Vendor, Vendor.AccountNum="US-101")` expression can be run at the SQL level and calculate the **$AccNumber** nested field afterward.</span></span>

#### <a name="option-2"></a><span data-ttu-id="b5d71-328">Параметр 2</span><span class="sxs-lookup"><span data-stu-id="b5d71-328">Option 2</span></span>

<span data-ttu-id="b5d71-329">Измените выражение источника данных **FilteredVendor** с `FILTER(Vendor, Vendor.AccountNum="US-101")` на `WHERE(Vendor, Vendor.AccountNum="US-101")`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-329">Change the expression of the **FilteredVendor** data source from `FILTER(Vendor, Vendor.AccountNum="US-101")` to `WHERE(Vendor, Vendor.AccountNum="US-101")`.</span></span> <span data-ttu-id="b5d71-330">Мы не рекомендуем изменять выражение для таблицы, которая имеет большой объем данных (таблица проводок), так как все записи будут получены, и выбор необходимых записей будет выполнен в памяти.</span><span class="sxs-lookup"><span data-stu-id="b5d71-330">We don't recommend that you change the expression for a table that has a large volume of data (transactional table), because all records will be fetched, and selection of the required records will be done in memory.</span></span> <span data-ttu-id="b5d71-331">Таким образом, такой подход может привести к снижению производительности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-331">Therefore, this approach can cause poor performance.</span></span> <span data-ttu-id="b5d71-332">Дополнительные сведения см. в разделе [Функция электронной отчетности WHERE](er-functions-list-where.md).</span><span class="sxs-lookup"><span data-stu-id="b5d71-332">For more information, see [WHERE ER function](er-functions-list-where.md).</span></span>

## <a name="executability-of-a-groupby-data-source"></a><a id="i5"></a><span data-ttu-id="b5d71-333">Выполнимость источника данных GROUPBY</span><span class="sxs-lookup"><span data-stu-id="b5d71-333">Executability of a GROUPBY data source</span></span>

<span data-ttu-id="b5d71-334">Источник данных **GROUPBY** разделяет результат запроса на группы записей, обычно в целях выполнения одной или нескольких агрегаций в каждой группе.</span><span class="sxs-lookup"><span data-stu-id="b5d71-334">The **GROUPBY** data source divides the query result into groups of records, usually for the purpose of doing one or more aggregations on each group.</span></span> <span data-ttu-id="b5d71-335">Каждый источник данных **GROUPBY** можно настроить таким образом, чтобы он выполнялся либо на уровне базы данных, либо в памяти.</span><span class="sxs-lookup"><span data-stu-id="b5d71-335">Every **GROUPBY** data source can be configured so that it's run either at the database level or in memory.</span></span> <span data-ttu-id="b5d71-336">Если источник данных **GROUPBY** настроен таким образом, что он выполняется на уровне базы данных, то модуль электронной отчетности проверяет, можно ли установить прямой SQL-запрос для источника данных, на который ссылается этот источник данных.</span><span class="sxs-lookup"><span data-stu-id="b5d71-336">When a **GROUPBY** data source is configured so that it's run at the database level, ER checks whether a direct SQL query can be established to a data source that is referred to in that data source.</span></span> <span data-ttu-id="b5d71-337">Если невозможно установить прямой запрос, в конструкторе сопоставления моделей электронной отчетности возникает ошибка проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-337">If a direct query can't be established, a validation error occurs in the ER model mapping designer.</span></span> <span data-ttu-id="b5d71-338">Выводится сообщение о том, что настроенный источник данных **GROUPBY** невозможно выполнить во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-338">The message that you receive states that the configured **GROUPBY** data source can't be run at runtime.</span></span>

<span data-ttu-id="b5d71-339">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-339">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-340">Начните настройку компонента сопоставления модели электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-340">Start to configure the ER model mapping component.</span></span>
2. <span data-ttu-id="b5d71-341">Добавьте источник данных типа **Dynamics 365 for Operations \\ Записи таблицы**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-341">Add a data source of the **Dynamics 365 for Operations \\ Table records** type.</span></span>
3. <span data-ttu-id="b5d71-342">Назовите новый источник данных **Trans**. В поле **Таблица** выберите **VendTrans**, чтобы указать, что этот источник данных будет запрашивать таблицу VendTrans.</span><span class="sxs-lookup"><span data-stu-id="b5d71-342">Name the new data source **Trans**. In the **Table** field, select **VendTrans** to specify that this data source will request the VendTrans table.</span></span>
4. <span data-ttu-id="b5d71-343">Добавьте источник данных типа **Группировать по**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-343">Add a data source of the **Group by** type.</span></span>
5. <span data-ttu-id="b5d71-344">Назовите новый источник данных **GroupedTrans** и настройте его следующим образом:</span><span class="sxs-lookup"><span data-stu-id="b5d71-344">Name the new data source **GroupedTrans**, and configure it in the following way:</span></span>

    - <span data-ttu-id="b5d71-345">Выберите источник данных **Trans** в качестве источника записей, которые должны быть сгруппированы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-345">Select the **Trans** data source as the source of records that should be grouped.</span></span>
    - <span data-ttu-id="b5d71-346">В поле **Расположение выполнения** выберите **Запрос**, чтобы указать, что этот источник данных должен запускаться на уровне базы данных.</span><span class="sxs-lookup"><span data-stu-id="b5d71-346">In the **Execution location** field, select **Query** to specify that you want to run this data source at the database level.</span></span>

    ![Настройка источника данных на странице изменения параметров "Группировать по"](./media/er-components-inspections-05a.gif)

6. <span data-ttu-id="b5d71-348">Выберите **Проверить** для проверки редактируемого компонента сопоставления моделей на странице **Конструктор сопоставления моделей** и убедитесь, что можно запросить настроенный источник данных **GroupedTrans**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-348">Select **Validate** to inspect the editable model mapping component on the **Model mapping designer** page and verify that the configured **GroupedTrans** data source can be queried.</span></span>
7. <span data-ttu-id="b5d71-349">Измените источник данных **Trans**, добавив вложенное поле типа **Вычисляемое поле** для того, чтобы получить номер счета поставщика с удаленными начальными и конечными лишними символами.</span><span class="sxs-lookup"><span data-stu-id="b5d71-349">Modify the **Trans** data source by adding a nested field of the **Calculated field** type to get the trimmed vendor account number.</span></span>
8. <span data-ttu-id="b5d71-350">Назовите новый источник данных **$AccNumber** и настройте его так, чтобы он содержал выражение `TRIM(Trans.AccountNum)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-350">Name the new data source **$AccNumber**, and configure it so that it contains the expression `TRIM(Trans.AccountNum)`.</span></span>

    ![Настройка источника данных на странице конструктора сопоставления модели](./media/er-components-inspections-05a.png)

9. <span data-ttu-id="b5d71-352">Выберите **Проверить** для проверки редактируемого компонента сопоставления моделей на странице **Конструктор сопоставления моделей** и убедитесь, что можно запросить настроенный источник данных **GroupedTrans**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-352">Select **Validate** to inspect the editable model mapping component on the **Model mapping designer** page and verify that the configured **GroupedTrans** data source can be queried.</span></span>

    ![Проверьте компонент сопоставления моделей электронной отчетности и убедитесь, что настроенный источник данных GroupedTrans можно запросить на странице конструктора сопоставления моделей](./media/er-components-inspections-05b.png)

10. <span data-ttu-id="b5d71-354">Обратите внимание, что возникает ошибка проверки, так как источник данных **Trans** содержит вложенное поле типа **Вычисляемое поле**, которое не позволяет преобразовать вызов источника данных **GroupedTrans** в прямую инструкцию SQL.</span><span class="sxs-lookup"><span data-stu-id="b5d71-354">Notice that a validation error occurs, because the **Trans** data source contains a nested field of the **Calculated field** type that doesn't allow the call for the **GroupedTrans** data source to be translated to the direct SQL statement.</span></span>

<span data-ttu-id="b5d71-355">На следующем рисунке показана ошибка среды выполнения, которая происходит, если вы проигнорируете предупреждение и выберите команду **Выполнить**, чтобы выполнить формат, настроенный для использования сопоставления модели.</span><span class="sxs-lookup"><span data-stu-id="b5d71-355">The following illustration shows the runtime error that occurs if you ignore the warning and select **Run** to run a format that is configured to use the model mapping.</span></span>

![Ошибки времени выполнения, которые возникают при игнорировании предупреждения на странице конструктора формата](./media/er-components-inspections-05c.png)

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-357">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-357">Automatic resolution</span></span>

<span data-ttu-id="b5d71-358">Нет параметров для автоматического исправления этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-358">No option to automatically fix this issue is available.</span></span>

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-359">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-359">Manual resolution</span></span>

#### <a name="option-1"></a><span data-ttu-id="b5d71-360">Параметр 1</span><span class="sxs-lookup"><span data-stu-id="b5d71-360">Option 1</span></span>

<span data-ttu-id="b5d71-361">Вместо добавления вложенного поля типа **Вычисляемое поле** к источнику данных **Trans** добавьте вложенное поле **$AccNumber** для элемента **GroupedTrans.lines** источника данных **GroupedTrans** и настройте его так, чтобы оно содержало выражение `TRIM(GroupedTrans.lines.AccountNum)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-361">Instead of adding a nested field of the **Calculated field** type to the **Trans** data source, add the **$AccNumber** nested field for the **GroupedTrans.lines** item of the **GroupedTrans** data source, and configure it so that it contains the expression `TRIM(GroupedTrans.lines.AccountNum)`.</span></span> <span data-ttu-id="b5d71-362">Таким образом, источник данных **GroupedTrans** можно выполнить на уровне SQL и рассчитать вложенное поле **$AccNumber** позже.</span><span class="sxs-lookup"><span data-stu-id="b5d71-362">In this way, the **GroupedTrans** data source can be run at the SQL level and calculate the **$AccNumber** nested field afterward.</span></span>

#### <a name="option-2"></a><span data-ttu-id="b5d71-363">Параметр 2</span><span class="sxs-lookup"><span data-stu-id="b5d71-363">Option 2</span></span>

<span data-ttu-id="b5d71-364">Измените значение поля **Расположение выполнения** для источника данных **GroupedTrans** с **Запрос** на **В памяти**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-364">Change the value of the **Execution location** field for the **GroupedTrans** data source from **Query** to **In memory**.</span></span> <span data-ttu-id="b5d71-365">Мы не рекомендуем изменять значение для таблицы, которая имеет большой объем данных (таблица проводок), так как все записи будут получены, и группирование и агрегирование будут выполнены в памяти.</span><span class="sxs-lookup"><span data-stu-id="b5d71-365">We don't recommend that you change the value for a table that has a large volume of data (transactional table), because all records will be fetched, and grouping and aggregation will be done in memory.</span></span> <span data-ttu-id="b5d71-366">Таким образом, такой подход может привести к снижению производительности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-366">Therefore, this approach can cause poor performance.</span></span>

## <a name="executability-of-a-join-data-source"></a><a id="i6"></a><span data-ttu-id="b5d71-367">Выполнимость источника данных JOIN</span><span class="sxs-lookup"><span data-stu-id="b5d71-367">Executability of a JOIN data source</span></span>

<span data-ttu-id="b5d71-368">Источник данных [JOIN](er-join-data-sources.md) объединяет записи из двух или более таблиц базы данных на основе соответствующих полей.</span><span class="sxs-lookup"><span data-stu-id="b5d71-368">The [JOIN](er-join-data-sources.md) data source combines records from two or more database tables, based on related fields.</span></span> <span data-ttu-id="b5d71-369">Каждый источник данных **JOIN** можно настроить таким образом, чтобы он выполнялся либо на уровне базы данных, либо в памяти.</span><span class="sxs-lookup"><span data-stu-id="b5d71-369">Every **JOIN** data source can be configured so that it's run either at the database level or in memory.</span></span> <span data-ttu-id="b5d71-370">Если источник данных **JOIN** настроен таким образом, что он выполняется на уровне базы данных, то модуль электронной отчетности проверяет, можно ли установить прямой SQL-запрос к источникам данных, на которые ссылается этот источник данных.</span><span class="sxs-lookup"><span data-stu-id="b5d71-370">When a **JOIN** data source is configured so that it's run at the database level, ER checks whether a direct SQL query can be established to data sources that are referred to in that data source.</span></span> <span data-ttu-id="b5d71-371">Если невозможно установить прямой SQL-запрос по крайней мере с одним указанным источником данных, в конструкторе сопоставления моделей электронной отчетности возникает ошибка проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-371">If a direct SQL query can't be established with at least one referenced data source, a validation error occurs in the ER model mapping designer.</span></span> <span data-ttu-id="b5d71-372">Выводится сообщение о том, что настроенный источник данных **JOIN** невозможно выполнить во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-372">The message that you receive states that the configured **JOIN** data source can't be run at runtime.</span></span>

<span data-ttu-id="b5d71-373">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-373">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-374">Начните настройку компонента сопоставления модели электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-374">Start to configure the ER model mapping component.</span></span>
2. <span data-ttu-id="b5d71-375">Добавьте источник данных типа **Dynamics 365 for Operations \\ Записи таблицы**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-375">Add a data source of the **Dynamics 365 for Operations \\ Table records** type.</span></span>
3. <span data-ttu-id="b5d71-376">Назовите новый источник данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-376">Name the new data source **Vendor**.</span></span> <span data-ttu-id="b5d71-377">В поле **Таблица** выберите **VendTable**, чтобы указать, что этот источник данных будет запрашивать таблицу VendTable.</span><span class="sxs-lookup"><span data-stu-id="b5d71-377">In the **Table** field, select **VendTable** to specify that this data source will request the VendTable table.</span></span>
4. <span data-ttu-id="b5d71-378">Добавьте источник данных типа **Dynamics 365 for Operations \\ Записи таблицы**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-378">Add a data source of the **Dynamics 365 for Operations \\ Table records** type.</span></span>
5. <span data-ttu-id="b5d71-379">Назовите новый источник данных **Trans**. В поле **Таблица** выберите **VendTrans**, чтобы указать, что этот источник данных будет запрашивать таблицу VendTrans.</span><span class="sxs-lookup"><span data-stu-id="b5d71-379">Name the new data source **Trans**. In the **Table** field, select **VendTrans** to specify that this data source will request the VendTrans table.</span></span>
6. <span data-ttu-id="b5d71-380">Добавьте источник данных типа **Вычисляемое поле** в качестве вложенного поля источника данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-380">Add a data source of the **Calculated field** type as the nested field of the **Vendor** data source.</span></span>
7. <span data-ttu-id="b5d71-381">Назовите новый источник данных **FilteredTrans** и настройте его так, чтобы он содержал выражение `FILTER(Trans, Trans.AccountNum=Vendor.AccountNum)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-381">Name the new data source **FilteredTrans**, and configure it so that it contains the expression `FILTER(Trans, Trans.AccountNum=Vendor.AccountNum)`.</span></span>
8. <span data-ttu-id="b5d71-382">Добавьте источник данных типа **Присоединить**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-382">Add a data source of the **Join** type.</span></span>
9. <span data-ttu-id="b5d71-383">Назовите новый источник данных **JoinedList** и настройте его следующим образом:</span><span class="sxs-lookup"><span data-stu-id="b5d71-383">Name the new data source **JoinedList**, and configure it in the following way:</span></span>

    1. <span data-ttu-id="b5d71-384">Добавьте источник данных **Vendor** в качестве первого набора соединяемых записей.</span><span class="sxs-lookup"><span data-stu-id="b5d71-384">Add the **Vendor** data source as the first set of records to join.</span></span>
    2. <span data-ttu-id="b5d71-385">Добавьте источник данных **Vendor.FilteredTrans** в качестве второго набора соединяемых записей.</span><span class="sxs-lookup"><span data-stu-id="b5d71-385">Add the **Vendor.FilteredTrans** data source as the second set of records to join.</span></span> <span data-ttu-id="b5d71-386">Выберите **INNER** как тип.</span><span class="sxs-lookup"><span data-stu-id="b5d71-386">Select **INNER** as the type.</span></span>
    3. <span data-ttu-id="b5d71-387">В поле **Выполнить** выберите **Запрос**, чтобы указать, что этот источник данных должен запускаться на уровне базы данных.</span><span class="sxs-lookup"><span data-stu-id="b5d71-387">In the **Execute** field, select **Query** to specify that you want to run this data source at the database level.</span></span>

    ![Настройка источника данных на странице конструктора присоединения](./media/er-components-inspections-06a.gif)

10. <span data-ttu-id="b5d71-389">Выберите **Проверить** для проверки редактируемого компонента сопоставления моделей на странице **Конструктор сопоставления моделей** и убедитесь, что можно запросить настроенный источник данных **JoinedList**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-389">Select **Validate** to inspect the editable model mapping component on the **Model mapping designer** page and verify that the configured **JoinedList** data source can be queried.</span></span>
11. <span data-ttu-id="b5d71-390">Измените выражение источника данных **Vendor.FilteredTrans** с `FILTER(Trans, Trans.AccountNum=Vendor.AccountNum)` на `WHERE(Trans, Trans.AccountNum=Vendor.AccountNum)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-390">Change the expression of the **Vendor.FilteredTrans** data source from `FILTER(Trans, Trans.AccountNum=Vendor.AccountNum)` to `WHERE(Trans, Trans.AccountNum=Vendor.AccountNum)`.</span></span>
12. <span data-ttu-id="b5d71-391">Выберите **Проверить** для проверки редактируемого компонента сопоставления моделей на странице **Конструктор сопоставления моделей** и убедитесь, что можно запросить настроенный источник данных **JoinedList**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-391">Select **Validate** to inspect the editable model mapping component on the **Model mapping designer** page and verify that the configured **JoinedList** data source can be queried.</span></span>

    ![Выберите редактируемый компонент сопоставления моделей и убедитесь, что можно запросить источник данных JoinedList в конструкторе сопоставления моделей.](./media/er-components-inspections-06b.png)

13. <span data-ttu-id="b5d71-393">Обратите внимание, что происходит ошибка проверки, так как выражение источника данных **Vendor.FilteredTrans** не может быть преобразовано в прямой вызов SQL.</span><span class="sxs-lookup"><span data-stu-id="b5d71-393">Notice that a validation error occurs, because the expression of the **Vendor.FilteredTrans** data source can't be translated to the direct SQL call.</span></span> <span data-ttu-id="b5d71-394">Кроме того, прямой вызов SQL не позволяет преобразовать вызов источника данных **JoinedList** в прямую инструкцию SQL.</span><span class="sxs-lookup"><span data-stu-id="b5d71-394">Additionally, the direct SQL call doesn't allow the call for the **JoinedList** data source to be translated to the direct SQL statement.</span></span>

    ![Ошибки времени выполнения из-за непрошедшей проверки источника данных JoinedList на странице конструктора сопоставления моделей](./media/er-components-inspections-06c.png)

<span data-ttu-id="b5d71-396">На следующем рисунке показана ошибка среды выполнения, которая происходит, если вы проигнорируете предупреждение и выберите команду **Выполнить**, чтобы выполнить формат, настроенный для использования сопоставления модели.</span><span class="sxs-lookup"><span data-stu-id="b5d71-396">The following illustration shows the runtime error that occurs if you ignore the warning and select **Run** to run a format that is configured to use the model mapping.</span></span>

![Выполнение редактируемого формата на странице конструктора форматов](./media/er-components-inspections-06e.png)

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-398">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-398">Automatic resolution</span></span>

<span data-ttu-id="b5d71-399">Нет параметров для автоматического исправления этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-399">No option to automatically fix this issue is available.</span></span>

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-400">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-400">Manual resolution</span></span>

#### <a name="option-1"></a><span data-ttu-id="b5d71-401">Параметр 1</span><span class="sxs-lookup"><span data-stu-id="b5d71-401">Option 1</span></span>

<span data-ttu-id="b5d71-402">Измените выражение источника данных **Vendor.FilteredTrans** с `WHERE(Trans, Trans.AccountNum=Vendor.AccountNum)` обратно на `FILTER(Trans, Trans.AccountNum=Vendor.AccountNum)`, как рекомендуется в предупреждении.</span><span class="sxs-lookup"><span data-stu-id="b5d71-402">Change the expression of the **Vendor.FilteredTrans** data source from `WHERE(Trans, Trans.AccountNum=Vendor.AccountNum)` back to `FILTER(Trans, Trans.AccountNum=Vendor.AccountNum)`, as the warning advised.</span></span>

![Обновленное выражение источника данных на странице конструктора сопоставления модели](./media/er-components-inspections-06d.png)

#### <a name="option-2"></a><span data-ttu-id="b5d71-404">Параметр 2</span><span class="sxs-lookup"><span data-stu-id="b5d71-404">Option 2</span></span>

<span data-ttu-id="b5d71-405">Измените значение поля **Выполнить** для источника данных **JoinedList** с **Запрос** на **В памяти**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-405">Change the value of the **Execute** field for the **JoinedList** data source from **Query** to **In memory**.</span></span> <span data-ttu-id="b5d71-406">Мы не рекомендуем изменять значение для таблицы, которая имеет большой объем данных (таблица проводок), так как все записи будут получены, и присоединение будет выполнено в памяти.</span><span class="sxs-lookup"><span data-stu-id="b5d71-406">We don't recommend that you change the value for a table that has a large volume of data (transactional table), because all records will be fetched, and the join will be done in memory.</span></span> <span data-ttu-id="b5d71-407">Таким образом, такой подход может привести к снижению производительности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-407">Therefore, this approach can cause poor performance.</span></span> <span data-ttu-id="b5d71-408">Для информирования об этом риске отображается предупреждение проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-408">A validation warning is shown to inform you about this risk.</span></span>

## <a name="preferability-of-filter-vs-where-function"></a><a id="i7"></a><span data-ttu-id="b5d71-409">Предпочтительность функции FILTER по сравнению с WHERE</span><span class="sxs-lookup"><span data-stu-id="b5d71-409">Preferability of FILTER vs WHERE function</span></span>

<span data-ttu-id="b5d71-410">Встроенная функция электронной отчетности [FILTER](er-functions-list-filter.md) используется для доступа к таблицам приложений, представлениям или сущностям данных путем помещения одного вызова SQL для получения необходимых данных в виде списка записей.</span><span class="sxs-lookup"><span data-stu-id="b5d71-410">The built-in [FILTER](er-functions-list-filter.md) ER function is used to access application tables, views, or data entities by placing a single SQL call to get the required data as a list of records.</span></span> <span data-ttu-id="b5d71-411">Функция [WHERE](er-functions-list-where.md) извлекает все записи из данного источника и выполняет выбор записей в памяти.</span><span class="sxs-lookup"><span data-stu-id="b5d71-411">The [WHERE](er-functions-list-where.md) function fetches all records from the given source and does record selection in memory.</span></span> <span data-ttu-id="b5d71-412">Источник данных типа **Список записей** используется в качестве аргумента обеих функций и определяет источник получения записей.</span><span class="sxs-lookup"><span data-stu-id="b5d71-412">A data source of the **Record list** type is used as an argument of both functions and specifies a source for getting records.</span></span> <span data-ttu-id="b5d71-413">Электронная отчетность проверяет, возможно ли установление прямого вызова SQL к источнику данных, на который имеется ссылка в функции **WHERE**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-413">ER checks whether a direct SQL call can be established to a data source that is referred to in the **WHERE** function.</span></span> <span data-ttu-id="b5d71-414">Если невозможно установить прямой вызов, в конструкторе сопоставления моделей электронной отчетности возникает предупреждение проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-414">If a direct call can be established, a validation warning occurs in the ER model mapping designer.</span></span> <span data-ttu-id="b5d71-415">Полученное сообщение рекомендует использовать функцию **FILTER** вместо функции **WHERE** для повышения эффективности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-415">The message that you receive recommends that you use the **FILTER** function instead of the **WHERE** function to help improve efficiency.</span></span>

<span data-ttu-id="b5d71-416">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-416">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-417">Начните настройку компонента сопоставления модели электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-417">Start to configure the ER model mapping component.</span></span>
2. <span data-ttu-id="b5d71-418">Добавьте источник данных типа **Dynamics 365 for Operations \\ Записи таблицы**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-418">Add a data source of the **Dynamics 365 for Operations \\ Table records** type.</span></span>
3. <span data-ttu-id="b5d71-419">Назовите новый источник данных **Trans**. В поле **Таблица** выберите **VendTrans**, чтобы указать, что этот источник данных будет запрашивать таблицу VendTrans.</span><span class="sxs-lookup"><span data-stu-id="b5d71-419">Name the new data source **Trans**. In the **Table** field, select **VendTrans** to specify that this data source will request the VendTrans table.</span></span>
4. <span data-ttu-id="b5d71-420">Добавьте источник данных типа **Вычисляемое поле** в качестве вложенного поля источника данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-420">Add a data source of the **Calculated field** type as the nested field of the **Vendor** data source.</span></span>
5. <span data-ttu-id="b5d71-421">Назовите новый источник данных **FilteredTrans** и настройте его так, чтобы он содержал выражение `WHERE(Trans, Trans.AccountNum="US-101")`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-421">Name the new data source **FilteredTrans**, and configure it so that it contains the expression `WHERE(Trans, Trans.AccountNum="US-101")`.</span></span>
6. <span data-ttu-id="b5d71-422">Добавьте источник данных типа **Dynamics 365 for Operations \\ Записи таблицы**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-422">Add a data source of the **Dynamics 365 for Operations \\ Table records** type.</span></span>
7. <span data-ttu-id="b5d71-423">Назовите новый источник данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-423">Name the new data source **Vendor**.</span></span> <span data-ttu-id="b5d71-424">В поле **Таблица** выберите **VendTable**, чтобы указать, что этот источник данных будет запрашивать таблицу VendTable.</span><span class="sxs-lookup"><span data-stu-id="b5d71-424">In the **Table** field, select **VendTable** to specify that this data source will request the VendTable table.</span></span>
8. <span data-ttu-id="b5d71-425">Добавьте источник данных типа **Вычисляемое поле**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-425">Add a data source of the **Calculated field** type.</span></span>
9. <span data-ttu-id="b5d71-426">Назовите новый источник данных **FilteredVendor** и настройте его так, чтобы он содержал выражение `WHERE(Vendor, Vendor.AccountNum="US-101")`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-426">Name the new data source **FilteredVendor**, and configure it so that it contains the expression `WHERE(Vendor, Vendor.AccountNum="US-101")`.</span></span>
10. <span data-ttu-id="b5d71-427">Выберите **Проверить**, чтобы проверить редактируемый компонент сопоставления моделей на странице **Конструктор сопоставления моделей**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-427">Select **Validate** to inspect the editable model mapping component on the **Model mapping designer** page.</span></span>

    ![Проверить, чтобы проверить редактируемый компонент сопоставления моделей на странице конструктора сопоставления моделей](./media/er-components-inspections-07a.png)

11. <span data-ttu-id="b5d71-429">Обратите внимание, что предупреждения проверки рекомендуют использовать функцию **FILTER** вместо функции **WHERE** для источников данных **FilteredVendor** и **FilteredTrans**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-429">Notice that validation warnings recommend that you use the **FILTER** function instead of the **WHERE** function for the **FilteredVendor** and **FilteredTrans** data sources.</span></span>

    ![Предупреждения проверки, рекомендующие использовать функцию FILTER вместо функции WHERE на странице конструктора сопоставления моделей](./media/er-components-inspections-07b.png)

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-431">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-431">Automatic resolution</span></span>

<span data-ttu-id="b5d71-432">Выберите **Исправить**, чтобы автоматически заменить функцию **WHERE** функцией **FILTER** в выражениях всех источников данных, которые отображаются в сетке на вкладке **Предупреждения** для данного типа проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-432">Select **Fix** to automatically replace the **WHERE** function with the **FILTER** function in the expression of all data sources that appear in the grid on the **Warnings** tab for this type of inspection.</span></span>

<span data-ttu-id="b5d71-433">Вместо этого можно выбрать строку для одного предупреждения в сетке, а затем выбрать **Исправить выбранное**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-433">Alternatively, you can select the row for a single warning in the grid and then select **Fix selected**.</span></span> <span data-ttu-id="b5d71-434">В этом случае выражение автоматически изменяется только в источнике данных, который упоминается в выбранном предупреждении.</span><span class="sxs-lookup"><span data-stu-id="b5d71-434">In this case, the expression is automatically changed only in the data source that is mentioned in the selected warning.</span></span>

![Выберите "Исправить" для автоматической замены функции WHERE функцией FILTER на странице конструктор сопоставления моделей](./media/er-components-inspections-07c.png)

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-436">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-436">Manual resolution</span></span>

<span data-ttu-id="b5d71-437">Можно вручную настроить выражения всех источников данных, упоминаемых в сетке проверки, заменив функцию **WHERE** функцией **FILTER**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-437">You can manually adjust the expressions of all the data sources that are mentioned in the validation grid by replacing the **WHERE** function with the **FILTER** function.</span></span>

## <a name="preferability-of-allitemsquery-vs-allitems-function"></a><a id="i8"></a><span data-ttu-id="b5d71-438">Предпочтительность функции ALLITEMSQUERY по сравнению с ALLITEMS</span><span class="sxs-lookup"><span data-stu-id="b5d71-438">Preferability of ALLITEMSQUERY vs ALLITEMS function</span></span>

<span data-ttu-id="b5d71-439">Встроенные функции электронной отчетности [ALLITEMS](er-functions-list-allitems.md) и [ALLITEMSQUERY](er-functions-list-allitemsquery.md) используются для того, чтобы получить плоское значение **Список записей**, состоящее из списка записей, представляющих все элементы, которые соответствуют указанному пути.</span><span class="sxs-lookup"><span data-stu-id="b5d71-439">The built-in [ALLITEMS](er-functions-list-allitems.md) and [ALLITEMSQUERY](er-functions-list-allitemsquery.md) ER functions are used to get a flattened **Record list** value that consists of a list of records that represent all items that match the specified path.</span></span> <span data-ttu-id="b5d71-440">Электронная отчетность проверяет, возможно ли установление прямого вызова SQL к источнику данных, на который имеется ссылка в функции **ALLITEMS**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-440">ER checks whether a direct SQL call can be established to a data source that is referred to in the **ALLITEMS** function.</span></span> <span data-ttu-id="b5d71-441">Если невозможно установить прямой вызов, в конструкторе сопоставления моделей электронной отчетности возникает предупреждение проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-441">If a direct call can be established, a validation warning occurs in the ER model mapping designer.</span></span> <span data-ttu-id="b5d71-442">Полученное сообщение рекомендует использовать функцию **ALLITEMSQUERY** вместо функции **ALLITEMS** для повышения эффективности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-442">The message that you receive recommends that you use the **ALLITEMSQUERY** function instead of the **ALLITEMS** function to help improve efficiency.</span></span>

<span data-ttu-id="b5d71-443">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-443">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-444">Начните настройку компонента сопоставления модели электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-444">Start to configure the ER model mapping component.</span></span>
2. <span data-ttu-id="b5d71-445">Добавьте источник данных типа **Dynamics 365 for Operations \\ Записи таблицы**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-445">Add a data source of the **Dynamics 365 for Operations \\ Table records** type.</span></span>
3. <span data-ttu-id="b5d71-446">Назовите новый источник данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-446">Name the new data source **Vendor**.</span></span> <span data-ttu-id="b5d71-447">В поле **Таблица** выберите **VendTable**, чтобы указать, что этот источник данных будет запрашивать таблицу VendTable.</span><span class="sxs-lookup"><span data-stu-id="b5d71-447">In the **Table** field, select **VendTable** to specify that this data source will request the VendTable table.</span></span>
4. <span data-ttu-id="b5d71-448">Добавьте источник данных типа **Вычисляемое поле**, чтобы получить записи для нескольких поставщиков.</span><span class="sxs-lookup"><span data-stu-id="b5d71-448">Add a data source of the **Calculated field** type to get records for several vendors.</span></span>
5. <span data-ttu-id="b5d71-449">Назовите новый источник данных **FilteredVendor** и настройте его так, чтобы он содержал выражение `FILTER(Vendor, OR(Vendor.AccountNum="US-101",Vendor.AccountNum="US-102"))`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-449">Name the new data source **FilteredVendor**, and configure it so that it contains the expression `FILTER(Vendor, OR(Vendor.AccountNum="US-101",Vendor.AccountNum="US-102"))`.</span></span>
6. <span data-ttu-id="b5d71-450">Добавьте источник данных типа **Вычисляемое поле**, чтобы получить проводки для всех отфильтрованных поставщиков.</span><span class="sxs-lookup"><span data-stu-id="b5d71-450">Add a data source of the **Calculated field** type to get transactions of all filtered vendors.</span></span>
7. <span data-ttu-id="b5d71-451">Назовите новый источник данных **FilteredVendorTrans** и настройте его так, чтобы он содержал выражение `ALLITEMS(FilteredVendor.'<Relations'.'VendTrans.VendTable_AccountNum')`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-451">Name the new data source **FilteredVendorTrans**, and configure it so that it contains the expression `ALLITEMS(FilteredVendor.'<Relations'.'VendTrans.VendTable_AccountNum')`.</span></span>
8. <span data-ttu-id="b5d71-452">Выберите **Проверить**, чтобы проверить редактируемый компонент сопоставления моделей на странице **Конструктор сопоставления моделей**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-452">Select **Validate** to inspect the editable model mapping component on the **Model mapping designer** page.</span></span>

    ![Страница конструктора сопоставления моделей, кнопка "Проверить"](./media/er-components-inspections-08a.png)

9. <span data-ttu-id="b5d71-454">Обратите внимание, что происходит предупреждение проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-454">Notice that a validation warning occurs.</span></span> <span data-ttu-id="b5d71-455">Сообщение рекомендует использовать функцию **ALLITEMSQUERY** вместо функции **ALLITEMS** для источника данных **FilteredVendorTrans**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-455">The message recommends that you use the **ALLITEMSQUERY** function instead of the **ALLITEMS** function for the **FilteredVendorTrans** data source.</span></span>

    ![Предупреждение проверки для использования функции ALLITEMSQUERY вместо функции ALLITEMS в компоненте сопоставления модели электронной отчетности на странице конструктора сопоставления моделей](./media/er-components-inspections-08b.png)

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-457">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-457">Automatic resolution</span></span>

<span data-ttu-id="b5d71-458">Выберите **Исправить**, чтобы автоматически заменить функцию **ALLITEMS** функцией **ALLITEMSQUERY** в выражениях всех источников данных, которые отображаются в сетке на вкладке **Предупреждения** для данного типа проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-458">Select **Fix** to automatically replace the **ALLITEMS** function with the **ALLITEMSQUERY** function in the expression of all data sources that appear in the grid on the **Warnings** tab for this type of inspection.</span></span>

<span data-ttu-id="b5d71-459">Вместо этого можно выбрать строку для одного предупреждения в сетке, а затем выбрать **Исправить выбранное**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-459">Alternatively, you can select the row for a single warning in the grid and then select **Fix selected**.</span></span> <span data-ttu-id="b5d71-460">В этом случае выражение автоматически изменяется только в источнике данных, который упоминается в выбранном предупреждении.</span><span class="sxs-lookup"><span data-stu-id="b5d71-460">In this case, the expression is automatically changed only in the data source that is mentioned in the selected warning.</span></span>

![Страница конструктора сопоставления моделей, выберите "Исправить выбранное"](./media/er-components-inspections-08c.png)

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-462">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-462">Manual resolution</span></span>

<span data-ttu-id="b5d71-463">Можно вручную настроить выражения всех источников данных, упоминаемых в сетке проверки, заменив функцию **ALLITEMS** функцией **ALLITEMSQUERY**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-463">You can manually adjust the expressions of all the data sources that are mentioned in the validation grid by replacing the **ALLITEMS** function with the **ALLITEMSQUERY** function.</span></span>

## <a name="consideration-of-empty-list-cases"></a><a id="i9"></a><span data-ttu-id="b5d71-464">Рассмотрение пустых вариантов списка</span><span class="sxs-lookup"><span data-stu-id="b5d71-464">Consideration of empty list cases</span></span>

<span data-ttu-id="b5d71-465">Можно настроить компонент сопоставления моделей или формата электронной отчетности, чтобы получить значение поля источника данных типа **Список записей**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-465">You can configure your ER format or model mapping component to get the field value of a data source of the **Record list** type.</span></span> <span data-ttu-id="b5d71-466">Модуль электронной отчетности проверяет, учитывает ли ваш дизайн ситуацию, когда источник данных, который вызывается, не содержит записей (то есть, он пуст), чтобы предотвратить возникновение ошибок времени выполнения, когда значение извлекается из поля несуществующей записи.</span><span class="sxs-lookup"><span data-stu-id="b5d71-466">ER checks whether your design considers the case where a data source that is called contains no records (that is, it's empty), to prevent runtime errors when a value is fetched from a field of a nonexistent record.</span></span>

<span data-ttu-id="b5d71-467">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-467">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-468">Начните настраивать модель данных электронной отчетности, компоненты сопоставления модели электронной отчетности и компоненты формата электронной отчетности одновременно.</span><span class="sxs-lookup"><span data-stu-id="b5d71-468">Start to configure the ER data model, the ER model mapping, and the ER format components simultaneously.</span></span>
2. <span data-ttu-id="b5d71-469">В дереве модели данных добавьте корневой элемент с именем **Root3**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-469">In the data model tree, add a root item that is named **Root3**.</span></span>
3. <span data-ttu-id="b5d71-470">Измените элемент **Root3**, добавив вложенный элемент типа **Список записей**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-470">Modify the **Root3** item by adding a nested item of the **Record list** type.</span></span>
4. <span data-ttu-id="b5d71-471">Назовите новый вложенный элемент **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-471">Name the new nested item **Vendor**.</span></span>
5. <span data-ttu-id="b5d71-472">Измените элемент **Vendor** следующим образом:</span><span class="sxs-lookup"><span data-stu-id="b5d71-472">Modify the **Vendor** item in the following way:</span></span>

    - <span data-ttu-id="b5d71-473">Добавьте вложенное поле типа **Строка** и назовите его **Name**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-473">Add a nested field of the **String** type, and name it **Name**.</span></span>
    - <span data-ttu-id="b5d71-474">Добавьте вложенное поле типа **Строка** и назовите его **AccountNumber**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-474">Add a nested field of the **String** type, and name it **AccountNumber**.</span></span>

    ![Добавление вложенных полей на странице модели данных](./media/er-components-inspections-09a.png)

6. <span data-ttu-id="b5d71-476">В области источников данных сопоставления модели добавьте источник данных типа **Dynamics 365 for Operations \\ Записи таблицы**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-476">In the model mapping data sources pane, add a data source of the **Dynamics 365 for Operations \\ Table records** type.</span></span>
7. <span data-ttu-id="b5d71-477">Назовите новый источник данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-477">Name the new data source **Vendor**.</span></span> <span data-ttu-id="b5d71-478">В поле **Таблица** выберите **VendTable**, чтобы указать, что этот источник данных будет запрашивать таблицу VendTable.</span><span class="sxs-lookup"><span data-stu-id="b5d71-478">In the **Table** field, select **VendTable** to specify that this data source will request the VendTable table.</span></span>
8. <span data-ttu-id="b5d71-479">Добавьте источник данных типа **Общее \\ Параметр ввода пользователя** для поиска счета поставщика в диалоговом окне времени выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-479">Add a data source of the **General \\ User input parameter** type to search for a vendor account in the runtime dialog box.</span></span>
9. <span data-ttu-id="b5d71-480">Назовите новый источник данных **RequestedAccountNum**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-480">Name the new data source **RequestedAccountNum**.</span></span> <span data-ttu-id="b5d71-481">В поле **Подпись** введите **Номер банковского счета поставщика**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-481">In the **Label** field, enter **Vendor account number**.</span></span> <span data-ttu-id="b5d71-482">В поле **Имя типа данных операций** оставьте значение по умолчанию — **Описание**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-482">In the **Operations data type name** field, leave the default value, **Description**.</span></span>
10. <span data-ttu-id="b5d71-483">Добавьте источник данных типа **Вычисляемое поле**, чтобы отфильтровать поставщика, о котором выполняется запрос.</span><span class="sxs-lookup"><span data-stu-id="b5d71-483">Add a data source of the **Calculated field** type to filter a vendor that is inquired about.</span></span>
11. <span data-ttu-id="b5d71-484">Назовите новый источник данных **FilteredVendor** и настройте его так, чтобы он содержал выражение `FILTER(Vendor, Vendor.AccountNum=RequestedAccountNum)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-484">Name the new data source **FilteredVendor**, and configure it so that it contains the expression `FILTER(Vendor, Vendor.AccountNum=RequestedAccountNum)`.</span></span>
12. <span data-ttu-id="b5d71-485">Привяжите элементы модели данных к настроенным источникам данных следующим образом:</span><span class="sxs-lookup"><span data-stu-id="b5d71-485">Bind the data model items to configured data sources in the following way:</span></span>

    - <span data-ttu-id="b5d71-486">Привяжите **FilteredVendor** к **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-486">Bind **FilteredVendor** to **Vendor**.</span></span>
    - <span data-ttu-id="b5d71-487">Привяжите **FilteredVendor.AccountNum** к **Vendor.AccountNumber**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-487">Bind **FilteredVendor.AccountNum** to **Vendor.AccountNumber**.</span></span>
    - <span data-ttu-id="b5d71-488">Привяжите **FilteredVendor.'name()'** к **Vendor.Name**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-488">Bind **FilteredVendor.'name()'** to **Vendor.Name**.</span></span>

    ![Привязка элементов модели данных на странице конструктора сопоставления модели](./media/er-components-inspections-09b.png)

13. <span data-ttu-id="b5d71-490">В дереве структуры формата добавьте следующие элементы для создания исходящего документа в формате XML, содержащего сведения о поставщике:</span><span class="sxs-lookup"><span data-stu-id="b5d71-490">In the format structure tree, add the following items to generate an outbound document in XML format that contains the vendor details:</span></span>

    1. <span data-ttu-id="b5d71-491">Добавьте корневой XML-элемент **Statement**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-491">Add the **Statement** root XML element.</span></span>
    2. <span data-ttu-id="b5d71-492">Для XML-элемента **Statement** добавьте вложенный XML-элемент **Party**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-492">For the **Statement** XML element, add the nested **Party** XML element.</span></span>
    3. <span data-ttu-id="b5d71-493">Для XML-элемента **Party** добавьте следующие вложенные XML-атрибуты.</span><span class="sxs-lookup"><span data-stu-id="b5d71-493">For the **Party** XML element, add the following nested XML attributes:</span></span>

        - <span data-ttu-id="b5d71-494">Наименование</span><span class="sxs-lookup"><span data-stu-id="b5d71-494">Name</span></span>
        - <span data-ttu-id="b5d71-495">AccountNum</span><span class="sxs-lookup"><span data-stu-id="b5d71-495">AccountNum</span></span>

14. <span data-ttu-id="b5d71-496">Привяжите элементы формата к предоставленным источникам данных следующим образом:</span><span class="sxs-lookup"><span data-stu-id="b5d71-496">Bind format elements to provided data sources in the following way:</span></span>

    - <span data-ttu-id="b5d71-497">Привяжите элемент формата **Statement\\Party\\Name** к полю источника данных **model.Vendor.Name**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-497">Bind the **Statement\\Party\\Name** format element to the **model.Vendor.Name** data source field.</span></span>
    - <span data-ttu-id="b5d71-498">Привяжите элемент формата **Statement\\Party\\AccountNum** к полю источника данных **model.Vendor.AccountNumber**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-498">Bind the **Statement\\Party\\AccountNum** format element to the **model.Vendor.AccountNumber** data source field.</span></span>

15. <span data-ttu-id="b5d71-499">Выберите **Проверить**, чтобы проверить редактируемый компонент формата на странице **Конструктор формата**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-499">Select **Validate** to inspect the editable format component on the **Format designer** page.</span></span>

    ![Проверьте элементы формата, привязанные к источникам данных на странице конструктора формата](./media/er-components-inspections-09c.png)

16. <span data-ttu-id="b5d71-501">Обратите внимание, что происходят ошибки проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-501">Notice that a validation errors occur.</span></span> <span data-ttu-id="b5d71-502">В сообщении говорится, что может выдаваться ошибка для настроенных компонентов формата **Statement\\Party\\Name** и **Statement\\Party\\AccountNum** во время выполнения, если список **model.Vendor** пуст.</span><span class="sxs-lookup"><span data-stu-id="b5d71-502">The message states that an error might be thrown for the configured **Statement\\Party\\Name** and **Statement\\Party\\AccountNum** format components at runtime if the **model.Vendor** list is empty.</span></span>

    ![Ошибка проверки, которая сообщает о потенциальной ошибке для компонентов настроенного формата](./media/er-components-inspections-09d.png)

<span data-ttu-id="b5d71-504">На следующем рисунке показана ошибка среды выполнения, которая происходит, если вы проигнорируете предупреждение, выберите команду **Выполнить**, чтобы выполнить формат, и выберите номер счета несуществующего поставщика.</span><span class="sxs-lookup"><span data-stu-id="b5d71-504">The following illustration shows the runtime error that occurs if you ignore the warning, select **Run** to run the format, and select the account number of a nonexistent vendor.</span></span> <span data-ttu-id="b5d71-505">Так как запрошенный поставщик не существует, список **model.Vendor** будет пустым (то есть, он не будет содержать записей).</span><span class="sxs-lookup"><span data-stu-id="b5d71-505">Because the requested vendor doesn't exist, the **model.Vendor** list will be empty (that is, it will contain no records).</span></span>

![Ошибки времени выполнения, так как произошли во время выполнения сопоставления формата](./media/er-components-inspections-09e.png)

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-507">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-507">Automatic resolution</span></span>

<span data-ttu-id="b5d71-508">Для строки, выбранной в сетке на вкладке **Предупреждения**, можно выбрать **Отменить привязку**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-508">For the selected row in the grid on the **Warnings** tab, you can select **Unbind**.</span></span> <span data-ttu-id="b5d71-509">Привязка, на которую указывает указатель в столбце **Путь**, автоматически удаляется из элементов форматирования.</span><span class="sxs-lookup"><span data-stu-id="b5d71-509">The binding that is pointed to in the **Path** column is automatically removed from the format elements.</span></span>

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-510">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-510">Manual resolution</span></span>

#### <a name="option-1"></a><span data-ttu-id="b5d71-511">Параметр 1</span><span class="sxs-lookup"><span data-stu-id="b5d71-511">Option 1</span></span>

<span data-ttu-id="b5d71-512">Вы можете привязать элемент формата **Statement\\Party\\Name** к элементу источника данных **model.Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-512">You can bind the **Statement\\Party\\Name** format element to the **model.Vendor** data source item.</span></span> <span data-ttu-id="b5d71-513">Во время выполнения эта привязка вызывает сначала источник данных **model.Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-513">At runtime, this binding calls the **model.Vendor** data source first.</span></span> <span data-ttu-id="b5d71-514">Когда **model.Vendor** возвращает пустой список записей, вложенные элементы формата не будут выполнены.</span><span class="sxs-lookup"><span data-stu-id="b5d71-514">When **model.Vendor** returns an empty record list, the nested format elements aren't run.</span></span> <span data-ttu-id="b5d71-515">Поэтому для данной конфигурации формата предупреждения проверки не возникают.</span><span class="sxs-lookup"><span data-stu-id="b5d71-515">Therefore, no validation warnings occur for this format configuration.</span></span>

![Привяжите элемент формата к элементу источника данных на странице конструктора формата](./media/er-components-inspections-09e.gif)

#### <a name="option-2"></a><span data-ttu-id="b5d71-517">Параметр 2</span><span class="sxs-lookup"><span data-stu-id="b5d71-517">Option 2</span></span>

<span data-ttu-id="b5d71-518">Измените привязку элемента формата **Statement\\Party\\Name** с `model.Vendor.Name` на `FIRSTORNULL(model.Vendor).Name`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-518">Change the binding of the **Statement\\Party\\Name** format element from `model.Vendor.Name` to `FIRSTORNULL(model.Vendor).Name`.</span></span> <span data-ttu-id="b5d71-519">Обновленная привязка условно преобразует первую запись источника данных **model.Vendor** типа **Список записей** в новый источник данных типа **Запись**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-519">The updated binding conditionally converts the first record of the **model.Vendor** data source of the **Record list** type to a new data source of the **Record** type.</span></span> <span data-ttu-id="b5d71-520">Этот новый источник данных содержит такой же набор полей.</span><span class="sxs-lookup"><span data-stu-id="b5d71-520">This new data source contains the same set of fields.</span></span>

- <span data-ttu-id="b5d71-521">Если имеется хотя бы одна запись в источнике данных **model.Vendor**, поля этой записи заполняются значениями полей первой записи источника данных **model.Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-521">If at least one record is available in the **model.Vendor** data source, the fields of that record are filled with the values of the fields of the first record of the **model.Vendor** data source.</span></span> <span data-ttu-id="b5d71-522">В этом случае обновленная привязка возвращает имя поставщика.</span><span class="sxs-lookup"><span data-stu-id="b5d71-522">In this case, the updated binding returns the vendor name.</span></span>
- <span data-ttu-id="b5d71-523">В противном случае каждое поле создаваемой записи заполняются значением по умолчанию для типа данных этого поля.</span><span class="sxs-lookup"><span data-stu-id="b5d71-523">Otherwise, every field of the record that is created is filled with the default value for the data type of that field.</span></span> <span data-ttu-id="b5d71-524">В этом случае пустая строка возвращается в качестве значения по умолчанию для типа данных **Строка**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-524">In this case, the blank string is returned as the default value of the **String** data type.</span></span>

<span data-ttu-id="b5d71-525">Таким образом, не происходит предупреждений проверки для элемента формата **Statement\\Party\\Name**, когда он привязан к выражению `FIRSTORNULL(model.Vendor).Name`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-525">Therefore, no validation warnings occur for the **Statement\\Party\\Name** format element when it's bound to the `FIRSTORNULL(model.Vendor).Name` expression.</span></span>

![Изменение привязки устарняет предупреждения проверки на странице конструктора форматов](./media/er-components-inspections-09f.gif)

#### <a name="option-3"></a><span data-ttu-id="b5d71-527">Параметр 3</span><span class="sxs-lookup"><span data-stu-id="b5d71-527">Option 3</span></span>

<span data-ttu-id="b5d71-528">Если вы хотите явно указать данные, вводимые в созданный документ, когда источник данных **model.Vendor** типа **Список записей** не возвращает записей (текст **Недоступно** в этом примере), измените привязку элемента формата **Statement\\Party\\Name** с `model.Vendor.Name` на `IF(NOT(ISEMPTY(model.Vendor)), model.Vendor.Name, "Not available")`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-528">If you want to explicitly specify the data that is entered in a generated document when the **model.Vendor** data source of the **Record list** type returns no records (the text **Not available** in this example), change the binding of the **Statement\\Party\\Name** format element from `model.Vendor.Name` to `IF(NOT(ISEMPTY(model.Vendor)), model.Vendor.Name, "Not available")`.</span></span> <span data-ttu-id="b5d71-529">Также можно использовать выражение `IF(COUNT(model.Vendor)=0, model.Vendor.Name, "Not available")`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-529">You can also use the expression `IF(COUNT(model.Vendor)=0, model.Vendor.Name, "Not available")`.</span></span>

### <a name="additional-consideration"></a><a id="i9a"></a><span data-ttu-id="b5d71-530">Дополнительные соображения</span><span class="sxs-lookup"><span data-stu-id="b5d71-530">Additional consideration</span></span>

<span data-ttu-id="b5d71-531">Кроме того, в ходе проверки выводится предупреждение о другой потенциальной проблеме.</span><span class="sxs-lookup"><span data-stu-id="b5d71-531">The inspection also warns you about another potential issue.</span></span> <span data-ttu-id="b5d71-532">По умолчанию, при привязке элементов формата **Statement\\Party\\Name** и **Statement\\Party\\AccountNum** к соответствующим полям источника данных **model.Vendor** типа **Список записей**, эти привязки будут выполняться и будут получать значения соответствующих полей первой записи источника данных **model.Vendor**, если этот список не пуст.</span><span class="sxs-lookup"><span data-stu-id="b5d71-532">By default, as you bind the **Statement\\Party\\Name** and **Statement\\Party\\AccountNum** format elements to the appropriate fields of the **model.Vendor** data source of the **Record list** type, those bindings will be run and will take the values of the appropriate fields of the first record of the **model.Vendor** data source, if that list isn't empty.</span></span>

<span data-ttu-id="b5d71-533">Так как элемент формата **Statement\\Party** не привязан к источнику данных **model.Vendor**, элемент **Statement\\Party** не будет перебираться для каждой записи источника данных **model.Vendor** во время выполнения формата.</span><span class="sxs-lookup"><span data-stu-id="b5d71-533">Because you haven't bound the **Statement\\Party** format element with the **model.Vendor** data source, the **Statement\\Party** element won't be iterated for every record of the **model.Vendor** data source during format execution.</span></span> <span data-ttu-id="b5d71-534">Вместо этого созданный документ будет заполнен данными только из первой записи списка записей, если этот список содержит несколько записей.</span><span class="sxs-lookup"><span data-stu-id="b5d71-534">Instead, a generated document will be filled with information from only the first record of the record list, if that list contains multiple records.</span></span> <span data-ttu-id="b5d71-535">Таким образом, может возникнуть проблема, если формат предназначен для заполнения созданного документа сведениями обо всех поставщиках из источника данных **model.Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-535">Therefore, there might be an issue if the format is intended to fill a generated document with information about all vendors from the **model.Vendor** data source.</span></span> <span data-ttu-id="b5d71-536">Чтобы устранить эту проблему, свяжите элемент **Statement\\Party** с источником данных **model.Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-536">To fix this issue, bind the **Statement\\Party** element with the **model.Vendor** data source.</span></span>

## <a name="executability-of-an-expression-with-filter-function-caching"></a><a id="i10"></a><span data-ttu-id="b5d71-537">Выполнимость выражения с функцией FILTER (кэширование)</span><span class="sxs-lookup"><span data-stu-id="b5d71-537">Executability of an expression with FILTER function (caching)</span></span>

<span data-ttu-id="b5d71-538">Несколько встроенных функций электронной отчетности, включая [FILTER](er-functions-list-filter.md) и [ALLITEMSQUERY](er-functions-list-allitemsquery.md), используются для доступа к таблицам приложений, представлениям или сущностям данных путем помещения одного вызова SQL для получения необходимых данных в виде списка записей.</span><span class="sxs-lookup"><span data-stu-id="b5d71-538">Several built-in ER functions, including [FILTER](er-functions-list-filter.md) and [ALLITEMSQUERY](er-functions-list-allitemsquery.md), are used to access application tables, views, or data entities by placing a single SQL call to get the required data as a list of records.</span></span> <span data-ttu-id="b5d71-539">Источник данных типа **Список записей** используется в качестве аргумента каждой из этих функций и определяет источник приложения для вызова.</span><span class="sxs-lookup"><span data-stu-id="b5d71-539">A data source of the **Record list** type is used as an argument of each of these functions and specifies an application source for the call.</span></span> <span data-ttu-id="b5d71-540">Электронная отчетность проверяет, возможно ли установление прямого вызова SQL к источнику данных, на который имеется ссылка в одной из этих функций.</span><span class="sxs-lookup"><span data-stu-id="b5d71-540">ER checks whether a direct SQL call can be established to a data source that is referred to in one of these functions.</span></span> <span data-ttu-id="b5d71-541">Если невозможно установить прямой вызов, так как источник данных был помечен как [кэшированный](trace-execution-er-troubleshoot-perf.md#improve-the-model-mapping-based-on-information-from-the-execution-trace), в конструкторе сопоставления моделей электронной отчетности возникает ошибка проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-541">If a direct call can't be established because the data source was marked as [cached](trace-execution-er-troubleshoot-perf.md#improve-the-model-mapping-based-on-information-from-the-execution-trace), a validation error occurs in the ER model mapping designer.</span></span> <span data-ttu-id="b5d71-542">Выводится сообщение о том, что выражение электронной отчетности, содержащее одну из этих функций, не может быть выполнено во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-542">The message that you receive states that the ER expression that contains one of these functions can't be run at runtime.</span></span>

<span data-ttu-id="b5d71-543">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-543">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-544">Начните настройку компонента сопоставления модели электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-544">Start to configure the ER model mapping component.</span></span>
2. <span data-ttu-id="b5d71-545">Добавьте источник данных типа **Dynamics 365 for Operations \\ Записи таблицы**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-545">Add a data source of the **Dynamics 365 for Operations \\ Table records** type.</span></span>
3. <span data-ttu-id="b5d71-546">Назовите новый источник данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-546">Name the new data source **Vendor**.</span></span> <span data-ttu-id="b5d71-547">В поле **Таблица** выберите **VendTable**, чтобы указать, что этот источник данных будет запрашивать таблицу VendTable.</span><span class="sxs-lookup"><span data-stu-id="b5d71-547">In the **Table** field, select **VendTable** to specify that this data source will request the VendTable table.</span></span>
4. <span data-ttu-id="b5d71-548">Добавьте источник данных типа **Общее \\ Параметр ввода пользователя** для поиска счета поставщика в диалоговом окне времени выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-548">Add a data source of the **General \\ User input parameter** type to search for a vendor account in the runtime dialog box.</span></span>
5. <span data-ttu-id="b5d71-549">Назовите новый источник данных **RequestedAccountNum**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-549">Name the new data source **RequestedAccountNum**.</span></span> <span data-ttu-id="b5d71-550">В поле **Подпись** введите **Номер банковского счета поставщика**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-550">In the **Label** field, enter **Vendor account number**.</span></span> <span data-ttu-id="b5d71-551">В поле **Имя типа данных операций** оставьте значение по умолчанию — **Описание**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-551">In the **Operations data type name** field, leave the default value, **Description**.</span></span>
6. <span data-ttu-id="b5d71-552">Добавьте источник данных типа **Вычисляемое поле**, чтобы отфильтровать поставщика, о котором выполняется запрос.</span><span class="sxs-lookup"><span data-stu-id="b5d71-552">Add a data source of the **Calculated field** type to filter a vendor that is inquired about.</span></span>
7. <span data-ttu-id="b5d71-553">Назовите новый источник данных **FilteredVendor** и настройте его так, чтобы он содержал выражение `FILTER(Vendor, Vendor.AccountNum=RequestedAccountNum)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-553">Name the new data source **FilteredVendor**, and configure it so that it contains the expression `FILTER(Vendor, Vendor.AccountNum=RequestedAccountNum)`.</span></span>
8. <span data-ttu-id="b5d71-554">Пометьте настроенный источник данных **Vendor** как кэшированный.</span><span class="sxs-lookup"><span data-stu-id="b5d71-554">Mark the configured **Vendor** data source as cached.</span></span>

    ![Настройка компонента сопоставления моделей на странице конструктора сопоставления моделей](./media/er-components-inspections-10a.gif)

9. <span data-ttu-id="b5d71-556">Выберите **Проверить**, чтобы проверить редактируемый компонент сопоставления моделей на странице **Конструктор сопоставления моделей**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-556">Select **Validate** to inspect the editable model mapping component on the **Model mapping designer** page.</span></span>

    ![Проверка функции filter, применяемой к кэшированному источнику данных поставщика, на странице конструктора сопоставления моделей](./media/er-components-inspections-10a.png)

10. <span data-ttu-id="b5d71-558">Обратите внимание, что происходит ошибка проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-558">Notice that a validation error occurs.</span></span> <span data-ttu-id="b5d71-559">В сообщении говорится, что функция **FILTER** не может применяться к кэшированному источнику данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-559">The message states that the **FILTER** function can't be applied to the cached **Vendor** data source.</span></span>

<span data-ttu-id="b5d71-560">На следующем рисунке показана ошибка среды выполнения, которая происходит, если вы проигнорируете предупреждение и выберите команду **Выполнить**, чтобы выполнить формат.</span><span class="sxs-lookup"><span data-stu-id="b5d71-560">The following illustration shows the runtime error that occurs if you ignore the warning and select **Run** to run the format.</span></span>

![Ошибка времени выполнения, которая возникает при выполнении сопоставления формата на странице конструктора формата](./media/er-components-inspections-10b.png)

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-562">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-562">Automatic resolution</span></span>

<span data-ttu-id="b5d71-563">Нет параметров для автоматического исправления этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-563">No option to automatically fix this issue is available.</span></span>

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-564">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-564">Manual resolution</span></span>

#### <a name="option-1"></a><span data-ttu-id="b5d71-565">Параметр 1</span><span class="sxs-lookup"><span data-stu-id="b5d71-565">Option 1</span></span>

<span data-ttu-id="b5d71-566">Удалите флаг **Кэш** из источника данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-566">Remove the **Cache** flag from the **Vendor** data source.</span></span> <span data-ttu-id="b5d71-567">Источник данных **FilteredVendor** затем становится исполняемым, но обращение к источнику данных **Vendor**, на который есть ссылка в таблице VendTable, будет выполняться при каждом вызове источника данных **FilteredVendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-567">The **FilteredVendor** data source will then become executable, but the **Vendor** data source that is referred to in the VendTable table will be accessed every time that the **FilteredVendor** data source is called.</span></span>

#### <a name="option-2"></a><span data-ttu-id="b5d71-568">Параметр 2</span><span class="sxs-lookup"><span data-stu-id="b5d71-568">Option 2</span></span>

<span data-ttu-id="b5d71-569">Измените выражение источника данных **FilteredVendor** с `FILTER(Vendor, Vendor.AccountNum="US-101")` на `WHERE(Vendor, Vendor.AccountNum="US-101")`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-569">Change the expression of the **FilteredVendor** data source from `FILTER(Vendor, Vendor.AccountNum="US-101")` to `WHERE(Vendor, Vendor.AccountNum="US-101")`.</span></span> <span data-ttu-id="b5d71-570">В этом случае обращение к источнику данных **Vendor**, на который есть ссылка в таблице VendTable, будет производиться только при первом вызове источника данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-570">In this case, the **Vendor** data source that is referred to in the VendTable table will be accessed only during the first call of the **Vendor** data source.</span></span> <span data-ttu-id="b5d71-571">Однако выбор записей будет выполнен в памяти.</span><span class="sxs-lookup"><span data-stu-id="b5d71-571">However, the selection of records will be done in memory.</span></span> <span data-ttu-id="b5d71-572">Таким образом, такой подход может привести к снижению производительности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-572">Therefore, this approach can cause poor performance.</span></span>

## <a name="missing-binding"></a><a id="i11"></a><span data-ttu-id="b5d71-573">Отсутствует привязка</span><span class="sxs-lookup"><span data-stu-id="b5d71-573">Missing binding</span></span>

<span data-ttu-id="b5d71-574">При настройке компонента формата электронной отчетности базовая модель данных электронной отчетности предлагается как источник данных по умолчанию для формата электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-574">When you configure an ER format component, the base ER data model is offered as a default data source for the ER format.</span></span> <span data-ttu-id="b5d71-575">При выполнении настроенного формата электронной отчетности [сопоставление модели по умолчанию](er-country-dependent-model-mapping.md) для базовой модели используется для заполнения модели данных данными приложения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-575">When the configured ER format is run, the [default model mapping](er-country-dependent-model-mapping.md) for the base model is used to fill the data model with application data.</span></span> <span data-ttu-id="b5d71-576">Конструктор формата электронной отчетности показывает предупреждение, если вы связываете элемент формата с элементом модели данных, который не связан ни с одним источником данных в сопоставлении модели, которая выбрана в настоящее время в качестве сопоставления модели по умолчанию для редактируемого формата.</span><span class="sxs-lookup"><span data-stu-id="b5d71-576">The ER format designer shows a warning if you bind a format element to a data model item that isn't bound to any data source in the model mapping that is currently selected as the default model mapping for the editable format.</span></span> <span data-ttu-id="b5d71-577">Этот тип привязки не может выполняться во время выполнения, так как формат, который выполняется, не может заполнять связанный элемент данными приложения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-577">This type of binding can't be run at runtime, because the format that runs can't fill a bound element with application data.</span></span> <span data-ttu-id="b5d71-578">Таким образом, ошибка возникает во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-578">Therefore, an error occurs at runtime.</span></span>

<span data-ttu-id="b5d71-579">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-579">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-580">Начните настраивать модель данных электронной отчетности, компоненты сопоставления модели электронной отчетности и компоненты формата электронной отчетности одновременно.</span><span class="sxs-lookup"><span data-stu-id="b5d71-580">Start to configure the ER data model, the ER model mapping, and the ER format components simultaneously.</span></span>
2. <span data-ttu-id="b5d71-581">В дереве модели данных добавьте корневой элемент с именем **Root3**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-581">In the data model tree, add a root item that is named **Root3**.</span></span>
3. <span data-ttu-id="b5d71-582">Измените элемент **Root3**, добавив новый вложенный элемент типа **Список записей**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-582">Modify the **Root3** item by adding a new nested item of the **Record list** type.</span></span>
4. <span data-ttu-id="b5d71-583">Назовите новый вложенный элемент **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-583">Name the new nested item **Vendor**.</span></span>
5. <span data-ttu-id="b5d71-584">Измените элемент **Vendor** следующим образом:</span><span class="sxs-lookup"><span data-stu-id="b5d71-584">Modify the **Vendor** item in the following way:</span></span>

    - <span data-ttu-id="b5d71-585">Добавьте вложенное поле типа **Строка** и назовите его **Name**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-585">Add a nested field of the **String** type, and name it **Name**.</span></span>
    - <span data-ttu-id="b5d71-586">Добавьте вложенное поле типа **Строка** и назовите его **AccountNumber**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-586">Add a nested field of the **String** type, and name it **AccountNumber**.</span></span>

    ![Добавление вложенных полей к элементу поставщика на странице модели данных](./media/er-components-inspections-11a.png)

6. <span data-ttu-id="b5d71-588">В области источников данных сопоставления модели добавьте источник данных типа **Dynamics 365 for Operations \\ Записи таблицы**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-588">In the model mapping data sources pane, add a data source of the **Dynamics 365 for Operations \\ Table records** type.</span></span>
7. <span data-ttu-id="b5d71-589">Назовите новый источник данных **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-589">Name the new data source **Vendor**.</span></span> <span data-ttu-id="b5d71-590">В поле **Таблица** выберите **VendTable**, чтобы указать, что этот источник данных будет запрашивать таблицу VendTable.</span><span class="sxs-lookup"><span data-stu-id="b5d71-590">In the **Table** field, select **VendTable** to specify that this data source will request the VendTable table.</span></span>
8. <span data-ttu-id="b5d71-591">Добавьте источник данных типа **Общее \\ Параметр ввода пользователя** для запроса счета поставщика в диалоговом окне времени выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-591">Add a data source of the **General \\ User input parameter** type to inquire about a vendor account in the runtime dialog box.</span></span>
<span data-ttu-id="b5d71-592">9 Назовите новый источник данных **RequestedAccountNum**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-592">9 Name the new data source **RequestedAccountNum**.</span></span> <span data-ttu-id="b5d71-593">В поле **Подпись** введите **Номер банковского счета поставщика**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-593">In the **Label** field, enter **Vendor account number**.</span></span> <span data-ttu-id="b5d71-594">В поле **Имя типа данных операций** оставьте значение по умолчанию — **Описание**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-594">In the **Operations data type name** field, leave the default value, **Description**.</span></span>
10. <span data-ttu-id="b5d71-595">Добавьте источник данных типа **Вычисляемое поле**, чтобы отфильтровать поставщика, о котором выполняется запрос.</span><span class="sxs-lookup"><span data-stu-id="b5d71-595">Add a data source of the **Calculated field** type to filter a vendor that is inquired about.</span></span>
11. <span data-ttu-id="b5d71-596">Назовите новый источник данных **FilteredVendor** и настройте его так, чтобы он содержал выражение `FILTER(Vendor, Vendor.AccountNum=RequestedAccountNum)`.</span><span class="sxs-lookup"><span data-stu-id="b5d71-596">Name the new data source **FilteredVendor**, and configure it so that it contains the expression `FILTER(Vendor, Vendor.AccountNum=RequestedAccountNum)`.</span></span>
12. <span data-ttu-id="b5d71-597">Привяжите элементы модели данных к настроенным источникам данных следующим образом:</span><span class="sxs-lookup"><span data-stu-id="b5d71-597">Bind the data model items to configured data sources in the following way:</span></span>

    - <span data-ttu-id="b5d71-598">Привяжите **FilteredVendor** к **Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-598">Bind **FilteredVendor** to **Vendor**.</span></span>
    - <span data-ttu-id="b5d71-599">Привяжите **FilteredVendor.AccountNum** к **Vendor.AccountNumber**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-599">Bind **FilteredVendor.AccountNum** to **Vendor.AccountNumber**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="b5d71-600">Поле модели данных **Vendor.Name** остается несвязанным.</span><span class="sxs-lookup"><span data-stu-id="b5d71-600">The **Vendor.Name** data model field remains unbound.</span></span>

    ![Элементы модели данных, привязанные к настроенным источникам данных, и элемент режима данных, который остается, на странице конструктора сопоставления моделей](./media/er-components-inspections-11b.png)

13. <span data-ttu-id="b5d71-602">В дереве структуры формата добавьте следующие элементы для создания исходящего документа в формате XML, содержащего сведения о поставщиках, о которых производится запрос:</span><span class="sxs-lookup"><span data-stu-id="b5d71-602">In the format structure tree, add the following items to generate an outbound document in XML format that contains the details of the vendors that are inquired about:</span></span>

    1. <span data-ttu-id="b5d71-603">Добавьте корневой XML-элемент **Statement**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-603">Add the **Statement** root XML element.</span></span>
    2. <span data-ttu-id="b5d71-604">Для XML-элемента **Statement** добавьте вложенный XML-элемент **Party**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-604">For the **Statement** XML element, add the nested **Party** XML element.</span></span>
    3. <span data-ttu-id="b5d71-605">Для XML-элемента **Party** добавьте следующие вложенные XML-атрибуты.</span><span class="sxs-lookup"><span data-stu-id="b5d71-605">For the **Party** XML element, add the following nested XML attributes:</span></span>

        - <span data-ttu-id="b5d71-606">Наименование</span><span class="sxs-lookup"><span data-stu-id="b5d71-606">Name</span></span>
        - <span data-ttu-id="b5d71-607">AccountNum</span><span class="sxs-lookup"><span data-stu-id="b5d71-607">AccountNum</span></span>

14. <span data-ttu-id="b5d71-608">Привяжите элементы формата к предоставленным источникам данных следующим образом:</span><span class="sxs-lookup"><span data-stu-id="b5d71-608">Bind the format elements to provided data sources in the following way:</span></span>

    - <span data-ttu-id="b5d71-609">Привяжите элемент формата **Statement\\Party** к элементу источника данных **model.Vendor**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-609">Bind the **Statement\\Party** format element to the **model.Vendor** data source item.</span></span>
    - <span data-ttu-id="b5d71-610">Привяжите элемент формата **Statement\\Party\\Name** к полю источника данных **model.Vendor.Name**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-610">Bind the **Statement\\Party\\Name** format element to the **model.Vendor.Name** data source field.</span></span>
    - <span data-ttu-id="b5d71-611">Привяжите элемент формата **Statement\\Party\\AccountNum** к полю источника данных **model.Vendor.AccountNumber**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-611">Bind the **Statement\\Party\\AccountNum** format element to the **model.Vendor.AccountNumber** data source field.</span></span>

15. <span data-ttu-id="b5d71-612">Выберите **Проверить**, чтобы проверить редактируемый компонент формата на странице **Конструктор формата**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-612">Select **Validate** to inspect the editable format component on the **Format designer** page.</span></span>

    ![Проверка компонента формата электронной отчетности на странице конструктора форматов](./media/er-components-inspections-11c.png)

16. <span data-ttu-id="b5d71-614">Обратите внимание, что происходит предупреждение проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-614">Notice that a validation warning occurs.</span></span> <span data-ttu-id="b5d71-615">В сообщении говорится, что поле источника данных **model.Vendor.Name** не привязано ни к какому источнику данных в сопоставлении моделей, настроенных для использования этим форматом.</span><span class="sxs-lookup"><span data-stu-id="b5d71-615">The message states that the **model.Vendor.Name** data source field isn't bound to any data source in the model mapping that is configured to be used by the format.</span></span> <span data-ttu-id="b5d71-616">Таким образом, элемент формата **Statement\\Party\\Name** может не заполняться во время выполнения, и может возникнуть исключение времени выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-616">Therefore, the **Statement\\Party\\Name** format element might not be filled at runtime, and a runtime exception might occur.</span></span>

    ![Проверка компонента формата электронной отчетности на странице конструктора форматов](./media/er-components-inspections-11d.png)

<span data-ttu-id="b5d71-618">На следующем рисунке показана ошибка среды выполнения, которая происходит, если вы проигнорируете предупреждение и выберите команду **Выполнить**, чтобы выполнить формат.</span><span class="sxs-lookup"><span data-stu-id="b5d71-618">The following illustration shows the runtime error that occurs if you ignore the warning and select **Run** to run the format.</span></span>

![Выполните редактируемый формат на странице конструктора форматов](./media/er-components-inspections-11e.png)

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-620">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-620">Automatic resolution</span></span>

<span data-ttu-id="b5d71-621">Нет параметров для автоматического исправления этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-621">No option to automatically fix this issue is available.</span></span>

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-622">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-622">Manual resolution</span></span>

#### <a name="option-1"></a><span data-ttu-id="b5d71-623">Параметр 1</span><span class="sxs-lookup"><span data-stu-id="b5d71-623">Option 1</span></span>

<span data-ttu-id="b5d71-624">Измените настроенное сопоставление модели, добавив привязку для поля источника данных **model.Vendor.Name**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-624">Modify the configured model mapping by adding a binding for the **model.Vendor.Name** data source field.</span></span>

#### <a name="option-2"></a><span data-ttu-id="b5d71-625">Параметр 2</span><span class="sxs-lookup"><span data-stu-id="b5d71-625">Option 2</span></span>

<span data-ttu-id="b5d71-626">Измените настроенный формат, удалив привязку для элемента формата **Statement\\Party\\Name**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-626">Modify the configured format by removing a binding for the **Statement\\Party\\Name** format element.</span></span>

## <a name="not-linked-template"></a><a id="i12"></a><span data-ttu-id="b5d71-627">Несвязанный шаблон</span><span class="sxs-lookup"><span data-stu-id="b5d71-627">Not linked template</span></span>

<span data-ttu-id="b5d71-628">Когда вы [вручную](er-fillable-excel.md#manual-entry) настраиваете компонент формата электронной отчетности для использования шаблона для создания исходящего документа, необходимо вручную добавить элемент **Excel\\File**, добавить нужный шаблон в качестве вложения редактируемого компонента и выбрать это вложение в добавленном элементе **Excel\\File**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-628">When you [manually](er-fillable-excel.md#manual-entry) configure an ER format component to use a template to generate an outbound document, you must manually add the **Excel\\File** element, add the required template as an attachment of the editable component, and select that attachment in the added **Excel\\File** element.</span></span> <span data-ttu-id="b5d71-629">Таким образом, вы указываете, что добавленный элемент будет заполнять выбранный шаблон во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-629">In this way, you indicate that the added element will fill the selected template at runtime.</span></span> <span data-ttu-id="b5d71-630">При настройке версии компонента формата в [статусе](general-electronic-reporting.md#component-versioning) **Черновик** можно добавить несколько шаблонов к редактируемому компоненту, а затем выбрать каждый шаблон в элементе **Excel\\File**, чтобы выполнить формат электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-630">When you configure a format component version in **Draft** [status](general-electronic-reporting.md#component-versioning), you might add several templates to the editable component, and then select each template in the **Excel\\File** element to run the ER format.</span></span> <span data-ttu-id="b5d71-631">Таким образом, можно увидеть, как другие шаблоны заполняются во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-631">In this way, you can see how different templates are filled at runtime.</span></span> <span data-ttu-id="b5d71-632">Если имеются шаблоны, которые не выбраны ни в одном элементе **Excel\\File**, конструктор формата электронной отчетности выводит предупреждение о том, что эти шаблоны будут удалены из редактируемой версии компонента формата электронной отчетности, когда его состояние изменится с **Черновик** на **Завершено**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-632">If you have templates that aren't selected in any **Excel\\File** elements, the ER format designer warns you that those templates will be deleted from the editable ER format component version when its status is changed from **Draft** to **Completed**.</span></span>

<span data-ttu-id="b5d71-633">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-633">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-634">Начните настройку компонента формата электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-634">Start to configure the ER format component.</span></span>
2. <span data-ttu-id="b5d71-635">В дереве структуры формата добавьте элемент **Excel\\File**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-635">In the format structure tree, add the **Excel\\File** element.</span></span>
3. <span data-ttu-id="b5d71-636">Для элемента **Excel\\File**, который вы только что добавили, добавьте файл книги Excel **A.xlsx** в качестве вложения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-636">For the **Excel\\File** element that you just added, add an Excel workbook file, **A.xlsx**, as an attachment.</span></span> <span data-ttu-id="b5d71-637">Для указания хранилища шаблонов формата электронной отчетности используется тип документа, настроенный в [параметрах электронной отчетности](electronic-reporting-er-configure-parameters.md#parameters-to-manage-documents).</span><span class="sxs-lookup"><span data-stu-id="b5d71-637">Use the document type that is configured in the [ER parameters](electronic-reporting-er-configure-parameters.md#parameters-to-manage-documents) to specify the storage of ER format templates.</span></span>
4. <span data-ttu-id="b5d71-638">Для элемента **Excel\\File** добавьте другой файл книги Excel **B.xlsx** в качестве вложения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-638">For the **Excel\\File** element, add another Excel workbook file, **B.xlsx**, as an attachment.</span></span> <span data-ttu-id="b5d71-639">Используйте тот же тип документа, который используется для файла книги A.</span><span class="sxs-lookup"><span data-stu-id="b5d71-639">Use the same document type that is used for workbook file A.</span></span>
5. <span data-ttu-id="b5d71-640">В элементе **Excel\\File** выберите файл книги A.</span><span class="sxs-lookup"><span data-stu-id="b5d71-640">In the **Excel\\File** element, select workbook file A.</span></span>
6. <span data-ttu-id="b5d71-641">Выберите **Проверить**, чтобы проверить редактируемый компонент формата на странице **Конструктор формата**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-641">Select **Validate** to inspect the editable format component on the **Format designer** page.</span></span>

    ![Проверка редактируемого компонента формата файла книги на странице конструктора формата](./media/er-components-inspections-12a.gif)

7. <span data-ttu-id="b5d71-643">Обратите внимание, что происходит предупреждение проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-643">Notice that a validation warning occurs.</span></span> <span data-ttu-id="b5d71-644">В сообщении говорится, что файл книги **B. xlsx** не связан ни с какими компонентами, и что он будет удален после изменения состояния версии конфигурации.</span><span class="sxs-lookup"><span data-stu-id="b5d71-644">The message states that workbook file **B.xlsx** isn't linked to any components, and that it will be removed after the status of the configuration version is changed.</span></span>

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-645">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-645">Automatic resolution</span></span>

<span data-ttu-id="b5d71-646">Нет параметров для автоматического исправления этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-646">No option to automatically fix this issue is available.</span></span>

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-647">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-647">Manual resolution</span></span>

<span data-ttu-id="b5d71-648">Измените настроенный формат, удалив все шаблоны, не связанные ни с одним элементом **Excel\\File**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-648">Modify the configured format by removing all templates that aren't linked to any **Excel\\File** element.</span></span>

## <a name="not-synced-format"></a><a id="i13"></a><span data-ttu-id="b5d71-649">Несинхронизированный формат</span><span class="sxs-lookup"><span data-stu-id="b5d71-649">Not synced format</span></span>

<span data-ttu-id="b5d71-650">Когда вы [настраиваете](er-fillable-excel.md) компонент формата электронной отчетности для использования шаблона Excel для создания исходящего документа, можно вручную добавить элемент **Excel\\File**, добавить нужный шаблон в качестве вложения редактируемого компонента и выбрать это вложение в добавленном элементе **Excel\\File**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-650">When you [configure](er-fillable-excel.md) an ER format component to use an Excel template to generate an outbound document, you can manually add the **Excel\\File** element, add the required template as an attachment of the editable component, and select that attachment in the added **Excel\\File** element.</span></span> <span data-ttu-id="b5d71-651">Таким образом, вы указываете, что добавленный элемент будет заполнять выбранный шаблон во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-651">In this way, you indicate that the added element will fill the selected template at runtime.</span></span> <span data-ttu-id="b5d71-652">Так как добавленный шаблон Excel спроектирован как внешний, редактируемый формат электронной отчетности может содержать имена Excel, отсутствующие в добавленном шаблоне.</span><span class="sxs-lookup"><span data-stu-id="b5d71-652">Because the added Excel template has been externally designed, the editable ER format might contain Excel names that are missing from the added template.</span></span> <span data-ttu-id="b5d71-653">В конструкторе формата электронной отчетности выводится предупреждение о любых несоответствиях свойств элементов формата электронной отчетности, которые ссылаются на имена, не включенные в добавленный шаблон Excel.</span><span class="sxs-lookup"><span data-stu-id="b5d71-653">The ER format designer warns you about any inconsistencies between the properties of the ER format elements that refer to names that aren't included in the added Excel template.</span></span>

<span data-ttu-id="b5d71-654">Следующие шаги показывают, как может произойти эта проблема.</span><span class="sxs-lookup"><span data-stu-id="b5d71-654">The following steps show how this issue might occur.</span></span>

1. <span data-ttu-id="b5d71-655">Начните настройку компонента формата электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="b5d71-655">Start to configure the ER format component.</span></span>
2. <span data-ttu-id="b5d71-656">В дереве структуры формата добавьте элемент **Excel\\File** **Отчет**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-656">In the format structure tree, add the **Excel\\File** element **Report**.</span></span>
3. <span data-ttu-id="b5d71-657">Для элемента **Excel\\File**, который вы только что добавили, добавьте файл книги Excel **A.xlsx** в качестве вложения.</span><span class="sxs-lookup"><span data-stu-id="b5d71-657">For the **Excel\\File** element that you just added, add an Excel workbook file, **A.xlsx**, as an attachment.</span></span> <span data-ttu-id="b5d71-658">Для указания хранилища шаблонов формата электронной отчетности используется тип документа, настроенный в [параметрах электронной отчетности](electronic-reporting-er-configure-parameters.md#parameters-to-manage-documents).</span><span class="sxs-lookup"><span data-stu-id="b5d71-658">Use the document type that is configured in the [ER parameters](electronic-reporting-er-configure-parameters.md#parameters-to-manage-documents) to specify the storage of ER format templates.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="b5d71-659">Убедитесь, что добавленная книга Excel не содержит имени **ReportTitle**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-659">Make sure that the added Excel workbook doesn't contain the name **ReportTitle**.</span></span>

4. <span data-ttu-id="b5d71-660">Добавьте следующий элемента **Excel\\Cell** **Заголовок** в качестве вложенного элемента для элемента **Отчет**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-660">Add the following **Excel\\Cell** element **Title** as the nested element of the **Report** element.</span></span> <span data-ttu-id="b5d71-661">В поле **Диапазон Excel** введите **ReportTitle**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-661">In the **Excel range** field, enter **ReportTitle**.</span></span>
5. <span data-ttu-id="b5d71-662">Выберите **Проверить**, чтобы проверить редактируемый компонент формата на странице **Конструктор формата**.</span><span class="sxs-lookup"><span data-stu-id="b5d71-662">Select **Validate** to inspect the editable format component on the **Format designer** page.</span></span>

    ![Проверка вложенных элементов и полей на странице конструктора формата](./media/er-components-inspections-13a.png)

6. <span data-ttu-id="b5d71-664">Обратите внимание, что происходит предупреждение проверки.</span><span class="sxs-lookup"><span data-stu-id="b5d71-664">Notice that a validation warning occurs.</span></span> <span data-ttu-id="b5d71-665">В сообщении говорится, что имя **ReportTitle** не существует на листе **Лист1** шаблона Excel, который вы используете.</span><span class="sxs-lookup"><span data-stu-id="b5d71-665">The message states that the name **ReportTitle** doesn't exist on sheet **Sheet1** of the Excel template that you're using.</span></span>

    ![Предупреждение проверки о том, что имя ReportTitle не существует на листе "Лист1" шаблона Excel](./media/er-components-inspections-13b.png)

### <a name="automatic-resolution"></a><span data-ttu-id="b5d71-667">Автоматическое разрешение</span><span class="sxs-lookup"><span data-stu-id="b5d71-667">Automatic resolution</span></span>

<span data-ttu-id="b5d71-668">Нет параметров для автоматического исправления этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="b5d71-668">No option to automatically fix this issue is available.</span></span>

### <a name="manual-resolution"></a><span data-ttu-id="b5d71-669">Разрешение вручную</span><span class="sxs-lookup"><span data-stu-id="b5d71-669">Manual resolution</span></span>

#### <a name="option-1"></a><span data-ttu-id="b5d71-670">Параметр 1</span><span class="sxs-lookup"><span data-stu-id="b5d71-670">Option 1</span></span>

<span data-ttu-id="b5d71-671">Измените настроенный формат, удалив все элементы, которые ссылаются на имена Excel, отсутствующие в шаблоне.</span><span class="sxs-lookup"><span data-stu-id="b5d71-671">Modify the configured format by removing all elements that refer to Excel names that are missing from the template.</span></span>

#### <a name="option-2"></a><span data-ttu-id="b5d71-672">Параметр 2</span><span class="sxs-lookup"><span data-stu-id="b5d71-672">Option 2</span></span>

<span data-ttu-id="b5d71-673">[Обновите](er-fillable-excel.md#template-import) редактируемый формат электронной отчетности путем импорта шаблона Excel.</span><span class="sxs-lookup"><span data-stu-id="b5d71-673">[Update](er-fillable-excel.md#template-import) the editable ER format by importing an Excel template.</span></span> <span data-ttu-id="b5d71-674">Структура редактируемого формата электронной отчетности будет [синхронизирована](modify-electronic-reporting-format-reapply-excel-template.md) со структурой импортированного шаблона Excel.</span><span class="sxs-lookup"><span data-stu-id="b5d71-674">The structure of the editable ER format will be [synced](modify-electronic-reporting-format-reapply-excel-template.md) with the structure of the imported Excel template.</span></span>

### <a name="additional-consideration"></a><span data-ttu-id="b5d71-675">Дополнительные соображения</span><span class="sxs-lookup"><span data-stu-id="b5d71-675">Additional consideration</span></span>

<span data-ttu-id="b5d71-676">Сведения о том, как можно синхронизировать структуру формата с шаблоном электронной отчетности в редакторе шаблонов [управления бизнес-документами](er-business-document-management.md), см. в разделе [Обновление структуры шаблона бизнес-документа](er-bdm-update-structure.md).</span><span class="sxs-lookup"><span data-stu-id="b5d71-676">To learn how the format structure can be synced with an ER template in the template editor of [Business document management](er-business-document-management.md), see [Update the structure of a business document template](er-bdm-update-structure.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="b5d71-677">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="b5d71-677">Additional resources</span></span>

[<span data-ttu-id="b5d71-678">Функция ER ALLITEMS</span><span class="sxs-lookup"><span data-stu-id="b5d71-678">ALLITEMS ER function</span></span>](er-functions-list-allitems.md)

[<span data-ttu-id="b5d71-679">Функция ER ALLITEMSQUERY</span><span class="sxs-lookup"><span data-stu-id="b5d71-679">ALLITEMSQUERY ER function</span></span>](er-functions-list-allitemsquery.md)

[<span data-ttu-id="b5d71-680">Функция ER INT64VALUE</span><span class="sxs-lookup"><span data-stu-id="b5d71-680">INT64VALUE ER function</span></span>](er-functions-conversion-int64value.md)

[<span data-ttu-id="b5d71-681">Функция ER INTVALUE</span><span class="sxs-lookup"><span data-stu-id="b5d71-681">INTVALUE ER function</span></span>](er-functions-conversion-intvalue.md)

[<span data-ttu-id="b5d71-682">Функция ER FILTER</span><span class="sxs-lookup"><span data-stu-id="b5d71-682">FILTER ER function</span></span>](er-functions-list-filter.md)

[<span data-ttu-id="b5d71-683">Функция ER WHERE</span><span class="sxs-lookup"><span data-stu-id="b5d71-683">WHERE ER function</span></span>](er-functions-list-where.md)

[<span data-ttu-id="b5d71-684">Использование источников данных JOIN для извлечения данных из нескольких таблиц приложений в сопоставлениях моделей электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="b5d71-684">Use JOIN data sources to get data from multiple application tables in ER model mappings</span></span>](er-join-data-sources.md)

[<span data-ttu-id="b5d71-685">Трассировка выполнения форматов электронной отчетности для устранения неполадок, связанных с производительностью</span><span class="sxs-lookup"><span data-stu-id="b5d71-685">Trace the execution of ER formats to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)

[<span data-ttu-id="b5d71-686">Обзор управления бизнес-документами</span><span class="sxs-lookup"><span data-stu-id="b5d71-686">Business document management overview</span></span>](er-business-document-management.md)
