---
title: Управление несколькими производными сопоставлениями для одного корня модели
description: В этой теме объясняется, как управлять несколькими производными сопоставлениями, которые были настроены для одного корня модели.
author: NickSelin
manager: AnnBe
ms.date: 01/04/2021
ms.topic: business-process
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ERSolutionTable, ERModelMappingTable
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 3116fe98f499637b3bc7f243ed1b5094853caa7e
ms.sourcegitcommit: 7cfe8931dd454e811a691f5118a4ecae7ba4b478
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/04/2021
ms.locfileid: "4826117"
---
# <a name="manage-several-derived-mappings-for-a-single-model-root"></a><span data-ttu-id="2350f-103">Управление несколькими производными сопоставлениями для одного корня модели</span><span class="sxs-lookup"><span data-stu-id="2350f-103">Manage several derived mappings for a single model root</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="2350f-104">Компонент [модели](general-electronic-reporting.md#data-model-and-model-mapping-components) данных [электронной отчетности (ER)](general-electronic-reporting.md) используется в каждом настроенном компоненте [формата](general-electronic-reporting.md#FormatComponentOutbound) электронной отчетности в качестве источника данных для создания исходящих документов.</span><span class="sxs-lookup"><span data-stu-id="2350f-104">An [Electronic reporting (ER)](general-electronic-reporting.md) data [model](general-electronic-reporting.md#data-model-and-model-mapping-components) component is used in every configured ER [format](general-electronic-reporting.md#FormatComponentOutbound) component as the data source to generate outbound documents.</span></span> <span data-ttu-id="2350f-105">Для описания одного бизнес-домена настройте компонент модели данных, содержащий множество корневых определений.</span><span class="sxs-lookup"><span data-stu-id="2350f-105">To describe a single business domain, configure a data model component that has many root definitions.</span></span> 

<span data-ttu-id="2350f-106">Каждое корневое определение позволяет представлять данные этого домена в том виде, в котором они лучше всего подходят для целей отчетности.</span><span class="sxs-lookup"><span data-stu-id="2350f-106">Every root definition lets you represent data of that domain in the way that is best suited to specific reporting purposes.</span></span> <span data-ttu-id="2350f-107">Для каждого корневого определения можно настроить компонент [сопоставления модели](general-electronic-reporting.md#data-model-and-model-mapping-components) электронной отчетности в качестве специфической для Microsoft Dynamics 365 Finance реализации модели данных.</span><span class="sxs-lookup"><span data-stu-id="2350f-107">For every root definition, you can configure an ER [model mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) component as the Microsoft Dynamics 365 Finance–specific implementation of your data model.</span></span> <span data-ttu-id="2350f-108">Таким образом, вы описываете, как будет осуществляться заполнение модели данных во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="2350f-108">In this way, you describe how your data model will be filled in at runtime.</span></span>

<span data-ttu-id="2350f-109">Компоненты сопоставления модели электронной отчетности могут находиться в [конфигурациях](general-electronic-reporting.md#Configuration) модели данных электронной отчетности и в конфигурациях сопоставления моделей электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="2350f-109">ER model mapping components can reside in ER data model [configurations](general-electronic-reporting.md#Configuration) and ER model mapping configurations.</span></span> <span data-ttu-id="2350f-110">Одна конфигурация электронной отчетности может содержать множество компонентов сопоставления, каждый из которых настроен для одного корневого определения.</span><span class="sxs-lookup"><span data-stu-id="2350f-110">A single ER configuration can contain many mapping components, each of which is configured for a single root definition.</span></span> <span data-ttu-id="2350f-111">В качестве альтернативы, одна конфигурация электронной отчетности может содержать только один компонент сопоставления, который настроен для одного корневого определения.</span><span class="sxs-lookup"><span data-stu-id="2350f-111">Alternatively, a single ER configuration can contain just one mapping component that is configured for a single root definition.</span></span>

<span data-ttu-id="2350f-112">Многие поставщики конфигураций могут предоставлять конфигурации сопоставления моделей электронной отчетности для одной и той же модели данных электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="2350f-112">Many configuration providers might offer ER model mapping configurations for the same ER data model.</span></span> <span data-ttu-id="2350f-113">Эти конфигурации сопоставления моделей могут содержать компоненты сопоставления для других корневых определений.</span><span class="sxs-lookup"><span data-stu-id="2350f-113">Those model mapping configurations might contain mapping components for different root definitions.</span></span> <span data-ttu-id="2350f-114">Можно использовать сопоставление модели для одного корневого определения, предлагаемого одним [поставщиком](general-electronic-reporting.md#Provider), и использовать сопоставление модели для другого корневого определения, предлагаемого другим поставщиком.</span><span class="sxs-lookup"><span data-stu-id="2350f-114">You might use a model mapping for one root definition that is offered by one [provider](general-electronic-reporting.md#Provider) and use a model mapping for another root definition that is offered by another provider.</span></span>

<span data-ttu-id="2350f-115">В данном разделе описаны процедуры управления несколькими конфигурациями сопоставления моделей электронной отчетности для модели данных электронной отчетности, когда они содержат различные компоненты сопоставления моделей, настроенные для одного и того же корневого определения.</span><span class="sxs-lookup"><span data-stu-id="2350f-115">The procedures in this topic explain how to manage multiple ER model mapping configurations of an ER data model when they contain different model mapping components configured for the same root definition.</span></span> 

<span data-ttu-id="2350f-116">Чтобы выполнить процедуры в этой теме необходимо, чтобы вам была назначена роль "Системный администратор" или "Разработчик электронной отчетности".</span><span class="sxs-lookup"><span data-stu-id="2350f-116">To complete the procedures in this topic, you must be assigned to the System administrator or Electronic reporting developer role.</span></span>

<span data-ttu-id="2350f-117">Все следующие процедуры могут выполняться в компании USMF.</span><span class="sxs-lookup"><span data-stu-id="2350f-117">All the following procedures can be done in the USMF company.</span></span> <span data-ttu-id="2350f-118">Написание кода не требуется.</span><span class="sxs-lookup"><span data-stu-id="2350f-118">No coding is required.</span></span>

## <a name="configure-the-er-framework"></a><span data-ttu-id="2350f-119">Настройка платформы электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="2350f-119">Configure the ER framework</span></span>

<span data-ttu-id="2350f-120">В качестве пользователя в роли разработчика электронной отчетности [настройте минимальный набор](er-quick-start2-customize-report.md#ConfigureFramework) параметров электронной отчетности, прежде чем можно будет начать использовать платформу электронной отчетности для создания бизнес-документов.</span><span class="sxs-lookup"><span data-stu-id="2350f-120">As a user in the Electronic reporting developer role, [configure the minimal set](er-quick-start2-customize-report.md#ConfigureFramework) of ER parameters before you use the ER framework to generate business documents.</span></span>

## <a name="import-the-standard-er-format-configurations"></a><span data-ttu-id="2350f-121">Импорт стандартных конфигураций формата электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="2350f-121">Import the standard ER format configurations</span></span>

<span data-ttu-id="2350f-122">Чтобы добавить стандартные конфигурации электронной отчетности в текущий экземпляр Finance, необходимо импортировать их из репозитория электронной отчетности, который был настроен для этого экземпляра.</span><span class="sxs-lookup"><span data-stu-id="2350f-122">To add the standard ER configurations to your current instance of Finance, you must import them from the ER repository that was configured for that instance.</span></span> <span data-ttu-id="2350f-123">Выполните действия, указанные в разделе [Загрузка конфигураций электронной отчетности из глобального репозитория службы конфигурации](er-download-configurations-global-repo.md), чтобы импортировать следующие конфигурации форматов электронной отчетности:</span><span class="sxs-lookup"><span data-stu-id="2350f-123">Follow the steps in [Download ER configurations from the Global repository of Configuration service](er-download-configurations-global-repo.md) to import the following ER format configurations:</span></span>

- <span data-ttu-id="2350f-124">**Накладная с произвольным текстом (Excel)**, версия 220.106</span><span class="sxs-lookup"><span data-stu-id="2350f-124">**Free text invoice (Excel)**, version 220.106</span></span>
- <span data-ttu-id="2350f-125">**Накладная по проекту (Excel)**, версия 226.27</span><span class="sxs-lookup"><span data-stu-id="2350f-125">**Project invoice (Excel)**, version 226.27</span></span>

## <a name="review-the-imported-er-configurations"></a><span data-ttu-id="2350f-126">Проверка импортированных конфигураций электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="2350f-126">Review the imported ER configurations</span></span>

1. <span data-ttu-id="2350f-127">Перейдите в раздел **Управление организацией** \> **Рабочие области** \> **Электронная отчетность**.</span><span class="sxs-lookup"><span data-stu-id="2350f-127">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="2350f-128">На странице **Конфигурации локализации** в разделе **Конфигурации** выберите плитку **Конфигурации отчетности**.</span><span class="sxs-lookup"><span data-stu-id="2350f-128">On the **Localization configurations** page, in the **Configurations** section, select the **Reporting configurations** tile.</span></span>
3. <span data-ttu-id="2350f-129">На странице **Конфигурации** в дереве конфигураций на левой панели разверните **Модель накладной**.</span><span class="sxs-lookup"><span data-stu-id="2350f-129">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model**.</span></span>

    ![Проверка импортированных конфигураций на странице конфигураций](./media/er-multiple-model-mappings-image1.png)

4. <span data-ttu-id="2350f-131">Проверьте формат **Накладная с произвольным текстом (Excel)**:</span><span class="sxs-lookup"><span data-stu-id="2350f-131">Review the **Free text invoice (Excel)** format:</span></span>

    1. <span data-ttu-id="2350f-132">В дереве конфигураций в левой области выберите **Накладная с произвольным текстом (Excel)**.</span><span class="sxs-lookup"><span data-stu-id="2350f-132">In the configuration tree in the left pane, select **Free text invoice (Excel)**.</span></span>
    2. <span data-ttu-id="2350f-133">В области действий выберите **Конструктор**.</span><span class="sxs-lookup"><span data-stu-id="2350f-133">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="2350f-134">На странице **Конструктор форматов** на вкладке **Сопоставление** в списке источников данных выберите **Модель**.</span><span class="sxs-lookup"><span data-stu-id="2350f-134">On the **Format designer** page, on the **Mapping** tab, in the data sources list, select **Model**.</span></span>
    4. <span data-ttu-id="2350f-135">Выберите **Представление**.</span><span class="sxs-lookup"><span data-stu-id="2350f-135">Select **View**.</span></span>
    
       <span data-ttu-id="2350f-136">Текущий формат электронной отчетности настроен на использование корневого определения **InvoiceCustomer** для параметра **Модель накладных**.</span><span class="sxs-lookup"><span data-stu-id="2350f-136">Thecurrent ER format is configured to use the **InvoiceCustomer** root definition of **Invoice model**.</span></span> <span data-ttu-id="2350f-137">При выполнении этого формата и вызове источника данных **Модель** для доступа к данным приложения и заполнения модели данных используется сопоставление модели, настроенное для корневого определения **InvoiceCustomer**.</span><span class="sxs-lookup"><span data-stu-id="2350f-137">When this format is run, and the **Model** data source is called, the model mapping that is configured for the **InvoiceCustomer** root definition is used to access application data and fill in the data model.</span></span>

        ![Проверка источника данных модели на странице конструктора форматов](./media/er-multiple-model-mappings-image2.png)

    6. <span data-ttu-id="2350f-139">Закройте страницу **Конструктор форматов**.</span><span class="sxs-lookup"><span data-stu-id="2350f-139">Close the **Format designer** page.</span></span>

5. <span data-ttu-id="2350f-140">Просмотрите содержимое конфигурации **Сопоставления модели накладных**:</span><span class="sxs-lookup"><span data-stu-id="2350f-140">Review the content of the **Invoice model mapping** configuration:</span></span>

    1. <span data-ttu-id="2350f-141">В дереве конфигураций в левой области выберите **Сопоставление модели накладных**.</span><span class="sxs-lookup"><span data-stu-id="2350f-141">In the configuration tree in the left pane, select **Invoice model mapping**.</span></span>
    2. <span data-ttu-id="2350f-142">В области действий выберите **Конструктор**.</span><span class="sxs-lookup"><span data-stu-id="2350f-142">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="2350f-143">На странице **Сопоставление модели источнику данных** обратите внимание, что текущая конфигурация сопоставления модели электронной отчетности содержит несколько компонентов сопоставления моделей:</span><span class="sxs-lookup"><span data-stu-id="2350f-143">On the **Model to datasource mapping** page, notice that the current ER model mapping configuration contains several model mapping components:</span></span>

        + <span data-ttu-id="2350f-144">Сопоставление модели **Накладная клиента** настроено для корневого определения **InvoiceCustomer** пункта **Модель накладных**.</span><span class="sxs-lookup"><span data-stu-id="2350f-144">The **Customer Invoice** model mapping is configured for the **InvoiceCustomer** root definition of **Invoice model**.</span></span> <span data-ttu-id="2350f-145">Таким образом, при выполнении формата электронной отчетности **Накладная с произвольным текстом (Excel)** для доступа к данным приложения и заполнения модели данных может быть выбрано сопоставление модели **Накладная клиента** этой конфигурации электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="2350f-145">Therefore, when the **Free text invoice (Excel)** ER format is run, the **Customer Invoice** model mapping of this ER configuration can be chosen to access application data and fill in the data model.</span></span>
        + <span data-ttu-id="2350f-146">Сопоставление модели **Накладная по проекту** настроено для корневого определения **InvoiceProject** пункта **Модель накладных**.</span><span class="sxs-lookup"><span data-stu-id="2350f-146">The **Project Invoice** model mapping is configured for the **InvoiceProject** root definition of **Invoice model**.</span></span> <span data-ttu-id="2350f-147">Таким образом, при выполнении формата электронной отчетности **Накладная по проекту (Excel)** для доступа к данным приложения и заполнения модели данных может быть выбрано сопоставление модели **Накладная по проекту** этой конфигурации электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="2350f-147">Therefore, when the **Project invoice (Excel)** ER format is run, the **Project Invoice** model mapping of this ER configuration can be chosen to access application data and fill in the data model.</span></span>

        ![Сопоставление модели накладных на странице сопоставления модели с источником данных](./media/er-multiple-model-mappings-image3.png)

    4. <span data-ttu-id="2350f-149">Закройте страницу **Сопоставление модели и источника данных**.</span><span class="sxs-lookup"><span data-stu-id="2350f-149">Close the **Model to datasource mapping** page.</span></span>
    5. <span data-ttu-id="2350f-150">На экспресс-вкладке **Версии** выберите **Удалить**, чтобы удалить все версии данной конфигурации электронной отчетности, которые позже версии 240.175.</span><span class="sxs-lookup"><span data-stu-id="2350f-150">On the **Versions** FastTab, select **Delete** to delete all versions of this ER configuration that are later than version 240.175.</span></span>

6. <span data-ttu-id="2350f-151">Просмотрите содержимое конфигурации **Сопоставления модели накладных по проекту (RDP)**:</span><span class="sxs-lookup"><span data-stu-id="2350f-151">Review the content of the **Project invoice model mapping (RDP)** configuration:</span></span>

    1. <span data-ttu-id="2350f-152">В дереве конфигураций в левой области выберите **Сопоставление модели накладных по проекту (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="2350f-152">In the configuration tree in the left pane, select **Project invoice model mapping (RDP)**.</span></span>
    2. <span data-ttu-id="2350f-153">В области действий выберите **Конструктор**.</span><span class="sxs-lookup"><span data-stu-id="2350f-153">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="2350f-154">На странице **Сопоставление модели с источником данных** обратите внимание, что текущая конфигурации сопоставления модели электронной отчетности содержит сопоставление модели **InvoiceProject**, и что это сопоставление модели настроено для корневого определения **InvoiceProject** пункта **Модель накладной**.</span><span class="sxs-lookup"><span data-stu-id="2350f-154">On the **Model to datasource mapping** page, notice that the current ER model mapping configuration contains the **InvoiceProject** model mapping, and that this model mapping is configured for the **InvoiceProject** root definition of **Invoice model**.</span></span> <span data-ttu-id="2350f-155">При выполнении формата электронной отчетности **Накладная по проекту (Excel)** для доступа к данным приложения и заполнения модели данных выберите сопоставление модели **InvoiceProject** этой конфигурации электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="2350f-155">When the **Project invoice (Excel)** ER format is run, select the **InvoiceProject** model mapping of this ER configuration to access application data and fill in the data model.</span></span>

        ![Сопоставление модели накладных по проекту на странице сопоставления модели с источником данных](./media/er-multiple-model-mappings-image4.png)

    4. <span data-ttu-id="2350f-157">Закройте страницу **Сопоставление модели и источника данных**.</span><span class="sxs-lookup"><span data-stu-id="2350f-157">Close the **Model to datasource mapping** page.</span></span>
    5. <span data-ttu-id="2350f-158">На экспресс-вкладке **Версии** выберите **Удалить**, чтобы удалить все версии данной конфигурации электронной отчетности, которые позже версии 226.35.</span><span class="sxs-lookup"><span data-stu-id="2350f-158">On the **Versions** FastTab, select **Delete** to delete all versions of this ER configuration that are later than version 226.35.</span></span>

## <a name="customize-the-imported-er-configurations"></a><span data-ttu-id="2350f-159">Настройка импортированных конфигураций электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="2350f-159">Customize the imported ER configurations</span></span>

<span data-ttu-id="2350f-160">В этом разделе объясняется , как [настроить](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration) сопоставления моделей, предоставляемых корпорацией Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="2350f-160">This section explains how to [customize](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration) the model mappings that are provided by Microsoft.</span></span> <span data-ttu-id="2350f-161">Например, настройка может потребоваться для реализации пользовательской логики или добавления отсутствующих привязок.</span><span class="sxs-lookup"><span data-stu-id="2350f-161">For example, customization might be required to implement your custom logic or add missing bindings.</span></span>

### <a name="customize-the-invoice-model-mapping-configuration"></a><span data-ttu-id="2350f-162">Настройка конфигурации сопоставления моделей накладных</span><span class="sxs-lookup"><span data-stu-id="2350f-162">Customize the Invoice model mapping configuration</span></span>

1. <span data-ttu-id="2350f-163">На странице **Конфигурации** в дереве конфигураций на левой панели выберите **Сопоставление модели накладных**.</span><span class="sxs-lookup"><span data-stu-id="2350f-163">On the **Configurations** page, in the configuration tree in the left pane, select **Invoice model mapping**.</span></span>
2. <span data-ttu-id="2350f-164">В панели операций выберите **Создать конфигурацию**.</span><span class="sxs-lookup"><span data-stu-id="2350f-164">On the Action Pane, select **Create configuration**.</span></span>
3. <span data-ttu-id="2350f-165">В раскрывающемся диалоговом окне **Создание конфигурации** в поле **Создать** выберите **Производное от имени: сопоставление моделей накладных, Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="2350f-165">In the **Create configuration** drop-down dialog box, in the **New** field, select **Derive from Name: Invoice model mapping, Microsoft**.</span></span>
4. <span data-ttu-id="2350f-166">В поле **Имя** введите **Сопоставление моделей накладных Litware**.</span><span class="sxs-lookup"><span data-stu-id="2350f-166">In the **Name** field, enter **Invoice model mapping Litware**.</span></span>
5. <span data-ttu-id="2350f-167">Выберите **Создать конфигурацию**.</span><span class="sxs-lookup"><span data-stu-id="2350f-167">Select **Create configuration**.</span></span>
6. <span data-ttu-id="2350f-168">[Пометьте](er-quick-start2-customize-report.md#MarkFormatRunnable) [черновую](general-electronic-reporting.md#component-versioning) версию производного сопоставления как доступную для использования во время выполнения:</span><span class="sxs-lookup"><span data-stu-id="2350f-168">[Mark](er-quick-start2-customize-report.md#MarkFormatRunnable) the [draft](general-electronic-reporting.md#component-versioning) version of the derived mapping as available for use at runtime:</span></span>

    1. <span data-ttu-id="2350f-169">В области действий на вкладке **Конфигурации** в группе **Дополнительные параметры** выберите **Параметры пользователя**.</span><span class="sxs-lookup"><span data-stu-id="2350f-169">On the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
    2. <span data-ttu-id="2350f-170">В диалоговом окне **Параметры пользователя** установите для параметра **Параметры выполнения** значение **Да**, затем выберите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="2350f-170">In the **User parameters** dialog box, set the **Run settings** option to **Yes**, and then select **OK**.</span></span>
    3. <span data-ttu-id="2350f-171">При необходимости выберите **Правка**, чтобы сделать страницу редактируемой.</span><span class="sxs-lookup"><span data-stu-id="2350f-171">Select **Edit** to make the page editable, as required.</span></span>
    4. <span data-ttu-id="2350f-172">Для конфигурации **Сопоставления модели накладных Litware**, которая в настоящее время выбрана в дереве конфигурации, установите для параметра **Выполнить черновик** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="2350f-172">For the **Invoice model mapping Litware** configuration that is currently selected in the configuration tree, set the **Run Draft** option to **Yes**.</span></span>

7. <span data-ttu-id="2350f-173">В области действий выберите **Конструктор** для просмотра сопоставлений моделей данной конфигурации.</span><span class="sxs-lookup"><span data-stu-id="2350f-173">On the Action Pane, select **Designer** to review the model mappings of this configuration.</span></span>

    ![Проверка сопоставлений модели накладных на странице сопоставления модели с источником данных](./media/er-multiple-model-mappings-image5.png)

    > [!TIP]
    > <span data-ttu-id="2350f-175">Теперь можно открыть любой из компонентов модели электронной отчетности данной конфигурации электронной отчетности в конструкторе для настройки пользовательской логики.</span><span class="sxs-lookup"><span data-stu-id="2350f-175">You can now open any of the ER model mapping components of this ER configuration in the designer to configure your custom logic.</span></span> <span data-ttu-id="2350f-176">Дополнительные сведения см. в разделе [Настройка конфигурации сопоставления моделей](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration).</span><span class="sxs-lookup"><span data-stu-id="2350f-176">For more information, see [Customize the model mapping configuration](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration).</span></span>

8. <span data-ttu-id="2350f-177">Закройте страницу **Сопоставление модели и источника данных**.</span><span class="sxs-lookup"><span data-stu-id="2350f-177">Close the **Model to datasource mapping** page.</span></span>

<span data-ttu-id="2350f-178">Теперь у вас имеются конфигурации **Сопоставление модели накладных** и **Сопоставление модели накладных Litware**, каждая из которых имеет сопоставление модели, настроенное для корневого определения **InvoiceCustomer**.</span><span class="sxs-lookup"><span data-stu-id="2350f-178">You now have **Invoice model mapping** and **Invoice model mapping Litware** configurations, each of which has a model mapping that is configured for the **InvoiceCustomer** root definition.</span></span> <span data-ttu-id="2350f-179">Явно назначьте одно из сопоставлений модели в качестве сопоставления модели по умолчанию, которое используется в любом из форматов электронной отчетности, таких как **Накладная с произвольным текстом (Excel)**, который содержит источник данных модели с корневым определением **InvoiceCustomer**.</span><span class="sxs-lookup"><span data-stu-id="2350f-179">Explicitly assign one of the model mappings as the default model mapping that is used by any of the ER formats, such as the **Free text invoice (Excel)** format that contains a model data source that has the **InvoiceCustomer** root definition.</span></span> <span data-ttu-id="2350f-180">В противном случае при выполнении, изменении или проверке одного из форматов электронной отчетности создается следующее исключение, уведомляющее о том, что сопоставление модели по умолчанию не было явно назначено:</span><span class="sxs-lookup"><span data-stu-id="2350f-180">Otherwise, when you run, edit, or validate one of the ER formats, the following exception is thrown to notify you that no default model mapping has been explicitly assigned:</span></span>
 
> <span data-ttu-id="2350f-181">Более одного сопоставления модели существует для модели данных "\<model name\> (\<root descriptor\>)" в конфигурациях \<configuration names separated by commas\>.</span><span class="sxs-lookup"><span data-stu-id="2350f-181">More than one model mapping exists for the '\<model name\> (\<root descriptor\>)' data model in the configurations \<configuration names separated by commas\>.</span></span> <span data-ttu-id="2350f-182">Установите одну из конфигураций по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2350f-182">Set one of the configurations as default.</span></span>

![Открытие формата для редактирования на странице конфигураций](./media/er-multiple-model-mappings-image6.gif)

### <a name="customize-the-project-invoice-model-mapping-rdp-configuration"></a><span data-ttu-id="2350f-184">Настройка конфигурации сопоставления моделей накладных по проекту (RDP)</span><span class="sxs-lookup"><span data-stu-id="2350f-184">Customize the Project invoice model mapping (RDP) configuration</span></span>

1. <span data-ttu-id="2350f-185">На странице **Конфигурации** в дереве конфигураций на левой панели выберите **Сопоставление модели накладных по проекту (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="2350f-185">On the **Configurations** page, in the configuration tree in the left pane, select **Project invoice model mapping (RDP)**.</span></span>
2. <span data-ttu-id="2350f-186">В панели операций выберите **Создать конфигурацию**.</span><span class="sxs-lookup"><span data-stu-id="2350f-186">On the Action Pane, select **Create configuration**.</span></span>
3. <span data-ttu-id="2350f-187">В диалоговом окне **Создание конфигурации** в поле **Создать** выберите **Производное от имени: сопоставление моделей накладных по проекту (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="2350f-187">In the **Create configuration** dialog box, in the **New** field, select **Derive from Name: Project invoice model mapping (RDP), Microsoft**.</span></span>
4. <span data-ttu-id="2350f-188">В поле **Имя** введите **Сопоставление моделей накладных по проекту Litware**.</span><span class="sxs-lookup"><span data-stu-id="2350f-188">In the **Name** field, enter **Project invoice model mapping Litware**.</span></span>
5. <span data-ttu-id="2350f-189">Выберите **Создать конфигурацию**.</span><span class="sxs-lookup"><span data-stu-id="2350f-189">Select **Create configuration**.</span></span>
6. <span data-ttu-id="2350f-190">Для конфигурации **Сопоставления модели накладных по проекту Litware**, которая в настоящее время выбрана в дереве конфигурации, установите для параметра **Выполнить черновик** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="2350f-190">For the **Project invoice model mapping Litware** configuration that is currently selected in the configuration tree, set the **Run Draft** option to **Yes**.</span></span>
7. <span data-ttu-id="2350f-191">В области действий выберите **Конструктор** для просмотра сопоставлений моделей данной конфигурации.</span><span class="sxs-lookup"><span data-stu-id="2350f-191">On the Action Pane, select **Designer** to review the model mappings of this configuration.</span></span>

    ![Проверка настроенных сопоставлений модели накладных по проекту на странице сопоставления модели с источником данных](./media/er-multiple-model-mappings-image7.png)

8. <span data-ttu-id="2350f-193">Закройте страницу **Сопоставление модели и источника данных**.</span><span class="sxs-lookup"><span data-stu-id="2350f-193">Close the **Model to datasource mapping** page.</span></span>

<span data-ttu-id="2350f-194">Теперь у вас есть конфигурации **Сопоставление модели накладных**, **Сопоставление модели накладных по проекту (RDP)** и **Сопоставление модели накладных по проекту Litware**.</span><span class="sxs-lookup"><span data-stu-id="2350f-194">You now have **Invoice model mapping**, **Project invoice model mapping (RDP)**, and **Project invoice model mapping Litware** configurations.</span></span> <span data-ttu-id="2350f-195">Каждая из этих конфигураций имеет сопоставление моделей, настроенное для корневого определения **InvoiceProject**.</span><span class="sxs-lookup"><span data-stu-id="2350f-195">Each of these configurations has a model mapping configured for the **InvoiceProject** root definition.</span></span> <span data-ttu-id="2350f-196">Явно назначьте одно из сопоставлений модели в качестве сопоставления модели по умолчанию, которое используется в любом из форматов электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="2350f-196">Explicitly assign one of the model mappings as the default model mapping that is used by any of the ER formats.</span></span> <span data-ttu-id="2350f-197">Например, используйте формат **Накладная по проекту (Excel)**, который содержит источник данных модели с корневым определением **InvoiceProject**.</span><span class="sxs-lookup"><span data-stu-id="2350f-197">For example, use the **Project invoice (Excel)** format that contains a model data source that has the **InvoiceProject** root definition.</span></span> <span data-ttu-id="2350f-198">В противном случае при выполнении или изменении одного из форматов электронной отчетности создается исключение, уведомляющее о том, что сопоставление модели по умолчанию не было явно назначено.</span><span class="sxs-lookup"><span data-stu-id="2350f-198">Otherwise, when you run or edit one of the ER formats, an exception is thrown to notify you that no default model mapping has been explicitly assigned.</span></span>

## <a name="select-the-derived-invoice-model-mapping-litware-configuration-as-the-configuration-that-contains-default-model-mappings"></a><span data-ttu-id="2350f-199">Выберите производную конфигурацию сопоставления модели накладной Litware в качестве конфигурации, содержащей сопоставления модели по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2350f-199">Select the derived Invoice model mapping Litware configuration as the configuration that contains default model mappings</span></span>

1. <span data-ttu-id="2350f-200">На странице **Конфигурации** в дереве конфигураций на левой панели выберите **Сопоставление модели накладных Litware**.</span><span class="sxs-lookup"><span data-stu-id="2350f-200">On the **Configurations** page, in the configuration tree in the left pane, select **Invoice model mapping Litware**.</span></span>
2. <span data-ttu-id="2350f-201">Установите для параметра **По умолчанию для сопоставления модели** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="2350f-201">Set the **Default for model mapping** option to **Yes**.</span></span>

    ![Задание сопоставления модели в качестве сопоставления модели по умолчанию на странице конфигураций](./media/er-multiple-model-mappings-image8.png)

    <span data-ttu-id="2350f-203">В связи с этой настройкой сопоставление модели **Копирования накладной клиента** используется при выполнении формата **Накладная с произвольным текстом (Excel)**, а также при ее редактировании или проверке.</span><span class="sxs-lookup"><span data-stu-id="2350f-203">Because of this setting, the **Customer Invoice Copy** model mapping is used when you run the **Free text invoice (Excel)**, or when you edit or validate it.</span></span> <span data-ttu-id="2350f-204">Сопоставление модели **Накладная клиента** из конфигурации **Сопоставление модели накладных** игнорируется.</span><span class="sxs-lookup"><span data-stu-id="2350f-204">The **Customer invoice** model mapping from the **Invoice model mapping** configuration is ignored.</span></span>

    <span data-ttu-id="2350f-205">Теперь можно открыть формат **Накладная с произвольным текстом (Excel)** для просмотра в конструкторе форматов.</span><span class="sxs-lookup"><span data-stu-id="2350f-205">You can now open the **Free text invoice (Excel)** format for review in the format designer.</span></span>

## <a name="select-the-derived-project-invoice-model-mapping-litware-configuration-as-the-configuration-that-contains-default-model-mappings"></a><span data-ttu-id="2350f-206">Выберите производную конфигурацию сопоставления модели накладной по проекту Litware в качестве конфигурации, содержащей сопоставления модели по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2350f-206">Select the derived Project invoice model mapping Litware configuration as the configuration that contains default model mappings</span></span>

1. <span data-ttu-id="2350f-207">На странице **Конфигурации** в дереве конфигураций на левой панели выберите **Сопоставление модели накладных по проекту Litware**.</span><span class="sxs-lookup"><span data-stu-id="2350f-207">On the **Configurations** page, in the configuration tree in the left pane, select **Project invoice model mapping Litware**.</span></span>
2. <span data-ttu-id="2350f-208">Установите для параметра **По умолчанию для сопоставления модели** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="2350f-208">Set the **Default for model mapping** option to **Yes**.</span></span>

    <span data-ttu-id="2350f-209">В этом случае, в отличие от случая, описанного для конфигурации **Сопоставление модели накладных Litware** в предыдущем разделе, невозможно будет начать использовать сопоставление модели **Копирование InvoiceProject** из конфигурации **Сопоставление модели накладных по проекту Litware**.</span><span class="sxs-lookup"><span data-stu-id="2350f-209">In this case, unlike the case that is described for the **Invoice model mapping Litware** configuration in the previous section, you can't start to use the **InvoiceProject Copy** model mapping from the **Project invoice model mapping Litware** configuration.</span></span> <span data-ttu-id="2350f-210">Две конфигурации, содержащие сопоставление модели для конревого определения **InvoiceProject**, в настоящее время отмечены в качестве конфигурации по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2350f-210">Two configurations that contain a model mapping for the **InvoiceProject** root definition are currently marked as the default configuration.</span></span> <span data-ttu-id="2350f-211">Поэтому они имеют одинаковый приоритет для использования.</span><span class="sxs-lookup"><span data-stu-id="2350f-211">Therefore, they have equal priority for use.</span></span> <span data-ttu-id="2350f-212">Чтобы решить эту проблему, выполните остальные шаги этой процедуры.</span><span class="sxs-lookup"><span data-stu-id="2350f-212">To resolve this issue, complete the remaining steps of this procedure.</span></span>

3. <span data-ttu-id="2350f-213">В дереве конфигураций в левой области выберите **Сопоставление модели накладных Litware**.</span><span class="sxs-lookup"><span data-stu-id="2350f-213">In the configuration tree in the left pane, select **Invoice model mapping Litware**.</span></span>
4. <span data-ttu-id="2350f-214">В области действий выберите **Конструктор**.</span><span class="sxs-lookup"><span data-stu-id="2350f-214">On the Action Pane, select **Designer**.</span></span>
5. <span data-ttu-id="2350f-215">На странице **Сопоставление модели с источником данных** выберите **Правка**, чтобы сделать страницу редактируемой в соответствии с требованиями.</span><span class="sxs-lookup"><span data-stu-id="2350f-215">On the **Model to datasource mapping** page, select **Edit** to make the page editable, as required.</span></span>
6. <span data-ttu-id="2350f-216">Выберите сопоставление модели **Копирование накладных по проекту**, затем установите флажок **Удалено** для него.</span><span class="sxs-lookup"><span data-stu-id="2350f-216">Select the **Project Invoice Copy** model mapping, and then select the **Is deleted** check box for it.</span></span>

    ![Задание сопоставления модели как виртуально удаленной на странице сопоставления модели с источником данных](./media/er-multiple-model-mappings-image9.png)

    <span data-ttu-id="2350f-218">Вследствие этой настройки конфигурация **Сопоставление модели накладных Litware** обрабатывается, как будто она не имеет сопоставления модели для корневого определения **InvoiceProject**.</span><span class="sxs-lookup"><span data-stu-id="2350f-218">Because of this setting, the **Invoice model mapping Litware** configuration is treated as though it has no model mapping for the **InvoiceProject** root definition.</span></span> <span data-ttu-id="2350f-219">Сопоставление модели **Копирование InvoiceProject**, выпущенной по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2350f-219">The **InvoiceProject Copy** model mapping issued by default.</span></span> <span data-ttu-id="2350f-220">Конфигурация **Сопоставления модели накладной по проекту Litware**, которая содержит это сопоставление модели, помечается как конфигурация по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2350f-220">The configuration, **Project invoice model mapping Litware**, which contains this model mapping, is marked as the default configuration.</span></span> <span data-ttu-id="2350f-221">Поскольку она помечена как используемая по умолчанию, она имеет более высокий приоритет, чем сопоставление модели **InvoiceProject** из конфигурации **Сопоставления модели накладных по проекту (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="2350f-221">Because it is marked as default, it has a higher priority than the **InvoiceProject** model mapping from the **Project invoice model mapping (RDP)** configuration.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="2350f-222">Другие вопросы</span><span class="sxs-lookup"><span data-stu-id="2350f-222">Other considerations</span></span>

<span data-ttu-id="2350f-223">Сопоставление модели **Копирование InvoiceProject** конфигурации **Сопоставление модели накладных по проекту Litware** предназначена для использования источника данных **ReportDataProvider**.</span><span class="sxs-lookup"><span data-stu-id="2350f-223">The **InvoiceProject Copy** model mapping of the **Project invoice model mapping Litware** configuration is designed to use the **ReportDataProvider** data source.</span></span> <span data-ttu-id="2350f-224">Источник данных является частью типа *Объект*, который ссылается на класс приложения **PsaProjInvoiceDP**.</span><span class="sxs-lookup"><span data-stu-id="2350f-224">The data source is part of the *Object* type that refers to the **PsaProjInvoiceDP** application class.</span></span> <span data-ttu-id="2350f-225">Этот класс реализован в качестве поставщика данных для отчета служб SQL Server Reporting Services (SSRS) по накладным по проектам платформы управления печатью.</span><span class="sxs-lookup"><span data-stu-id="2350f-225">This class is implemented as the data provider for the project invoice SQL Server Reporting Services (SSRS) report of the Print management framework.</span></span> <span data-ttu-id="2350f-226">Выберите этот источник данных в качестве [точки интеграции](er-apis-app10-0-11.md#api-to-run-a-format-mapping-for-the-generation-of-outbound-documents) электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="2350f-226">Select this data source as the ER [integration point](er-apis-app10-0-11.md#api-to-run-a-format-mapping-for-the-generation-of-outbound-documents).</span></span> <span data-ttu-id="2350f-227">Текущая реализация электронной отчетности для отчетов управления печатью учитывает этот параметр.</span><span class="sxs-lookup"><span data-stu-id="2350f-227">The current ER implementation for Print management reports takes this setting into account.</span></span> <span data-ttu-id="2350f-228">Дополнительные сведения см. в исходном коде класса приложения **ERPrintMgmtDataProviderReport**.</span><span class="sxs-lookup"><span data-stu-id="2350f-228">For more details, review the source code of the **ERPrintMgmtDataProviderReport** application class.</span></span> <span data-ttu-id="2350f-229">Во время выполнения назначение источника данных **ReportDataProvider** как точки интеграции сопоставления моделей заставляет Finance обрабатывать этот компонент сопоставления с более высоким приоритетом, чем компонент сопоставления **InvoiceProject** из конфигурации **Сопоставление модели накладных по проекту (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="2350f-229">At runtime, the assignment of the **ReportDataProvider** data source as the model mapping integration point forces Finance to treat this mapping component with a higher priority than the **InvoiceProject** mapping component from the **Project invoice model mapping (RDP)** configuration.</span></span>

## <a name="see-also"></a><span data-ttu-id="2350f-230">См. также</span><span class="sxs-lookup"><span data-stu-id="2350f-230">See also</span></span>

- [<span data-ttu-id="2350f-231">Управление сопоставлением модели электронной отчетности в отдельных конфигурациях электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="2350f-231">Manage ER model mapping in separate ER configurations</span></span>](./tasks/er-manage-model-mapping-configurations-july-2017.md)
- [<span data-ttu-id="2350f-232">Настройка сопоставлений моделей электронной отчетности (ER) с учетом контекста страны</span><span class="sxs-lookup"><span data-stu-id="2350f-232">Configure country context dependent ER model mappings</span></span>](er-country-dependent-model-mapping.md)
- [<span data-ttu-id="2350f-233">Изменения API платформы электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="2350f-233">Electronic reporting framework API changes</span></span>](er-apis-app10-0-11.md)
