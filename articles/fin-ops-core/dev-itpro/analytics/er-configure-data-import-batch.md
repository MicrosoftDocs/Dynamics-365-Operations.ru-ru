---
title: Импорт данных из выбранных вручную файлов в пакетном режиме
description: В этом разделе описывается, как импортировать данные из файлов, выбранных вручную, в пакетном режиме.
author: NickSelin
ms.date: 01/07/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, ERImportFormatSourceTable, ERWorkspace
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 220314
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2022-01-01
ms.dyn365.ops.version: Release 10.0.25
ms.openlocfilehash: 8615b5a0623fd696c64f4ec03e481a2bcb16c0ac
ms.sourcegitcommit: 89655f832e722cefbf796a95db10c25784cc2e8e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/31/2022
ms.locfileid: "8075627"
---
# <a name="import-data-from-manually-selected-files-in-batch-mode"></a>Импорт данных из выбранных вручную файлов в пакетном режиме

[!include[banner](../includes/banner.md)]
[!include[banner](../includes/preview-banner.md)]

Чтобы использовать структуру [Электронная отчетность (ER)](general-electronic-reporting.md) для импорта данных из файлов, выбранных вручную, в пакетном режиме, необходимо настроить [формат](er-overview-components.md#format-component) ER, поддерживающий импорт. Затем выполните [сопоставление модели](er-overview-components.md#model-mapping-component) для типа **В место назначения**, который использует этот формат в качестве источника данных. Чтобы импортировать данные, найдите файл, который необходимо импортировать, и выберите его вручную. 

При помощи новой возможности электронной отчетности для поддержки импорта данных в пакетном режиме можно реализовать этот процесс как не требующий участия пользователя. Можно использовать конфигурации ER для выполнения импорта данных путем планирования нового пакетного задания из пользовательского интерфейса ER.

В этом разделе описывается, как выполнить импорт данных из файла, выбранного вручную, в пакетном режиме. В примерах используются транзакции по поставщику по поставщику в качестве бизнес-данных. Шаги этих примеров можно выполнить в компании **USMF** в Microsoft. Написание кода не требуется.

## <a name="prerequisites"></a>Необходимые условия

Чтобы завершить примеры из этой темы необходимы следующие возможности доступа:

- Одна из следующих ролей:

    - Разработчик электронной отчетности
    - Консультант по функциональным возможностям электронной отчетности
    - Системный администратор

- Конфигурации формата и модели электронной отчетности для платежей по форме 1099

### <a name="create-the-required-er-configurations"></a>Создать необходимые конфигурации электронной отчетности

Для создания требуемых конфигураций ER и получения других необходимых условий выполните одно из следующих действий:

- Запустите проводники по задаче **Импорт данных электронной отчетности из файла Microsoft Excel**, входящие в состав бизнес-процесса **7.5.4.3 Приобретение/разработка компонентов ИТ-услуг и решений (10677)**. Эти проводники по задаче объясняет процесс разработки и использования конфигураций электронной отчетности для интерактивного импорта проводок по поставщику из файлов Microsoft Excel. Дополнительные сведения см. в разделе [Разбор входящих документов в формате Excel](parse-incoming-documents-excel.md).
- Выполните примеры, приведенные в разделе [Настройка импорта данных из SharePoint](er-configure-data-import-sharepoint.md). Эти примеры объясняют процесс разработки и использования конфигураций электронной отчетности для интерактивного импорта проводок по поставщику из файлов Excel, которые хранятся в папке SharePoint.

### <a name="download-the-required-er-configurations"></a>Загрузка необходимых конфигураций электронной отчетности

1. Загрузите и локально сохраните следующие конфигурации электронной отчетности.

    | Описание содержания | Хранилище файлов |
    |---------------------|------|
    | Конфигурация модели данных ER **Модель платежей 1099** | [1099model.xml](https://download.microsoft.com/download/b/d/9/bd9e8373-d558-4ab8-aa9b-31981adc97ea/1099model.xml) |
    | Конфигурация формата электронной отчетности **Импорт проводок поставщиков (Excel)** | [1099format-import-from-excel.xml](https://download.microsoft.com/download/b/3/8/b38faf0a-fbaf-4e9e-84c2-dedae7464880/1099format-import-from-excel.xml) |

2. С помощью параметра ER [Загрузить из XML-файла](er-defer-sequence-element.md#import-the-sample-er-configurations) импортируйте загруженных конфигурации ER в экземпляр Dynamics 365 Finance в следующем порядке:

    1. Конфигурации модели данных электронной отчетности
    2. Конфигурация формата электронной отчетности

### <a name="download-the-required-excel-files"></a>Загрузка необходимых файлов Excel

- Загрузите следующий образец набора данных и сохраните его локально.

    | Описание содержания | Хранилище файлов |
    |---------------------|------|
    | Входящий файл **1099import-data.xlsx**, который содержит образцы данных для импорта | [1099import data.xlsx](https://download.microsoft.com/download/f/f/4/ff4dbce9-8364-4391-adee-877945ff01f7/1099import-data.xlsx) |

### <a name="review-the-prerequisites"></a>Проверьте необходимые условия

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. На странице **Конфигурации** проверьте готовое решение ER для импорта данных в пакетном режиме.
3. Проверьте конфигурацию формата **Импорт проводок поставщиков (Excel)**.

    - Компонент формата этой конфигурации предназначен для анализа входящего файла Excel.
    - Компонент сопоставления модели этой конфигурации используется для заполнения базовой модели данных с помощью данных из проанализированного файла Excel.

    ![Конфигурация формата ER для импорта данных из пользовательского интерфейса ER в пакетном режиме.](./media/er-configure-data-import-batch-configurations-1.png)

4. Проверьте конфигурацию модели данных **Модель платежей 1099**.

    - Модель компонента этой конфигурации представляет структуру модели данных, которая используется для передачи данных между запущенным компонентами ER.
    - Компонент сопоставления моделей этой конфигурации используется для извлечения данных из запущенного компонента формата и последующего обновления таблиц приложений.

    ![Конфигурация модели данных ER для импорта данных из пользовательского интерфейса ER в пакетном режиме.](./media/er-configure-data-import-batch-configurations-2.png)

5. Откройте файл **1099import-data.xlsx** в Excel.

    ![Образец файла Excel с данными для импорта в пакетном режиме.](./media/er-configure-data-import-batch-excel-content.png)

## <a name="enable-batch-data-import-for-er-from-the-ui"></a>Включение пакетного импорта данных для ER в пользовательском интерфейсе

1. Перейдите в раздел **Администрирование системы** \> **Рабочие области** \> **Управление функциями**.
2. В рабочей области **Управление функциями** выберите функцию **Выполнить импорт электронной отчетности отправленных вручную документов в пакетном режиме**, а затем выберите **Включить**.

## <a name="import-data-from-manually-selected-excel-files"></a>Импорт данных из выбранных вручную файлов Excel

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. На странице **Конфигурации** выберите конфигурацию модели данных **Модель платежей 1099**.
3. На экспресс-вкладке **Компоненты конфигурации** выберите ссылку **Для импорта проводок вручную по форме 1099**.
4. На странице **Сопоставление модели и источника данных** уже выбрано сопоставление модели **Для импорта проводок вручную по форме 1099**. Выберите **Выполнить**.
5. На вкладке **Параметры** выберите **Обзор**. Найдите и выберите файл **1099import-data.xlsx**, а затем выберите **ОК**.
6. В поле **Введите код ваучера** введите **V-00001**.
7. На вкладке **Выполнять в фоновом режиме** установите для параметра **Пакетная обработка** значение **Да**.

    Обратите внимание, что в поле **Описание задачи** задано как **Выполнение сопоставления моделей "Для импорта проводок вручную по форме 1099", конфигурация "Модель платежей 1099"**. Это значение указывает, что выполнение выбранного сопоставления модели будет запланировано в виде нового пакетного задания.

    ![Указание подробных сведений об импорте данных в пакетном режиме в диалоговом окне Параметры электронной отчетности.](./media/er-configure-data-import-batch-execution-parameters.png)

8. Нажмите **ОК**. Выводится сообщение о том, что было запланировано новое пакетное задание.

    ![Сообщение о новом запланированном пакетном задании на странице сопоставления модели и источника данных.](./media/er-configure-data-import-batch-scheduled-job-info.png)

## <a name="review-the-data-import-results-on-the-batch-job-page"></a>Проверьте результаты импорта данных на странице пакетного задания

1. Перейдите в раздел **Общие** \> **Запросы** \> **Пакетные задания** \> **Мои пакетные задания**.
2. На странице **Пакетное задание** отфильтруйте список пакетных заданий, чтобы найти запланированный пакет, а затем выберите его.
3. Выберите ссылку **Код задания**, чтобы проверить сведения о задании.
4. На экспресс-вкладке **Пакетные задачи** нажмите **Журнал**.

    ![Кнопка Журнал на странице пакетного задания.](./media/er-configure-data-import-batch-scheduled-job-record.png)

5. Проверьте сведения о выполнении.

    ![Журнал выполнения запланированного пакетного задания на странице пакетного задания.](./media/er-configure-data-import-batch-scheduled-job-log.png)

## <a name="change-the-data-import-parameters"></a>Изменение параметров импорта данных

После планирования пакета, пока он еще не был запущен, можно изменить параметры запланированного импорта данных.

1. Перейдите в раздел **Общие** \> **Запросы** \> **Пакетные задания** \> **Мои пакетные задания**.
2. На странице **Пакетное задание** отфильтруйте список пакетных заданий, чтобы найти запланированный пакет, а затем выберите его.
3. Выберите **Изменить статус**.
4. В диалоговом окне **Выбрать новый статус** выберите **Отложено**, затем нажмите кнопку **ОК**.
5. Выберите ссылку **Код задания**, чтобы перейти к сведениям о задании.
6. На экспресс-вкладке **Пакетные задачи** нажмите **Параметры**.
7. В диалоговом окне **Параметры электронной отчетности** выполните следующие действия:

    1. Нажмите **Обзор**, чтобы выбрать альтернативный файл для импорта данных.
    2. Выберите **Введите код ваучера** для изменения кода ваучера для импортированных проводок поставщика.

        ![Изменение параметров импорта данных для запланированного пакетного задания в диалоговом окне параметров электронного отчета.](./media/er-configure-data-import-batch-scheduled-job-parameters.png)

    3. Нажмите **ОК**.

8. Убедитесь, что пакет все еще выбран, а затем снова выберите **Изменить статус**.
9. В диалоговом окне **Выбрать новый статус** выберите **Ожидание**, затем нажмите кнопку **ОК**.

## <a name="review-the-data-import-results-on-the-er-source-page"></a>Проверьте результаты импорта данных на странице источника ER

1. Перейдите в раздел **Управление организацией** \> **Электронная отчетность** \> **Источник электронной отчетности**.
2. Выберите запись **Для импорта проводок поставщиков (Excel)**, которая была автоматически создана во время импорта данных.

    ![Запись для конфигурации "Для импорта проводок поставщиков (Excel)" на странице исходной электронной отчетности.](./media/er-configure-data-import-batch-files-source-1.png)

3. Выберите **Состояния файлов для источников**.
4. На экспресс-вкладках **Файлы** и **Журналы источников для формата импорта** проверьте сведения импорта.
5. На экспресс-вкладке **Файлы** выберите запись. Обратите внимание, что импортированный файл прикреплен к данной записи.

    ![Импортированный файл, прикопленный к записи на странице состояний файлов для источника.](./media/er-configure-data-import-batch-files-source-2.png)

6. Выберите **Вложения**, чтобы проверить импортированный файл.

    ![Импортированный файл на странице представления документов.](./media/er-configure-data-import-batch-files-source-3.png)

    > [!TIP]
    > Чтобы сохранить эти вложения, платформа ER использует тип документа, [установленный](electronic-reporting-er-configure-parameters.md#parameters-to-manage-documents) для текущей компании в поле **Другие** параметров ER.

## <a name="review-the-data-import-results-on-the-vendor-settlement-for-1099s-page"></a>Проверка результатов импорта данных на странице Сопоставление поставщиков по форме 1099

1. Перейдите в раздел **Расчеты с поставщиками** \> **Периодические задачи** \> **Налог по форме 1099** \> **Сопоставление поставщика для формы 1099**.
2. В поле **Дата начала** введите **31.12.2017** (31 декабря 2017).
3. Выберите **транзакции по форме 1099 вручную**.

    ![Импортированные проводки поставщиков на странице Налоговые проводки по форме 1099.](./media/er-configure-data-import-batch-imported-data.png)

## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор электронной отчетности](general-electronic-reporting.md)

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
