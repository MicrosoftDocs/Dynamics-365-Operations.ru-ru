---
title: Компоненты электронной отчетности
description: В этой теме описываются компоненты электронной отчетности (ER).
author: nselin
ms.date: 09/28/2021
ms.prod: ''
ms.technology: ''
ms.search.form: ERWorkspace
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 58941
ms.assetid: 5d51b6a6-ad12-4af9-a66d-a1eb820ae57f
ms.search.region: global
ms.topic: overview
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 1a24aa52c805722c20045b6227ceac0103cfbe6b
ms.sourcegitcommit: d5d6b81bd8b08de20cc018c2251436065982489e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/17/2022
ms.locfileid: "8324043"
---
# <a name="electronic-reporting-components"></a>Компоненты электронной отчетности

[!include [banner](../includes/banner.md)]

Электронная отчетность (ER) поддерживает следующие типы компонентов:

- Модель данных
- Подбор модели
- Форматировать
- Метаданные

## <a name="data-model-component"></a>Компонент "модель данных"

Компонент модели данных является абстрактным представлением структуры данных. Он описывает конкретную область бизнеса-домена с достаточно подробными сведениями для удовлетворения требованиям отчетности для этого домена. Компонент модели данных состоит из следующих частей:

- **Модель данных** — это набор характерных для домена бизнес-объектов и иерархически структурированного определения отношений между ними.
- **Сопоставления модели** — связывает выбранные источники данных приложения с отдельными элементами модели данных, которая указывает во время выполнения поток данных и правила для заполнения бизнес-данными в компоненте модели данных.

Бизнес-объект модели данных представлен как контейнер или запись. Свойства бизнес-объекта представлены как элементы данных или поля. Каждый элемент данных имеет уникальное имя, метку, описание и значение. Значение каждого элемента данных можно разработать таким образом, чтобы оно распознавалось как строка, целое число, вещественное значение, дата, перечисление или логическое значение. Кроме того, элемент данных может быть другой записью или списком записей.

Один компонент модели данных может содержать несколько иерархий объектов, связанных с бизнес-доменом. Он также может содержать сопоставления модели, которые поддерживают поток данных, связанных с отчетом, во время выполнения. Иерархии будут дифференцироваться по одной записи, выбранной в качестве корня сопоставления модели. Например, модель данных области домена платежей может поддерживать следующие сопоставления:


- Компания \> Поставщик \> Проводки по оплате домена расчетов с поставщиками
- Клиент \> Компания \> Проводки по оплате домена расчетов с клиентами

Бизнес-объекты, например, "Компания" и "Проводки по оплате", разрабатываются только один раз. При необходимости в других сопоставлениях их можно использовать повторно.

## <a name="model-mapping-component"></a>Компонент сопоставления моделей

Сопоставления модели связывает источники данных приложения с отдельными элементами модели данных, которая указывает во время выполнения поток данных и правила для заполнения бизнес-данными в компоненте модели данных.

Сопоставление модели, которое поддерживает исходящие электронные документы имеет следующие возможности:

- Оно может использовать различные типы данных как источники данных для модели данных. Эти типы данных включают таблицы, объекты данных, методы и перечисления.
- Оно поддерживает параметры пользовательского ввода, которые можно определить как источники данных для модели данных, когда какие-либо данные должны быть указаны во время выполнения.
- Он поддерживает преобразование данных в необходимые группы. Можно также фильтровать и суммировать данные и добавлять логически вычисляемые поля, которые разработаны посредством формул, похожих на формулы Microsoft Excel. Дополнительные сведения см. в разделе [Конструктор формул в электронной отчетности (ER)](general-electronic-reporting-formula-designer.md).

Сопоставление модели, которое поддерживает входящие электронные документы имеет следующие возможности:

- Он может использовать различные обновляемые элементы данных в качестве целевых. Эти элементы данных включают таблицы, объекты данных и представления. Данные могут обновляться входящими данными из электронных документов. Можно использовать несколько целевых объектов в сопоставлении одной модели.
- Оно поддерживает параметры пользовательского ввода, которые можно определить как источники данных для модели данных, когда какие-либо данные должны быть указаны во время выполнения.

Компонент модели данных разработан для каждого бизнес-домена, используемого в качестве единого источника данных для отчетности. Унифицированный источник данных изолирует отчетность от физической реализации источников данных. Этот компонент представляет бизнес-концепции для доменов и функциональные возможности в форме, которая повышает эффективность первоначальной разработки и дополнительной поддержки формата отчетности.

## <a name="format-component"></a>Компонент формата

### <a name="format-components-for-outgoing-electronic-documents"></a>Компоненты формата для исходящих электронных документов

Компонент формата — это схема выходных данных отчетности, которые создаются во время выполнения. Схема состоит из следующих элементов:

- Формат, который определяет структуру и содержимое исходящего электронного документа, формируемого во время выполнения.
- Источники данных в виде набора параметров пользовательского ввода и характерной для конкретного домена модели данных, которая использует выбранное сопоставление модели.
- Сопоставление формата в виде набора привязок источников данных формата к отдельным элементам формата, задающим во время выполнения поток данных и правила формирования выходных данных формата.
- Проверка формата в виде набора настраиваемых правил, управляющих формированием отчетов во время выполнения в зависимости от контекста выполнения. Например, может быть правило, останавливающее создание выходных платежей поставщикам и выдающее исключение, если определенные атрибуты выбранного поставщика отсутствуют, например номер банковского счета.

Компонент формата поддерживает следующие функции:

- Создание выходных отчетных данных в виде отдельных файлов в разных форматах, таких как текст, XML, документ Microsoft Word или таблица
- Создание нескольких файлов отдельно и инкапсуляция их в ZIP-файлы

Компонент формата предоставляет возможность прилагать определенные файлы, которые могут использоваться в выходных данных отчетности:

- Книги Excel, содержащие лист, который можно использовать в качестве шаблона для выходных данных в формате листа OPENXML.
- Файлы Word, содержащие документ, который можно использовать в качестве шаблона для выходных данных в формате документа Microsoft Word.
- Другие файлы, которые могут включаться в выходные данные формата в качестве предопределенных файлов

На следующем рисунке показаны потоки данных для этих форматов.

[![Поток данных для компонентов входящего формата.](./media/ER-overview-03.png)](./media/ER-overview-03.png)

Чтобы запустить одну конфигурацию формата ER для импорта данных из входящего электронного документа, определите сопоставление конфигурации формата и точку интеграции сопоставления модели. Можно использовать то же сопоставление модели и назначения вместе с различными форматами для других типов входящих документов.

## <a name="component-versioning"></a>Управление версиями компонентов

Для компонентов электронной отчетности поддерживается управление версиями. Для управления изменениями в компонентах электронной отчетности предусмотрен следующий workflow-процесс:

1. Версия, которая была создана первоначально, помечается как версия **Черновик**. Эту версию можно изменять, и она доступна для выполнения тестов.
2. Версию **Черновик** можно преобразовать в версию **Завершено**. Эту версию можно использовать в локальных процессах отчетности.
3. Версию **Завершено** можно преобразовать в версию **Используется совместно**. Эта версия публикуется в Microsoft Dynamics Lifecycle Services (LCS) и может использоваться в процессах глобальной отчетности.
4. Версию **Используется совместно** можно преобразовать в версию **Поддержка прекращена**. Эту версию можно удалить.

Версии со статусом **Завершено** или **Используется совместно** доступны для других вариантов обмена данными. В компоненте, который имеет эти статусы, можно выполнять следующие действия с ними:

- Компонент может быть сериализован в формате XML и экспортирован как файл в формате XML.
- Компонент может быть повторно сериализован из XML-файла и импортирован в приложение как новая версия компонента электронной отчетности.

## <a name="component-date-effectivity"></a>Дата начала действия компонента

Версии компонента электронной отчетности могут иметь дату вступления в силу. Для компонента электронной отчетности можно задать дату "действует с", чтобы указать дату, с которой компонент вступает в силу для процессов отчетности. Для определения того, является ли компонент действительным для выполнения, используется дата сеанса приложения. Если на определенную дату действительно несколько версий, для процессов отчетности используется последняя версия.

## <a name="component-access"></a>Доступ к компонентам

Доступ к компонентам формата электронной отчетности зависит от настройки кода страны/региона международной организации по стандартизации (ISO). Если этот параметр не задан для выбранной версии конфигурации формата, доступ к формату компонента можно получить из любой компании во время выполнения. Когда этот параметр содержит коды стран/регионов по ISO, компонент формата доступен только из тех компаний, у которых основной адрес находится в стране/регионе, заданных одним из кодов стран/регионов по ISO компонента формата.

У разных версий компонента формата могут быть разные коды стран/регионов по ISO.

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]

