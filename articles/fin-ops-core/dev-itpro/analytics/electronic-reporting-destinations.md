---
title: Места назначения электронной отчетности (ER)
description: В этой теме приводятся сведения об управлении назначениями электронной отчетности (ER), типами поддерживаемых назначений и о безопасности.
author: nselin
manager: AnnBe
ms.date: 02/07/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: DocuType, ERSolutionTable
audience: Application User
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 97423
ms.assetid: f3055a27-717a-4c94-a912-f269a1288be6
ms.search.region: Global
ms.author: mrolecki
ms.search.validFrom: 2016-05-31
ms.dyn365.ops.version: AX 7.0.1
ms.openlocfilehash: 2e4c6951afbff367dc93072d20395c3a37fffbcb
ms.sourcegitcommit: 4e62c22b53693c201baa646a8f047edb5a0a2747
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/07/2020
ms.locfileid: "3030781"
---
# <a name="electronic-reporting-er-destinations"></a><span data-ttu-id="d1b81-103">Места назначения электронной отчетности (ER)</span><span class="sxs-lookup"><span data-stu-id="d1b81-103">Electronic reporting (ER) destinations</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="d1b81-104">Можно настроить назначение для каждой конфигурации формата электронной отчетности и ее выходного компонента (папка или файл).</span><span class="sxs-lookup"><span data-stu-id="d1b81-104">You can configure a destination for each Electronic reporting (ER) format configuration and its output component (a folder or a file).</span></span> <span data-ttu-id="d1b81-105">Пользователи, имеющие соответствующие права доступа, также могут изменять настройки назначения во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="d1b81-105">Users who have appropriate access rights can also modify destination settings at runtime.</span></span> <span data-ttu-id="d1b81-106">В этой теме описывается управления местом назначения электронной отчетности, поддерживаемые типы мест назначения и вопросы безопасности.</span><span class="sxs-lookup"><span data-stu-id="d1b81-106">This topic explains ER destination management, the types of destinations that are supported, and security considerations.</span></span>

<span data-ttu-id="d1b81-107">Конфигурации формата электронной отчетности обычно содержат по крайней мере один выходной компонент: файл.</span><span class="sxs-lookup"><span data-stu-id="d1b81-107">ER format configurations usually contain at least one output component: a file.</span></span> <span data-ttu-id="d1b81-108">Как правило, конфигурации содержат несколько выходных компонентов файлов различных типов (например, XML, TXT, XLSX, DOCX или PDF), сгруппированных в одну или несколько папок.</span><span class="sxs-lookup"><span data-stu-id="d1b81-108">Typically, configurations contain multiple file output components of different types (for example, XML, TXT, XLSX, DOCX, or PDF) that are grouped into either a single folder or multiple folders.</span></span> <span data-ttu-id="d1b81-109">Управление местом назначения электронной отчетности позволяет предварительно настроить поведение при выполнении каждого компонента.</span><span class="sxs-lookup"><span data-stu-id="d1b81-109">ER destination management lets you preconfigure what occurs when each component is run.</span></span> <span data-ttu-id="d1b81-110">По умолчанию при запуске конфигурации отображается диалоговое окно, которое позволяет вам сохранить или открыть файл.</span><span class="sxs-lookup"><span data-stu-id="d1b81-110">By default, when a configuration is run, a dialog box appears that lets you save or open the file.</span></span> <span data-ttu-id="d1b81-111">То же поведение также используется, если вы импортируете конфигурацию электронной отчетности и не настраиваете какое-либо конкретное место назначения для нее.</span><span class="sxs-lookup"><span data-stu-id="d1b81-111">The same behavior also occurs when you import an ER configuration and don't configure any specific destinations for it.</span></span> <span data-ttu-id="d1b81-112">После создания места назначения для основного выходного компонента это место назначения переопределяет поведение по умолчанию, и папка или файл отправляется согласно настройкам места назначения.</span><span class="sxs-lookup"><span data-stu-id="d1b81-112">After a destination is created for a main output component, that destination overrides the default behavior, and the folder or file is sent according to the destination's settings.</span></span>

## <a name="availability-and-general-prerequisites"></a><span data-ttu-id="d1b81-113">Доступность и общие предварительные условия</span><span class="sxs-lookup"><span data-stu-id="d1b81-113">Availability and general prerequisites</span></span>

<span data-ttu-id="d1b81-114">Функциональные возможности мест назначений электронной отчетности недоступны в выпуске Microsoft Dynamics AX 7.0 (февраль 2016 г.).</span><span class="sxs-lookup"><span data-stu-id="d1b81-114">The functionality for ER destinations isn't available in Microsoft Dynamics AX 7.0 (February 2016).</span></span> <span data-ttu-id="d1b81-115">Поэтому необходимо установить версию Microsoft Dynamics 365 for Operations 1611 (ноябрь 2016 г.) или более позднюю версию для использования следующих типов назначения:</span><span class="sxs-lookup"><span data-stu-id="d1b81-115">Therefore, you must install Microsoft Dynamics 365 for Operations version 1611 (November 2016) or later to use the following destination types:</span></span>

- [<span data-ttu-id="d1b81-116">эл. почта</span><span class="sxs-lookup"><span data-stu-id="d1b81-116">Email</span></span>](er-destination-type-email.md)
- [<span data-ttu-id="d1b81-117">Архивировать</span><span class="sxs-lookup"><span data-stu-id="d1b81-117">Archive</span></span>](er-destination-type-archive.md)
- [<span data-ttu-id="d1b81-118">Хранилище файлов</span><span class="sxs-lookup"><span data-stu-id="d1b81-118">File</span></span>](er-destination-type-file.md)
- [<span data-ttu-id="d1b81-119">Экран</span><span class="sxs-lookup"><span data-stu-id="d1b81-119">Screen</span></span>](er-destination-type-screen.md)
- [<span data-ttu-id="d1b81-120">Power BI</span><span class="sxs-lookup"><span data-stu-id="d1b81-120">Power BI</span></span>](er-destination-type-powerbi.md)

<span data-ttu-id="d1b81-121">Можно также установить один из следующих компонентов.</span><span class="sxs-lookup"><span data-stu-id="d1b81-121">Alternatively, you can install one of the following prerequisites.</span></span> <span data-ttu-id="d1b81-122">Однако имейте в виду, что эти альтернативные варианты обеспечивают более ограниченные возможности мест назначения электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="d1b81-122">However, be aware that these alternatives provide a more limited ER destination experience.</span></span>

- <span data-ttu-id="d1b81-123">Приложение Microsoft Dynamics AX версии 7.0.1 (май 2016 г.)</span><span class="sxs-lookup"><span data-stu-id="d1b81-123">Microsoft Dynamics AX application version 7.0.1 (May 2016)</span></span>
- [<span data-ttu-id="d1b81-124">Исправление приложения для управления назначением электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="d1b81-124">Electronic reporting destination management application hotfix</span></span>](https://fix.lcs.dynamics.com/issue/results/?q=3160213)

<span data-ttu-id="d1b81-125">Имеется также тип назначения [Печать](er-destination-type-print.md).</span><span class="sxs-lookup"><span data-stu-id="d1b81-125">There is also a [Print](er-destination-type-print.md) destination type.</span></span> <span data-ttu-id="d1b81-126">Чтобы использовать ее, необходимо установить версию Microsoft Dynamics 365 Finance 10.0.9 (апрель 2020 г.).</span><span class="sxs-lookup"><span data-stu-id="d1b81-126">To use it, you must install Microsoft Dynamics 365 Finance version 10.0.9 (April 2020).</span></span>

## <a name="overview"></a><span data-ttu-id="d1b81-127">Обзор</span><span class="sxs-lookup"><span data-stu-id="d1b81-127">Overview</span></span>

<span data-ttu-id="d1b81-128">Места назначения можно настроить только для конфигураций электронной отчетности, которые были [импортированы](general-electronic-reporting.md#importing-an-er-component-from-lcs-to-use-it-internally) в текущий экземпляр Finance, и для форматов, доступных на странице **Конфигурации электронной отчетности**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-128">You can set up destinations only for ER configurations that have been [imported](general-electronic-reporting.md#importing-an-er-component-from-lcs-to-use-it-internally) into the current Finance instance, and for the formats that are available on the **Electronic reporting configurations** page.</span></span> <span data-ttu-id="d1b81-129">Функциональные возможности управления местом назначения электронной отчетности доступны в разделе **Администрирование организации** \> **Электронная отчетность** \> **Место назначения электронной отчетности**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-129">The functionality for ER destination management is available at **Organization administration** \> **Electronic reporting** \> **Electronic reporting destination**.</span></span> <span data-ttu-id="d1b81-130">На странице **Место назначения электронной отчетности** можно переопределить поведение по умолчанию для конфигурации.</span><span class="sxs-lookup"><span data-stu-id="d1b81-130">On the **Electronic reporting destination** page, you can override the default behavior for a configuration.</span></span> <span data-ttu-id="d1b81-131">Импортированные конфигурации не отображаются на этой странице, если не выбрать **Создать**, а затем в поле **Ссылка** не выбрать конфигурацию, для которой создаются параметры места назначения.</span><span class="sxs-lookup"><span data-stu-id="d1b81-131">Imported configurations aren't shown on this page until you select **New** and then, in the **Reference** field, select a configuration to create destination settings for.</span></span>

<span data-ttu-id="d1b81-132">[![Выбор конфигурации в поле "Ссылка"](./media/ER_Destinations-SelectFormat.png)](./media/ER_Destinations-SelectFormat.png)</span><span class="sxs-lookup"><span data-stu-id="d1b81-132">[![Selecting a configuration in the Reference field](./media/ER_Destinations-SelectFormat.png)](./media/ER_Destinations-SelectFormat.png)</span></span>

<span data-ttu-id="d1b81-133">После создания ссылки можно создать место назначения файла для каждого выходного компонента **Папка** или **Файл** в указанном формате электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="d1b81-133">After you create a reference, you can create a file destination for each **Folder** or **File** output component of the referenced ER format.</span></span>

<span data-ttu-id="d1b81-134">[![Создание файла места назначения](./media/ER_Destinations-ConfigureElementDestination.png)](./media/ER_Destinations-ConfigureElementDestination.png)</span><span class="sxs-lookup"><span data-stu-id="d1b81-134">[![Creating a file destination](./media/ER_Destinations-ConfigureElementDestination.png)](./media/ER_Destinations-ConfigureElementDestination.png)</span></span>

<span data-ttu-id="d1b81-135">Затем в диалоговом окне **Параметры места назначения** можно включить и отключить отдельные места назначения для места назначения файла.</span><span class="sxs-lookup"><span data-stu-id="d1b81-135">Next, in the **Destination settings** dialog box, you can enable and disable individual destinations for the file destination.</span></span> <span data-ttu-id="d1b81-136">Кнопка **Параметры** используется для управления всеми местами назначения для выбранного места назначения файла.</span><span class="sxs-lookup"><span data-stu-id="d1b81-136">The **Settings** button is used to control all the destinations for a selected file destination.</span></span> <span data-ttu-id="d1b81-137">В диалоговом окне **Параметры места назначения** можно управлять каждым местом назначения отдельно, выбрав для него параметр **Включено**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-137">In the **Destination settings** dialog box, you can control each destination separately by setting the **Enabled** option for it.</span></span>

<span data-ttu-id="d1b81-138">В версиях Finance **до версии 10.0.9** можно создать **одно место назначения файла** для каждого выходного компонента одинакового формата, например папка или файл, выбранный в поле **Имя файла**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-138">In versions of Finance **before version 10.0.9**, you can create **one file destination** for each output component of the same format, such as a folder or a file that is selected in the **File Name** field.</span></span> <span data-ttu-id="d1b81-139">Однако в **версии 10.0.9 и более поздних** можно создать **несколько мест назначений файлов** для каждого выходного компонента того же формата.</span><span class="sxs-lookup"><span data-stu-id="d1b81-139">However, in **version 10.0.9 and later**, you can create **multiple file destinations** for each output component of the same format.</span></span>

<span data-ttu-id="d1b81-140">Например, можно использовать эту возможность для настройки мест назначений файлов для компонента "файл", используемого для создания исходящего документа в формате Excel.</span><span class="sxs-lookup"><span data-stu-id="d1b81-140">For example, you can use this capability to configure file destinations for a file component that is used to generate an outbound document in Excel format.</span></span> <span data-ttu-id="d1b81-141">Для хранения исходного файла Excel в архиве заданий электронной отчетности можно настроить одно место назначения ([Архив](er-destination-type-archive.md)), а другое место назначения ([Эл. почта](er-destination-type-email.md)) можно настроить на одновременное [преобразование](#OutputConversionToPDF) файла Excel в формат PDF и отправку файла PDF по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="d1b81-141">One destination ([Archive](er-destination-type-archive.md)) can be configured to store the original Excel file in the ER jobs archive, and another destination ([Email](er-destination-type-email.md)) can be configured to simultaneously [convert](#OutputConversionToPDF) the Excel file to PDF format and send the PDF file by email.</span></span>

<span data-ttu-id="d1b81-142">[![Настройка нескольких мест назначения для одного элемента формата](./media/ER_Destinations-SampleDestinations.png)](./media/ER_Destinations-SampleDestinations.png)</span><span class="sxs-lookup"><span data-stu-id="d1b81-142">[![Configuring multiple destinations for a single format element](./media/ER_Destinations-SampleDestinations.png)](./media/ER_Destinations-SampleDestinations.png)</span></span>

## <a name="destination-types"></a><span data-ttu-id="d1b81-143">Типы мест назначений</span><span class="sxs-lookup"><span data-stu-id="d1b81-143">Destination types</span></span>

<span data-ttu-id="d1b81-144">В настоящее время поддерживаются следующие назначения для форматов электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="d1b81-144">The following destinations are currently supported for ER formats.</span></span> <span data-ttu-id="d1b81-145">Можно включить или отключить все типы одновременно.</span><span class="sxs-lookup"><span data-stu-id="d1b81-145">You can disable or enable all types at the same time.</span></span> <span data-ttu-id="d1b81-146">Таким образом можно либо не предпринимать никаких действий, либо отправить компонент во все настроенные места назначения.</span><span class="sxs-lookup"><span data-stu-id="d1b81-146">In this way, you can either do nothing or send the component to all configured destinations.</span></span>

- [<span data-ttu-id="d1b81-147">эл. почта</span><span class="sxs-lookup"><span data-stu-id="d1b81-147">Email</span></span>](er-destination-type-email.md)
- [<span data-ttu-id="d1b81-148">Архивировать</span><span class="sxs-lookup"><span data-stu-id="d1b81-148">Archive</span></span>](er-destination-type-archive.md)
- [<span data-ttu-id="d1b81-149">Хранилище файлов</span><span class="sxs-lookup"><span data-stu-id="d1b81-149">File</span></span>](er-destination-type-file.md)
- [<span data-ttu-id="d1b81-150">Экран</span><span class="sxs-lookup"><span data-stu-id="d1b81-150">Screen</span></span>](er-destination-type-screen.md)
- [<span data-ttu-id="d1b81-151">Power BI</span><span class="sxs-lookup"><span data-stu-id="d1b81-151">Power BI</span></span>](er-destination-type-powerbi.md)
- [<span data-ttu-id="d1b81-152">Печать</span><span class="sxs-lookup"><span data-stu-id="d1b81-152">Print</span></span>](er-destination-type-print.md)

## <a name="applicability"></a><span data-ttu-id="d1b81-153">Применимость</span><span class="sxs-lookup"><span data-stu-id="d1b81-153">Applicability</span></span>

<span data-ttu-id="d1b81-154">Места назначения можно настроить только для конфигураций электронной отчетности, которые были импортированы, и для форматов, доступных на странице **Конфигурации электронной отчетности**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-154">You can set up destinations only for ER configurations that have been imported, and for the formats that are available on the **Electronic reporting configurations** page.</span></span>

> [!NOTE]
> <span data-ttu-id="d1b81-155">Настроенные места назначения относятся к конкретной компании.</span><span class="sxs-lookup"><span data-stu-id="d1b81-155">Configured destinations are company-specific.</span></span> <span data-ttu-id="d1b81-156">Если планируется использовать формат электронной отчетности в разных компаниях текущего экземпляра Finance, необходимо настроить для каждой из этих компаний места назначения для этого формата электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="d1b81-156">If you plan to use an ER format in different companies of the current Finance instance, you must configure destinations for that ER format for each of those companies.</span></span>

<span data-ttu-id="d1b81-157">При настройке назначений файлов для выбранного формата они настраиваются для всего формата.</span><span class="sxs-lookup"><span data-stu-id="d1b81-157">When you configure file destinations for a selected format, you configure them for the whole format.</span></span>

<span data-ttu-id="d1b81-158">[![Ссылка на конфигурацию](./media/ER_Destinations-ConfigurationLink.png)](./media/ER_Destinations-ConfigurationLink.png)</span><span class="sxs-lookup"><span data-stu-id="d1b81-158">[![Configuration link](./media/ER_Destinations-ConfigurationLink.png)](./media/ER_Destinations-ConfigurationLink.png)</span></span>

<span data-ttu-id="d1b81-159">В то же время может быть несколько [версий](general-electronic-reporting.md#component-versioning) формата, которые были импортированы в текущий экземпляр Finance.</span><span class="sxs-lookup"><span data-stu-id="d1b81-159">At the same time, you might have multiple [versions](general-electronic-reporting.md#component-versioning) of the format that have been imported into the current Finance instance.</span></span> <span data-ttu-id="d1b81-160">Их можно просмотреть, выбрав ссылку **Конфигурация**, которая предлагается при выборе поля **Ссылка**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-160">You can view them if you select the **Configuration** link that is offered when you select the **Reference** field.</span></span>

<span data-ttu-id="d1b81-161">[![Версии конфигурации](./media/ER_Destinations-ConfigurationVersions.png)](./media/ER_Destinations-ConfigurationVersions.png)</span><span class="sxs-lookup"><span data-stu-id="d1b81-161">[![Configuration versions](./media/ER_Destinations-ConfigurationVersions.png)](./media/ER_Destinations-ConfigurationVersions.png)</span></span>

<span data-ttu-id="d1b81-162">По умолчанию настроенные места назначения применяются только в том случае, если выполняется версия формата электронной отчетности, имеющая статус **Завершено** или **Общий**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-162">By default, configured destinations are applied only when you run an ER format version that has a status of either **Completed** or **Shared**.</span></span> <span data-ttu-id="d1b81-163">Однако иногда необходимо использовать настроенные места назначения при выполнении черновой версии формата электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="d1b81-163">However, you must sometimes use configured destinations when the draft version of an ER format is run.</span></span> <span data-ttu-id="d1b81-164">Например, вы изменяете черновую версию формата и хотите использовать настроенные места назначения для проверки способа доставки созданных результатов.</span><span class="sxs-lookup"><span data-stu-id="d1b81-164">For example, you modify a draft version of your format, and you want to use configured destinations to test how generated output will be delivered.</span></span> <span data-ttu-id="d1b81-165">Выполните следующие действия, чтобы применить назначения для формата электронной отчетности при выполнении черновой версии.</span><span class="sxs-lookup"><span data-stu-id="d1b81-165">Follow these steps to apply destinations for an ER format when the draft version is run.</span></span>

1. <span data-ttu-id="d1b81-166">Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-166">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="d1b81-167">На странице **Конфигурации** в области действий на вкладке **Конфигурации** в группе **Дополнительные параметры** выберите **Параметры пользователя**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-167">On the **Configurations** page, on the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
3. <span data-ttu-id="d1b81-168">Установите для параметра **Использовать места назначения для статуса черновика** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-168">Set the **Use destinations for draft status** option to **Yes**.</span></span>

<span data-ttu-id="d1b81-169">[![Использовать места назначения для статуса черновика](./media/ER_Destinations-UserSetting1.png)](./media/ER_Destinations-UserSetting1.png)</span><span class="sxs-lookup"><span data-stu-id="d1b81-169">[![Use destinations for draft status option](./media/ER_Destinations-UserSetting1.png)](./media/ER_Destinations-UserSetting1.png)</span></span>

<span data-ttu-id="d1b81-170">Чтобы использовать черновую версию формата электронной отчетности, необходимо соответствующим образом пометить формат электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="d1b81-170">To use the draft version of an ER format, you must mark the ER format accordingly.</span></span>

1. <span data-ttu-id="d1b81-171">Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-171">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="d1b81-172">На странице **Конфигурации** в области действий на вкладке **Конфигурации** в группе **Дополнительные параметры** выберите **Параметры пользователя**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-172">On the **Configurations** page, on the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
3. <span data-ttu-id="d1b81-173">Для параметра **Параметр выполнения** выберите значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-173">Set the **Run setting** option to **Yes**.</span></span>

<span data-ttu-id="d1b81-174">[![Параметр выполнения](./media/ER_Destinations-UserSetting2.png)](./media/ER_Destinations-UserSetting2.png)</span><span class="sxs-lookup"><span data-stu-id="d1b81-174">[![Run setting option](./media/ER_Destinations-UserSetting2.png)](./media/ER_Destinations-UserSetting2.png)</span></span>

<span data-ttu-id="d1b81-175">После завершения настройки появится параметр **Выполнить черновик** для форматов электронной отчетности, которые изменяются.</span><span class="sxs-lookup"><span data-stu-id="d1b81-175">After you complete this setup, the **Run draft** option becomes available for ER formats that you modify.</span></span> <span data-ttu-id="d1b81-176">Установите для этого параметра значение **Да**, чтобы начать использовать черновую версию формата при выполнении формата.</span><span class="sxs-lookup"><span data-stu-id="d1b81-176">Set this option to **Yes** to start to use the draft version of the format when the format is run.</span></span>

<span data-ttu-id="d1b81-177">[![Параметр выполнения черновика](./media/ER_Destinations-FormatSetting.png)](./media/ER_Destinations-FormatSetting.png)</span><span class="sxs-lookup"><span data-stu-id="d1b81-177">[![Run draft option](./media/ER_Destinations-FormatSetting.png)](./media/ER_Destinations-FormatSetting.png)</span></span>

## <a name="DestinationFailure"></a><span data-ttu-id="d1b81-178">Обработка сбоя места назначения</span><span class="sxs-lookup"><span data-stu-id="d1b81-178">Destination failure handling</span></span>

<span data-ttu-id="d1b81-179">Обычно формат электронной отчетности выполняется в области конкретного бизнес-процесса.</span><span class="sxs-lookup"><span data-stu-id="d1b81-179">Usually, an ER format is run within the scope of a specific business process.</span></span> <span data-ttu-id="d1b81-180">Однако доставка исходящего документа, создаваемого во время выполнения формата электронной отчетности, должна иногда рассматриваться как часть этого бизнес-процесса.</span><span class="sxs-lookup"><span data-stu-id="d1b81-180">However, the delivery of an outbound document that is generated during execution of an ER format must sometimes be considered part of that business process.</span></span> <span data-ttu-id="d1b81-181">В этом случае, если доставка созданного исходящего документа в настроенное место назначения завершается неудачно, выполнение бизнес-процесса должно быть отменено.</span><span class="sxs-lookup"><span data-stu-id="d1b81-181">In this case, if delivery of a generated outbound document to a configured destination is unsuccessful, execution of the business process must be canceled.</span></span> <span data-ttu-id="d1b81-182">Для настройки соответствующего пункта назначения электронной отчетности выберите параметр **Остановить обработку при сбое**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-182">To configure the appropriate ER destination, select the **Stop processing on failure** option.</span></span>

<span data-ttu-id="d1b81-183">Например, можно настроить обработку платежа поставщика таким образом, чтобы был выполнен формат электронной отчетности **Перенос кредита ISO20022**, чтобы создать файл платежа и дополнительные документы (например, сопроводительное письмо и контрольный отчет).</span><span class="sxs-lookup"><span data-stu-id="d1b81-183">For example, you configure vendor payment processing so that the **ISO20022 Credit Transfer** ER format is run to generate the payment file and supplementary documents (for example, the covering letter and control report).</span></span> <span data-ttu-id="d1b81-184">Если платеж считается обработанным успешно, только если сопроводительное письмо успешно доставлено по электронной почте, необходимо установить флажок **Остановить обработку при сбое** для компонента **CoveringLetter** в соответствующем месте назначении файла, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="d1b81-184">If a payment should be considered successfully processed only if the covering letter is successfully delivered by email, you must select the **Stop processing on failure** check box for the **CoveringLetter** component in the appropriate file destination, as shown in the following illustration.</span></span> <span data-ttu-id="d1b81-185">В этом случае статус платежа, выбранного для обработки, изменится с **Нет** на **Отправлено**, только когда созданное сопроводительное письмо успешно принято на доставку поставщиком электронной почты, настроенным в экземпляре Finance.</span><span class="sxs-lookup"><span data-stu-id="d1b81-185">In this case, the status of the payment that is selected for processing will be changed from **None** to **Sent** only when the covering letter that is generated is successfully accepted for delivery by an email provider that is configured in the Finance instance.</span></span>

<span data-ttu-id="d1b81-186">[![Настройка обработки процесса для сбоя места назначения файлов](./media/ER_Destinations-StopProcessingAtDestinationFailure.png)](./media/ER_Destinations-StopProcessingAtDestinationFailure.png)</span><span class="sxs-lookup"><span data-stu-id="d1b81-186">[![Configuring process handling for file destination failure](./media/ER_Destinations-StopProcessingAtDestinationFailure.png)](./media/ER_Destinations-StopProcessingAtDestinationFailure.png)</span></span>

<span data-ttu-id="d1b81-187">Если убрать флажок **Остановить обработку при сбое** для компонента **CoveringLetter** в месте назначении файла, платеж будет считаться успешно обработанным, даже если сопроводительное письмо не доставлено успешно по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="d1b81-187">If you clear the **Stop processing on failure** check box for the **CoveringLetter** component in the destination, a payment will be considered successfully processed even if the covering letter isn't successfully delivered by email.</span></span> <span data-ttu-id="d1b81-188">Статус платежа будет изменен с **Нет** на **Отправлено**, даже если сопроводительное письмо не может быть отправлено, так как, например, адрес электронной почты получателя или отправителя отсутствует или указан неправильно.</span><span class="sxs-lookup"><span data-stu-id="d1b81-188">The status of the payment will be changed from **None** to **Sent** even if the covering letter can't be sent because, for example, the email address of the recipient or sender is missing or incorrect.</span></span>

## <a name="OutputConversionToPDF"></a><span data-ttu-id="d1b81-189">Выходное преобразование в PDF</span><span class="sxs-lookup"><span data-stu-id="d1b81-189">Output conversion to PDF</span></span>

<span data-ttu-id="d1b81-190">Можно использовать параметр преобразования PDF для преобразования выходных данных в формате Microsoft Office (Excel/Word) в формат PDF.</span><span class="sxs-lookup"><span data-stu-id="d1b81-190">You can use the PDF conversion option to convert output in Microsoft Office format (Excel/Word) to PDF format.</span></span>

### <a name="make-pdf-conversion-available"></a><span data-ttu-id="d1b81-191">Сделать доступным преобразование PDF</span><span class="sxs-lookup"><span data-stu-id="d1b81-191">Make PDF conversion available</span></span>

<span data-ttu-id="d1b81-192">Чтобы сделать доступным преобразование PDF в текущем экземпляре Finance, откройте рабочую область **Управление функциями** и включите функцию **Преобразовать исходящие документы электронной отчетности из форматов Microsoft Office в PDF**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-192">To make the PDF conversion option available in the current Finance instance, open the **Feature management** workspace, and turn on the **Convert Electronic Reporting outbound documents from Microsoft Office formats to PDF** feature.</span></span>

<span data-ttu-id="d1b81-193">[![Включение преобразования PDF для исходящих документов в управлении функциями](./media/ER_Destinations-EnablePdfConversionFeature.png)](./media/ER_Destinations-EnablePdfConversionFeature.png)</span><span class="sxs-lookup"><span data-stu-id="d1b81-193">[![Turning on the PDF conversion of outbound documents feature in Feature management](./media/ER_Destinations-EnablePdfConversionFeature.png)](./media/ER_Destinations-EnablePdfConversionFeature.png)</span></span>

### <a name="applicability"></a><span data-ttu-id="d1b81-194">Применимость</span><span class="sxs-lookup"><span data-stu-id="d1b81-194">Applicability</span></span>

<span data-ttu-id="d1b81-195">Параметр преобразования PDF можно включить только для файлов, которые используются для создания выходных данных в формате Microsoft Office Excel или Word (**файл Excel**).</span><span class="sxs-lookup"><span data-stu-id="d1b81-195">The PDF conversion option can be turned on only for file components that are used to generate output in Microsoft Office Excel or Word format (**Excel file**).</span></span> <span data-ttu-id="d1b81-196">Если этот параметр включен, выходные документы, созданные в формате Office, автоматически преобразуются в формат PDF.</span><span class="sxs-lookup"><span data-stu-id="d1b81-196">When this option is turned on, output that is generated in Office format is automatically converted to PDF format.</span></span>

### <a name="limitations"></a><span data-ttu-id="d1b81-197">Ограничения</span><span class="sxs-lookup"><span data-stu-id="d1b81-197">Limitations</span></span>

> [!NOTE]
> <span data-ttu-id="d1b81-198">Эта функция предназначена для предварительного просмотра и подчиняется условиям использования, которые описаны в [Дополнительные условия использования предварительных версий Microsoft Dynamics 365](https://go.microsoft.com/fwlink/?linkid=2105274).</span><span class="sxs-lookup"><span data-stu-id="d1b81-198">This feature is a preview feature and is subject to the terms of use that are described in [Supplemental Terms of Use for Microsoft Dynamics 365 Previews](https://go.microsoft.com/fwlink/?linkid=2105274).</span></span>

> [!NOTE]
> <span data-ttu-id="d1b81-199">Параметр преобразования PDF доступен только для развертываний в облаке.</span><span class="sxs-lookup"><span data-stu-id="d1b81-199">The PDF conversion option is only available for cloud deployments.</span></span>
>
> <span data-ttu-id="d1b81-200">Полученные PDF должны содержать не более 300 страниц.</span><span class="sxs-lookup"><span data-stu-id="d1b81-200">The produced PDF is limited to a maximum number of 300 pages.</span></span>
>
> <span data-ttu-id="d1b81-201">Сейчас поддерживается только альбомная ориентация страницы в PDF-документе, который создается из выходных данных Excel.</span><span class="sxs-lookup"><span data-stu-id="d1b81-201">At ths time, only landscape page orientation is supported in the PDF document that is produced from an Excel output.</span></span>
>
> <span data-ttu-id="d1b81-202">Только общие системные шрифты операционной системы Window используются для преобразования выходных данных, которые не содержат встроенных шрифтов.</span><span class="sxs-lookup"><span data-stu-id="d1b81-202">Only the common system fonts of the Window operating system are used for the conversion of an output that contains no embedded fonts.</span></span>

### <a name="use-the-pdf-conversion-option"></a><span data-ttu-id="d1b81-203">Использование параметра преобразования PDF</span><span class="sxs-lookup"><span data-stu-id="d1b81-203">Use the PDF conversion option</span></span>

<span data-ttu-id="d1b81-204">Чтобы включить преобразование PDF для места назначения файлов, установите флажок **Преобразовать в PDF**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-204">To turn on PDF conversion for a file destination, select the **Convert to PDF** check box.</span></span>

<span data-ttu-id="d1b81-205">[![Включение преобразования PDF для места назначения файлов](./media/ER_Destinations-TurnOnPDFConversion.png)](./media/ER_Destinations-TurnOnPDFConversion.png)</span><span class="sxs-lookup"><span data-stu-id="d1b81-205">[![Turning on PDF conversion for a file destination](./media/ER_Destinations-TurnOnPDFConversion.png)](./media/ER_Destinations-TurnOnPDFConversion.png)</span></span>

## <a name="security-considerations"></a><span data-ttu-id="d1b81-206">Вопросы безопасности</span><span class="sxs-lookup"><span data-stu-id="d1b81-206">Security considerations</span></span>

<span data-ttu-id="d1b81-207">Для мест назначения электронной отчетности используется два типа привилегий.</span><span class="sxs-lookup"><span data-stu-id="d1b81-207">Two types of privileges and duties are used for ER destinations.</span></span> <span data-ttu-id="d1b81-208">Один тип управляет возможностью ведения всех мест назначения, настроенных для юридического лица (то есть, управляет доступом к странице **Места назначения электронной отчетности**).</span><span class="sxs-lookup"><span data-stu-id="d1b81-208">One type controls a user's overall ability to maintain the destinations that are configured for a legal entity (that is, it controls access to the **Electronic reporting destinations** page).</span></span> <span data-ttu-id="d1b81-209">Второй тип управляет доступной для пользователей приложения возможностью переопределить параметры мест назначения, настроенные разработчиком или консультантом по функциональным возможностям электронной отчетности, во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="d1b81-209">The other type controls an application user's ability to override, at runtime, the destination settings that an ER developer or ER functional consultant has configured.</span></span>

| <span data-ttu-id="d1b81-210">Роль (имя AOT)</span><span class="sxs-lookup"><span data-stu-id="d1b81-210">Role (AOT name)</span></span>                     | <span data-ttu-id="d1b81-211">Имя роли</span><span class="sxs-lookup"><span data-stu-id="d1b81-211">Role name</span></span>                                  | <span data-ttu-id="d1b81-212">Полномочие (имя в AOT)</span><span class="sxs-lookup"><span data-stu-id="d1b81-212">Duty (AOT name)</span></span>                     | <span data-ttu-id="d1b81-213">Название полномочия</span><span class="sxs-lookup"><span data-stu-id="d1b81-213">Duty name</span></span>                                                        |
|-------------------------------------|--------------------------------------------|-------------------------------------|------------------------------------------------------------------|
| <span data-ttu-id="d1b81-214">ERDeveloper</span><span class="sxs-lookup"><span data-stu-id="d1b81-214">ERDeveloper</span></span>                         | <span data-ttu-id="d1b81-215">Разработчик электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="d1b81-215">Electronic reporting developer</span></span>             | <span data-ttu-id="d1b81-216">ERFormatDestinationConfigure</span><span class="sxs-lookup"><span data-stu-id="d1b81-216">ERFormatDestinationConfigure</span></span>        | <span data-ttu-id="d1b81-217">Настройка места назначения форматов электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="d1b81-217">Configure electronic reporting format destination</span></span>                |
| <span data-ttu-id="d1b81-218">ERFunctionalConsultant</span><span class="sxs-lookup"><span data-stu-id="d1b81-218">ERFunctionalConsultant</span></span>              | <span data-ttu-id="d1b81-219">Консультант по функциональным возможностям электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="d1b81-219">Electronic reporting functional consultant</span></span> | <span data-ttu-id="d1b81-220">ERFormatDestinationConfigure</span><span class="sxs-lookup"><span data-stu-id="d1b81-220">ERFormatDestinationConfigure</span></span>        | <span data-ttu-id="d1b81-221">Настройка места назначения форматов электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="d1b81-221">Configure electronic reporting format destination</span></span>                |
| <span data-ttu-id="d1b81-222">PaymAccountsPayablePaymentsClerk</span><span class="sxs-lookup"><span data-stu-id="d1b81-222">PaymAccountsPayablePaymentsClerk</span></span>    | <span data-ttu-id="d1b81-223">Сотрудник, обрабатывающий платежи по расчетам с поставщиками</span><span class="sxs-lookup"><span data-stu-id="d1b81-223">Accounts payable payments clerk</span></span>            | <span data-ttu-id="d1b81-224">ERFormatDestinationRuntimeConfigure</span><span class="sxs-lookup"><span data-stu-id="d1b81-224">ERFormatDestinationRuntimeConfigure</span></span> | <span data-ttu-id="d1b81-225">Настройка места назначения форматов электронной отчетности во время выполнения</span><span class="sxs-lookup"><span data-stu-id="d1b81-225">Configure electronic reporting format destination during runtime</span></span> |
| <span data-ttu-id="d1b81-226">PaymAccountsReceivablePaymentsClerk</span><span class="sxs-lookup"><span data-stu-id="d1b81-226">PaymAccountsReceivablePaymentsClerk</span></span> | <span data-ttu-id="d1b81-227">Сотрудник, обрабатывающий платежи по расчетам с клиентами</span><span class="sxs-lookup"><span data-stu-id="d1b81-227">Accounts receivable payments clerk</span></span>         | <span data-ttu-id="d1b81-228">ERFormatDestinationRuntimeConfigure</span><span class="sxs-lookup"><span data-stu-id="d1b81-228">ERFormatDestinationRuntimeConfigure</span></span> | <span data-ttu-id="d1b81-229">Настройка места назначения форматов электронной отчетности во время выполнения</span><span class="sxs-lookup"><span data-stu-id="d1b81-229">Configure electronic reporting format destination during runtime</span></span> |

> [!NOTE]
> <span data-ttu-id="d1b81-230">В указанных выше полномочиях используется две привилегии.</span><span class="sxs-lookup"><span data-stu-id="d1b81-230">Two privileges are used in the preceding duties.</span></span> <span data-ttu-id="d1b81-231">Эти привилегии имеют те же имена, что и соответствующие полномочия: **ERFormatDestinationConfigure** и **ERFormatDestinationRuntimeConfigure**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-231">These privileges have the same names as the corresponding duties: **ERFormatDestinationConfigure** and **ERFormatDestinationRuntimeConfigure**.</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="d1b81-232">Часто задаваемые вопросы</span><span class="sxs-lookup"><span data-stu-id="d1b81-232">Frequently asked questions</span></span>

### <a name="i-have-imported-electronic-configurations-and-i-see-them-on-the-electronic-reporting-configurations-page-but-why-dont-i-see-them-on-the-electronic-reporting-destinations-page"></a><span data-ttu-id="d1b81-233">Импортированные конфигурации электронной отчетности отображаются на странице "Конфигурации электронной отчетности".</span><span class="sxs-lookup"><span data-stu-id="d1b81-233">I have imported electronic configurations, and I see them on the Electronic reporting configurations page.</span></span> <span data-ttu-id="d1b81-234">Но почему они не отображаются на странице "Места назначения электронной отчетности"?</span><span class="sxs-lookup"><span data-stu-id="d1b81-234">But why don't I see them on the Electronic reporting destinations page?</span></span>

<span data-ttu-id="d1b81-235">Убедитесь, что вы выбрали **Создать** и затем выбрали конфигурацию в поле **Ссылка**.</span><span class="sxs-lookup"><span data-stu-id="d1b81-235">Make sure that you select **New** and then select a configuration in the **Reference** field.</span></span> <span data-ttu-id="d1b81-236">На странице **Места назначения электронной отчетности** показаны только те конфигурации, для которых настроены места назначения.</span><span class="sxs-lookup"><span data-stu-id="d1b81-236">The **Electronic reporting destinations** page shows only configurations that destinations have been configured for.</span></span>

### <a name="is-there-any-way-to-define-which-microsoft-azure-storage-account-and-azure-blob-storage-are-used"></a><span data-ttu-id="d1b81-237">Можно ли определить используемую учетную запись хранилища Microsoft Azure и хранилище BLOB-объектов Azure?</span><span class="sxs-lookup"><span data-stu-id="d1b81-237">Is there any way to define which Microsoft Azure Storage account and Azure Blob storage are used?</span></span>

<span data-ttu-id="d1b81-238">№ п/п</span><span class="sxs-lookup"><span data-stu-id="d1b81-238">No.</span></span> <span data-ttu-id="d1b81-239">Используется хранилище BLOB-объектов Microsoft Azure по умолчанию, которое определяется и используется для системы управления документами.</span><span class="sxs-lookup"><span data-stu-id="d1b81-239">The default Microsoft Azure Blob storage that is defined and used for the document management system is used.</span></span>

### <a name="what-is-the-purpose-of-the-file-destination-in-the-destination-settings-what-does-that-setting-do"></a><span data-ttu-id="d1b81-240">Для чего нужно место назначения "Файл" в параметрах места назначения?</span><span class="sxs-lookup"><span data-stu-id="d1b81-240">What is the purpose of the File destination in the destination settings?</span></span> <span data-ttu-id="d1b81-241">Для чего нужен этот параметр?</span><span class="sxs-lookup"><span data-stu-id="d1b81-241">What does that setting do?</span></span>

<span data-ttu-id="d1b81-242">Место назначения **Файл** используется для управления диалоговым окном.</span><span class="sxs-lookup"><span data-stu-id="d1b81-242">The **File** destination is used to control a dialog box.</span></span> <span data-ttu-id="d1b81-243">Если это место назначения включено или если место назначения не определено для конфигурации, отобразится диалоговое окно открытия или сохранения после создания выходного файла.</span><span class="sxs-lookup"><span data-stu-id="d1b81-243">If you enable this destination, or if no destination is defined for a configuration, an open or save dialog box appears after an output file is created.</span></span>

### <a name="can-you-give-an-example-of-the-formula-that-refers-to-a-vendor-account-that-i-can-send-email-to"></a><span data-ttu-id="d1b81-244">Можете ли вы привести пример формулы, которая ссылается на счет поставщика, на который можно отправить сообщение электронной почты?</span><span class="sxs-lookup"><span data-stu-id="d1b81-244">Can you give an example of the formula that refers to a vendor account that I can send email to?</span></span>

<span data-ttu-id="d1b81-245">Формула зависит от конфигурации электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="d1b81-245">The formula is specific to the ER configuration.</span></span> <span data-ttu-id="d1b81-246">Например, при использовании конфигурации перемещения кредита ISO 20022 можно использовать **'$PaymentsForCoveringLetter'.Creditor.Identification.SourceID** или **model.Payments.Creditor.Identification.SourceID** для получения связанного счета поставщика.</span><span class="sxs-lookup"><span data-stu-id="d1b81-246">For example, if you use the ISO 20022 Credit Transfer configuration, you can use **'$PaymentsForCoveringLetter'.Creditor.Identification.SourceID** or **model.Payments.Creditor.Identification.SourceID** to get an associated vendor account.</span></span>

### <a name="one-of-my-format-configurations-contains-multiple-files-that-are-grouped-into-one-folder-for-example-folder1-contains-file1-file2-and-file3-how-do-i-set-up-destinations-so-that-folder1zip-isnt-created-at-all-file1-is-sent-by-email-file2-is-sent-to-sharepoint-and-i-can-open-file3-immediately-after-the-configuration-is-run"></a><span data-ttu-id="d1b81-247">Одна из моих конфигураций формата содержит несколько файлов, сгруппированных в одну папку (например, папка Folder1 содержит файлы File1, File2 и File3).</span><span class="sxs-lookup"><span data-stu-id="d1b81-247">One of my format configurations contains multiple files that are grouped into one folder (for example, Folder1 contains File1, File2, and File3).</span></span> <span data-ttu-id="d1b81-248">Как настроить места назначения, чтобы архив Folder1.zip не создавался вообще, File1 отправлялся по электронной почте, File2 отправлялся в SharePoint и File3 можно было открыть сразу же после выполнения конфигурации?</span><span class="sxs-lookup"><span data-stu-id="d1b81-248">How do I set up destinations so that Folder1.zip isn't created at all, File1 is sent by email, File2 is sent to SharePoint, and I can open File3 immediately after the configuration is run?</span></span>

<span data-ttu-id="d1b81-249">Ваш формат должен быть сначала доступен в конфигурациях электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="d1b81-249">Your format must first be available in the ER configurations.</span></span> <span data-ttu-id="d1b81-250">Если это предварительное условие соблюдено, откройте страницу **Место назначения электронной отчетности** и создайте новую ссылку на конфигурацию.</span><span class="sxs-lookup"><span data-stu-id="d1b81-250">If this prerequisite is met, open the **Electronic reporting destination** page, and create a new reference to the configuration.</span></span> <span data-ttu-id="d1b81-251">Затем необходимо наличие четырех мест назначения файлов, по одному для каждого выходного компонента.</span><span class="sxs-lookup"><span data-stu-id="d1b81-251">You must then have four file destinations, one for each output component.</span></span> <span data-ttu-id="d1b81-252">Создайте первое место назначения файла, присвойте ему имя, например **Папка** и выберите имя файла, которое представляет папку в конфигурации.</span><span class="sxs-lookup"><span data-stu-id="d1b81-252">Create the first file destination, give it a name such as **Folder**, and select a file name that represents a folder in your configuration.</span></span> <span data-ttu-id="d1b81-253">Затем выберите **Параметры** и убедитесь, что все места назначения отключены.</span><span class="sxs-lookup"><span data-stu-id="d1b81-253">Then select **Settings**, and make sure that all the destinations are disabled.</span></span> <span data-ttu-id="d1b81-254">Для этого места назначения файла папка создаваться не будет.</span><span class="sxs-lookup"><span data-stu-id="d1b81-254">For this file destination, the folder won't be created.</span></span> <span data-ttu-id="d1b81-255">По умолчанию из-за иерархических зависимостей между файлами и родительскими папками файлы будут вести себя таким же образом.</span><span class="sxs-lookup"><span data-stu-id="d1b81-255">By default, because of hierarchical dependencies between files and parent folders, the files will behave in the same way.</span></span> <span data-ttu-id="d1b81-256">Другими словами, они не будут никуда отправляться.</span><span class="sxs-lookup"><span data-stu-id="d1b81-256">In other words, they won't be sent anywhere.</span></span> <span data-ttu-id="d1b81-257">Чтобы переопределить это поведение по умолчанию, необходимо создать три дополнительных места назначения файлов, по одному для каждого файла.</span><span class="sxs-lookup"><span data-stu-id="d1b81-257">To override that default behavior, you must create three more file destinations, one for each file.</span></span> <span data-ttu-id="d1b81-258">В параметрах места назначения для каждого файла необходимо включить место назначения, в которое нужно отправить файл.</span><span class="sxs-lookup"><span data-stu-id="d1b81-258">In the destination settings for each, you must enable the destination that the file should be sent to.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="d1b81-259">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="d1b81-259">Additional resources</span></span>

[<span data-ttu-id="d1b81-260">Обзор электронной отчетности (ER)</span><span class="sxs-lookup"><span data-stu-id="d1b81-260">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)
