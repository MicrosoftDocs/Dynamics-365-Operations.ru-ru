---
title: Язык формул электронной отчетности
description: Этот раздел содержит общие сведения об использовании языка формул электронной отчетности.
author: NickSelin
manager: kfend
ms.date: 12/18/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERExpressionDesignerFormula, ERMappedFormatDesigner, ERModelMappingDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 58771
ms.assetid: 24223e13-727a-4be6-a22d-4d427f504ac9
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 79b4640a23d4fc78ade4de57e4071abe6c9ecb56
ms.sourcegitcommit: 0d7b700950b1f95dc030ceab5bbdfd4fe1f79ace
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2020
ms.locfileid: "3284364"
---
# <a name="electronic-reporting-formula-language"></a><span data-ttu-id="8cfc4-103">Язык формул электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="8cfc4-103">Electronic reporting formula language</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="8cfc4-104">Электронная отчетность (ER) обеспечивает мощное взаимодействие для преобразования данных.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-104">Electronic reporting (ER) provides a powerful data transformation experience.</span></span> <span data-ttu-id="8cfc4-105">Язык, используемый для выражения необходимых манипуляций с данными в [конструкторе формул ER](general-electronic-reporting-formula-designer.md), напоминает язык формулы в Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-105">The language that is used to express the required data manipulations in the [ER formula designer](general-electronic-reporting-formula-designer.md) resembles the formula language in Microsoft Excel.</span></span>

## <a name="basic-syntax"></a><span data-ttu-id="8cfc4-106">Базовый синтаксис</span><span class="sxs-lookup"><span data-stu-id="8cfc4-106">Basic syntax</span></span>

<span data-ttu-id="8cfc4-107">Выражения ER могут содержать любые или все из следующих элементов:</span><span class="sxs-lookup"><span data-stu-id="8cfc4-107">ER expressions can contain any or all of the following elements:</span></span>

- [<span data-ttu-id="8cfc4-108">Константы</span><span class="sxs-lookup"><span data-stu-id="8cfc4-108">Constants</span></span>](#Constants)
- [<span data-ttu-id="8cfc4-109">Операторы</span><span class="sxs-lookup"><span data-stu-id="8cfc4-109">Operators</span></span>](#Operators)
- [<span data-ttu-id="8cfc4-110">Ссылки</span><span class="sxs-lookup"><span data-stu-id="8cfc4-110">References</span></span>](#References)
- [<span data-ttu-id="8cfc4-111">Пути</span><span class="sxs-lookup"><span data-stu-id="8cfc4-111">Paths</span></span>](#Paths)
- [<span data-ttu-id="8cfc4-112">Функции</span><span class="sxs-lookup"><span data-stu-id="8cfc4-112">Functions</span></span>](#Functions)

## <a name=""></a><span data-ttu-id="8cfc4-113"><a name="Constants">Константы</a></span><span class="sxs-lookup"><span data-stu-id="8cfc4-113"><a name="Constants">Constants</a></span></span>

<span data-ttu-id="8cfc4-114">При конструировании выражений можно использовать текстовые и числовые константы (т. е., значения, которые не вычисляются).</span><span class="sxs-lookup"><span data-stu-id="8cfc4-114">When you design expressions, you can use text and numeric constants (that is, values that aren't calculated).</span></span> <span data-ttu-id="8cfc4-115">Например, выражение `VALUE ("100") + 20` использует числовую константу **20** и строковую константу **"100"** и возвращает числовое значение **120**.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-115">For example, the expression `VALUE ("100") + 20` uses the numeric constant **20** and the string constant **"100"**, and it returns the numeric value **120**.</span></span>

<span data-ttu-id="8cfc4-116">Конструктор формул электронной отчетности (ER) поддерживает escape-последовательности.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-116">The ER formula designer supports escape sequences.</span></span> <span data-ttu-id="8cfc4-117">Таким образом, можно указать строку выражения, которая должна обрабатываться по-разному.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-117">Therefore, you can specify an expression string that should be handled differently.</span></span> <span data-ttu-id="8cfc4-118">Например, выражение `"Leo Tolstoy ""War and Peace"" Volume 1"` возвращает текст строки **Лев Толстой «Война и мир», том 1**.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-118">For example, the expression `"Leo Tolstoy ""War and Peace"" Volume 1"` returns the text string **Leo Tolstoy "War and Peace" Volume 1**.</span></span>

## <a name=""></a><span data-ttu-id="8cfc4-119"><a name="Operators">Операторы</a></span><span class="sxs-lookup"><span data-stu-id="8cfc4-119"><a name="Operators">Operators</a></span></span>

<span data-ttu-id="8cfc4-120">В следующей таблице показаны арифметические операторы, которые можно использовать для выполнения основных математические операции, например сложение, вычитание, умножение и деление.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-120">The following table shows the arithmetic operators that you can use to do basic mathematical operations, such as addition, subtraction, multiplication, and division.</span></span>

| <span data-ttu-id="8cfc4-121">Оператор</span><span class="sxs-lookup"><span data-stu-id="8cfc4-121">Operator</span></span> | <span data-ttu-id="8cfc4-122">Значение</span><span class="sxs-lookup"><span data-stu-id="8cfc4-122">Meaning</span></span>               | <span data-ttu-id="8cfc4-123">Пример</span><span class="sxs-lookup"><span data-stu-id="8cfc4-123">Example</span></span>     |
|----------|-----------------------|-------------|
| +        | <span data-ttu-id="8cfc4-124">Сложение</span><span class="sxs-lookup"><span data-stu-id="8cfc4-124">Addition</span></span>              | `1+2`       |
| -        | <span data-ttu-id="8cfc4-125">Вычитание, отрицание</span><span class="sxs-lookup"><span data-stu-id="8cfc4-125">Subtraction, negation</span></span> | <span data-ttu-id="8cfc4-126">`5-2`, `-1`</span><span class="sxs-lookup"><span data-stu-id="8cfc4-126">`5-2`, `-1`</span></span> |
| \*       | <span data-ttu-id="8cfc4-127">Умножение</span><span class="sxs-lookup"><span data-stu-id="8cfc4-127">Multiplication</span></span>        | `7\*8`      |
| /        | <span data-ttu-id="8cfc4-128">Подразделение</span><span class="sxs-lookup"><span data-stu-id="8cfc4-128">Division</span></span>              | `9/3`       |

<span data-ttu-id="8cfc4-129">В следующей таблице показываются поддерживаемые операторы сравнения.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-129">The following table shows the comparison operators that are supported.</span></span> <span data-ttu-id="8cfc4-130">Эти операторы можно использовать для сравнения двух значений.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-130">You can use these operators to compare two values.</span></span>

| <span data-ttu-id="8cfc4-131">Оператор</span><span class="sxs-lookup"><span data-stu-id="8cfc4-131">Operator</span></span> | <span data-ttu-id="8cfc4-132">Значение</span><span class="sxs-lookup"><span data-stu-id="8cfc4-132">Meaning</span></span>                  | <span data-ttu-id="8cfc4-133">Пример</span><span class="sxs-lookup"><span data-stu-id="8cfc4-133">Example</span></span>      |
|----------|--------------------------|--------------|
| =        | <span data-ttu-id="8cfc4-134">Одинаковые</span><span class="sxs-lookup"><span data-stu-id="8cfc4-134">Equal</span></span>                    | `X=Y`        |
| &gt;     | <span data-ttu-id="8cfc4-135">Больше</span><span class="sxs-lookup"><span data-stu-id="8cfc4-135">Greater than</span></span>             | `X>Y`        |
| &lt;     | <span data-ttu-id="8cfc4-136">Меньше</span><span class="sxs-lookup"><span data-stu-id="8cfc4-136">Less than</span></span>                | `X<Y`        |
| &gt;=    | <span data-ttu-id="8cfc4-137">Больше или равно</span><span class="sxs-lookup"><span data-stu-id="8cfc4-137">Greater than or equal to</span></span> | `X>=Y`       |
| &lt;=    | <span data-ttu-id="8cfc4-138">Меньше или равно</span><span class="sxs-lookup"><span data-stu-id="8cfc4-138">Less than or equal to</span></span>    | `X<=Y`       |
| &lt;&gt; | <span data-ttu-id="8cfc4-139">Не равно</span><span class="sxs-lookup"><span data-stu-id="8cfc4-139">Not equal to</span></span>             | `X<>Y`       |

<span data-ttu-id="8cfc4-140">Кроме того, можно использовать амперсанд (&) как оператор связывания текста.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-140">Additionally, you can use an ampersand (&) as a text concatenation operator.</span></span> <span data-ttu-id="8cfc4-141">Таким образом можно соединить (сцепить) одну или несколько текстовых строк в единый фрагмент текста.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-141">In this way, you can join, or concatenate, one or more text strings into a single piece of text.</span></span>

| <span data-ttu-id="8cfc4-142">Оператор</span><span class="sxs-lookup"><span data-stu-id="8cfc4-142">Operator</span></span> | <span data-ttu-id="8cfc4-143">Значение</span><span class="sxs-lookup"><span data-stu-id="8cfc4-143">Meaning</span></span>     | <span data-ttu-id="8cfc4-144">Пример</span><span class="sxs-lookup"><span data-stu-id="8cfc4-144">Example</span></span>                                               |
|----------|-------------|-------------------------------------------------------|
| &        | <span data-ttu-id="8cfc4-145">Объединить</span><span class="sxs-lookup"><span data-stu-id="8cfc4-145">Concatenate</span></span> | `"Nothing to print:" & " " & "no records found"`      |

### <a name="operator-precedence"></a><span data-ttu-id="8cfc4-146">Приоритет операторов</span><span class="sxs-lookup"><span data-stu-id="8cfc4-146">Operator precedence</span></span>

<span data-ttu-id="8cfc4-147">Порядок, в котором оценены части составного выражения, важен.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-147">The order in which the parts of a compound expression are evaluated is important.</span></span> <span data-ttu-id="8cfc4-148">Например, результат выражения `1 + 4 / 2` различается в зависимости от того, выполняться ли первой операция сложения или деления.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-148">For example, the result of the expression `1 + 4 / 2` varies, depending on whether the addition or division operation is done first.</span></span> <span data-ttu-id="8cfc4-149">Можно использовать скобки для точного определения, как выражение рассчитывается.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-149">You can use parentheses to explicitly define how an expression is evaluated.</span></span> <span data-ttu-id="8cfc4-150">Например, чтобы указать, что операция сложения должна быть выполнена первой, вы можете изменить предшествующее выражение на `(1 + 4) / 2`.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-150">For example, to indicate that the addition operation should be done first, you can change the preceding expression to `(1 + 4) / 2`.</span></span> <span data-ttu-id="8cfc4-151">Если не указать явно порядок операций, которые необходимо выполнить в выражении, порядок основан на приоритете по умолчанию, назначенный поддерживаемым операторам.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-151">If you don't explicitly indicate the order of operations in an expression, the order is based on the default precedence that is assigned to the supported operators.</span></span> <span data-ttu-id="8cfc4-152">В следующей таблице показан приоритет, который назначен каждому оператору.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-152">The following table shows the precedence that is assigned to each operator.</span></span> <span data-ttu-id="8cfc4-153">Операторы, которые имеют более высокий приоритет (например, 7) вычисляются перед операторами с более низким приоритетом (например, 1).</span><span class="sxs-lookup"><span data-stu-id="8cfc4-153">Operators that have a higher precedence (for example, 7) are evaluated before operators that have a lower precedence (for example, 1).</span></span>

| <span data-ttu-id="8cfc4-154">Приоритет</span><span class="sxs-lookup"><span data-stu-id="8cfc4-154">Precedence</span></span> | <span data-ttu-id="8cfc4-155">Операторы</span><span class="sxs-lookup"><span data-stu-id="8cfc4-155">Operators</span></span>      | <span data-ttu-id="8cfc4-156">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="8cfc4-156">Syntax</span></span>                                                                  |
|------------|----------------|-------------------------------------------------------------------------|
| <span data-ttu-id="8cfc4-157">7</span><span class="sxs-lookup"><span data-stu-id="8cfc4-157">7</span></span>          | <span data-ttu-id="8cfc4-158">Группировка</span><span class="sxs-lookup"><span data-stu-id="8cfc4-158">Grouping</span></span>       | <span data-ttu-id="8cfc4-159">( …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-159">( …</span></span> <span data-ttu-id="8cfc4-160">)</span><span class="sxs-lookup"><span data-stu-id="8cfc4-160">)</span></span>                                                                   |
| <span data-ttu-id="8cfc4-161">6</span><span class="sxs-lookup"><span data-stu-id="8cfc4-161">6</span></span>          | <span data-ttu-id="8cfc4-162">Доступ к членам</span><span class="sxs-lookup"><span data-stu-id="8cfc4-162">Member access</span></span>  | <span data-ttu-id="8cfc4-163">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-163">…</span></span> <span data-ttu-id="8cfc4-164">.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-164">.</span></span> <span data-ttu-id="8cfc4-165">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-165">…</span></span>                                                                   |
| <span data-ttu-id="8cfc4-166">5</span><span class="sxs-lookup"><span data-stu-id="8cfc4-166">5</span></span>          | <span data-ttu-id="8cfc4-167">Вызов функции</span><span class="sxs-lookup"><span data-stu-id="8cfc4-167">Function call</span></span>  | <span data-ttu-id="8cfc4-168">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-168">…</span></span> <span data-ttu-id="8cfc4-169">( …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-169">( …</span></span> <span data-ttu-id="8cfc4-170">)</span><span class="sxs-lookup"><span data-stu-id="8cfc4-170">)</span></span>                                                                 |
| <span data-ttu-id="8cfc4-171">4</span><span class="sxs-lookup"><span data-stu-id="8cfc4-171">4</span></span>          | <span data-ttu-id="8cfc4-172">Умножение</span><span class="sxs-lookup"><span data-stu-id="8cfc4-172">Multiplicative</span></span> | <span data-ttu-id="8cfc4-173">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-173">…</span></span> <span data-ttu-id="8cfc4-174">\* …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-174">\* …</span></span><br><span data-ttu-id="8cfc4-175">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-175">…</span></span> <span data-ttu-id="8cfc4-176">/ …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-176">/ …</span></span>                                                         |
| <span data-ttu-id="8cfc4-177">3</span><span class="sxs-lookup"><span data-stu-id="8cfc4-177">3</span></span>          | <span data-ttu-id="8cfc4-178">Дополняющая</span><span class="sxs-lookup"><span data-stu-id="8cfc4-178">Additive</span></span>       | <span data-ttu-id="8cfc4-179">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-179">…</span></span> <span data-ttu-id="8cfc4-180">+ …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-180">+ …</span></span><br><span data-ttu-id="8cfc4-181">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-181">…</span></span> <span data-ttu-id="8cfc4-182">- …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-182">- …</span></span>                                                          |
| <span data-ttu-id="8cfc4-183">2</span><span class="sxs-lookup"><span data-stu-id="8cfc4-183">2</span></span>          | <span data-ttu-id="8cfc4-184">Сравнение</span><span class="sxs-lookup"><span data-stu-id="8cfc4-184">Comparison</span></span>     | <span data-ttu-id="8cfc4-185">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-185">…</span></span> <span data-ttu-id="8cfc4-186">&lt; …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-186">&lt; …</span></span><br><span data-ttu-id="8cfc4-187">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-187">…</span></span> <span data-ttu-id="8cfc4-188">&lt;= …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-188">&lt;= …</span></span><br><span data-ttu-id="8cfc4-189">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-189">…</span></span><span data-ttu-id="8cfc4-190"> =&gt; …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-190"> =&gt; …</span></span><br><span data-ttu-id="8cfc4-191">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-191">…</span></span> <span data-ttu-id="8cfc4-192">&gt; …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-192">&gt; …</span></span><br><span data-ttu-id="8cfc4-193">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-193">…</span></span> <span data-ttu-id="8cfc4-194">= …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-194">= …</span></span><br><span data-ttu-id="8cfc4-195">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-195">…</span></span> <span data-ttu-id="8cfc4-196">&lt;&gt; …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-196">&lt;&gt; …</span></span> |
| <span data-ttu-id="8cfc4-197">1</span><span class="sxs-lookup"><span data-stu-id="8cfc4-197">1</span></span>          | <span data-ttu-id="8cfc4-198">Разделение</span><span class="sxs-lookup"><span data-stu-id="8cfc4-198">Separation</span></span>     | <span data-ttu-id="8cfc4-199">…</span><span class="sxs-lookup"><span data-stu-id="8cfc4-199">…</span></span> <span data-ttu-id="8cfc4-200">, …</span><span class="sxs-lookup"><span data-stu-id="8cfc4-200">, …</span></span>                                                                   |

<span data-ttu-id="8cfc4-201">Если выражение содержит несколько последовательных операторов, которые имеют одинаковый приоритет, эти операции вычисляются слева направо.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-201">If an expression includes multiple consecutive operators that have the same precedence, those operations are evaluated from left to right.</span></span> <span data-ttu-id="8cfc4-202">Например, выражение `1 + 6 / 2 \* 3 > 5` возвращает **true**.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-202">For example, the expression `1 + 6 / 2 \* 3 > 5` returns **true**.</span></span> <span data-ttu-id="8cfc4-203">Рекомендуется использовать скобки для явного указания необходимого порядка операций в выражениях, чтобы выражения было проще читать и обслуживать.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-203">We recommend that you use parentheses to explicitly indicate the desired order of operations in expressions, so that the expressions are easier to read and maintain.</span></span>

## <a name=""></a><span data-ttu-id="8cfc4-204"><a name="References">Ссылки</a></span><span class="sxs-lookup"><span data-stu-id="8cfc4-204"><a name="References">References</a></span></span>

<span data-ttu-id="8cfc4-205">Все источники данных текущего компонента ER, доступные в ходе разработки выражения, можно использовать как именованные ссылки.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-205">All data sources of the current ER component that are available during the design of an expression can be used as named references.</span></span> <span data-ttu-id="8cfc4-206">Текущий компонент ER может быть как сопоставлением модели, так и форматом.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-206">The current ER component can be either a model mapping or a format.</span></span> <span data-ttu-id="8cfc4-207">Например, текущее сопоставление данных ER содержит источник данных **ReportingDate**, который возвращает значение типа данных *DateTime*.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-207">For example, the current ER model mapping contains the **ReportingDate** data source, which returns a value of the *DateTime* data type.</span></span> <span data-ttu-id="8cfc4-208">Для правильного форматирования этого значения в создаваемом документе можно указать источник данных в выражении как `DATETIMEFORMAT (ReportingDate, "dd-MM-yyyy")`.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-208">To correctly format that value in the generating document, you can reference the data source in the expression as `DATETIMEFORMAT (ReportingDate, "dd-MM-yyyy")`.</span></span>

<span data-ttu-id="8cfc4-209">Всем символам в имени ссылающегося источника данных, которые не представляют букву алфавита, должен предшествовать знак одинарной кавычки (').</span><span class="sxs-lookup"><span data-stu-id="8cfc4-209">All characters in the name of a referencing data source that don't represent a letter of the alphabet must be preceded by a single quotation mark (').</span></span> <span data-ttu-id="8cfc4-210">Если имя ссылающегося источника данных содержит хотя бы один символ, который не является буквой алфавита, имя необходимо заключить в одинарные кавычки.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-210">If the name of a referencing data source contains at least one symbol that doesn't represent a letter of the alphabet, the name must be enclosed in single quotation marks.</span></span> <span data-ttu-id="8cfc4-211">Например, символы, не являющиеся буквами алфавита, могут быть знаками препинания или любыми другими записанными символами.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-211">For example, these non-alphabetic symbols can be punctuation marks or other written symbols.</span></span> <span data-ttu-id="8cfc4-212">Далее приводятся некоторые примеры.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-212">Here are some examples:</span></span>

- <span data-ttu-id="8cfc4-213">На источник данных **Today’s date & time** в выражении ER необходимо ссылаться следующим образом: `'Today''s date & time'`.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-213">The **Today's date & time** data source must be referred to in an ER expression as `'Today''s date & time'`.</span></span>
- <span data-ttu-id="8cfc4-214">На метод **name()** источника данных **Customers** в выражении ER необходимо ссылаться следующим образом: `Customers.'name()'`.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-214">The **name()** method of the **Customers** data source must be referred to in an ER expression as `Customers.'name()'`.</span></span>

<span data-ttu-id="8cfc4-215">Если методы источников данных приложения имеют параметры, для вызова этих методов используется следующий синтаксис:</span><span class="sxs-lookup"><span data-stu-id="8cfc4-215">If the methods of application data sources have parameters, the following syntax is used to call those methods:</span></span>

- <span data-ttu-id="8cfc4-216">Если метод **isLanguageRTL** источника данных **System** имеет параметр **EN-US** типа данных *String*, этот метод следует указывать в выражении ER как `System.isLanguageRTL("EN-US")`.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-216">If the **isLanguageRTL** method of the **System** data source has an **EN-US** parameter of the *String* data type, this method must be referred to in an ER expression as `System.isLanguageRTL("EN-US")`.</span></span>
- <span data-ttu-id="8cfc4-217">Кавычки не требуются, если имя метода содержит только буквенно-цифровые символы.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-217">Quotation marks aren't required when a method name contains only alphanumeric symbols.</span></span> <span data-ttu-id="8cfc4-218">Однако они являются обязательными для метода таблицы, если имя содержит скобки.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-218">However, they are required for a method of a table if the name includes brackets.</span></span>

<span data-ttu-id="8cfc4-219">При добавлении источника данных **System** в сопоставление ER, которое относится к классу **Global** приложения, выражение `System.isLanguageRTL("EN-US ")` возвращает *логическое* значение **FALSE**.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-219">When the **System** data source is added to an ER mapping that refers to the **Global** application class, the expression `System.isLanguageRTL("EN-US ")` returns the *Boolean* value **FALSE**.</span></span> <span data-ttu-id="8cfc4-220">Измененное выражение `System.isLanguageRTL("AR")` возвращает *логическое* значение **TRUE**.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-220">The modified expression `System.isLanguageRTL("AR")` returns the *Boolean* value **TRUE**.</span></span>

<span data-ttu-id="8cfc4-221">Можно ограничить способ, которым значения передаются в параметры метода этого типа:</span><span class="sxs-lookup"><span data-stu-id="8cfc4-221">You can limit the way that values are passed to the parameters of this type of method:</span></span>

- <span data-ttu-id="8cfc4-222">В методы этого типа могут передаваться только константы.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-222">Only constants can be passed to methods of this type.</span></span> <span data-ttu-id="8cfc4-223">Значения констант определяются во время разработки.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-223">The values of the constants are defined at design time.</span></span>
- <span data-ttu-id="8cfc4-224">Для параметров этого типа поддерживаются только простые (основные) типы.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-224">Only primitive (basic) data types are supported for parameters of this type.</span></span> <span data-ttu-id="8cfc4-225">Простые типы данных — это *целое число*, *вещественное число*, *логическое значение*, *строка*.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-225">The primitive data types include *Integer*, *Real*, *Boolean*, and *String*.</span></span>

## <a name=""></a><span data-ttu-id="8cfc4-226"><a name="Paths">Пути</a></span><span class="sxs-lookup"><span data-stu-id="8cfc4-226"><a name="Paths">Paths</a></span></span>

<span data-ttu-id="8cfc4-227">Когда выражение ссылается на структурированный источник данных, можно использовать определение пути для выбора конкретного примитивного элемента этого источника данных.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-227">When an expression references a structured data source, you can use the path definition to select a specific primitive element of that data source.</span></span> <span data-ttu-id="8cfc4-228">Символ точки (.) используется для разделения отдельных элементов структурированного источника данных.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-228">A dot character (.) is used to separate individual elements of a structured data source.</span></span> <span data-ttu-id="8cfc4-229">Например, текущее сопоставление модели ER содержит источник данных **InvoiceTransactions**, и этот источник данных возвращает список записей.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-229">For example, the current ER model mapping contains the **InvoiceTransactions** data source, and this data source returns a list of records.</span></span> <span data-ttu-id="8cfc4-230">Структура записи **InvoiceTransactions** содержит поля **AmountDebit** и **AmountCredit**, и оба этих поля возвращают числовые значения.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-230">The **InvoiceTransactions** record structure contains the **AmountDebit** and **AmountCredit** fields, and both these fields return numeric values.</span></span> <span data-ttu-id="8cfc4-231">Таким образом, можно создать следующее выражение для расчета суммы счета: `InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit`.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-231">Therefore, you can design the following expression to calculate the invoiced amount: `InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit`.</span></span> <span data-ttu-id="8cfc4-232">Конструкция `InvoiceTransactions.AmountDebit` в этом выражении — это путь, используемый для доступа к полю **AmountDebit** источника данных **InvoiceTransactions** типа *Список записей*.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-232">The `InvoiceTransactions.AmountDebit` construction in this expression is the path that is used to access the **AmountDebit** field of the **InvoiceTransactions** data source of the *Record list* type.</span></span>

### <a name="relative-path"></a><span data-ttu-id="8cfc4-233">Относительный путь</span><span class="sxs-lookup"><span data-stu-id="8cfc4-233">Relative path</span></span>

<span data-ttu-id="8cfc4-234">Если путь структурированного источника данных начинается со знака @, это относительный путь.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-234">If the path of a structured data source starts with an "at" sign (@), it's a relative path.</span></span> <span data-ttu-id="8cfc4-235">Вместо оставшейся части абсолютного пути иерархической структуры дерева отображается знак @.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-235">The "at" sign is shown instead of the remaining part of the absolute path of the hierarchical tree structure that is used.</span></span> <span data-ttu-id="8cfc4-236">Следующая иллюстрация показывает пример.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-236">The following illustration shows an example.</span></span> <span data-ttu-id="8cfc4-237">Здесь абсолютный путь `Ledger.'accountingCurrency()'` указывает на то, что стоимость валюты учета из источника данных **Главная книга** вводится в поле **AccountingCurrency** модели данных.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-237">Here, the absolute path `Ledger.'accountingCurrency()'` indicates that the accounting currency value from the **Ledger** data source is entered in the **AccountingCurrency** field of the data model.</span></span>

![Пример абсолютного пути на странице конструктора сопоставления модели ER](./media/ER-FormulaLanguage-AbsolutePath.png)

<span data-ttu-id="8cfc4-239">В следующем примере показано, как используется относительный путь.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-239">The example in the following illustration shows how a relative path is used.</span></span> <span data-ttu-id="8cfc4-240">Относительный путь `@.AccountNum` указывает на то, что поле **AccountNum** источника данных **Intrastat** (которое отображается на один уровень выше поля **AccountNum** в иерархическом дереве модели данных) используется для ввода номера учетной записи клиента или поставщика в поле **AccountNum**.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-240">The relative path `@.AccountNum` indicates that the **AccountNum** field of the **Intrastat** data source (which appears one level above the **AccountNum** field in the data model's hierarchical tree) is used to enter the customer or vendor account number in the data model's **AccountNum** field.</span></span>

![Пример относительного пути на странице конструктора сопоставления модели ER](./media/ER-FormulaLanguage-RelativePath1.png)

<span data-ttu-id="8cfc4-242">Оставшаяся часть абсолютного пути также отображается в [редакторе формул ER](general-electronic-reporting-formula-designer.md).</span><span class="sxs-lookup"><span data-stu-id="8cfc4-242">The remaining part of the absolute path is also shown in the [ER formula editor](general-electronic-reporting-formula-designer.md).</span></span>

![Оставшаяся часть абсолютного пути на странице конструктора формул ER](./media/ER-FormulaLanguage-RelativePath2.png)

## <a name=""></a><span data-ttu-id="8cfc4-244"><a name="Functions">Функции</a></span><span class="sxs-lookup"><span data-stu-id="8cfc4-244"><a name="Functions">Functions</a></span></span>

<span data-ttu-id="8cfc4-245">Встроенные функции ER могут использоваться в выражениях ER.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-245">ER built-in functions can be used in ER expressions.</span></span> <span data-ttu-id="8cfc4-246">Все источники данных контекста выражения (то есть текущее сопоставление модели данных ER или формат ER) могут использоваться в качестве параметров вызывающих функций в соответствии со списком аргументов вызывающей функции.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-246">All data sources of the expression context (that is, the current ER model mapping or ER format) can be used as parameters of calling functions, in accordance with the list of arguments for calling functions.</span></span> <span data-ttu-id="8cfc4-247">Константы также могут использоваться как параметры вызывающих функций.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-247">Constants can also be used as parameters of calling functions.</span></span> <span data-ttu-id="8cfc4-248">Например, текущее сопоставление модели ER содержит источник данных **InvoiceTransactions**, и этот источник данных возвращает список записей.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-248">For example, the current ER model mapping contains the **InvoiceTransactions** data source, and this data source returns a list of records.</span></span> <span data-ttu-id="8cfc4-249">Структура записи **InvoiceTransactions** содержит поля **AmountDebit** и **AmountCredit**, и оба этих поля возвращают числовые значения.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-249">The **InvoiceTransactions** record structure contains the **AmountDebit** and **AmountCredit** fields, and both these fields return numeric values.</span></span> <span data-ttu-id="8cfc4-250">Поэтому для вычисления суммы по счету можно создать следующее выражение, использующее встроенную функцию округления ER: `ROUND (InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit, 2)`.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-250">Therefore, to calculate the invoiced amount, you can design the following expression that uses the built-in ER rounding function: `ROUND (InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit, 2)`.</span></span>

<span data-ttu-id="8cfc4-251">При создании сопоставлений моделей ER и отчетов ER можно использовать функции ER из следующих категорий:</span><span class="sxs-lookup"><span data-stu-id="8cfc4-251">When you design ER model mappings and ER reports, you can use ER functions from the following categories:</span></span>

- [<span data-ttu-id="8cfc4-252">Функции даты и времени</span><span class="sxs-lookup"><span data-stu-id="8cfc4-252">Date and time functions</span></span>](er-functions-category-datetime.md)
- [<span data-ttu-id="8cfc4-253">Функции для работы со списками</span><span class="sxs-lookup"><span data-stu-id="8cfc4-253">List functions</span></span>](er-functions-category-list.md)
- [<span data-ttu-id="8cfc4-254">Логические функции</span><span class="sxs-lookup"><span data-stu-id="8cfc4-254">Logical functions</span></span>](er-functions-category-logical.md)
- [<span data-ttu-id="8cfc4-255">Математические функции</span><span class="sxs-lookup"><span data-stu-id="8cfc4-255">Mathematical functions</span></span>](er-functions-category-mathematical.md)
- [<span data-ttu-id="8cfc4-256">Функции для работы с записями</span><span class="sxs-lookup"><span data-stu-id="8cfc4-256">Record functions</span></span>](er-functions-category-record.md)
- [<span data-ttu-id="8cfc4-257">Текстовые функции</span><span class="sxs-lookup"><span data-stu-id="8cfc4-257">Text functions</span></span>](er-functions-category-text.md)
- [<span data-ttu-id="8cfc4-258">Функции сбора данных</span><span class="sxs-lookup"><span data-stu-id="8cfc4-258">Data collection functions</span></span>](er-functions-category-data-collection.md)
- [<span data-ttu-id="8cfc4-259">Другие функции (характерные для конкретных бизнес-доменов)</span><span class="sxs-lookup"><span data-stu-id="8cfc4-259">Other (business domain–specific) functions</span></span>](er-functions-category-other.md)
- [<span data-ttu-id="8cfc4-260">Функции преобразования типов</span><span class="sxs-lookup"><span data-stu-id="8cfc4-260">Type conversion functions</span></span>](er-functions-category-type-conversion.md)

## <a name="functions-list-extension"></a><span data-ttu-id="8cfc4-261">Расширение перечня функций</span><span class="sxs-lookup"><span data-stu-id="8cfc4-261">Functions list extension</span></span>

<span data-ttu-id="8cfc4-262">ER позволяет расширение перечня функций, используемых в выражениях ER.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-262">ER lets you extend the list of functions that are used in ER expressions.</span></span> <span data-ttu-id="8cfc4-263">Для этого требуются некоторые усилия со стороны разработчика.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-263">Some engineering effort is required.</span></span> <span data-ttu-id="8cfc4-264">Дополнительные сведения см. в разделе [Расширение списка функций электронной отчетности (ER)](general-electronic-reporting-formulas-list-extension.md).</span><span class="sxs-lookup"><span data-stu-id="8cfc4-264">For detailed information, see [Extend the list of Electronic reporting (ER) functions](general-electronic-reporting-formulas-list-extension.md).</span></span>

## <a name="compound-expressions"></a><span data-ttu-id="8cfc4-265">Составные выражения</span><span class="sxs-lookup"><span data-stu-id="8cfc4-265">Compound expressions</span></span>

<span data-ttu-id="8cfc4-266">Можно создавать составные выражения, которые используют функции из разных категорий, при условии, что типы данных совпадают.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-266">You can create compound expressions that use functions from different categories, provided that the data types match.</span></span> <span data-ttu-id="8cfc4-267">При совместном использовании функций сопоставьте тип данных вывода из одной функции с типом входных данных, который требуется для другой функции.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-267">When you use functions together, match the data type of the output from one function to the input data type that is required by another function.</span></span> <span data-ttu-id="8cfc4-268">Например, чтобы избежать возможной ошибки «список пустой» (list-is-empty) при привязке поля к элементу формата ER, объедините функции из категории [Список](er-functions-category-list.md) с функцией из категории [Логическая](er-functions-category-logical.md), как показано в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-268">For example, to avoid a possible "list-is-empty" error in a binding of a field to an ER format element, combine functions from the [List](er-functions-category-list.md) category with a function from the [Logical](er-functions-category-logical.md) category, as the following example shows.</span></span> <span data-ttu-id="8cfc4-269">В данном случае формула использует функцию [IF](er-functions-logical-if.md) для проверки того, пуст ли список **IntrastatTotals** до того, как он вернет значение требуемой агрегации из этого списка.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-269">Here, the formula uses the [IF](er-functions-logical-if.md) function to test whether the **IntrastatTotals** list is empty before it returns the value of the required aggregation from that list.</span></span> <span data-ttu-id="8cfc4-270">Если список **IntrastatTotals** пуст, формула возвращает **0** (нуль).</span><span class="sxs-lookup"><span data-stu-id="8cfc4-270">If the **IntrastatTotals** list is empty, the formula returns **0** (zero).</span></span>

```vb
IF(ISEMPTY(IntrastatTotals), 0.0, IntrastatTotals.aggregated.'$AmountMSTRounded') 
```

## <a name="multiple-solutions"></a><span data-ttu-id="8cfc4-271">Несколько решений</span><span class="sxs-lookup"><span data-stu-id="8cfc4-271">Multiple solutions</span></span>

<span data-ttu-id="8cfc4-272">Часто вы можете получить один и тот же результат преобразования данных несколькими способами, используя функции из разных категорий или различных функций из одной и той же категории.</span><span class="sxs-lookup"><span data-stu-id="8cfc4-272">Often, you can get the same data transformation result in multiple ways, by using functions from different categories or different functions from the same category.</span></span> <span data-ttu-id="8cfc4-273">Например, предыдущее выражение также может быть настроено с помощью функции [COUNT](er-functions-list-count.md) из категории [Список](er-functions-category-list.md).</span><span class="sxs-lookup"><span data-stu-id="8cfc4-273">For example, the previous expression can also be configured by using the [COUNT](er-functions-list-count.md) function from the [List](er-functions-category-list.md) category.</span></span>

```vb
IF(COUNT (IntrastatTotals)=0, 0.0, IntrastatTotals.aggregated.'$AmountMSTRounded') 
```

## <a name="additional-resources"></a><span data-ttu-id="8cfc4-274">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="8cfc4-274">Additional resources</span></span>

[<span data-ttu-id="8cfc4-275">Обзор электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="8cfc4-275">Electronic Reporting overview</span></span>](general-electronic-reporting.md)

[<span data-ttu-id="8cfc4-276">Конструктор формул в электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="8cfc4-276">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="8cfc4-277">Расширение списка функций электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="8cfc4-277">Extend the list of Electronic reporting functions</span></span>](general-electronic-reporting-formulas-list-extension.md)
