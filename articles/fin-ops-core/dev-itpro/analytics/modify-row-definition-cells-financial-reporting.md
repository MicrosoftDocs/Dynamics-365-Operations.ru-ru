---
title: Изменение ячеек определений строк
description: В этой теме описываются сведения, необходимые для каждой ячейки в определении строки в финансовом отчете, и объясняется, как ввести эти сведения.
author: ShylaThompson
manager: AnnBe
ms.date: 02/11/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: FinancialReports
audience: Application User
ms.reviewer: kfend
ms.custom: 58881
ms.assetid: 0af492df-a84e-450c-8045-78ef1211abaf
ms.search.region: Global
ms.author: aolson
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.openlocfilehash: 6e1164166ece4df1257ef7300c1c68f4b20ec76c
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/09/2021
ms.locfileid: "5564599"
---
# <a name="modify-row-definition-cells"></a>Изменение ячеек определений строк

[!include [banner](../includes/banner.md)]

В этой теме описываются сведения, необходимые для каждой ячейки в определении строки в финансовом отчете, и объясняется, как ввести эти сведения.

## <a name="specify-a-row-code-in-a-row-definition"></a>Определите код строки в определении ряда

В определениях строк, номера или ярлыки в ячейке **Код строки** строки определяют каждую линию в определении строки. Для ссылки на данные в вычислениях и итогах можно указать код строки.

### <a name="row-code-requirements"></a>Требования к кодам строк

Код строки необходим для всех строк. Вы можете смешать числовые, цифробуквенные, и незаданные (пустые) коды строк в определении строки. Кодом строки может быть любое положительное целое число (менее 100 000 000) или описательная метка, идентифицирующая эту строку. Описательные метки должны соответствовать следующим правилам:

- Ярлык должен начаться с алфавитного знака (от a до z или от A до Z), и может быть любым сочетанием чисел и букв до 16 символов.

    > [!NOTE]
    > Ярлык может включить символ подчеркивания (\_), но другие специальные символы не позволены.

- Ярлык не может использовать какие-либо из зарезервированных слов: AND, OR, IF, THEN, ELSE, PERIODS, TO, BASEROW, UNIT, NULL, CPO или RPO.

Следующие примеры — действительные коды строк:

- 320
- TL\_NET\_INCOME
- TL\_NET\_94

### <a name="change-a-row-code-in-a-row-definition"></a>Измените код строки в определении ряда

1. В конструкторе отчетов щелкните **Определения строк** и откройте определение строки, которое требуется изменить.
2. В соответствующей строке, впишите новое значение в ячейку в столбец **Код строки**.

### <a name="reset-numeric-row-codes"></a>Сброс числовых кодов строк

1. В конструкторе отчетов щелкните **Определения строк**, и после этого раскройте определение строки, которое надо изменить.
2. В меню **Правка** щелкните **Перенумеровать строки**.
3. В диалоговом окне **Перенумеровать строки**, определите новые значения для начального кода строки и шага увеличения кода строки. Вы можете переустановить численные коды строки на поровну разделенные значения. Однако конструктор отчетов перенумеровывает только коды строк, которые начинаются с номеров (например, 130 или 246). Она не перенумеровывает коды строки, которые начинаются буквами (например, INCOME\_93 или TP0693).

> [!NOTE]
> Когда вы перенумеровываете коды строк, конструктор отчетов автоматически обновляет ссылки **TOT** и **CAL**. Например, если строка **TOT** ссылается к диапазону, который начинается с кода строки 100, и вы перенумеровываете строки, начиная с 90, начальная ссылка **TOT** изменяется с 100 на 90.

## <a name="add-a-description"></a>Добавление описания
Ячейка описания содержит описание финансовых данных в строке отчета, например, "Прибыль" или "Чистая прибыль". Текст в ячейке **Описание** выглядит в отчете точно так, как вы вписываете его в определение строки.

> [!NOTE]
> Ширина столбца описания на отчете установлена в определении столбца. Если текст в столбце **Описание** в определении строки длинный, то проверьте ширину столбца **DESC**. Когда вы используете диалоговое окно **Вставить строки от**, значения в столбце **Определение** — значения сегмента этапа или значения аналитики из финансовых данных. Можно вставить строки, чтобы добавить описательный текст (например, заголовок раздела или итоги раздела) и форматирование (например, линию перед строкой итогов). Если отчет содержит аналитическую структуру, можно включить дополнительный текст, который определен для элементов аналитической структуры в аналитической структуре. Также можно ограничить дополнительный текст определенным элементом аналитической структуры.

### <a name="add-the-description-for-a-line-on-a-report"></a>Добавление описания для строки отчета

1. В конструкторе отчетов щелкните **Определения строк**, и после этого раскройте определение строки, которое надо изменить.
2. Выберите ячейку **Описание** и после этого впишите имя строки отчета.
3. Применить форматирование.

### <a name="add-additional-text-from-a-reporting-tree-in-the-description"></a>Добавление дополнительного текста из аналитической структуры в описании

1. В конструкторе отчетов щелкните **Определения строк**, и после этого раскройте определение строки, которое надо изменить.
2. Впишите код дополнительного текста и любой другой текст в соответствующую ячейку **Описание**.
3. Применить форматирование.

### <a name="limit-the-additional-text-to-a-specific-reporting-unit"></a>Ограничение дополнительного текста определенным элементом аналитической структуры

1. В конструкторе отчетов щелкните **Определения строк**, и после этого раскройте определение строки, которое надо изменить.
2. Найдите строку, где дополнительный текст должен быть создан, и после этого выполните двойной клик ячейки в столбце **Связанные формулы/строки/единицы**.
3. В диалоговом окне **Выбор единицы отчетности**, в поле **Дерево отчетности**, выберите дерево отчетности.
4. В поле **Выберите единицу отчетности для ограничения** разверните или сверните дерево отчетности, и после этого выберите единицу отчетности.

## <a name="add-a-format-code"></a>Добавление кода формата
Ячейка **Кода формата** предлагает выбор заранее форматированных вариантов для содержания той строки. Если ячейка **Код формата** пуста, то строка интерпретируется как строка со сведениями о финансовых данных.

> [!NOTE]
> Если отчет содержит строк с форматированием не по сумме, которые связаны со к строками сумм, которые были подавлены (например, из-за нулевого сальдо), вы можете использовать столбец **Связанные формулы/строки/единицы**, чтобы предотвратить печать строк заголовка и формата.

### <a name="add-a-format-code-to-a-report-row"></a>Добавление кода формата к строке отчета

1. В конструкторе отчетов щелкните **Определения строк**, и после этого выберите определение строки, которое надо изменить.
2. Дважды щелкните ячейку **Код формата**.
3. Выберите код формата в списке. В следующей таблице описаны коды формата и результаты их действия.

    | Код формата                   | Интерпретация кода формата | Действие |
    |-------------------------------|-----------------------------------|--------|
    | (Нет)                        |                                   | Очищает ячейку **Код формата**. |
    | TOT                           | Итого                             | Определяет строку, которая использует математические операторы в столбце **Связанные формулы/строки/единицы**. Итоги включают простые операторы, например **+** или **-**. |
    | CAL                           | Расчет                       | Определяет строку, которая использует математические операторы в столбце **Связанные формулы/строки/единицы**. Вычисления содержат сложные операторы, такие как **+**, **-**, **\**_, _*/** и операторы **IF/THEN/ELSE**. |
    | DES                           | описание                       | Определяет строку заголовка или пустую линию в отчете. |
    | LFT RGT CEN                   | По левой стороне/По правой стороне/По центру                 | Выравнивают текст описания строки на странице отчета вне зависимости от его расположения в определении столбцов. |
    | CBR                           | Изменение базовой строки                   | Идентифицирует строку, задающую базовую строку для вычисления столбца. |
    | COLUMN                        | Разрыв столбца                      | Начинает новый столбец в отчете. |
    | PAGE                          | Разрыв страницы                        | Начинает новую страницу в отчете. |
    | \---                          | Одинарное подчеркивание                  | Помещает одинарную линию под всеми столбцами сумм количеств в отчете. |
    | ===                           | Двойное подчеркивание                  | Помещает двойную линию под всеми столбцами сумм количеств в отчете. |
    | LINE1                         | Тонкая линия                         | Выводит одну тонкую линию поперек всей страницы. |
    | LINE2                         | Толстая линия                        | Выводит одну толстую линию поперек всей страницы. |
    | LINE3                         | Пунктирная линия                       | Выводит одну пунктирную линию поперек всей страницы. |
    | LINE4                         | Толстая и тонкая линия          | Выводит двойную линию поперек всей страницы. Верхняя линия толстая, нижняя линия тонкая. |
    | LINE5                         | Тонкая и толстая линия          | Выводит двойную линию поперек всей страницы. Верхняя линия тонкая, нижняя линия толстая. |
    | BXB BXC                       | Рамка вокруг строки                         | Рисует рамку вокруг строк отчета, которые начинаются строкой **BXB** и кончаются строкой **BXC**. |
    | REM                           | Замечания                            | Обозначает строку примечания (комментария), которая не будет печататься в отчете. Например, строка примечания может объяснять способ форматирования. |
    | SORT ASORT SORTDESC ASORTDESC | Sort                              | Сортируют расходы или доходы, сортируют отчет по наибольшим расхождениям фактических и бюджетных показателей или сортируют в алфавитном порядке описания строк. |

## <a name="specify-related-formulasrowsunits"></a>Указания связанных формул/строк/блоков
Ячейка **Связанные формулы/строки/единицы** имеет множественные цели. В зависимости от типа строки, ячейка **Связанные формулы/строки/единицы** может выполнить одну из следующих функций:

- Определите строки, которые включить в вычисление когда вы используете код формата **TOT** или **CAL**.
- Связывание строки форматирования со строкой сумм для печати форматирования только при печати соответствующих сумм.
- Ограничение строки определенным элементом аналитической структуры.
- Определите базовую строку для вычислений, когда вы используете код формата **BASEROW**.
- Определение строк для сортировки при использовании каких-либо кодов форматов сортировки.

### <a name="use-a-row-total-in-a-row-definition"></a>Использование итогов по строкам в определении строк

Используйте формулу итога по строкам для сложения или вычитания сумм, содержащихся в других строках. Формула получения итога по строкам может включать операторы + и - для комбинирования кодов и диапазонов отдельных строк. Диапазоны обозначаются двоеточием (:). Длина формулы не может превышать 1024 знаков. Вот пример стандартной формулы подведения итога: 400+420+430+450+460LIABILITIES+EQUITY520: 546520:546-LIABILITIES

### <a name="components-of-a-row-total-formula"></a>Составляющие формулы итога по строкам

При создании формулы итога по строкам необходимо использовать коды строк для указания того, какие строки следует складывать или вычитать в текущем определении строки, а также использовать операторы, указывающие, как совмещаются строки. Можно использовать любую комбинацию строк итогов и строк значений.

> [!NOTE]
> Строки итогов в заданном диапазоне исключаются. Чтобы создать общий итог, необходимо указать диапазон строк. Если первой строкой диапазона является строка итогов, она включается в новый итог. Следующая таблица описывает, как операторы используются в формулах итога строки.

| Оператор | Пример формулы | описание                                                 |
|----------|-----------------|-------------------------------------------------------------|
| +        | 100+330         | Добавляет количество в строке 100 к количеству в строке 330.        |
| :        | 100:330         | Складывает итоги всех строк между строкой 100 и строкой 330.    |
| -        | 100-330         | Вычитает количество в строке 100 из количества в строке 330. |

### <a name="create-a-row-total"></a>Создание итога по строкам

1. В конструкторе отчетов нажмите кнопку **Определения строк** и откройте изменяемое определение строки.
2. Дважды щелкните ячейку **Код формата** в определении строки, и выберите **TOT**.
3. В ячейке **Связанные формулы/строки/единицы** введите формулу итога.

### <a name="relate-a-format-row-to-an-amount-row"></a>Связывание строки форматирования со строкой сумм

В столбце **Код формата** в определении строки коды формата **DES**, **LFT**, **RGT**, **CEN**, **---** и **===** применяют форматирование к строкам, не являющимся суммами. Чтобы предотвратить печать этого форматирования, когда связанные строки сумм подавлены (например, потому что строка количества содержит нулевые значения или нет периодической деятельности), вы должны соотнести строки формата к соответствующими строкам количества. Эта функциональность полезна когда вы хотите предотвратить печать заголовков или форматирования, которые отнесены к подытогам, когда нет сведения для печати за период..

> [!NOTE]
> Можно избежать печати подробных строк сумм, сняв флажок "Отображать строки без сумм". Этот вариант расположен на вкладке **Настройки** определения отчета. По умолчанию в отчетах не выводятся счета сведений транзакций с нулевым сальдо или отсутствием операций за период. Для того, чтобы показать эти счета сведений проводки, выберите флажок **Отображать строки без сумм** на вкладке **Настройки** определения отчета.

### <a name="relate-a-format-row-to-an-amount-row"></a>Соотнесите строку формата к строке количества

1. В конструкторе отчетов щелкните **Определения строк**, и после этого выберите определение строки, которое надо изменить.
2. В строке форматирования, в ячейке **Связанные формулы/строки/единицы** введите код строки строки суммы, которую нужно подавить.

    > [!NOTE]
    > Для подавления вывода строки суммы сальдо строки должно быть равно нулю. Строка суммы с ненулевым сальдо не подавляется.

3. В меню **Файл** выберите **Сохранить**.

### <a name="example-of-preventing-printing-of-rows"></a>Пример пропуска строк при печати

В следующем примере пользователь хочет предотвратить печать заголовка и подчеркиваний в строке **Итого наличных** его отчета, потому что не было никакой работы в любой из касс. Поэтому в строке 220 (которая, как указывает код формата **---**, является строкой форматирования), в ячейке **Связанные формулы/строки/единицы**, пользователь вводит **250**, то есть код строки суммы, которую пользователь хочет подавить.

[![RelatedRowsRowDefinition](./media/relatedrowsrowdefinition-1024x144.png)](./media/relatedrowsrowdefinition.png)

## <a name="select-the-base-row-for-a-column-calculation"></a>Выбор базовой строки для вычисления столбца
В реляционной отчетности, вы задаете одну или больше базовую строку в определении строки путем использования кода формата **CBR** (изменить базовую строку). Базовая строка затем используется для вычисления в определении столбцов. Вот несколько типичных примеров расчетов CBR:

- Процент общих доходов в отношении отдельных элементов доходов.
- Процент общих расходов в отношении отдельных элементов расходов.
- Процент валовой прибыли в отношении данных по подразделению или отделу.

Одна или несколько базовых строк задается в определении строки, затем в определении столбца задаются связь, по которой формируется отчетность по базовой строке. Код, который использован в формуле столбца, — **BASEROW**. Использованы следующие основные математические операции с **BASEROW**: деление, умножение, сложение и вычитание. Операция, которая используется больше всего — деление на **BASEROW**, где результат показан как процент. Вычисления столбца, которые используют **BASEROW** в формуле, используют определение строки для соответствующих кодов базовой строки. У строк **CBR** следующие характеристики:

- Строки **CBR** не напечатаны в законченном отчете.
- Код формата **CBR** и его связанный код строки расположены над строкой или разделом, который показывает связанные вычисления.

В определении столбцов тип столбца **CALC** указывает столбец, задающий формулу в строке **Формула**. Эта формула работает с данными для этого столбца отчета и использует ключевое слово Baserow для того, чтобы основать вычисления на кодах формата **CBR** в строке. В определении строки, код формата **CBR** определяет базовую строку для столбцов, которые высчитывают процент от или умножают на базовую строку для каждой строки в отчете. Вы можете иметь несколько кодов формата **CBR** в формате строки, например один для чистых продаж, один для валовой суммы продаж, и один для общих расходов. Обычно, код формата **CBR** использован для того, чтобы создать процент для счетов, которые сравниваются со строкой итогов. Базовая строка используется для всех вычислений до тех пор, пока не определена другая базовая строка. Вы должны определить начальный код формата **CBR** и конечный код формата **CBR**. Например, для определения расходов в виде процента от чистой суммы продаж можно разделить значение в каждой строке расходов на значение в строке чистых сумм продаж. В этом случае, строка чистых продаж — базовая строка. Можно задать определение столбца, формирующее текущие результаты и результаты с начала года, вместе с базовым процентом каждого результата, как показано в следующем примере. Приступая к подробному отчету об итоговых доходах.

### <a name="select-the-base-row-in-a-row-definition-for-a-column-calculation"></a>Выберите базовую строку в определении строки для вычисления в столбце

1. В конструкторе отчетов щелкните **Определения столбцов**, и после этого раскройте определение столбца для отчета о доходе.
2. Добавьте новый столбец к определению столбца, и установите тип столбца как **CALC**.
3. В ячейке **Формула** нового столбца, впишите формулу **X/BASEROW**, где **X** — тип столбца **FD**, от которого увидеть процент.
4. Дважды щелкните ячейку **Перекрытие формата/валюты**.
5. В диалоговом окне **Перекрытие формата** в списке **Категория формата** выберите **Процент**, и после этого щелкните **ОК**.
6. В меню **Файл** выберите **Сохранить как**, чтобы сохранить определение столбца под новым именем. Приложите **CBR** к текущему имени файла (например, **CUR\_YTD\_CBR**). Это определение столбца — ваше базовое определение столбца строки.
7. В конструкторе отчетов щелкните **Определения строк**, и после этого раскройте определение строки, которое изменить с помощью расчета базовой строки.
8. Вставьте новую строку над строкой, с которой должен начинаться расчет базовой строки.
9. Дважды щелкните ячейку **Код формата** в определении строки, и затем выберите **CBR**.
10. В ячейке **Связанные формулы/строки/единицы** введите номер кода строки для базовой строки.

### <a name="example-of-base-row-calculation"></a>Пример расчета базовой строки

В следующем примере определения строки строка 100 показывает, что базовая строка для расчетов — строка 280.

[![Пример вычисления базовой строки.](./media/cbrrowdefinition.png)](./media/cbrrowdefinition.png)

В следующем примере определения столбца, вычисления используют код формата **CBR**. При расчетах в столбце C выполняется деление значения в столбце B отчета на значение в строке 280 в столбце B. Переопределение формата в столбце B обеспечивает печать результата расчета в процентах. Аналогично, каждая сумма в столбце E — это сумма в столбце D, выраженная в процентах от чистой суммы продаж.

[![Пример определения столбца.](./media/cbrcolumndefinition2.png)](./media/cbrcolumndefinition2.png)

В следующем примере показан отчет, который может быть создан на основании предыдущих расчетов.

[![Пример отчета, основанный на вычислениях предыдущего примера.](./media/cbrreport-1024x272.png)](./media/cbrreport.png)

## <a name="select-a-sorting-code-for-a-row-definition"></a>Выбор кода сортировки для определения столбца
Коды сортировки упорядочивают счета, значения, отчет по наибольшим расхождениям фактических и бюджетных показателей или сортируют в алфавитном порядке описания строк. Предусмотрены следующие коды сортировки:

- **SORT** — Сортирует отчет в порядке возрастания, на основании значений в определенном столбце.
- **ASORT** — Сортирует отчет в порядке возрастания, на основании абсолютного значения значений в определенном столбце. Другими словами, при сортировке знаки значений не принимаются во внимание. Этот код формата упорядочивает значения по абсолютной величине расхождения независимо от того, положительно оно или отрицательно.
- **SORTDESC** — Сортирует отчет в порядке убывания, на основании значений в определенном столбце.
- **ASORTDESC** — Сортирует отчет в порядке убывания, на основании абсолютного значения значений в определенном столбце.

### <a name="select-a-sorting-code"></a>Выберите код сортировки

1. В конструкторе отчетов щелкните **Определения строк**, и после этого раскройте определение строки, которое надо изменить.
2. Выполните двойной клик ячейки **Код формата**, и после этого выберите код сортировки.
3. В ячейке **Связанные формулы/строки/единицы** укажите ряд кодов строки для сортировки. Чтобы указать диапазон, введите коды первой и последней строк, разделенные двоеточием (:). Например, впишите **160:490** для того, чтобы определить, что диапазон — со строки 160 до строки 490.
4. В ячейке **Ограничение столбца**, впишите букву столбца отчета для использования для сортировки.

    > [!NOTE]
    > Включите только строки суммы в вычисление сортировки.

### <a name="examples-of-ascending-and-descending-column-values"></a>Примеры восходящих и нисходящих значений столбца

В следующем примере значения в столбце D отчета будут отсортированы в порядке возрастания для строк с 160 по 490. Кроме того, абсолютные значения в столбце G отчета будут отсортированы в порядке убывания для строк с 610 по 940.

| Код строки | Описание                                         | Код формата | Связанные формулы/строки/блоки | Обычное сальдо | Ограничение столбца | Связь с финансовой аналитикой |
|----------|-----------------------------------------------------|-------------|-----------------------------|----------------|--------------------|------------------------------|
| 100      | Сортировка по возрастанию расхождений за месяц       | DES         |                             |                |                    |                              |
| 130      |                                                     | SORT        | 160:490                     |                | D                  |                              |
| 160      | Продажи                                               |             |                             | C              |                    | 4100                         |
| 190      | Возвраты продаж                                       |             |                             |                |                    | 4110                         |
|          | ...                                                 |             |                             |                |                    |                              |
| 490      | Прибыль от процентов                                     |             |                             | C              |                    | 7000                         |
| 520      |                                                     | DES         |                             |                |                    |                              |
| 550      | Сортировка по убыванию абсолютных значений расхождений с начала года | DES         |                             |                |                    |                              |
| 580      |                                                     | ASORTDESC   | 610:940                     |                | G                  |                              |
| 610      | Прод.                                               |             |                             | К              |                    | 4100                         |
| 640      | Возврат продаж                                       |             |                             |                |                    | 4110                         |
|          | ...                                                 |             |                             |                |                    |                              |
| 940      | Прибыль от процентов                                     |             |                             | К              |                    | 7000                         |


## <a name="specify-a-format-override-cell"></a>Определите ячейку Перекрытия формата
Ячейка **Перекрытие формата** определяет форматирование, которое использовано, когда отчет напечатан. Это форматирование переопределяет форматирование, которое указано в определении столбцов и определении отчета. По умолчанию форматирование, указанное в этих определениях, — это валюта. Если в отчете в одной из строк приводится количество активов, например число зданий, а в другой строке — их денежная стоимость, можно переопределить форматирование денежных единиц и задать числовой формат для строки, указывающей число зданий. Вы определяете эту информацию в диалоговом окне **Перекрытие формата**. Доступные параметры зависят от выбранной категории форматирования. Зона **Образец** диалогового окна показывает форматы примера. Доступны следующие категории формата:

- Формат валюты
- Числовой формат
- Процентный формат
- Пользовательский формат

### <a name="override-cell-formatting"></a>Переопределение формата ячейки

1. В конструкторе отчетов выберите редактируемое определение строки.
2. В строке, для которой перекрыть формат, выполните двойной клик ячейки в столбце **Перекрытие формата**.
3. В диалоговом окне **Перекрытие формата** выберите варианты форматирования для использования для этой строки в отчете.
4. Нажмите кнопку **OК**.

### <a name="currency-formatting"></a>Форматирование валюты

Форматирование валюты применяется к фискальному количеству и включает символ валюты. Доступны следующие параметры:

- **Символ валюты** – символ валюты для отчета. Это значение перекрывает настройку **Региональные параметры** для сведений о компании.
- **Отрицательные номера** — отрицательные номера могут иметь знак минуса (-), они могут появиться в скобках, или они могут иметь треугольник (∆).
- **Десятичные разряды** — число чисел, которое нужно показать после десятичной запятой.
- **Текст перекрытия нулевого значения** — текст, который нужно включить в отчет, когда сумма — 0 (ноль). Этот текст появляется как последняя строка в зоне **Пример**.

    > [!NOTE]
    > Если печатать подавлена для нулевых значений или деятельности без периода, то этот текст подавляется.

### <a name="numeric-formatting"></a>Числовой формат

Числовое форматирование применяется к любой сумме и не предполагает добавления символа валюты. Доступны следующие параметры:

- **Отрицательные номера** — отрицательные номера могут иметь знак минуса (-), они могут появиться в скобках, или они могут иметь треугольник (∆).
- **Десятичные разряды** — число чисел, которое нужно показать после десятичной запятой.
- **Текст перекрытия нулевого значения** — текст, который нужно включить в отчет, когда сумма — 0 (ноль). Этот текст появляется как последняя строка в зоне **Пример**.

    > [!NOTE]
    > Если печатать подавлена для нулевых значений или деятельности без периода, то этот текст подавляется.

### <a name="percentage-formatting"></a>Процентный формат

При использовании процентного формата добавляется знак процентов (%). Доступны следующие параметры:

- **Отрицательные номера** — отрицательные номера могут иметь знак минуса (-), они могут появиться в скобках, или они могут иметь треугольник (∆).
- **Десятичные разряды** — число чисел, которое нужно показать после десятичной запятой.
- **Текст перекрытия нулевого значения** — текст, который нужно включить в отчет, когда сумма — 0 (ноль). Этот текст появляется как последняя строка в зоне **Пример**.

    > [!NOTE]
    > Если печатать подавлена для нулевых значений или деятельности без периода, то этот текст подавляется.

### <a name="custom-formatting"></a>Пользовательский формат

Пользовательская категория форматирования используется для создания пользовательского переопределения формата. Доступны следующие параметры:

- **Тип** – пользовательский формат.
- **Текст перекрытия нулевого значения** — текст, который нужно включить в отчет, когда сумма — 0 (ноль). Этот текст появляется как последняя строка в зоне **Пример**.

    > [!NOTE]
    > Если печатать подавлена для нулевых значений или деятельности без периода, то этот текст подавляется.

Тип должен представлять положительное и отрицательное значения. Обычно вводится сходный формат, различающий положительные и отрицательные значения. Например, чтобы определить, что и положительные и отрицательные значения имеют два десятичных разряда, но отрицательные значения появляются в скобки, введите **0,00;(0,00)**. В следующей таблице показаны пользовательские форматы, с помощью которых можно управлять форматом значений. Все примеры начинаются со значения 1234,56.

| Формат                         | Положительное   | Отрицательный     | Ноль    |
|--------------------------------|------------|--------------|---------|
| 0                              | 1235       | -1235        | 0       |
| 0;0                            | 1235       | 1235         | 0       |
| 0;(0);-                        | 1235       | 1235         | -       |
| \#,\#\#\#;(\#,\#\#\#);""       | 1,235      | (1235)      | (Пусто) |
| \#,\#\#0,00;(\#,\#\#0,00);ноль | 1,234.56   | (1234,56)   | нолe    |
| 0,00 %;(0,00 %)                  | 123456,00 % | (123456,00%) | 0,00   |

## <a name="specify-a-normal-balance-cell"></a>Указание ячейки "Обычное сальдо"
Ячейка **Нормальное сальдо** в определении строки контролирует знак сумм в строке. Чтобы обратить знак строки, или если Нормальное сальдо счета — кредит, введите **C** в ячейке **Нормальное сальдо** для этой строки. Дизайнер отчетов обращает знак всех счетов с кредитовым сальдо в той строке. Когда конструктор отчетов преобразовывает эти счета, он удаляет характеристики дебита/кредита из всех сумм, что упрощает подведение итогов. Например, для вычисления чистого дохода расходы вычитаются из доходов. Как правило, на подытоженные и рассчитанные строки не влияет код **C**. Однако управление печатью **XCR** в определении столбца обращает знак любой строки, содержащей **C** в столбце **Нормальное сальдо**. Это форматирование является особенно важным, когда требуется отобразить все неприемлемые отклонения как отрицательные суммы. Если итоговый или рассчитанный число имеет неправильный знак, введите **C** в ячейке **Нормальное сальдо** для строки, Чтобы обратить знак.

## <a name="specify-a-row-modifier-cell"></a>Указание ячейки "Модификатор строк"
Содержимое ячейке **Модификатор строки** в определении строки перекрывает финансовые годы, периоды, и другую информацию, которая определена в определении столбца для той строки. Выбранный модификатор применяется к каждому счету в строке. Каждую строку можно изменить с помощью одного или нескольких из следующих модификаторов:

- Модификаторы счетов
- Модификаторы кодов книг
- Атрибуты счета и транзакции

### <a name="override-a-column-definition"></a>Переопределение определения столбцов

1. В конструкторе отчетов выберите редактируемое определение строки.
2. В строке, где вы хотите перекрыть определение столбца, выполните двойной клик ячейки **Модификатор строки**.
3. В диалоговом окне модификатора **Модификатор строки** выберите вариант в поле **Модификатор счета**. Описание параметров см. в разделе "Модификаторы счета".
4. В поле **Модификатор кода книги** выберите код книги для использования для строки.
5. В разделе **Атрибуты** выполните следующие действия для того, чтобы добавить запись для каждого атрибута который должен быть включен с кодом строки:

    1. Дважды щелкните ячейку **Атрибут**, а затем выберите имя атрибута.

        > [!IMPORTANT]
        > Замените знак решетки (\#) числовым значением.

    2. Выполните двойной клик ячейки **От** и впишите первое значение для диапазона.
    3. Выполните двойной клик ячейки **До** и впишите последнее значение для диапазона.

6. Нажмите кнопку **OК**.

### <a name="account-modifiers"></a>Модификаторы счета

Когда вы выбираете определенный счет, конструктор отчетов обычно объединяет счет и финансовые годы, периоды и другую информацию, указанную в определении столбца. Можно использовать различные данные (например, разные финансовые периоды) для определенных строк. В следующей таблице показываются модификаторы счета, которые доступны. Замените знак номера (\#) значением, которое равно или меньше, чем число периодов в финансовом годе.

| Модификатор счета | Что печатается                                                                           |
|------------------|-------------------------------------------------------------------------------------------|
| /BB              | Начальное сальдо счета.                                                     |
| /\#              | Сальдо для указанного периода.                                                     |
| /-\#             | Сальдо на период, который на \# периодов раньше текущего периода.                  |
| /+\#             | Сальдо на период, который на \# периодов после текущего периода.                   |
| /C               | Сальдо для текущего периода.                                                       |
| /C-\#            | Сальдо на период, который на \# периодов раньше текущего периода.                  |
| /C+\#            | Сальдо на период, который на \# периодов после текущего периода.                   |
| /Y               | Сальдо с начала года до текущего периода.                                      |
| /Y-\#            | Сальдо с начала года до периода, который на \# периодов раньше текущего периода. |
| /Y+\#            | Сальдо с начала года до периода, который на \# периодов после текущего периода.  |

### <a name="book-code-modifiers"></a>Модификаторы кода книги

Вы можете ограничивать строку существующим кодом книги. Определение столбца должно включить по крайней мере один столбец **FD**, который имеет код книги.

> [!NOTE]
> Ограничение кода книги для строки перекрывает ограничения кода книги в определении столбца для этой строки.

### <a name="account-and-transaction-attributes"></a>Атрибуты счета и транзакции

Некоторые системы учета поддерживают в финансовых данных атрибуты счета и атрибуты транзакций. Эти атрибуты действуют как виртуальные сегменты счета и могут содержать дополнительную информацию о счете или проводке. К дополнительной информации могут относиться коды счетов, коды пакетов, почтовые индексы или другие атрибуты. Если система учета поддерживает атрибуты, в определении строк можно использовать атрибуты счета или атрибуты транзакции в качестве модификаторов строк. Дополнительные сведения о переопределении данных строки см. в разделе "Переопределение определения столбцов" ранее в этой статье.

## <a name="specify-a-link-to-financial-dimensions-cell"></a>Указание ячейки "Связь с финансовой аналитикой"
Ячейка **Ссылка на финансовые аналитики** содержит ссылки на финансовые данные, которые должны быть включены в каждой строке отчета. Эта ячейка содержит значения аналитики. Для того, чтобы раскрыть диалоговое окно **Аналитики**, выполните двойной клик ячейки **Ссылка на финансовые аналитики**.

> [!NOTE]
> Конструктор отчетов не может выбрать счета, аналитики, или поля из системы Microsoft Dynamics ERP, которые включают любые из следующих зарезервированных символов: &, \*, \[, \], { или }. Чтобы задать данные для строки, которая уже включена в определение строк, добавьте данные в ячейку **Связь с финансовой аналитикой**. Для того, чтобы добавить новые строки, которые ссылаются на финансовые данные, используйте диалоговое окно **Вставить строки от** для того, чтобы создать новые строки в определении отчета. Заголовок столбца зависит от настройки этого столбца, как показано в следующей таблице.

| Выбранный тип ссылки       | Описание в столбце "Ссылка" меняется на следующее: |
|----------------------------------|----------------------------------------------------|
| Финансовая аналитика             | Связь с финансовой аналитикой                       |
| Лист отчета                 | Отчет о финансовой отчетности                         |

### <a name="specify-a-dimension-or-range"></a>Укажите аналитику или диапазон

1. В конструкторе отчетов, раскройте определение строки, которое изменить.
2. Дважды щелкните ячейку в столбце **Связь с финансовой аналитикой**.
3. В диалоговом окне **Измерения** дважды щелкните ячейку под именем измерения.
4. В диалоговом окне для аналитики, выберите **По отдельности или диапазон**.
5. В поле **От** введите начальную аналитику или щелкните ![Обзор](media/browse.gif "Обзор"), чтобы поискать доступные аналитики. Для того, чтобы вписать диапазон аналитик, впишите конечную аналитику в поле **До**.
6. Нажмите **ОК**, чтобы закрыть диалоговое окно для аналитики. Диалоговое окно **Аналитики** показывает обновленный размер или диапазон.
7. Нажмите кнопку **ОК**, чтобы закрыть диалоговое окно **Аналитики**.

## <a name="display-zero-balance-accounts-in-a-row-definition"></a>Отображение нулевых балансовых счетов в определении строки
По умолчанию конструктор отчетов не печатает строки, которые не имеют соответствующего сальдо в финансовых данных. Следовательно, можно создать одно определение строки, включающее все значения сегментов счета или все значения измерений, а затем использовать это определение для любого отдела.

### <a name="modify-zero-balance-settings"></a>Изменение настроек нулевых сальдо

1. В конструкторе отчетов выберите изменяемое определение отчета.
2. На вкладке **Настройки** в разделе **Другое форматирование**, выберите варианты для определения строки, которое использовано в определении отчета.
3. В меню **Файл** выберите **Сохранить**, чтобы сохранить изменения.

## <a name="use-wildcard-characters-and-ranges-in-a-row-definition"></a>Использование подстановочных знаков и диапазонов в определении строки
Когда вы вписываете естественное значение сегмента в диалоговое окно **Аналитики**, вы можете поставить подстановочный знак (? или \*) в любом положении сегмента. Конструктор отчетов извлекает все значения для определенных положений без учета подстановочных знаков. Например, определение строки содержит только естественные значения сегмента, и естественные сегменты имеют четыре знака. Если ввести **6???** в строку, конструктор отчетов включит все счета, которые имеют натуральное значение сегмента, которое начинается с 6. Если ввести **6\**_, то будут возвращены те же результаты, но результаты также будут включать значения с переменной шириной, такие как _* 60** и **600000**. Конструктор отчетов заменяет каждый подстановочный знак (?) полным диапазоном возможных значений, который включает буквы и специальные символы. Например, в диапазоне от **12?0** до **12?4**, подстановочный знак в **12?0** заменяется с самым низким значением в наборе символов, и подстановочный знак в **12?4** заменяется самым высоким значением в наборе символов.

> [!NOTE]
> Вы должны избежать использования подстановочных знаков для начальных и конечных счетов в диапазонах. Применение подстановочных знаков в начальных и конечных счетах диапазонов может привести к получению неожиданных результатов.

### <a name="single-segment-or-single-dimension-ranges"></a>Диапазоны с одним сегментом или одним измерением

Можно задать диапазон значений сегмента или значений измерения. Преимущество определения диапазона — то, что вы не должны обновлять определение строки каждый раз, когда новое значение сегмента или значение аналитики добавляется к финансовым данным. Например, диапазон **+Account=\[6100:6900\]** выбирает значения со счетов 6100–6900 в сумму строки. Если диапазон включает подстановочный знак (?), конструктор отчетов не оценивает диапазон познаково. Вместо этого, определяются низкий и верхний концы диапазона, и после этого конечные значения и все значения между ними включены.

> [!NOTE]
> Конструктор отчетов не может выбрать счета, аналитики, или поля из системы Microsoft Dynamics ERP, которые включают любые из следующих зарезервированных символов: &, \*, \[, \], { или }. Вы можете добавить амперсанд (&), только когда вы автоматически строите определения строки путем использования диалогового окна **Вставить строки из аналитик**.

### <a name="multiple-segment-or-multiple-dimension-ranges"></a>Диапазоны с несколькими сегментами или несколькими измерениями

Когда вы вводите диапазон путем использования сочетаний нескольких значений аналитик, сравнение диапазонов выполняется по отдельным аналитикам (..\\финансовые_аналитики\\аналитика). Сравнение диапазона нельзя сделать посимвольно или на основе частичного сегмента. Например, диапазон **+Account=\[5000:6000\], Подразделение=\[1000:2000\], Место возникновения затрат=\[00\]** включает только счета, которые соответствуют каждому сегменту. В этом сценарии первая аналитика должна быть в диапазоне от 5000 до 6000, вторая аналитика должна быть в границах от 1000 до 2000, и последняя аналитика должна быть 00. Например, **+Account=\[5100\], Подразделение=\[1100\], Место возникновения затрат=\[01\]** не включено в отчет, потому что последний сегмент снаружи определенного диапазона. Если значение сегмента включает пробелы, то заключите это значение в квадратные скобки (\[ \]). Следующие значения действительны для сегмента с четырьмя символами: **\[ 234\], \[123 \], \[1 34\]**. Значения аналитик должны быть заключены в квадратные скобки (\[ \]), и конструктор отчетов добавит эти скобки за вас. Когда диапазон с несколькими сегментами или несколькими аналитиками включает подстановочные знаки (? или \*), низкий и высокий концы всего диапазона с несколькими сегментами или несколькими аналитиками определяются, и затем конечные значения и все значения между ими включаются. Если вы имеете большой диапазон, такой как весь диапазон счетов от 40000 до 99999, вы должны определить допустимый начальный счет и конечный счет, когда возможно.

> [!NOTE] 
> Конструктор отчетов не может выбрать счета, аналитики, или поля из системы Microsoft Dynamics ERP, которые включают любые из следующих зарезервированных символов: &, \*, \[, \], { или }. Вы можете добавить амперсанд (&), только когда вы автоматически строите определения строки путем использования диалогового окна **Вставить строки из аналитик**.

## <a name="add-or-subtract-from-other-accounts-in-a-row-definition"></a>Сложение и вычитание других счетов в определении строки
Для того, чтобы добавить или вычесть денежные суммы в одном счете из денежных сумм в другом счете, вы можете использовать знак плюс (+) и знак минус (-) в ячейке **Ссылка на финансовые аналитики**. В следующей таблице показаны допустимые форматы для добавления и вычитания ссылок на финансовые данные.

| Операция                                                                               | Использовать этот формат                                                                                              |
|-----------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|
| Добавить два полностью определенных счета.                                                       | +Division=\[000\], Account=\[1205\], Department=\[00\]+Division=\[100\], Account=\[1205\], Department=\[00\] |
| Добавьте два значения сегмента.                                                                 | +Account=\[1205\]+Account=\[1210\]                                                                           |
| Добавьте Значения сегментов, которые содержат подстановочные знаки.                                    | +Account=\[120?+Account=\[11??\]                                                                             |
| Суммировать диапазон полностью определенных счетов.                                                | +Division=\[000:100\], Account=\[1205\], Department=\[00\]                                                   |
| Суммировать диапазон значений сегмента.                                                          | +Account=\[1200:1205\]                                                                                       |
| Суммировать диапазон значений сегментов, которые содержат подстановочные знаки.                         | +Account=\[120?:130?\]                                                                                       |
| Вычтите один полностью определенный счет из другой полностью определенный счет.              | +Division=\[000\], Account=\[1205\], Department=\[00\]-Division=\[100\], Account=\[1205\], Department=\[00\] |
| Вычтите одно значение сегмента из другого значения сегмента.                                  | +Account=\[1205\]-Account=\[1210\]                                                                           |
| Вычтите значение сегмента которое включает подстановочный знак, из другого значения сегмента. | +Account=\[1200\]-Account=\[11??\]                                                                           |
| Вычесть диапазон полностью определенных счетов.                                           | -Division=\[000:100\], Account=\[1200:1205\], Department=\[00:01\]                                           |
| Вычесть диапазон значений сегмента.                                                     | -Account=\[1200:1205\]                                                                                       |
| Вычесть диапазон значений сегментов, которые содержат подстановочные знаки.                    | -Account=\[120?:130?\]                                                                                       |

Хотя вы можете изменить счета напрямую, вы можете также использовать диалоговое окно **Аналитики**, чтобы применить правильное форматирование к вашим ссылкам на финансовые данные. Любые Значения могут содержать подстановочные знаки (? или \*). Однако конструктор отчетов не может выбрать счета, аналитики, или поля из системы Microsoft Dynamics ERP, которые включают любые из следующих зарезервированных символов: &, \*, \[, \], { или }.

> [!NOTE]
> Если нужно вычесть значения, необходимо заключить эти значения в скобки. Например, если ввести значение **450?-(4509)**, оно отображается как **+Account=\[4509\]-Account=\[450?\]**, и вы указываете конструктору отчетов вычесть сумму для сегмента счета 4509 из суммы для любого сегмента счета, который начинается с 450.

### <a name="add-or-subtract-accounts-from-other-accounts"></a>Суммируйте или вычтите счета из других счетов

1. В конструкторе отчетов, раскройте определение строки, которое изменить.
2. В соответствующей строке Выполнить двойной клик ячейки в столбце **Ссылка на финансовые аналитики**.
3. В первой строке диалогового окна **Аналитики** следовать этим шагам:

    1. В первом поле, выберите все аналитики (значение по умолчанию), или щелкните для того, чтобы раскрыть диалоговое окно **Настройка наборов аналитик**, где вы можете создать, изменить, скопировать, или удалить комплект.
    2. Дважды щелкните ячейку **Оператор +/-** и выберите оператор плюс (**+**) или минус (**-**), который применяется к одному или нескольким значениям аналитики или наборам в строке.
    3. В соответствующем столбце значения аналитики, выполните двойной клик ячейки для того, чтобы раскрыть диалоговое окно **Аналитики** и выбрать, для чего это значение аналитики — для отдельного значения или диапазона, комплекта значений аналитик или итоговых счетов. Для описаний полей в диалоговом окне **Аналитики** см. раздел «Описание диалогового окна аналитик».
    4. Введите значения этапа в столбец **От** и **До**.

4. Повторите шаги от 2 до 3, чтобы добавить еще операций.

> [!NOTE]
> Оператор применяется к всем аналитикам в строке.

## <a name="description-of-the-dimensions-dialog-box"></a>Описание диалогового окна Аналитики
Следующая таблица описывает поля в диалоговом окне **Аналитики**.

| Элемент                | Описание |
|---------------------|-------------|
| По отдельности или диапазоном | В поле **От** введите имя счета или нажмите кнопку **Обзор** ![Обзор](media/browse.gif "Обзор"), чтобы поискать счет. Для того, чтобы выбрать диапазон, введите или найдите значение в поле **До**. |
| Набор значений измерений | В поле **Имя** введите имя набора значений аналитик. Для того, чтобы создать, изменить, скопировать, или уничтожить комплект, щелкните **Управление наборами значений аналитик**. Поле **Формула** заполняется формулой из ячейки **Ссылка на финансовые аналитики** для этого набора значений аналитик в определении строки. |
| Итоговые счета   | В поле **Имя** введите или найдите аналитику итоговых счетов. Поле **Формула** заполняется формулой из ячейки **Ссылка на финансовые аналитики** для этого итогового счета в определении строки. |

## <a name="add-dimension-value-sets-in-a-row-definition"></a>Добавьте наборы значений аналитик к определение строки
Набор значений аналитик — именованная группа значений аналитик. Набор значений аналитик может содержать значения только в одной аналитике, но Набор значений аналитик можно использовать в различных определениях строк, определениях столбцов, определениях дерева отчетности и определениях отчета. Вы можете также совместить наборы значений аналитик в определении отчета. Если изменение финансовых данных требует изменения набора значений измерений, можно обновить определение набора, и это изменение будет применено везде, где используется этот набор. Например, если для ссылки на финансовые данные приходится часто указывать диапазон значений, такой как значения от 5100 до 5600, можно назначить этот диапазон набору счетов с именем "Продажи". После создания набора можно выбрать этот набор в качестве ссылки на финансовые данные. Другой пример. Если имеется диапазон значений с 5100 по 5600, назначенный продажам, и 4175 назначенный скидкам, можно определить общие продажи, отняв скидки от продаж. Эта операция отображается как **(5100:5600)-4175**.

### <a name="create-a-set-of-dimension-values"></a>Создание набора значений измерения

1. В конструкторе отчетов, раскройте определение строки, столбца или дерева.
2. В меню **Редактировать**, щелкните **Управление наборами значений аналитик**.
3. В диалоговом окне **Управление наборами значений аналитик** в поле **Аналитика** выберите тип набора значений аналитик для создания, и после этого щелкните **Создать**.
4. В диалоговом окне **Создать** введите имя и описание набора.
5. В столбце **От**, выполните двойной клик в ячейке.
6. В диалоговом окне **Счет** выберите имя счета в списке, или поищите запись в поле **Поиск**. Затем нажмите кнопку **ОК**.
7. Повторите шаги 5–6 в столбце **До** для того, чтобы конструировать формулу для того оператора.
8. Когда формула завершена, щелкните **ОК**.
9. В диалоговом окне **Управление наборами измерений** нажмите кнопку **Закрыть**.

### <a name="update-a-set-of-dimension-values"></a>Обновление набора значений измерения

1. В конструкторе отчетов откройте редактируемое определение строки, столбца или аналитической структуры.
2. В меню **Редактировать**, щелкните **Управление наборами значений аналитик**.
3. В диалоговом окне **Управление наборами значений аналитик** в поле **Аналитика** выберите тип аналитики.
4. В списке, выберите набор значений аналитик для обновления, и после этого щелкните **Изменить**.
5. В диалоговом окне **Изменить** измените значения формулы, которые включить в комплект.

    > [!NOTE]
    > Если вы добавляете новые счета или аналитики, то убедитесь, что вы изменяете существующие наборы значений аналитик так, чтобы включить изменения.

6. Выполните двойной клик ячейки, и выберите соответствующий оператор, счет **От** и счет **До**.
7. Щелкните **ОК**, чтобы закрыть диалоговое окно **Изменить** и сохранить изменения.

### <a name="copy-a-dimension-set"></a>Копирование набора измерений

1. В конструкторе отчетов откройте редактируемое определение строки, столбца или аналитической структуры.
2. В меню **Редактировать**, щелкните **Управление наборами значений аналитик**.
3. В диалоговом окне **Управление наборами значений аналитик** в поле **Аналитика** выберите тип аналитики.
4. В списке выберите набор для копирования и нажмите кнопку **Сохранить как**.
5. Введите новое имя скопированного набора, а затем щелкните **ОК**.

### <a name="delete-a-dimension-set"></a>Удаление набора измерений

1. В конструкторе отчетов откройте редактируемое определение строки, столбца или аналитической структуры.
2. В меню **Редактировать**, щелкните **Управление наборами значений аналитик**.
3. В диалоговом окне **Управление наборами значений аналитик** в поле **Аналитика** выберите тип аналитики.
4. Выберите удаляемый объект и нажмите кнопку **Удалить**. Нажмите кнопку **Да**, чтобы удалить набор без возможности восстановления.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Финансовая отчетность](financial-reporting-intro.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]