---
title: Поддерживаемые составные типы данных для формул электронной отчетности
description: В этой теме содержится информация о составных типах данных, которые поддерживаются в формулах электронной отчетности (ER).
author: NickSelin
ms.date: 06/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERExpressionDesignerFormula, ERMappedFormatDesigner, ERModelMappingDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: c7ed9e62751b6be9fad6de3bf262d37d7977d192
ms.sourcegitcommit: 15aacd0e109b05c7281407b5bba4e6cd99116c28
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/10/2021
ms.locfileid: "6224110"
---
# <a name="supported-composite-data-types-for-electronic-reporting-formulas"></a>Поддерживаемые составные типы данных для формул электронной отчетности

[!include [banner](../includes/banner.md)]

В этой теме содержится информация о составных типах данных, которые поддерживаются в выражениях [электронной отчетности (ER)](general-electronic-reporting.md). Составные типы данных — это [класс](#class), [контейнер](#container), [запись](#record), [список записей](#record-list) и [объект](#object).

## <a name="class"></a><a name="class"></a>Класс

Тип данных *класс* относится к общему классу приложения. В электронной отчетности он представляет собой [*запись*](#record), которая содержит отдельное поле для каждого открытого метода упоминаемого класса. Когда вызов метода содержит параметры, необходимо также указать обязательные аргументы соответствующих типов в выражении электронной отчетности, настроенном для вызова метода.

В компонентах [сопоставления](general-electronic-reporting.md#data-model-and-model-mapping-components) и [формата](general-electronic-reporting.md#FormatComponentOutbound) электронной отчетности можно добавить источник данных **Класс**, который представляется в качестве источника данных и который возвращает значение типа *класс*. Этот источник данных предоставляет открытые методы класса, которые могут быть вызваны во время выполнения.

> [!NOTE]
> Из выражений электронной отчетности могут быть вызваны только методы, возвращающие значение.
>
> Из выражений электронной отчетности могут быть вызваны только методы с количеством аргументов в диапазоне от нуля до восьми.

Значение по умолчанию для *класса* — **NULL**.

На следующем рисунке показано, как добавляется источник данных **Системная информация(xInfo)** типа **Класс**, чтобы сделать экземпляр класса приложения **xInfo** и вызвать его метод **productName()** для получения имени текущего приложения. Имя текущего приложения извлекается во время выполнения путем выполнения привязки `xInfo.productName`, которая была настроена для поля **Имя программного обеспечения(SoftwareName)** модели данных электронной отчетности. Эта привязка вызывает метод `productName()` класса приложения **xInfo**, который представлен в текущем сопоставлении модели как источник данных **Системная информация(xInfo)**.

[![Настройка источника данных типа класса на странице конструктора сопоставления модели электронной отчетности](./media/er-formula-supported-data-types-composite-class1.gif)](./media/er-formula-supported-data-types-composite-class1.gif)

На следующем рисунке показано, как настроить формат электронной отчетности для помещения указанного имени приложения в создаваемые документы. Поле **Имя программного обеспечения(SoftwareName)** используемой модели данных было привязано к компоненту **Строка**, вложенному в XML-элемент **softwareUsed** формата электронной отчетности. Таким образом, имя текущего приложения помещается во время выполнения в XML-элемент **softwareUsed** созданного документа в формате XML.

[![Настройка структуры электронного исходящего документа в конструкторе формата электронной отчетности](./media/er-formula-supported-data-types-composite-class2.png)](./media/er-formula-supported-data-types-composite-class2.png)

## <a name="container"></a><a name="container"></a>Контейнер

Тип данных *контейнер* содержит двоичное содержимое. Значение *контейнера* может использоваться для передачи определенной информации из хранилища в созданный документ. В платформе электронной отчетности этот тип данных часто используется для размещения мультимедийного содержимого, такого как эмблема компании, в создаваемых документах.

> [!NOTE]
> Хотя каждый элемент мультимедиа может быть представлен как значение типа *контейнер*, не как каждое значение типа *контейнер* представляет элемент мультимедиа. Таким образом, если формат электронной отчетности настроен таким образом, что он использует *контейнер* для помещения изображения в генерируемые документы, но *контейнер*, на который указывает ссылка, не возвращает мультимедийного содержимого, может быть выдано исключение, напоминающее приведенный ниже пример: "Ошибка выполнения кода: двоичный (object), метод constructFromContainer вызван с недопустимыми параметрами".

Значение по умолчанию для типа *контейнер* — **NULL**.

На следующем рисунке показано, как поле **Точечный рисунок(Image)** типа *Контейнер* связывается с полем **Логотип** модели данных типа **Контейнер** в сопоставлении модели **Накладная по продаже**. Эта привязка делает эмблему компании доступной для любого формата электронной отчетности, который предназначен для определения корня **SalesInvoice** и который использует это сопоставление модели во время выполнения.

[![Привязка поля типа контейнера в конструкторе сопоставления модели электронной отчетности](./media/er-formula-supported-data-types-composite-container.png)](./media/er-formula-supported-data-types-composite-container.png)

## <a name="record"></a><a name="record"></a>Запись

*Запись* представляет собой коллекцию именованных полей, каждое из которых связано со значением [примитивного](er-formula-supported-data-types-primitive.md) типа данных или составного типа данных. Обычно *запись* используется для представления отдельной записи списка записей. В этом случае каждый элемент представляет отдельные поля, методы и отношения.

Значение по умолчанию для типа *запись* — **пусто**.

> [!NOTE]
> При получении значения поле из пустой *записи* возвращается значение по умолчанию соответствующего типа данных.

*Запись* можно получить с помощью следующих функций:

- [FIRST](er-functions-list-first.md)
- [FIRSTORNULL](er-functions-list-firstornull.md)
- [EMPTYRECORD](er-functions-record-emptyrecord.md)
- [NULLCONTAINER](er-functions-record-nullcontainer.md)

Дополнительные сведения о преобразовании значений типа *запись* см. в разделе [Список функций электронной отчетности в категории "Список"](er-functions-category-list.md).

## <a name="record-list"></a><a name="record-list"></a>Список записей

*Список записей* представляет собой список элементов типа *запись*. Обычно *список записей* используется для представления списка записей, которые были извлечены из таблицы базы данных.

По умолчанию доступ к записям *списка записей* осуществляется последовательно. Для доступа к конкретной записи можно использовать функцию [INDEX](er-functions-list-index.md) и указать целочисленный индекс типа *целое число*.

Значение по умолчанию для типа *список записей* — **пусто**. Функцию [ISEMPTY](/er-functions-list-isempty.md) можно использовать для оценки того, что *список записей* пуст.

> [!NOTE]
> Если *список записей* пуст, любая попытка получить значение поля для *записи* в нем вызовет исключение во время выполнения. Сведения о том, как предотвратить исключения времени выполнения этого типа, см. в разделе [Учет пустых вариантов списка](er-components-inspections.md#i9).

*Список записей* можно инициировать с помощью следующих функций:

- [ALLITEMS](er-functions-list-allitems.md)
- [ALLITEMSQUERY](er-functions-list-allitemsquery.md)
- [EMPTYLIST](er-functions-list-emptylist.md)
- [LIST](er-functions-list-list.md)
- [LISTDISTINCT](er-functions-list-listdistinct.md)

Дополнительные сведения о преобразовании значений типа *список записей* см. в разделе [Список функций электронной отчетности в категории "Список"](er-functions-category-list.md). Чтобы узнать, как создавать элементы *списка записей*, заполнять их данными приложения, а затем использовать эти данные для создания бизнес-документов, см. раздел [Создание нового решения электронной отчетности для печати настраиваемого отчета](er-quick-start1-new-solution.md).

## <a name="object"></a><a name="object"></a>Объект

*Объект* ссылается на экземпляр *класса* с отслеживанием состояния. Обычно *объект* инициируется в исходном коде. Затем он передается в сопоставление модели электронной отчетности и предоставляет подробные сведения о контексте выполнения.

Значение по умолчанию для типа *объект* — **NULL**.

На следующем рисунке показано, как источник данных **ReportDataContract** типа *Объект* добавляется для передачи сведений о созданной накладной из исходного кода в сопоставление модели **Накладная по проекту**. Например, текст экземпляра накладной передается как часть контекста выполнения. Этот текст берется из исходного кода во время выполнения путем выполнения привязки `ReportDataContract.parmInvoiceInstanceText`, которая была настроена для поля **Примечание** в модели данных электронной отчетности. Эта привязка вызывает метод `parmInvoiceInstanceText()` класса приложения **PSAProjInvoiceContract**, который представлен в текущем сопоставлении модели как источник данных **ReportDataContract**.

[![Настройка источника данных типа объекта на странице конструктора сопоставления модели электронной отчетности](./media/er-formula-supported-data-types-composite-object.gif)](./media/er-formula-supported-data-types-composite-object.gif)

Чтобы узнать, как передать сведения о контексте выполнения из исходного кода в выполняемое решение электронной отчетности, см. раздел [Разработка артефактов приложений для вызова созданного отчета](er-quick-start1-new-solution.md#DevelopCustomCode).

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Обзор электронной отчетности](general-electronic-reporting.md)
- [Язык формул электронной отчетности](er-formula-language.md)
- [Поддерживаемые примитивные типы данных](er-formula-supported-data-types-primitive.md)
