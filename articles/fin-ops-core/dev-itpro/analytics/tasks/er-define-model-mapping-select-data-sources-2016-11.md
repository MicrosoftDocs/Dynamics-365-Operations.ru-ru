---
title: Определение сопоставлений моделей электронной отчетности и выбор источников данных для них
description: В следующих шагах поясняется, как пользователь с ролью "Системный администратор" или "Разработчик электронной отчетности" может выбрать источники данных для модели данных электронной отчетности.
author: NickSelin
manager: AnnBe
ms.date: 08/29/2018
ms.topic: business-process
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ERWorkspace, ERSolutionTable, ERDataModelDesigner, ERModelMappingTable, ERModelMappingDesigner, ERExpressionDesignerFormula
audience: Application User
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: a6287fa95b7ce7341e99d1b1a6b972db68a30398
ms.sourcegitcommit: 57e1dafa186fec77ddd8ba9425d238e36e0f0998
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/18/2020
ms.locfileid: "3142181"
---
# <a name="define-er-model-mappings-and-select-data-sources-for-them"></a>Определение сопоставлений моделей электронной отчетности и выбор источников данных для них

[!include [banner](../../includes/banner.md)]

В следующих шагах поясняется, как пользователь с ролью "Системный администратор" или "Разработчик электронной отчетности" может выбрать источники данных для модели данных электронной отчетности. Источники данных будут привязаны к отдельным компонентам выбранной модели данных во время разработки, и будут обеспечивать заполнение этой модели данных бизнес-данными во время выполнения. В этом примере вам предстоит выбрать источники данных для существующей модели данных, созданной для компании-образца Litware, Inc. Для выполнения этих шагов необходимо сначала выполнить шаги в процедуре "Создание новой модели данных".


## <a name="open-the-electronic-reporting-configurations-tree"></a>Открытие дерева "Конфигурация электронной отчетности"
1. Перейдите в раздел "Управление организацией" > "Рабочие области" > "Электронная отчетность".
2. Щелкните "Конфигурации отчетности".

## <a name="insert-a-new-model-mapping"></a>Вставка нового сопоставления модели
1. В дереве выберите "Платежи (упрощенная модель)".
2. Выберите Конструктор.
3. Щелкните "Сопоставить модель с источником данных".
4. Щелкните "Создать".
    * В результате будет создана новая запись, обеспечивающая сопоставление модели данных с источниками данных. В этом примере вам предстоит сопоставить модель данных с источниками данных для желаемого типа платежа: кредитовый перевод.     Для конкретной модели данных можно создать несколько сопоставлений. Например, можно создать сопоставление для различных типов платежей, например для прямого дебета или кредитовых переводов. В этом примере вам предстоит создать сопоставление для кредитовых переводов.  
5. В поле "Имя" введите "Сопоставление для кредитных переводов".
    * Сопоставление для кредитовых переводов  
6. В поле "Описание" введите "Модель платежа с сопоставлением для кредитовых переводов".
    * Модель платежа с сопоставлением для кредитовых переводов  
7. В поле "Определение" введите "CustomerCreditTransferInitiation".
    * CustomerCreditTransferInitiation  
8. Разрешить изменения определения.
9. Нажмите кнопку "Сохранить".

## <a name="define-required-data-sources-for-the-current-model-mapping"></a>Определение необходимых источников данных для текущего сопоставления модели
1. Выберите Конструктор.
2. В дереве выберите узел "Dynamics 365 for Operations\Записи таблиц".
3. Щелкните "Добавить корень".
    * Введите этот источник данных для доступа к проводкам по платежам.  
4. В поле "Имя" введите "Проводки".
    * Транзакции  
5. В поле "Метка" введите "Проводки".
    * Транзакции  
6. В поле "Справка" введите "Строки журнала ГК".
    * Строки журнала ГК  
7. Выберите "Да" в поле "Запросить запрос".
    * Выберите "Да".  
8. В поле "Таблица" введите "LedgerJournalTrans".
    * LedgerJournalTrans  
9. Нажмите кнопку "OК".
    * Выберите таблицу LedgerJournalTrans в качестве источника данных для текущей модели данных.  
10. В дереве выберите "Функции\Вычисляемое поле".
11. Нажмите кнопку Добавить.
    * Щелкните "Добавить", чтобы добавить новое вычисляемое поле.  
12. В поле "Имя" введите "$EndToEndID".
    * $EndToEndID  
13. Щелкните "Изменить формулу".
14. В дереве выберите "Строка\ОБЪЕДИНИТЬ".
15. Щелкните "Добавить функцию".
16. В дереве разверните узел "Проводки".
17. В дереве выберите "Проводки\Операция".
18. Щелкните "Добавить источник данных".
19. В поле "Формула" введите "CONCATENATE(Transactions.Voucher, "-", '.
    * Введите [ , "-", ] в конце формулы.  
20. В дереве выберите "Строка\ТЕКСТ".
21. Щелкните "Добавить функцию".
22. В дереве выберите "Проводки\Код записи(RecId)".
23. Щелкните "Добавить источник данных".
24. В поле "Формула" введите "в "CONCATENATE(Transactions.Voucher, "-", TEXT(Transactions.RecId))'.
    * Введите [))] в конце формулы.  
25. Нажмите кнопку "Сохранить".
    * Убедитесь, что при создании формулы ошибок не обнаружено. См. вкладку "ОШИБКИ" под элементом управления редактора формул.  
26. Закройте страницу.
27. Нажмите кнопку "OК".
    * Добавьте вычисляемое поле в этот источник данных.  
28. Нажмите кнопку Добавить.
    * Щелкните "Добавить", чтобы добавить новое вычисляемое поле.  
29. В поле "Имя" введите "$Amount".
    * $Amount  
30. Щелкните "Изменить формулу".
31. В дереве разверните узел "Проводки".
32. В дереве выберите "Проводки\Дебит(AmountCurDebit)".
33. Щелкните "Добавить источник данных".
34. В поле "Формула" введите "Transactions.AmountCurDebit - ".
    * Введите [ - ] в конце формулы.  
35. В дереве выберите "Проводки\Кредит(AmountCurCredit)".
36. Щелкните "Добавить источник данных".
37. Нажмите кнопку "Сохранить".
38. Закройте страницу.
39. Нажмите кнопку "OК".
    * Вычисляемое поле $Amount будет добавлено в выбранный источник данных для текущей модели данных.  
40. В дереве выберите "Проводки\$Amount".
41. В дереве разверните узел "Проводки".
42. В дереве разверните или сверните "Проводки\$Amount".
43. В дереве разверните или сверните "Проводки".
44. В дереве выберите узел "Dynamics 365 for Operations\Записи таблиц".
45. Щелкните "Добавить корень".
    * Введите этот источник данных для доступа к сведениям о банковском счете компании.  
46. В поле "Имя" введите "BankAccount".
    * BankAccount  
47. В поле "Метка" введите "Банковский счет".
    * Банковский счет  
48. В поле "Справка" введите "Банковский счет".
    * Банковский счет  
49. Выберите "Да" в поле "Запросить запрос".
    * Выберите "Да".  
50. В поле "Таблица" введите "BankAccountTable".
    * BankAccountTable  
51. Нажмите кнопку "OК".
    * Выберите таблицу BankAccountTable в качестве источника данных для текущей модели данных.  
52. Щелкните "Добавить корень".
    * Введите этот источник данных для доступа к реквизитам компании.  
53. В поле "Имя" введите "Компания".
    * Организация  
54. В поле "Метка" введите значение.
    * Информация о компании  
55. В поле "Справка" введите "Информация о компании".
    * Информация о компании  
56. Выберите "Да" в поле "Запросить запрос".
    * Выберите "Да".  
57. В поле "Таблица" введите "CompanyInfo".
    * CompanyInfo  
58. Нажмите кнопку "OК".
    * Выберите таблицу CompanyInfo в качестве источника данных для текущей модели данных.  
59. В дереве выберите "Функции\Вычисляемое поле".
60. Щелкните "Добавить корень".
    * Вставьте вычисляемое поле как новый источник данных.  
61. В поле "Имя" введите "ProcessingDateTime".
    * ProcessingDateTime  
62. В поле "Метка" введите "Дата и время обработки".
    * Дата и время обработки  
63. Щелкните "Изменить формулу".
64. В дереве выберите "Date/time\SESSIONNOW".
65. Щелкните "Добавить функцию".
66. Нажмите кнопку "Сохранить".
67. Закройте страницу.
68. Нажмите кнопку "OК".
    * Добавьте вычисляемое поле ProcessingDateTime в качестве источника данных для текущей модели данных.  
69. Нажмите кнопку "Сохранить".
70. Закройте страницу.
71. Закройте страницу.
72. Закройте страницу.

