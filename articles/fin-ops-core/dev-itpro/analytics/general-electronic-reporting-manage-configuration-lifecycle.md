---
title: Управление жизненным циклом конфигураций электронной отчетности (ER)
description: В этом разделе описывается управление жизненным циклом конфигураций электронных отчетов (ER) для Dynamics 365 Finance.
author: NickSelin
ms.date: 04/13/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERMappedFormatDesigner, ERModelMappingDesigner, ERModelMappingTable, ERSolutionImport, ERSolutionTable, ERVendorTable, ERWorkspace
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 58801
ms.assetid: 35ad19ea-185d-4fce-b9cb-f94584b14f75
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 52aba53b5323a9c6c4331cd8de7e932bb9c3547e
ms.sourcegitcommit: 951393b05bf409333cb3c7ad977bcaa804aa801b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/13/2021
ms.locfileid: "5893209"
---
# <a name="manage-the-electronic-reporting-er-configuration-lifecycle"></a><span data-ttu-id="f5842-103">Управление жизненным циклом конфигураций электронной отчетности (ER)</span><span class="sxs-lookup"><span data-stu-id="f5842-103">Manage the Electronic reporting (ER) configuration lifecycle</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="f5842-104">В этом разделе описывается управление жизненным циклом конфигураций электронных отчетов (ER) для Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="f5842-104">This topic describes how to manage the lifecycle of Electronic reporting (ER) configurations for Dynamics 365 Finance.</span></span>

## <a name="overview"></a><span data-ttu-id="f5842-105">Обзор</span><span class="sxs-lookup"><span data-stu-id="f5842-105">Overview</span></span>

<span data-ttu-id="f5842-106">Электронная отчетность (ER) — это механизм для поддержки обязательных электронных документов, существующих в различных странах.</span><span class="sxs-lookup"><span data-stu-id="f5842-106">Electronic reporting (ER) is an engine that supports statutory required and country-specific electronic documents.</span></span> <span data-ttu-id="f5842-107">Обычно ER подразумевает возможность выполнять следующие задачи для одного электронного документа.</span><span class="sxs-lookup"><span data-stu-id="f5842-107">In general, ER assumes an ability to perform the following tasks for a single electronic document.</span></span> <span data-ttu-id="f5842-108">Дополнительные сведения см. в разделе [Обзор электронной отчетности (ER)](general-electronic-reporting.md).</span><span class="sxs-lookup"><span data-stu-id="f5842-108">For more details, see [Electronic reporting (ER) overview](general-electronic-reporting.md).</span></span>

- <span data-ttu-id="f5842-109">Создание шаблона для электронного документа:</span><span class="sxs-lookup"><span data-stu-id="f5842-109">Design a template for an electronic document:</span></span>

    - <span data-ttu-id="f5842-110">Определение необходимых источников данных, которые могут быть представлены в документе:</span><span class="sxs-lookup"><span data-stu-id="f5842-110">Identify the required sources of data that can be presented in the document:</span></span>

        - <span data-ttu-id="f5842-111">Лежащие в основе данные, такие как таблицы данных, сущности данных и классы.</span><span class="sxs-lookup"><span data-stu-id="f5842-111">Underlying data, such as data tables, data entities, and classes.</span></span>
        - <span data-ttu-id="f5842-112">Свойства, относящиеся к конкретному процессу, такие как дата и время выполнения и часовой пояс.</span><span class="sxs-lookup"><span data-stu-id="f5842-112">Process-specific properties, such as execution date and time, and time zone.</span></span>
        - <span data-ttu-id="f5842-113">Параметры пользовательского ввода, указанные конечным пользователь во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="f5842-113">User input parameters, specified by the end user at run time.</span></span>

    - <span data-ttu-id="f5842-114">Определение необходимых элементов документа и их топологии для задания формата окончательного документа.</span><span class="sxs-lookup"><span data-stu-id="f5842-114">Define the required document elements and their topology to specify a final document format.</span></span>
    - <span data-ttu-id="f5842-115">Конфигурирование желаемого потока данных из выбранных источников данных в заданные элементы документа (посредством привязки источников данных к компонентам формата документа) и задание логики управления процессом.</span><span class="sxs-lookup"><span data-stu-id="f5842-115">Configure the desired flow of data from selected data sources to defined document elements (via data source bindings to document format components), and specify process control logic.</span></span>

- <span data-ttu-id="f5842-116">Обеспечение доступности шаблона, чтобы его можно было использовать в других экземплярах:</span><span class="sxs-lookup"><span data-stu-id="f5842-116">Make a template available so that it can be used in other instances:</span></span>

    - <span data-ttu-id="f5842-117">Преобразование шаблона документа, созданного в конфигурации ER, и экспорт конфигурации из текущего экземпляра приложения в виде XML-пакета, который можно сохранить локально или в Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="f5842-117">Transform a document template that was created into an ER configuration, and export the configuration from the current application instance as an XML package that can be stored either locally or in Lifecycle Services (LCS).</span></span>
    - <span data-ttu-id="f5842-118">Преобразование конфигурации ER в шаблон документа приложения.</span><span class="sxs-lookup"><span data-stu-id="f5842-118">Transform an ER configuration into an application document template.</span></span>
    - <span data-ttu-id="f5842-119">Импорт XML-пакета, который хранится локально или в LCS, в текущий экземпляр.</span><span class="sxs-lookup"><span data-stu-id="f5842-119">Import an XML package that is stored either locally or in LCS into the current instance.</span></span>

- <span data-ttu-id="f5842-120">Настройка шаблона электронного документа:</span><span class="sxs-lookup"><span data-stu-id="f5842-120">Customize the template of an electronic document:</span></span>

    - <span data-ttu-id="f5842-121">импорт шаблона из LCS в текущий экземпляр в качестве конфигурации ER;</span><span class="sxs-lookup"><span data-stu-id="f5842-121">Bring a template from LCS into the current instance as an ER configuration.</span></span>
    - <span data-ttu-id="f5842-122">конструирование пользовательской версии конфигурации ER с сохранением ссылки на ее базовую версию.</span><span class="sxs-lookup"><span data-stu-id="f5842-122">Design a custom version of an ER configuration, and keep a reference to the base version.</span></span>

- <span data-ttu-id="f5842-123">Интеграция шаблона с определенным бизнес-процессом, чтобы он был доступен в приложении:</span><span class="sxs-lookup"><span data-stu-id="f5842-123">Integrate a template with a particular business process, so that it's available in the application:</span></span>

    - <span data-ttu-id="f5842-124">Настройка параметров так, чтобы приложение начало использовать конфигурацию ER, путем ссылки на эту конфигурацию в параметре, связанном с процессом.</span><span class="sxs-lookup"><span data-stu-id="f5842-124">Configure settings so that the application starts to use an ER configuration, by referring to that configuration in a process-related parameter.</span></span> <span data-ttu-id="f5842-125">Например, задайте ссылку на конфигурацию ER в конкретном способе оплаты для расчетов с поставщиками, чтобы создавать сообщения электронных платежей для обработки накладных.</span><span class="sxs-lookup"><span data-stu-id="f5842-125">For example, refer to the ER configuration in a specific Accounts payable payment method to generate an electronic payment message for processing invoices.</span></span>

- <span data-ttu-id="f5842-126">Использование шаблона в конкретном бизнес-процессе:</span><span class="sxs-lookup"><span data-stu-id="f5842-126">Use a template in a specific business process:</span></span>

    - <span data-ttu-id="f5842-127">Запуск созданной конфигурации ER в конкретном бизнес-процессе.</span><span class="sxs-lookup"><span data-stu-id="f5842-127">Run an ER configuration in a specific business process.</span></span> <span data-ttu-id="f5842-128">Например, для формирования электронного платежного сообщения для обработки накладных, если выбран метод платежа, который ссылается на конфигурацию ER.</span><span class="sxs-lookup"><span data-stu-id="f5842-128">For example, to generate an electronic payment message for processing invoices when a payment method that references the ER configuration is selected.</span></span>

## <a name="concepts"></a><span data-ttu-id="f5842-129">Концепции</span><span class="sxs-lookup"><span data-stu-id="f5842-129">Concepts</span></span>
<span data-ttu-id="f5842-130">Следующие роли и соответствующие действия связаны с жизненным циклом конфигурации ER.</span><span class="sxs-lookup"><span data-stu-id="f5842-130">The following roles and related activities are associated with the ER configuration lifecycle.</span></span>

| <span data-ttu-id="f5842-131">Роль</span><span class="sxs-lookup"><span data-stu-id="f5842-131">Role</span></span>                                       | <span data-ttu-id="f5842-132">Мероприятия</span><span class="sxs-lookup"><span data-stu-id="f5842-132">Activities</span></span>                                                      | <span data-ttu-id="f5842-133">описание</span><span class="sxs-lookup"><span data-stu-id="f5842-133">Description</span></span> |
|--------------------------------------------|-----------------------------------------------------------------|-------------|
| <span data-ttu-id="f5842-134">Консультант по функциональным возможностям электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="f5842-134">Electronic reporting functional consultant</span></span> | <span data-ttu-id="f5842-135">Создание компонентов ER (модели и форматы) и управление ими.</span><span class="sxs-lookup"><span data-stu-id="f5842-135">Create and manage ER components (models and formats).</span></span>           | <span data-ttu-id="f5842-136">Бизнес-специалист, который разрабатывает модели данных, специфичные для домена ER, разрабатывает необходимые шаблоны для электронных документов и связывает их соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="f5842-136">A business person who designs ER domain–specific data models, designs the required templates for electronic documents, and binds them accordingly.</span></span> |
| <span data-ttu-id="f5842-137">Разработчик электронной отчетности</span><span class="sxs-lookup"><span data-stu-id="f5842-137">Electronic reporting developer</span></span>             | <span data-ttu-id="f5842-138">Создание сопоставлений моделей данных и управление ими.</span><span class="sxs-lookup"><span data-stu-id="f5842-138">Create and manage data model mappings.</span></span>                          | <span data-ttu-id="f5842-139">Специалист, который выбирает необходимые источники данных Finance и связывает их с моделями данных, специфичными для домена ER.</span><span class="sxs-lookup"><span data-stu-id="f5842-139">A specialist who selects the required Finance data sources and binds them to ER domain–specific data models.</span></span> |
| <span data-ttu-id="f5842-140">Супервизор по учету</span><span class="sxs-lookup"><span data-stu-id="f5842-140">Accounting supervisor</span></span>                      | <span data-ttu-id="f5842-141">Задание настроек, связанных с процессом, которые ссылаются на артефакты ER.</span><span class="sxs-lookup"><span data-stu-id="f5842-141">Configure process-related settings that reference ER artifacts.</span></span> | <span data-ttu-id="f5842-142">Например, роль **Супервизор по учету**, которая позволяет использовать настройки конфигурации ER в определенном способе оплаты для расчетов с поставщиками, чтобы создавать сообщения электронных платежей для обработки накладных.</span><span class="sxs-lookup"><span data-stu-id="f5842-142">For example, an **Accounting supervisor** role that allows the settings of an ER configuration to be used in a particular Accounts payable payment method to generate an electronic payment message for processing invoices.</span></span> |
| <span data-ttu-id="f5842-143">Сотрудник, обрабатывающий платежи по расчетам с поставщиками</span><span class="sxs-lookup"><span data-stu-id="f5842-143">Accounts payable payments clerk</span></span>            | <span data-ttu-id="f5842-144">Использование артефактов ER в конкретном бизнес-процессе.</span><span class="sxs-lookup"><span data-stu-id="f5842-144">Use ER artifacts in a specific business process.</span></span>                | <span data-ttu-id="f5842-145">Например, роль **Сотрудник, обрабатывающий платежи по расчетам с поставщиками**, позволяющая создавать сообщения электронного платежа для обработки накладных на основе формата ER, который настроен для определенного способа оплаты.</span><span class="sxs-lookup"><span data-stu-id="f5842-145">For example, an **Accounts payable payments clerk** role that allows electronic payment messages to be generated for processing invoices, based on the ER format that is configured for a specific payment method.</span></span> |

## <a name="er-configuration-development-lifecycle"></a><span data-ttu-id="f5842-146">Жизненный цикл разработки конфигурации ER</span><span class="sxs-lookup"><span data-stu-id="f5842-146">ER configuration development lifecycle</span></span>
<span data-ttu-id="f5842-147">По следующим связанным с ER причинам рекомендуется разрабатывать конфигурации ER в среде разработки — отдельном экземпляре Finance and Operations:</span><span class="sxs-lookup"><span data-stu-id="f5842-147">For the following ER-related reasons, we recommend that you design ER configurations in the development environment, as a separate instance of Finance and Operations:</span></span>

- <span data-ttu-id="f5842-148">Пользователи, которые выполняют роли **Разработчик электронной отчетности** или **Консультант по функциональным возможностям электронной отчетности**, могут редактировать конфигурации и запускать их в целях тестирования.</span><span class="sxs-lookup"><span data-stu-id="f5842-148">Users in either the **Electronic reporting developer** role or the **Electronic reporting functional consultant** role can edit configurations and run them for testing purposes.</span></span> <span data-ttu-id="f5842-149">Этот сценарий может привести к вызовам методов классов и таблиц, которые могут повредить бизнес-данные и негативно сказаться на работе экземпляра.</span><span class="sxs-lookup"><span data-stu-id="f5842-149">This scenario can cause calls of methods of classes and tables that might harm business data and the performance of the instance.</span></span>
- <span data-ttu-id="f5842-150">Вызовы методов классов и таблиц как источников данных ER конфигураций ER не ограничиваются точками входа и содержанием, принадлежащим вошедшей в систему компании.</span><span class="sxs-lookup"><span data-stu-id="f5842-150">Calls of methods of classes and tables as ER data sources of ER configurations aren't restricted by entry points and logged company content.</span></span> <span data-ttu-id="f5842-151">Это значит, что пользователи, которые играют роли **Разработчик электронной отчетности** или **Консультант по функциональным возможностям электронной отчетности**, могут получить доступ к конфиденциальным бизнес-данным.</span><span class="sxs-lookup"><span data-stu-id="f5842-151">Therefore, users in either the **Electronic reporting developer** role or the **Electronic reporting functional consultant** role can access business-sensitive data.</span></span>

<span data-ttu-id="f5842-152">Разработанные в среде разработки конфигурации электронной отчетности можно [отправлять](#data-persistence-consideration) в тестовую среду для оценки конфигурации (надлежащей интеграции в процесс, правильности результатов и быстродействия) и контроля качества, например правильность прав доступа на основе ролей и разделение обязанностей.</span><span class="sxs-lookup"><span data-stu-id="f5842-152">ER configurations that are designed in the development environment can be [uploaded](#data-persistence-consideration) to the test environment for the configuration evaluation (proper process integration, correctness of results, and performance) and quality assurance, such as correctness of role-driven access rights and segregation of duties.</span></span> <span data-ttu-id="f5842-153">Функции, которые включают обмен конфигурациями ER, можно использовать для этой цели.</span><span class="sxs-lookup"><span data-stu-id="f5842-153">The features that enable ER configuration interchange can be used for this purpose.</span></span> <span data-ttu-id="f5842-154">Проверенные конфигурации электронной отчетности можно либо отправлять в LCS, чтобы поделиться ими с подписчикам службы, или их можно [импортировать](#data-persistence-consideration) в рабочую среду для внутреннего использования.</span><span class="sxs-lookup"><span data-stu-id="f5842-154">Proven ER configurations can be uploaded to LCS to share them with service subscribers, or they can be [imported](#data-persistence-consideration) to the production environment for internal use.</span></span>

![Жизненный цикл конфигурации электронной отчетности](./media/ger-configuration-lifecycle.png)

## <a name="data-persistence-consideration"></a><span data-ttu-id="f5842-156"><a name="data-persistence-consideration" />Вопрос сохранения данных</span><span class="sxs-lookup"><span data-stu-id="f5842-156"><a name="data-persistence-consideration" />Data persistence consideration</span></span>

<span data-ttu-id="f5842-157">Вы можете индивидуально [импортировать](tasks/er-import-configuration-lifecycle-services.md) разные [версии](general-electronic-reporting.md#component-versioning) [конфигурации](general-electronic-reporting.md#Configuration) электронной отчетности в ваш экземпляр Финансы.</span><span class="sxs-lookup"><span data-stu-id="f5842-157">You can individually [import](tasks/er-import-configuration-lifecycle-services.md) different [versions](general-electronic-reporting.md#component-versioning) of an ER [configuration](general-electronic-reporting.md#Configuration) to your Finance instance.</span></span> <span data-ttu-id="f5842-158">Когда импортируется новая версия конфигурации электронной отчетности, система управляет содержимым черновой версии данной конфигурации:</span><span class="sxs-lookup"><span data-stu-id="f5842-158">When a new version of an ER configuration is imported, the system controls the content of the draft version of this configuration:</span></span>

   - <span data-ttu-id="f5842-159">Когда импортируемая версия ниже самой верхней версии данной конфигурации в текущем экземпляре Финансов, содержимое черновой версии этой конфигурации остается неизменным.</span><span class="sxs-lookup"><span data-stu-id="f5842-159">When the imported version is lower than the highest version of this configuration in the current Finance instance, the content of the draft version of this configuration remains unchanged.</span></span>
   - <span data-ttu-id="f5842-160">Если импортируемая версия выше какой-либо другой версии данной конфигурации в текущем экземпляре Финансов, содержимое импортируемой версии копируется в черновую версию этой конфигурации, чтобы продолжить редактирование последней выполненной версии.</span><span class="sxs-lookup"><span data-stu-id="f5842-160">When the imported version is higher than any other version of this configuration in the current Finance instance, the content of the imported version is copied to the draft version of this configuration to let you continue editing the last completed version.</span></span>

<span data-ttu-id="f5842-161">Если эта конфигурация принадлежит активированному в данный момент [поставщику](general-electronic-reporting.md#Provider) конфигурации, черновую версию этой конфигурации видят пользователь на экспресс-вкладке **версии** страницы **конфигурации** (**Администрирование организации** > **Электронная отчетность** > **Конфигурации**).</span><span class="sxs-lookup"><span data-stu-id="f5842-161">If this configuration is owned by the configuration [provider](general-electronic-reporting.md#Provider) that is currently activated, the draft version of this configuration is visible to you on the **Versions** FastTab of the **Configurations** page (**Organization administration** > **Electronic reporting** > **Configurations**).</span></span> <span data-ttu-id="f5842-162">Можно выбрать черновую версию конфигурации и [изменить](er-quick-start2-customize-report.md#ConfigureDerivedFormat) ее содержимое, используя соответствующий конструктор электронной отчетности.</span><span class="sxs-lookup"><span data-stu-id="f5842-162">You can select the draft version of the configuration and [modify](er-quick-start2-customize-report.md#ConfigureDerivedFormat) its content by using the relevant ER designer.</span></span> <span data-ttu-id="f5842-163">Когда вы редактируете черновую версию конфигурации электронной отчетности, ее содержимое больше не совпадает с содержимым самой последней версии данной конфигурации в текущем экземпляре Финансов.</span><span class="sxs-lookup"><span data-stu-id="f5842-163">When you have edited the draft version of an ER configuration, its content no longer matches the content of the highest version of this configuration in the current Finance instance.</span></span> <span data-ttu-id="f5842-164">Чтобы избежать потери изменений, система выводит сообщение о том, что импорт не может быть продолжен из-за того, что версия этой конфигурации выше, чем максимальная версия данной конфигурации в текущем экземпляре Финансов.</span><span class="sxs-lookup"><span data-stu-id="f5842-164">To prevent the loss of your changes, the system displays an error that the import is unable to continue because the version of this configuration is higher than the highest version of this configuration in the current Finance instance.</span></span> <span data-ttu-id="f5842-165">В таком случае, например, в конфигурации формата **X**, будет выводиться сообщение **Версия формата 'X' не завершена**.</span><span class="sxs-lookup"><span data-stu-id="f5842-165">When this happens, for example with the format configuration **X**, the **Format 'X' version is not completed** error is displayed.</span></span>

<span data-ttu-id="f5842-166">Чтобы отменить изменения, введенные в черновую версию, выберите самую последнюю завершенную или общую версию вашей конфигурации электронной отчетности в Финансы на экспресс-вкладке **версии**, а затем выберите параметр **получить эту версию**.</span><span class="sxs-lookup"><span data-stu-id="f5842-166">To undo the changes that you introduced in the draft version, select the highest completed or shared version of your ER configuration in Finance on the **Versions** FastTab, and then select the **Get this version** option.</span></span> <span data-ttu-id="f5842-167">Содержимое выбранной версии копируется в черновую версию.</span><span class="sxs-lookup"><span data-stu-id="f5842-167">The content of the selected version is copied to the draft version.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="f5842-168">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="f5842-168">Additional resources</span></span>

[<span data-ttu-id="f5842-169">Обзор электронной отчетности (ER)</span><span class="sxs-lookup"><span data-stu-id="f5842-169">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
