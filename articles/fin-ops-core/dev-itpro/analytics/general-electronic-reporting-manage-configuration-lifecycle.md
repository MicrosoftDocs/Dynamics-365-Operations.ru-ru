---
title: Управление жизненным циклом конфигураций электронной отчетности (ER)
description: В этой статье описывается, как управлять жизненным циклом конфигураций электронной отчетности (ER) для Dynamics 365 Finance.
author: NickSelin
ms.date: 07/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERMappedFormatDesigner, ERModelMappingDesigner, ERModelMappingTable, ERSolutionImport, ERSolutionTable, ERVendorTable, ERWorkspace
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 58801
ms.assetid: 35ad19ea-185d-4fce-b9cb-f94584b14f75
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 0220fa03283119471b3d1f78a23a04ed4036264e
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/03/2022
ms.locfileid: "8906807"
---
# <a name="manage-the-electronic-reporting-er-configuration-lifecycle"></a>Управление жизненным циклом конфигураций электронной отчетности (ER)

[!include [banner](../includes/banner.md)]

В этой статье описывается, как управлять жизненным циклом конфигураций электронной отчетности (ER) для Dynamics 365 Finance.

## <a name="overview"></a>Обзор

Электронная отчетность (ER) — это механизм для поддержки обязательных электронных документов, существующих в различных странах. Обычно ER подразумевает возможность выполнять следующие задачи для одного электронного документа. Дополнительные сведения см. в разделе [Обзор электронной отчетности (ER)](general-electronic-reporting.md).

- Создание шаблона для электронного документа:

    - Определение необходимых источников данных, которые могут быть представлены в документе:

        - Лежащие в основе данные, такие как таблицы данных, сущности данных и классы.
        - Свойства, относящиеся к конкретному процессу, такие как дата и время выполнения и часовой пояс.
        - Параметры пользовательского ввода, указанные конечным пользователь во время выполнения.

    - Определение необходимых элементов документа и их топологии для задания формата окончательного документа.
    - Конфигурирование желаемого потока данных из выбранных источников данных в заданные элементы документа (посредством привязки источников данных к компонентам формата документа) и задание логики управления процессом.

- Обеспечение доступности шаблона, чтобы его можно было использовать в других экземплярах:

    - Преобразование шаблона документа, созданного в конфигурации ER, и экспорт конфигурации из текущего экземпляра приложения в виде XML-пакета, который можно сохранить локально или в Lifecycle Services (LCS).
    - Преобразование конфигурации ER в шаблон документа приложения.
    - Импорт XML-пакета, который хранится локально или в LCS, в текущий экземпляр.

- Настройка шаблона электронного документа:

    - импорт шаблона из LCS в текущий экземпляр в качестве конфигурации ER;
    - конструирование пользовательской версии конфигурации ER с сохранением ссылки на ее базовую версию.

- Интеграция шаблона с определенным бизнес-процессом, чтобы он был доступен в приложении:

    - Настройка параметров так, чтобы приложение начало использовать конфигурацию ER, путем ссылки на эту конфигурацию в параметре, связанном с процессом. Например, задайте ссылку на конфигурацию ER в конкретном способе оплаты для расчетов с поставщиками, чтобы создавать сообщения электронных платежей для обработки накладных.

- Использование шаблона в конкретном бизнес-процессе:

    - Запуск созданной конфигурации ER в конкретном бизнес-процессе. Например, для формирования электронного платежного сообщения для обработки накладных, если выбран метод платежа, который ссылается на конфигурацию ER.

## <a name="concepts"></a>Концепции
Следующие роли и соответствующие действия связаны с жизненным циклом конфигурации ER.

| Роль                                       | Мероприятия                                                      | описание |
|--------------------------------------------|-----------------------------------------------------------------|-------------|
| Консультант по функциональным возможностям электронной отчетности | Создание компонентов ER (модели и форматы) и управление ими.           | Бизнес-специалист, который разрабатывает модели данных, специфичные для домена ER, разрабатывает необходимые шаблоны для электронных документов и связывает их соответствующим образом. |
| Разработчик электронной отчетности             | Создание сопоставлений моделей данных и управление ими.                          | Специалист, который выбирает необходимые источники данных Finance и связывает их с моделями данных, специфичными для домена ER. |
| Супервизор по учету                      | Задание настроек, связанных с процессом, которые ссылаются на артефакты ER. | Например, роль **Супервизор по учету**, которая позволяет использовать настройки конфигурации ER в определенном способе оплаты для расчетов с поставщиками, чтобы создавать сообщения электронных платежей для обработки накладных. |
| Сотрудник, обрабатывающий платежи по расчетам с поставщиками            | Использование артефактов ER в конкретном бизнес-процессе.                | Например, роль **Сотрудник, обрабатывающий платежи по расчетам с поставщиками**, позволяющая создавать сообщения электронного платежа для обработки накладных на основе формата ER, который настроен для определенного способа оплаты. |

## <a name="er-configuration-development-lifecycle"></a>Жизненный цикл разработки конфигурации ER
По следующим связанным с ER причинам рекомендуется разрабатывать конфигурации ER в среде разработки — отдельном экземпляре Finance and Operations:

- Пользователи, которые выполняют роли **Разработчик электронной отчетности** или **Консультант по функциональным возможностям электронной отчетности**, могут редактировать конфигурации и запускать их в целях тестирования. Этот сценарий может привести к вызовам методов классов и таблиц, которые могут повредить бизнес-данные и негативно сказаться на работе экземпляра.
- Вызовы методов классов и таблиц как источников данных ER конфигураций ER не ограничиваются точками входа и содержанием, принадлежащим вошедшей в систему компании. Это значит, что пользователи, которые играют роли **Разработчик электронной отчетности** или **Консультант по функциональным возможностям электронной отчетности**, могут получить доступ к конфиденциальным бизнес-данным.

Разработанные в среде разработки конфигурации электронной отчетности можно [отправлять](#data-persistence-consideration) в тестовую среду для оценки конфигурации (надлежащей интеграции в процесс, правильности результатов и быстродействия) и контроля качества, например правильность прав доступа на основе ролей и разделение обязанностей. Функции, которые включают обмен конфигурациями ER, можно использовать для этой цели. Проверенные конфигурации электронной отчетности можно либо отправлять в LCS, чтобы поделиться ими с подписчикам службы, или их можно [импортировать](#data-persistence-consideration) в рабочую среду для внутреннего использования.

![Жизненный цикл конфигурации электронной отчетности.](./media/ger-configuration-lifecycle.png)

## <a name="data-persistence-consideration"></a>Вопрос сохранения данных

Вы можете индивидуально [импортировать](tasks/er-import-configuration-lifecycle-services.md) разные [версии](general-electronic-reporting.md#component-versioning) [конфигурации](general-electronic-reporting.md#Configuration) электронной отчетности в ваш экземпляр Финансы. Когда импортируется новая версия конфигурации электронной отчетности, система управляет содержимым черновой версии данной конфигурации:

- Когда импортируемая версия ниже самой верхней версии данной конфигурации в текущем экземпляре Финансов, содержимое черновой версии этой конфигурации остается неизменным.
- Если импортируемая версия выше какой-либо другой версии данной конфигурации в текущем экземпляре Финансов, содержимое импортируемой версии копируется в черновую версию этой конфигурации, чтобы продолжить редактирование последней выполненной версии.

Если эта конфигурация принадлежит активированному в данный момент [поставщику](general-electronic-reporting.md#Provider) конфигурации, черновую версию этой конфигурации видят пользователь на экспресс-вкладке **версии** страницы **конфигурации** (**Администрирование организации** > **Электронная отчетность** > **Конфигурации**). Можно выбрать черновую версию конфигурации и [изменить](er-quick-start2-customize-report.md#ConfigureDerivedFormat) ее содержимое, используя соответствующий конструктор электронной отчетности. Когда вы редактируете черновую версию конфигурации электронной отчетности, ее содержимое больше не совпадает с содержимым самой последней версии данной конфигурации в текущем экземпляре Финансов. Чтобы избежать потери изменений, система выводит сообщение о том, что импорт не может быть продолжен из-за того, что версия этой конфигурации выше, чем максимальная версия данной конфигурации в текущем экземпляре Финансов. В таком случае, например, в конфигурации формата **X**, будет выводиться сообщение **Версия формата 'X' не завершена**.

Чтобы отменить изменения, введенные в черновую версию, выберите самую последнюю завершенную или общую версию вашей конфигурации электронной отчетности в Финансы на экспресс-вкладке **версии**, а затем выберите параметр **получить эту версию**. Содержимое выбранной версии копируется в черновую версию.

## <a name="applicability-consideration"></a>Соображения применимости

При разработке новой версии конфигурации ER можно определить [зависимость](tasks/er-define-dependency-er-configurations-from-other-components-july-2017.md) от других программных компонентов. Этот шаг считается необходимым условием для управления загрузкой версии этой конфигурации из репозитория электронной отчетности или внешнего файла XML и всего дальнейшего использования этой версии. При попытке импортировать новую версию конфигурации ER система использует настроенные необходимые компоненты, чтобы указать, можно ли импортировать эту версию.

В некоторых случаях может потребоваться, чтобы система игнорировала настроенные необходимые компоненты при импорте новых версий конфигурации ER. Чтобы система игнорировала необходимые условия при импорте, выполните следующие действия.

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. На странице **Конфигурации** в области действий на вкладке **Конфигурации** в группе **Дополнительные параметры** выберите **Параметры пользователя**.
3. Установите флажок **Пропускать проверки обновлений продукта и обязательные условия версии при импорте** как **Да**.

    > [!NOTE]
    > Этот параметр используется отдельно для пользователя и для компании.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор электронной отчетности (ER)](general-electronic-reporting.md)

[Определение зависимости конфигураций электронной отчетности от других компонентов](tasks/er-define-dependency-er-configurations-from-other-components-july-2017.md)

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
