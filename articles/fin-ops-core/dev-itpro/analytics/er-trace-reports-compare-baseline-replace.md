---
title: Улучшение трассировки результатов созданных отчетов электронной отчетности для сравнения с базовыми значениями
description: В этой статье описываются усовершенствования в функции базы электронной отчетности (ER) в Microsoft Dynamics 365 for Finance and Operations версии 10.0.3 (июнь 2019 года).
author: NickSelin
ms.date: 06/19/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2018-04-01
ms.dyn365.ops.version: Release 8.0
ms.openlocfilehash: 3b9ac7dcac4d020759d04fec75e17c43ed627e25
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/03/2022
ms.locfileid: "8847411"
---
# <a name="improve-tracing-the-results-of-generated-er-reports-to-compare-with-baseline-values"></a>Улучшение трассировки результатов созданных отчетов электронной отчетности для сравнения с базовыми значениями

[!include[banner](../includes/banner.md)]

В этой статье описывается первый набор усовершенствований, которые были внесены в функцию базы структуры электронной отчетности (ER). Эти усовершенствования доступны в Microsoft Dynamics 365 for Finance and Operations версии 10.0.3 (июнь 2019) и более поздних версиях.

## <a name="automate-the-setting-of-baseline-rules"></a>Автоматизация настройки базовых правил

В статье [Отслеживание результатов из сформированного отчета и их сравнение с базовыми значениями](er-trace-reports-compare-baseline.md) объясняется, как настроить структуру ER для сбора сведений о выполнениях формата ER и оценки результатов этих выполнений. В примере в этой статье показаны шаги, которые необходимо выполнить.

Вот некоторые из шагов:

- Выполните формат ER для создания исходящего файла и сохраните его локально.
- Добавьте локальный файла в качестве вложения базового образца, который был добавлен для формата ER.
- Настройте базовое правило для добавленного базового образца. Эта конфигурация включает в себя следующие шаги:

    - Укажите элемент формата ER, который используется для создания исходящего файла.
    - Выберите вложение, ссылающееся на созданный исходный файл.

> [!NOTE]
> Эти шаги должны выполняться вручную, даже если новые возможности ER обеспечивают их автоматизацию. Чтобы получить дополнительные сведения об этой функции, выполните следующий пример.

## <a name="example-automate-the-setting-of-baseline-rules"></a>Пример. Автоматизация настройки базовых правил

Чтобы выполнить шаги данного примера, необходимо сначала выполнить шаги в примере из статьи [Отслеживание результатов из сформированного отчета и их сравнение с базовыми значениями](er-trace-reports-compare-baseline.md) вплоть до раздела "Добавление новой базы для разработанного формата ER".

### <a name="review-added-baseline"></a>Обзор добавленного базового образца

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. Выберите **Базовые**.

    > [!NOTE]
    > Кнопка **Базовые** в области действий доступна только в том случае, когда параметр пользователя ER **Запустить в режиме отладки** включен для текущей компании.

Базовый образец добавлен для выбранного формата **Формат для изучения базовых образцов ER**, но базовые правила еще не были добавлены для этого базового образца.

![Страница базовых образцов формата электронной отчетности, пока без правил.](media/GER-BaselineSample-AddBaseline2.PNG "Снимок экрана страницы базовых образцов формата электронной отчетности")

### <a name="make-a-new-baseline-rule"></a>Создание нового базового правила

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. В дереве разверните **Модель для изучения базовых образцов ER**.
3. В дереве выберите **Модель для изучения базовых образцов ER\\Формат для изучения базовых образцов ER**.
4. На экспресс-вкладке **Версии** выберите **Выполнить**.
5. В поле **Введите ИД** введите **1**.
6. Задайте для параметра **Создать базовые файлы** значение **Да**.
7. Нажмите **ОК**.
8. Выберите **Базовые**.

    ![Страница базовых образцов формата электронной отчетности, выбраны базовые образцы.](media/GER-BaselineSample-ReviewAddedBaselineLine.PNG "Снимок экрана страницы базовых образцов формата электронной отчетности")

    Созданный исходящий файл автоматически прикрепляется к базовому образцу выполненного формата ER. Базовое правило автоматически добавлено к этому базовому образцу, и также содержит ссылку на вложенный файл.

9. В поле **Имя** введите **Базовый 1**.
10. В поле **Маска имени файла** введите **.xml**.
11. Нажмите **Сохранить**.

### <a name="run-the-format"></a>Выполнение формата

Теперь все готово к выполнению оставшихся шагов в примере из статьи [Отслеживание результатов из сформированного отчета и их сравнение с базовыми значениями](er-trace-reports-compare-baseline.md), начиная с раздела "Выполнение спроектированного формата ER и просмотр журнала, чтобы проанализировать результаты".

> [!NOTE]
> При удалении автоматически добавленного базового правила на экспресс-вкладке **Базовые** вложение, на которое задана ссылка, не удаляется автоматически.

## <a name="configure-the-baseline-so-that-it-ignores-constantly-changing-parts-of-the-er-output"></a>Настройка базового образца таким образом, чтобы он игнорировал постоянно изменяющиеся части выходных данных ER

Если формат ER был создан для того, чтобы содержать сведения, которые изменяются при выполнении формата, необходимо, чтобы формат использовал функцию базовых образцов ER для сравнения созданных результатов с базовыми значениями. Например, информация может быть датой и временем обработки или уникальным идентификатором созданного документа в различных форматах (глобальный уникальный идентификатор \[GUID\] и т. д.). Новые возможности ER позволяют настроить базовое правило таким образом, чтобы оно игнорировало изменяемые элементы формата ER, когда формат выполняется с целью сравнения значений базового образца с результатами выполнения формата. Чтобы получить дополнительные сведения об этой функции, выполните следующий пример.

## <a name="example-configure-the-baseline-so-that-it-ignores-constantly-changing-parts-of-the-er-output"></a>Пример. Настройка базового образца таким образом, чтобы он игнорировал постоянно изменяющиеся части выходных данных ER

Чтобы выполнить шаги данного примера, необходимо сначала выполнить шаги в примере из статьи [Отслеживание результатов из сформированного отчета и их сравнение с базовыми значениями](er-trace-reports-compare-baseline.md).

### <a name="modify-a-configured-er-format"></a>Изменение настроенного формата ER

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. В дереве разверните **Модель для изучения базовых образцов ER**.
3. В дереве выберите **Модель для изучения базовых образцов ER\\Формат для изучения базовых образцов ER**.
4. Выберите **Конструктор**.
5. В дереве выберите **Вывод\\Документ**.
6. Выберите **Добавить**.
7. В раскрывающемся диалоговом окне в дереве выберите **XML\\Атрибут**.
8. В поле **Имя** введите **ProcessingDateTime**.
9. Нажмите **ОК**.
10. На вкладке **Сопоставление** в дереве выберите **Вывод\\Документ\\ProcessingDateTime**.
11. Выберите **Изменить формулу**.
12. В поле **Формула** введите следующее выражение: **DATETIMEFORMAT(NOW(), "O")**
13. Выберите **Сохранить**, затем выберите **Тест**.
14. Снова выберите **Тест** для повторного испытания настроенного выражения.

    ![Страница конструктора формул.](media/GER-BaselineSample-DefineProcessingDTExpression.PNG "Снимок экрана страницы конструктора формул")

    > [!NOTE]
    > На вкладке **Результаты проверки** отображается, что настраиваемое выражение возвращает другое значение даты и времени при каждом вызове.

15. Закройте страницу **Конструктор формул**, затем выберите **Сохранить**.

    ![Страница конструктора форматов.](media/GER-BaselineSample-FormatMappingDesign2.PNG "Снимок экрана страницы конструктора формата")

16. Закройте страницу **Конструктор форматов**.

### <a name="remove-an-existing-baseline-rule"></a>Удаление существующего базового правила

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. Выберите **Базовые**.
3. В списке базовых образов выберите базовый образец, настроенный для формата **Формат для изучения базовых образцов ER**.
4. На экспресс-вкладке **Базовые** выберите **Удалить** для удаления ранее настроенного базового правила.

![Страница базовых образцов формата электронной отчетности, удалено.](media/GER-BaselineSample-AddBaseline3.PNG "Снимок экрана страницы базовых образцов формата электронной отчетности")

### <a name="define-replacements-for-bindings-of-designed-er-format"></a>Определение замен для привязок разработанного формата ER

1. На странице **Конфигурации** на экспресс-вкладке **Замены** выберите **Выбрать компоненты**.
2. В дереве компонентов формата разверните пункт **Вывод**, разверните **Вывод\\Документ**, затем установите флажок для **Вывод\\Документ\\ProcessingDateTime**.
3. Нажмите **ОК**.

![Страница базовых образцов формата электронной отчетности, компоненты.](media/GER-BaselineSample-AddBaseline4.PNG "Снимок экрана страницы базовых образцов формата электронной отчетности")

Выбранный компонент формата ER был добавлен в список компонентов на экспресс-вкладке **Замены**. Когда базовый формат ER запускается в режиме отладки, привязка формата для каждого компонента будет заменена привязкой, отображаемой в столбце **Привязка**. Чтобы изменить привязку по умолчанию для компонента, указанного на экспресс-вкладке **Замены**, выберите **Правка**.

### <a name="make-a-new-baseline-rule"></a>Создание нового базового правила

Выполните шаги, указанные в разделе "Пример. Автоматизация настройки базовых правил" выше в данной статье. Уведомление предупреждает, что исходящий файл был создан с использованием базовых настроек, и что произошла принудительная замена привязок формата.

![Уведомление на странице конфигураций.](media/GER-BaselineSample-FormatRunToMakeBaselineFile4.PNG "Снимок экрана уведомления на странице &quot;Конфигурации&quot;")

### <a name="suppress-warnings-about-the-replacement-of-format-bindings"></a>Подавление предупреждений о замене привязок формата

Задав определенные параметры ER, можно подавлять оповещения, предупреждающие о замене привязок формата. Это подавление может быть полезным, если привязки формата заменены в автоматическом режиме с помощью средства Regression Suite Automation Tool. В этом случае предупреждение может считаться сбоем выполняемого тестового случая.

1. На странице **Конфигурации** в области действий на вкладке **Конфигурации** выберите **Параметры пользователя**.
2. Установите для параметра **Подавление базовых предупреждений** значение **Да**, затем выберите **ОК**.

### <a name="review-the-generated-baseline-file"></a>Просмотр сформированного базового файла

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. Выберите **Базовые**.
3. Выберите **Вложения**.
    > [!NOTE]
    > Созданный файл содержит текст даты и времени обработки (**"#"**) из привязки, которая была настроена в добавленном базовом правиле, а не из привязки формата.
    
4. Закройте страницу **Вложения**.

### <a name="run-the-designed-er-format-and-review-the-log-to-analyze-the-results"></a>Выполнение спроектированного формата ER и просмотр журнала, чтобы проанализировать результаты

1. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2. В дереве разверните **Модель для изучения базовых образцов ER**.
3. В дереве выберите **Модель для изучения базовых образцов ER\\Формат для изучения базовых образцов ER**.
4. На экспресс-вкладке **Версии** выберите **Выполнить**.
5. В поле **Введите ИД** введите **1**.
6. Нажмите **ОК**.
7. Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Журналы отладки конфигураций**.

Журнал выполнения содержит сведения о результатах сравнения созданного файла с настроенным базовым образцом. Журнал указывает, что созданный файл и базовый образец равны, даже если выполняемый формат содержит привязку для ввода постоянно изменяющегося значения даты и времени в исходящем файле.

> [!NOTE]
> Хотя исходящий файл был создан с помощью базовых настроек, которые принудительно заменяют привязки формата, вы не получаете никаких предупреждений о замене.

## <a name="exchange-baseline-settings-between-environments"></a>Обмен базовыми параметрами между средами

### <a name="export-baseline-settings"></a>Экспорт настроек базовых образцов

Новые возможности ER позволяют экспортировать базовые настройки для выбранного формата ER из текущей среды и сохранять их в виде файлов XML. 

Чтобы экспортировать базовые настройки, на странице **Базовые образцы формата электронной отчетности** выберите **Экспорт**.

### <a name="import-baseline-settings"></a>Импорт базовых параметров

Экспортированные базовые настройки можно импортировать в другую среду. Среду сначала следует импортировать как формат ER. Затем можно импортировать базовые параметры.

Чтобы импортировать базовые параметры из локального XML-файла, на странице **Базовые образцы формата электронной отчетности** выберите **Импорт**, затем выберите **Обзор**, чтобы выбрать файл XML.

![Диалоговое окно импорт базовых параметров.](media/GER-BaselineSample-ImportBaseline1.PNG "Снимок экрана диалогового окна импорта базовых параметров")

Чтобы импортировать базовые параметры из файла XML, хранящегося на сервере Microsoft SharePoint Server, на основе текущих параметров управления документами и выбранного типа документов на странице **Базовые образцы формата электронной отчетности** выберите **Импорт из источника**. Затем выберите тип документа и XML-файл. Необходимый для доступа к папке SharePoint тип документа должен быть настроен заранее.

![Диалоговое окно импорта из источника.](media/GER-BaselineSample-ImportBaseline2.PNG "Снимок экрана диалогового окна импорта из источника")

> [!NOTE]
> Можно использовать регистратор задач для записи шагов для выбора требуемого типа документа и имени файла в диалоговом окне **Импорт из источника**. Таким образом, можно сохранить необходимые базовые параметры на сервере SharePoint Server, а затем автоматически импортировать их путем воспроизведения записи задач при выполнении автоматических тестов с помощью средства Regression Suite Automation Tool.

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Отслеживание результатов из сформированного отчета и их сравнение с базовыми значениями](er-trace-reports-compare-baseline.md)
- [Ресурсы регистратора задач](../user-interface/task-recorder.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
