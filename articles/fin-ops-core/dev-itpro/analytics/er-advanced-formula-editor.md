---
title: Расширенный редактор формул электронной отчетности
description: В этом разделе описывается, как можно использовать расширенный редактор формул для настройки выражений в сопоставлении моделей электронной отчетности и компонентов формата.
author: NickSelin
manager: AnnBe
ms.date: 04/10/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERSolutionTable, ERExpressionDesignerFormula
audience: Application User
ms.reviewer: kfend
ms.custom: 97423
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-04-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: 14eb8a59b64a49649768f93befdf8e6e8dcf8105
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2020
ms.locfileid: "4685391"
---
# <a name="electronic-reporting-advanced-formula-editor"></a>Расширенный редактор формул электронной отчетности

[!include [banner](../includes/banner.md)]

Кроме [редактора формул](general-electronic-reporting.md) [электронной отчетности](general-electronic-reporting-formula-designer.md) можно использовать расширенный редактор формул электронной отчетности для улучшения процесса настройки выражений электронной отчетности. Расширенный редактор базируется на веб-браузерах и работает с помощью [редактора Monaco](https://microsoft.github.io/monaco-editor). В данном разделе описываются наиболее часто используемые возможности расширенного редактора:

- [Автоформатирование кода](#Autoformatting)
- [IntelliSense](#IntelliSense)
- [Завершение кода](#CodeCompletion)
- [Навигация по коду](#CodeNavigation)
- [Структурирование кода](#CodeStructuring)
- [Найти и заменить](#FindAndReplace)
- [Вставка данных](#DataPasting)
- [Цветовое выделение синтаксиса](#SyntaxColorization)

## <a name=""></a><a name="ActivateAdvEditor">Активация расширенного редактора формул</a>

Выполните следующие действия, чтобы начать работу с расширенным редактором формул в своем экземпляре Microsoft Dynamics 365 Finance.

1.  Перейдите в раздел **Администрирование организации** \> **Электронная отчетность** \> **Конфигурации**.
2.  На странице **Конфигурации** в области действий на вкладке **Конфигурации** в группе **Дополнительные параметры** выберите **Параметры пользователя**.
3.  В диалоговом окне **Параметры пользователя** в разделе **Трассировка выполнения** установите для параметра **Включить расширенный редактор формул** значение **Да**.

[![Страница конфигураций электронной отчетности](./media/ER-AdvEditor-Activate.png)](./media/ER-AdvEditor-Activate.png)

> [!NOTE]
> Имейте в виду, что этот параметр используется отдельно для пользователя и для компании.

## <a name=""></a><a name="Autoformatting">Автоформатирование кода</a>

При написании сложного выражения, которое состоит из нескольких строк кода, отступ новой введенной строки будет автоматически изменяться на основе отступов предыдущей строки. Можно выбрать строки и изменить их отступы, нажав **Tab** или **Shift+Tab**.

[![Редактор формул электронной отчетности](./media/ER-AdvEditor-Indentation.gif)](./media/ER-AdvEditor-Indentation.gif)

Автоформатирование позволяет полностью отформатировать выражение, чтобы облегчить дальнейшее обслуживание и упростить понимание настроенной логики.

## <a name=""></a><a name="IntelliSense">IntelliSense</a>

Редактор предоставляет завершение слов, помогающее ускорить написание выражений и избежать опечаток. При добавлении нового текста редактор автоматически предлагает список функций, поддерживаемых функциями электронной отчетности, которые содержат введенные символы. Можно также активировать IntelliSense в любом месте настроенного выражения, нажав **Ctrl+Space**.

[![Редактор формул электронной отчетности](./media/ER-AdvEditor-Intelisense.gif)](./media/ER-AdvEditor-Intelisense.gif)

## <a name=""></a><a name="CodeCompletion">Завершение кода</a>

Редактор автоматически обеспечивает завершение кода следующим образом:

- Вставка закрывающей скобки при вводе открывающей скобки, сохраняя курсор внутри квадратных скобок.
- Вставка второго символа кавычки при вводе первого, сохраняя курсор внутри кавычек.
- Вставка второго символа двойной кавычки при вводе первого, сохраняя курсор внутри кавычек.

[![Редактор формул электронной отчетности](./media/ER-AdvEditor-CodeCompletion.gif)](./media/ER-AdvEditor-CodeCompletion.gif)

При наведении указателя на введенную скобку автоматически выделяется вторая скобка этой пары скобок для отображения поддерживаемой конструкции.

## <a name=""></a><a name="CodeNavigation">Навигация по коду</a>

Чтобы найти необходимые символы или строки выражения, введите команду **Перейти** с помощью палитры команд или контекстного меню.

Например, чтобы перейти к строке **8**, выполните следующие действия:

- Нажмите сочетание клавиш **CTRL+G**, введите значение **8**, а затем нажмите клавишу **ВВОД**.

  –или–

- Нажмите клавишу **F1**,введите **G**, выберите **Перейти к строке**, введите значение **8**, а затем нажмите клавишу **ВВОД**.

[![Редактор формул электронной отчетности](./media/ER-AdvEditor-Goto.gif)](./media/ER-AdvEditor-Goto.gif)

## <a name=""></a><a name="CodeStructuring">Структурирование кода</a>

Код для некоторых функций, таких как [IF](er-functions-logical-if.md) или [CASE](er-functions-logical-case.md), автоматически структурирован. Можно развернуть или свернуть все области свертывания этого кода, чтобы уменьшить редактируемую часть выражения, чтобы сосредоточиться только на части кода, требующей вашего внимания. Для этого можно использовать команды "свернуть" и "развернуть".

Например, чтобы свернуть все регионы, выполните следующие действия:

- Нажмите сочетание клавиш **CTRL+K**

  –или–

- Нажмите клавишу **F1**, нажмите **FO**, выберите команду **Свернуть все**, а затем нажмите клавишу **ВВОД**

Чтобы развернуть все регионы, выполните следующие действия:

- Нажмите сочетание клавиш **CTRL+J**

  –или–
  
- Нажмите клавишу **F1**, введите **UN**, выберите команду **Развернуть все**, а затем нажмите клавишу **ВВОД**

[![Редактор формул электронной отчетности](./media/ER-AdvEditor-ToggleFold.gif)](./media/ER-AdvEditor-ToggleFold.gif)

## <a name=""></a><a name="FindAndReplace">Найти и заменить</a>

Чтобы найти вхождения определенного текста, выберите текст в выражении и выполните следующие действия:

- Нажмите сочетание клавиш **CTRL+F**, а затем нажмите клавишу **F3**, чтобы найти следующее вхождение выбранного текста, или нажмите сочетание клавиш **SHIFT+F3**, чтобы найти предыдущее вхождение.

  –или–
  
- Нажмите клавишу **F1**, введите **F**, а затем выберите нужный вариант, чтобы найти выбранный текст.

Чтобы заменить вхождения определенного текста, выберите текст в выражении и выполните следующие действия:

- Нажмите сочетание клавиш **CTRL+H**. Введите замещающий текст и выберите параметр замены для замены выбранного текста или всех вхождений данного текста в текущем выражении.

  –или–
  
- Нажмите клавишу **F1**, введите **R**, а затем выберите нужный вариант, чтобы заменить выбранный текст. Введите замещающий текст и выберите параметр замены для замены выбранного текста или всех вхождений данного текста в текущем выражении.

Чтобы изменить все вхождения определенного текста, выберите текст в выражении и выполните следующие действия:

- Нажмите сочетание клавиш **CTRL+F2**, а затем введите замещающий текст.

  –или–
  
- Нажмите клавишу **F1**, введите **C**, а затем выберите нужный вариант, чтобы изменить выбранный текст. Введите замещающий текст.

[![Редактор формул электронной отчетности](./media/ER-AdvEditor-Find.gif)](./media/ER-AdvEditor-Find.gif)

## <a name=""></a><a name="DataPasting">Вставка источников данных и функций</a>

Можно выбрать **Добавить источник данных**, который вставит в текущее выражение источник данных, выбранный в левой панели **Источник данных**. Аналогичным образом можно выбрать **Добавить функцию**, который вставит в текущее выражение функцию, выбранную в правой панели **Функции**. При использовании редактора формул электронной отчетности выбранная функция или выбранный источник данных всегда будет вставлен в конец настроенного выражения. При использовании расширенного редактора формул электронной отчетности выбранная функция или выбранный источник данных могут быть вставлен в любую часть настроенного выражения. Необходимо использовать курсор, чтобы указать, куда необходимо вставить данные.

[![Редактор формул электронной отчетности](./media/ER-AdvEditor-PasteValue.gif)](./media/ER-AdvEditor-PasteValue.gif)

## <a name=""></a><a name="SyntaxColorization">Цветовое выделение синтаксиса</a>

В настоящее время для выделения следующих частей выражений используются разные цвета:

- Текст в двойных скобках, который может представлять код метки текстовой константы.

[![Редактор формул электронной отчетности](./media/ER-AdvEditor-SyntaxColorization.png)](./media/ER-AdvEditor-SyntaxColorization.png)

## <a name="limitations"></a>Ограничения

В настоящее время редактор поддерживается в следующих веб-браузерах:

- Chrome
- Microsoft Edge
- Firefox
- Opera
- Safari

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Обзор электронной отчетности (ER)](general-electronic-reporting.md)
- [Конструктор формул в электронной отчетности](general-electronic-reporting-formula-designer.md)
- [Редактор Monaco](https://microsoft.github.io/monaco-editor)
