---
title: Рекомендации по импорту ваучеров с помощью объекта "Общий журнал"
description: В этом разделе приводятся советы по импорту данных в общий журнал с помощью объекта "Общий журнал".
author: ShylaThompson
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User
ms.reviewer: sericks
ms.search.scope: Core, Operations
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 23a4cff85bb5c9d119f9ec47e8421aa1964a3d4f
ms.sourcegitcommit: fbc106af09bdadb860677f590464fb93223cbf65
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/06/2019
ms.locfileid: "2769618"
---
# <a name="best-practices-for-importing-vouchers-by-using-the-general-journal-entity"></a><span data-ttu-id="10e9a-103">Рекомендации по импорту ваучеров с помощью объекта "Общий журнал"</span><span class="sxs-lookup"><span data-stu-id="10e9a-103">Best practices for importing vouchers by using the General journal entity</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="10e9a-104">В этом разделе приводятся советы по импорту данных в общий журнал с помощью объекта "Общий журнал".</span><span class="sxs-lookup"><span data-stu-id="10e9a-104">This topic provides tips for importing data into the General journal by using the General journal entity.</span></span>

<span data-ttu-id="10e9a-105">Объект "Общий журнал" можно использовать для импорта ваучеров с типом счета или типом корр. счета **Главная книга, Клиент, Поставщик или Банк**.</span><span class="sxs-lookup"><span data-stu-id="10e9a-105">You can use the General journal entity to import vouchers that have an account or offset account type of **Ledger, Customer, Vendor, or Bank**.</span></span> <span data-ttu-id="10e9a-106">Ваучер может вводиться в виде одной строки, используя как поле **Счет**, так и поле **Корр. счет**, или в виде ваучера с несколькими строками, где используется только поле **Счет** (а поле **Корр. счет** остается пустым на каждой строке).</span><span class="sxs-lookup"><span data-stu-id="10e9a-106">The voucher can be entered as one line, using both the **Account** field and the **Offset account** field, or as a multi-line voucher, where only the **Account** field is used (and the **Offset account** is left blank on each line).</span></span> <span data-ttu-id="10e9a-107">Объект "Общий журнал" поддерживает не все типы счетов.</span><span class="sxs-lookup"><span data-stu-id="10e9a-107">The General journal entity doesn't support every account type.</span></span> <span data-ttu-id="10e9a-108">Вместо этого существуют другие объекты для сценариев, в которых требуются различные комбинации типов счетов.</span><span class="sxs-lookup"><span data-stu-id="10e9a-108">Instead, other entities exist for scenarios where different combinations of account types are required.</span></span> <span data-ttu-id="10e9a-109">Например, чтобы импортировать проводку по проекту используйте объект "Журнал расходов по проекту".</span><span class="sxs-lookup"><span data-stu-id="10e9a-109">For example, to import a project transaction, use the Project expense journal entity.</span></span> <span data-ttu-id="10e9a-110">Каждый объект предназначен для поддержки конкретных сценариев, что означает, что дополнительные поля могут быть доступны в объектах для этих сценариев, но отсутствовать в объектах для других сценариев.</span><span class="sxs-lookup"><span data-stu-id="10e9a-110">Each entity is designed to support specific scenarios, which means additional fields may be available in entities for those scenarios but not in entities for a different scenario.</span></span>

## <a name="setup"></a><span data-ttu-id="10e9a-111">Настройка</span><span class="sxs-lookup"><span data-stu-id="10e9a-111">Setup</span></span>
<span data-ttu-id="10e9a-112">Прежде чем выполнять импорт с помощью объекта "Общий журнал", проверьте следующие настройки:</span><span class="sxs-lookup"><span data-stu-id="10e9a-112">Before you import by using the General journal entity, validate the following setup:</span></span>

- <span data-ttu-id="10e9a-113">**Настройка номерных серий для номера партии журнала** — по умолчанию при импорте с помощью объекта "Общий журнал" номер партии журнала использует номерную серию, определенную в параметрах главной книги.</span><span class="sxs-lookup"><span data-stu-id="10e9a-113">**Number sequence setup for the journal batch number** – By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters.</span></span> <span data-ttu-id="10e9a-114">Если задать для номерной серии номера пакета журнала значение **Вручную**, номер по умолчанию не применяется.</span><span class="sxs-lookup"><span data-stu-id="10e9a-114">If you set the number sequence for the journal batch number to **Manual**, a default number isn't applied.</span></span> <span data-ttu-id="10e9a-115">Эта настройка не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="10e9a-115">This setup isn't supported.</span></span>
- <span data-ttu-id="10e9a-116">**Конфигурация финансовой аналитики** — каждая организация должна определить порядок финансовых аналитик при использовании объектов для импорта проводок.</span><span class="sxs-lookup"><span data-stu-id="10e9a-116">**Financial dimension configuration** – Every organization must define the order of financial dimensions when entities are used to import transactions.</span></span> <span data-ttu-id="10e9a-117">Порядок определяется для формата **Интеграция аналитик ГК** в разделе **Главная книга** &gt; **План счетов** &gt; **Аналитики** &gt; **Конфигурация финансовой аналитики для интеграции приложений** &gt; **Выбор информационных объектов**.</span><span class="sxs-lookup"><span data-stu-id="10e9a-117">The order is defined for the **Ledger dimensions integration** format, at **General ledger** &gt; **Chart of accounts** &gt; **Dimensions** &gt; **Financial dimension configuration for integrating applications** &gt; **Select data entities**.</span></span> <span data-ttu-id="10e9a-118">Сегменты счета ГК, который импортируется, должны иметь тот же порядок.</span><span class="sxs-lookup"><span data-stu-id="10e9a-118">The segments of the ledger account that is imported must have the same order.</span></span> <span data-ttu-id="10e9a-119">В противном случае произойдет ошибка во время импорта.</span><span class="sxs-lookup"><span data-stu-id="10e9a-119">Otherwise, an error will occur during import.</span></span>

## <a name="general-journal-entity-setup"></a><span data-ttu-id="10e9a-120">Настройка объекта "Общий журнал"</span><span class="sxs-lookup"><span data-stu-id="10e9a-120">General journal entity setup</span></span>
<span data-ttu-id="10e9a-121">Два параметра в модуле "Управление данными" влияют на способ применения номера партии журнала по умолчанию или номера ваучера:</span><span class="sxs-lookup"><span data-stu-id="10e9a-121">Two settings in Data management affect how the default journal batch number or voucher number is applied:</span></span>

- <span data-ttu-id="10e9a-122">**Обработки на основе набора** (в информационном объекте)</span><span class="sxs-lookup"><span data-stu-id="10e9a-122">**Set-based processing** (on the data entity)</span></span>
- <span data-ttu-id="10e9a-123">**Сгенерированный автоматически** (при сопоставлении полей)</span><span class="sxs-lookup"><span data-stu-id="10e9a-123">**Auto-generated** (on the field mapping)</span></span>

<span data-ttu-id="10e9a-124">В следующих разделах описывается влияние этих параметров и объясняется, как создаются номера партий журналов и номера ваучеров.</span><span class="sxs-lookup"><span data-stu-id="10e9a-124">The following sections describe the effect of these settings, and also explain how journal batch numbers and voucher numbers are generated.</span></span>

### <a name="journal-batch-number"></a><span data-ttu-id="10e9a-125">Номер партии журнала</span><span class="sxs-lookup"><span data-stu-id="10e9a-125">Journal batch number</span></span>

- <span data-ttu-id="10e9a-126">Параметр **Обработка на основе набора** в объекте "Общий журнал" не влияет на способ создания номеров партий журналов.</span><span class="sxs-lookup"><span data-stu-id="10e9a-126">The **Set-based processing** setting on the General journal entity doesn't affect the way that journal batch numbers are generated.</span></span>
- <span data-ttu-id="10e9a-127">Если в поле **Номер партии журнала** задано значение **Сгенерировано автоматически**, новый номер партии журнала создается для каждой импортируемой строки.</span><span class="sxs-lookup"><span data-stu-id="10e9a-127">If the **Journal batch number** field is set to **Auto-generated**, a new journal batch number is created for every line that is imported.</span></span> <span data-ttu-id="10e9a-128">Это поведение не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="10e9a-128">This behavior isn't recommended.</span></span> <span data-ttu-id="10e9a-129">Параметр **Сгенерировано автоматически** расположен в проекте импорта в разделе **Просмотр карты** на вкладке **Сведения о сопоставлении**.</span><span class="sxs-lookup"><span data-stu-id="10e9a-129">The **Auto-generated** setting is found on the import project, under **View map**, on the **Mapping details** tab.</span></span>
- <span data-ttu-id="10e9a-130">Если в поле **Номер партии журнала** не задано значение **Сгенерировано автоматически**, номер партии журнала создается следующим образом:</span><span class="sxs-lookup"><span data-stu-id="10e9a-130">If the **Journal batch number** field isn't set to **Auto-generated**, the journal batch number is created as follows:</span></span>

    - <span data-ttu-id="10e9a-131">Если номер партии журнала, определенный в импортируемом файле, совпадает с существующим неразнесенным ежедневным журналом, все строки, имеющие соответствующий номер партии журнала, импортируются в существующий журнал.</span><span class="sxs-lookup"><span data-stu-id="10e9a-131">If the journal batch number that is defined in the imported file matches an existing, unposted daily journal, all lines that have a matching journal batch number are imported into the existing journal.</span></span> <span data-ttu-id="10e9a-132">Строки не импортируются в номер партии разнесенного журнала.</span><span class="sxs-lookup"><span data-stu-id="10e9a-132">Lines are never imported into a posted journal batch number.</span></span> <span data-ttu-id="10e9a-133">Вместо этого создается новый номер.</span><span class="sxs-lookup"><span data-stu-id="10e9a-133">Instead, a new number is created.</span></span>
    - <span data-ttu-id="10e9a-134">Если номер партии журнала, определенный в импортируемом файле, не совпадает с существующим неразнесенным ежедневным журналом, все строки с одинаковым номером партии журнала, группируются в новом журнале.</span><span class="sxs-lookup"><span data-stu-id="10e9a-134">If the journal batch number that is defined in the imported file doesn't match an existing, unposted daily journal, all lines that have the same journal batch number are grouped under a new journal.</span></span> <span data-ttu-id="10e9a-135">Например, все строки, имеющие номер партии журнала 1, импортируются в новый журнал, и все строки, имеющие номер партии журнала 2, импортируются во второй новый журнал.</span><span class="sxs-lookup"><span data-stu-id="10e9a-135">For example, all lines that have a journal batch number of 1 are imported into a new journal, and all lines that have a journal batch number of 2 are imported into a second new journal.</span></span> <span data-ttu-id="10e9a-136">Номер партии журнала создается с помощью номерной серии, определенной в параметрах главной книги.</span><span class="sxs-lookup"><span data-stu-id="10e9a-136">The journal batch number is created by using the number sequence that is defined in the General ledger parameters.</span></span>

### <a name="voucher-number"></a><span data-ttu-id="10e9a-137">Номер ваучера</span><span class="sxs-lookup"><span data-stu-id="10e9a-137">Voucher number</span></span>

- <span data-ttu-id="10e9a-138">При использовании параметра **Обработка на основе набора** в объекте "Общий журнал" номер ваучера должен быть предоставлен в импортируемом файле.</span><span class="sxs-lookup"><span data-stu-id="10e9a-138">When you use the **Set-based processing** setting on the General journal entity, the voucher number must be provided in the imported file.</span></span> <span data-ttu-id="10e9a-139">Каждой проводке в общем журнале назначается номер ваучера, который предоставляется в импортируемом файле, даже если ваучер не сбалансирован.</span><span class="sxs-lookup"><span data-stu-id="10e9a-139">Every transaction in the General journal is assigned the voucher number that is provided in the imported file, even if the voucher isn’t balanced.</span></span> <span data-ttu-id="10e9a-140">Если вы хотите использовать обработку на основе набора, но также хотите использовать номерную серию, определенную для номеров ваучеров, было предоставлено исправление для выпуска за февраль 2016 г.</span><span class="sxs-lookup"><span data-stu-id="10e9a-140">If you want to use set-based processing, but you also want to use the number sequence that is defined for voucher numbers, a hotfix has been provided for the February 2016 release.</span></span> <span data-ttu-id="10e9a-141">Исправление имеет номер 3170316 и доступно для загрузки в Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="10e9a-141">The hotfix number is 3170316 and available for download from Lifecycle services (LCS).</span></span> <span data-ttu-id="10e9a-142">Дополнительные сведения см. в разделе [Загрузка обновлений из Lifecycle Services (LCS)](../migration-upgrade/download-hotfix-lcs.md).</span><span class="sxs-lookup"><span data-stu-id="10e9a-142">For more information, see [Download updates from Lifecycle Services (LCS)](../migration-upgrade/download-hotfix-lcs.md).</span></span>

    - <span data-ttu-id="10e9a-143">Чтобы включить эту функциональность, в имени журнала, который используется для импорта, для поля **Выделение номеров при разноске** задайте значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="10e9a-143">To enable this functionality, on the journal name that is used for imports, set **Number allocation at posting** to **Yes**.</span></span>
    - <span data-ttu-id="10e9a-144">Номер ваучера по-прежнему должен быть определен в файле импорта.</span><span class="sxs-lookup"><span data-stu-id="10e9a-144">A voucher number must still be defined in the imported file.</span></span> <span data-ttu-id="10e9a-145">Однако этот номер является временным и заменяется номером ваучера при разноске журнала.</span><span class="sxs-lookup"><span data-stu-id="10e9a-145">However, this number is temporary and is overwritten by the voucher number when the journal is posted.</span></span> <span data-ttu-id="10e9a-146">Убедитесь, что строки журнала сгруппированы правильно по временному номеру ваучера.</span><span class="sxs-lookup"><span data-stu-id="10e9a-146">You must make sure that the lines of the journal are grouped correctly by temporary voucher number.</span></span> <span data-ttu-id="10e9a-147">Например, при разноске найдено три строки, которые имеют временный номер ваучера 1.</span><span class="sxs-lookup"><span data-stu-id="10e9a-147">For example, during posting, three lines are found that have a temporary voucher number of 1.</span></span> <span data-ttu-id="10e9a-148">Временный номер ваучера всех трех строк заменяется следующим номером в номерной серии.</span><span class="sxs-lookup"><span data-stu-id="10e9a-148">The temporary voucher number of all three lines is overwritten by the next number in the number sequence.</span></span> <span data-ttu-id="10e9a-149">Если эти три строки не являются сбалансированным объектом, ваучер не разносится.</span><span class="sxs-lookup"><span data-stu-id="10e9a-149">If those three lines aren’t a balanced entry, the voucher isn't posted.</span></span> <span data-ttu-id="10e9a-150">Затем, если найдены строки, имеющие временный номер ваучера 2, этот номер заменяется следующим номером ваучера в номерной серии и т. д.</span><span class="sxs-lookup"><span data-stu-id="10e9a-150">Next, if lines are found that have a temporary voucher number of 2, this number is overwritten by the next voucher number in the number sequence, and so on.</span></span>

- <span data-ttu-id="10e9a-151">Если вы не используете параметр **Обработка на основе набора**, не требуется предоставлять номер ваучера в импортированном файле.</span><span class="sxs-lookup"><span data-stu-id="10e9a-151">When you don't use the **Set-based processing** setting, you do not need to provide a voucher number in the imported file.</span></span> <span data-ttu-id="10e9a-152">Номера ваучеров создаются во время импорта на основе настройки имени журнала (**Только один ваучер**, **В связи с сальдо** и так далее).</span><span class="sxs-lookup"><span data-stu-id="10e9a-152">The voucher numbers are created during import, based on the setup of the journal name (**One voucher only**, **In connection of balance**, and so on).</span></span> <span data-ttu-id="10e9a-153">Например, если имя журнала определяется как **В связи с сальдо**, первая строка получает новый номер ваучера по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="10e9a-153">For example, if the journal name is defined as **In connection of balance**, the first line receives a new default voucher number.</span></span> <span data-ttu-id="10e9a-154">Затем система оценивает строку, чтобы определить, равны ли дебеты кредитам.</span><span class="sxs-lookup"><span data-stu-id="10e9a-154">The system then evaluates the line to determine whether the debits equal the credits.</span></span> <span data-ttu-id="10e9a-155">Если существует корр. счет в строке, следующая импортируемая строка получает новый номер ваучера.</span><span class="sxs-lookup"><span data-stu-id="10e9a-155">If an offset account exists on the line, the next line that is imported receives a new voucher number.</span></span> <span data-ttu-id="10e9a-156">Если корр. счет не существует, система оценивает, равны ли дебеты кредитам при импорте каждой новой строки.</span><span class="sxs-lookup"><span data-stu-id="10e9a-156">If no offset account exists, the system evaluates whether the debits equal the credits as each new line is imported.</span></span>
- <span data-ttu-id="10e9a-157">Если в поле **Номер ваучера** задано значение **Сгенерировано автоматически**, импорт завершится ошибкой.</span><span class="sxs-lookup"><span data-stu-id="10e9a-157">If the **Voucher number** field is set to **Auto-generated**, the import won't succeed.</span></span> <span data-ttu-id="10e9a-158">Параметр **Сгенерировано автоматически** для поля **Номер ваучера** не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="10e9a-158">The **Auto-generated** setting for the **Voucher number** field isn't supported.</span></span>

<span data-ttu-id="10e9a-159">По умолчанию объект "Общий журнал" использует обработку на основе набора.</span><span class="sxs-lookup"><span data-stu-id="10e9a-159">By default, the General journal entity uses set-based processing.</span></span> <span data-ttu-id="10e9a-160">После оценки бизнес-требований организации можно изменить параметр **Обработка на основе набора**, щелкнув **Информационные объекты** в рабочей области **Управление данными**.</span><span class="sxs-lookup"><span data-stu-id="10e9a-160">After you evaluate the business requirements for your organization, you can change the **Set-based processing** setting by clicking **Data entities** in the **Data management** workspace.</span></span> <span data-ttu-id="10e9a-161">Обработка на основе набора позволяет ускорить процесс импорта.</span><span class="sxs-lookup"><span data-stu-id="10e9a-161">Set-based processing is used to speed up the import process.</span></span> <span data-ttu-id="10e9a-162">Если вы не используете обработку на основе набора, импорт объекта "Общий журнал" будет проходить медленнее.</span><span class="sxs-lookup"><span data-stu-id="10e9a-162">If you don't use set-based processing, import of the General journal entity import will be slower.</span></span>
