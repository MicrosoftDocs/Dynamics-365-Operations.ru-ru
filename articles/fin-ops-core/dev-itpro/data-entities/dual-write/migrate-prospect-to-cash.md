---
title: Миграция данных продажи перспективному клиенту из интегратора данных в двойную запись
description: В этой теме описывается, как перенести данные продажи перспективному клиенту из интегратора данных в двойную запись.
author: RamaKrishnamoorthy
manager: AnnBe
ms.date: 01/04/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: rhaertle
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: ramasri
ms.dyn365.ops.version: ''
ms.search.validFrom: 2021-01-04
ms.openlocfilehash: f1478f0246e7f1ff8bd72232cbaf4c2034cf4edb
ms.sourcegitcommit: 6af7b37b1c8950ad706e684cc13a79e662985b34
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/14/2021
ms.locfileid: "4959854"
---
# <a name="migrate-prospect-to-cash-data-from-data-integrator-to-dual-write"></a>Миграция данных продажи перспективному клиенту из интегратора данных в двойную запись

[!include [banner](../../includes/banner.md)]

Чтобы перенести ваши данные продажи перспективному клиенту из интегратора данных в двойную запись, выполните следующие действия.

1. Выполните задания интегратора данных продажи перспективному клиенту для выполнения последней полной синхронизации. Таким образом вы обеспечите, что обе системы (приложения Finance and Operations и приложение для взаимодействия с клиентами) имеют все данные.
2. Чтобы избежать возможной потери данных, экспортируйте данные продажи перспективному клиенту из Microsoft Dynamics 365 Sales в файл Excel или файл с разделителями-запятыми (CSV). Экспортируйте данные из следующих сущностей:

    - [Счет](#account-table)
    - [Контактное лицо](#contact-table)
    - [Счет-фактура](#invoice-table)
    - Продукты накладной
    - [Заказ](#order-table)
    - [Заказ продуктов](#order-products-table)
    - [Товары](#products-table)
    - [Предложение с расценками](#quote-and-quote-product-tables)
    - [Продукты предложения с расценками](#quote-and-quote-product-tables)

3. Удалите решение продажи перспективному клиенту из среды Sales. На этом шаге удаляются столбцы и соответствующие данные, которые были введены решением продажи перспективному клиенту.
4. Установите решение двойной записи.
5. Создайте подключение двойной записи между приложением Finance and Operations и приложением для взаимодействия с клиентами для одного или нескольких юридических лиц.
6. Включите сопоставление таблиц двойной записи и выполните начальную синхронизацию для нужных ссылочных данных. (Дополнительные сведения см. в разделе [Рекомендации по первоначальной синхронизации](initial-sync-guidance.md).) Примерами необходимых данных являются группы клиентов, условия оплаты и графики оплаты. Не активируйте сопоставления двойной записи для таблиц, для которых требуется инициализация, например для таблиц счетов, предложений с расценками, строк предложений с расценками, заказов и строк заказа.
7. В приложении взаимодействия с клиентами перейдите в раздел **Дополнительные параметры \> Параметры системы \> Управление данными \> Правила обнаружения повторяющихся записей** и отключите все правила.
8. Инициализируйте таблицы, перечисленные на шаге 2. Инструкции см. в остальных разделах данной темы.
9. Откройте приложение Finance and Operations и включите сопоставления таблиц, такие как сопоставления таблиц счетов, предложений с расценками, строк предложения с расценками, заказов и строк заказа. Затем выполните начальную синхронизацию. (Дополнительные сведения см. в разделе [Рекомендации по первоначальной синхронизации](initial-sync-guidance.md) .) В ходе этого процесса будут синхронизироваться дополнительные сведения из приложения Finance and Operations, такие как статус обработки, адреса доставки и выставления счетов, сайты и склады.

## <a name="account-table"></a>Таблица учетной записи

1. В столбце **Компания** введите название компании, например **USMF**.
2. В столбце **Тип отношений** введите **Клиент** как статическое значение. Может быть нежелательно классифицировать каждую учетную запись в качестве клиента в бизнес-логике.
3. В столбце **Код группы клиентов** введите номер группы клиентов из приложения Finance and Operations. Значение по умолчанию из решение продажи перспективным клиентам равно **10**.
4. Если вы используете решения продаж перспективным клиентам без какой-либо настройки параметра **Номер счета**, введите значение **Номер счета** в столбец **Номер субъекта**. Если у вас есть настройки и номер субъекта неизвестен, извлеките эту информацию из приложения Finance and Operations.

## <a name="contact-table"></a>Таблица контактов

1. В столбце **Компания** введите название компании, например **USMF**.
2. Настройте следующие столбцы на основе значения **IsActiveCustomer** в CSV-файле:

    - Если параметр **IsActiveCustomer** имеет значение **Да** в CSV-файле, установите для столбца **Для продажи** значение **Да**. В столбце **Код группы клиентов** введите номер группы клиентов из приложения Finance and Operations. Значение по умолчанию из решение продажи перспективным клиентам равно **10**.
    - Если в CSV-файле для параметра **IsActiveCustomer** установлено значение **Нет**, установите для столбца **Для продажи** значение **Нет** и установите для столбца **Контакт для** значение **Клиент**.

3. Если вы используете решение продаж перспективным клиентам без какаой-либо настройки параметра **Номер контакта**, установите следующие столбцы:

    - Перенесите номер контакта из CSV-файла (**msdynce\_contactnumber**) в номер контакта в таблице **Контакт** (**msdyn\_contactnumber**).
    - Используйте значения из таблицы **Номер контакта** в столбце **Номер субъекта**.
    - Используйте значения из таблицы **Номер контакта** в столбце **Номер счета/Код контактного лица**.

## <a name="invoice-table"></a>Таблица накладных

Поскольку данные из таблицы **Накладная** предназначены для передачи в одном направлении, из приложения Finance and Operations в приложение для взаимодействия с клиентами, инициализация не требуется. Выполните начальную синхронизацию, чтобы перенести все необходимые данные из приложения Finance and Operations в приложение для взаимодействия с клиентами. Дополнительные сведения см. в разделе [Рекомендации по первоначальной синхронизации](initial-sync-guidance.md).

## <a name="order-table"></a>Таблица заказов

1. В столбце **Компания** введите название компании, например **USMF**.
2. Скопируйте значение столбца **Код заказа** в CSV-файле в столбец **Номер заказа на продажу**.
3. Скопируйте значение столбца **Клиент** в CSV-файле в столбец **Номер накладной клиента**.
4. Скопируйте значение из столбца **Поставка в страну/регион** в CSV-файле в столбец **Поставка в страну/регион**. Примерами этого значения являются **US** и **США**.
5. Задайте столбец **Запрошенная дата поступления**. Если дата поступления не используется, используйте столбцы **Запрошенная дата поставки**, **Дата исполнения** и **Дата отправки** в CSV-файле. Примером этого значения является **2020-03-27T00:00:00Z**.
6. Установите столбец **Язык**. Примером этого значения является **en-us**.
7. Задайте столбец **Тип заказа**, используя столбец **На основе номенклатуры**.

## <a name="order-products-table"></a>Таблица продуктов заказа

- В столбце **Компания** введите название компании, например **USMF**.

## <a name="products-table"></a>Таблица продуктов

Поскольку данные из таблицы **Продукты** предназначены для передачи в одном направлении, из приложения Finance and Operations в приложение для взаимодействия с клиентами, инициализация не требуется. Выполните начальную синхронизацию, чтобы перенести все необходимые данные из приложения Finance and Operations в приложение для взаимодействия с клиентами. Дополнительные сведения см. в разделе [Рекомендации по первоначальной синхронизации](initial-sync-guidance.md).

## <a name="quote-and-quote-product-tables"></a>Таблицы предложений с расценками и продуктов предложений с расценками

Для таблицы **Предложение с расценками** следуйте инструкциям в разделе [Таблица заказов](#order-table) ранее в этой теме. Для таблицы **Продукт предложения с расценками** следуйте инструкциям в разделе [Таблица продуктов заказа](#order-products-table) ранее в этой теме.
