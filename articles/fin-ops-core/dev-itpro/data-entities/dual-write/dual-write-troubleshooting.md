---
title: Общие рекомендации по устранению неполадок
description: Эта тема предоставляет общая информацию по устранению неполадок для интеграции двойной записи между приложениями Finance and Operations и Dataverse.
author: RamaKrishnamoorthy
ms.date: 03/16/2020
ms.topic: article
audience: Application User, IT Pro
ms.reviewer: rhaertle
ms.search.region: global
ms.author: ramasri
ms.search.validFrom: 2020-03-16
ms.openlocfilehash: b4adc2d83667a05d14a26ace23e5bd8026df4b5f
ms.sourcegitcommit: caa41c076f731f1e02586bc129b9bc15a278d280
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/13/2021
ms.locfileid: "7380220"
---
# <a name="general-troubleshooting"></a>Общие рекомендации по устранению неполадок

[!include [banner](../../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

Эта тема предоставляет общая информацию по устранению неполадок для интеграции двойной записи между приложениями Finance and Operations и Dataverse.

> [!IMPORTANT]
> Для некоторых вопросов, связанных с этим разделом, может потребоваться роль системного администратора или учетные данные администратора клиента Microsoft Azure Active Directory (Azure AD). В разделе для каждого выпуска объясняется, требуются ли конкретная роль или учетные данные.

## <a name="enable-and-view-the-plug-in-trace-log-in-dataverse-to-view-error-details"></a><a id="enable-view-trace"></a>Включение и просмотр журнала трассировки подключаемого модуля в Dataverse для просмотра подробных сведений об ошибке

**Роль, необходимая для включения журнала трассировки и просмотра ошибок:** системный администратор

Чтобы включить журнал трассировки, выполните следующие действия.

1. Выполните вход в приложение для взаимодействия с клиентами, откройте страницу **Параметры**, затем в области **Система** выберите **Администрирование**.
2. На странице **Администрирование** выберите **Параметры системы**.
3. На вкладке **Настройка** в столбце **Трассировка подключаемого модуля и пользовательского действия рабочего процесса** выберите **Все**, чтобы включить журнал трассировки подключаемого модуля. Если требуется вести журналы трассировки только при возникновении исключений, вместо этого можно выбрать **Исключение**.


Чтобы просмотреть журнал трассировки, выполните следующие действия.

1. Выполните вход в приложение для взаимодействия с клиентами, откройте страницу **Параметры**, затем в области **Настройка** выберите **Журнал трассировки подключаемого модуля**.
2. Найдите журналы трассировки, для которых в столбце **Имя типа** указано значение **Microsoft.Dynamics.Integrator.DualWriteRuntime.Plugins.PreCommmitPlugin**.
3. Дважды щелкните элемент, чтобы просмотреть полный журнал, а затем на экспресс-вкладке **Выполнение** просмотрите текст **Блок сообщений**.

## <a name="enable-debug-mode-to-troubleshoot-live-synchronization-issues-in-finance-and-operations-apps"></a>Включение режима отладки для устранения проблем с синхронизацией приложений Finance and Operations в режиме реального времени

**Роль, требуемая для просмотра ошибок:** системный администратор

Ошибки двойной записи, возникающие в Dataverse, могут проявляться в приложении Finance and Operations. Чтобы включить подробное протоколирование ошибок, выполните следующие действия:

1. Для всех конфигураций проектов в приложении Finance and Operations есть флаг **IsDebugMode** в таблице **DualWriteProjectConfiguration**.
2. Откройте **DualWriteProjectConfiguration** с помощью надстройки Excel. Чтобы использовать надстройку, включите режим конструктора в надстройке Finance and Operations Excel и добавьте **DualWriteProjectConfiguration** на лист. Дополнительные сведения см. в разделе [Просмотр и обновление данных сущностей с помощью Excel](../../office-integration/use-excel-add-in.md).
3. Установите для **IsDebugMode** в проекте значение **Да**.
4. Выполните сценарий, создающий ошибки.
5. Подробные журналы хранятся в таблице **DualWriteErrorLog**.
6. Для поиска данных в обозревателе таблиц используется следующая ссылка: `https://999aos.cloudax.dynamics.com/?mi=SysTableBrowser&tableName=DualWriteErrorLog` с заменой `999` при необходимости.
7. Снова обновите после [KB 4595434](https://fix.lcs.dynamics.com/Issue/Details?kb=4595434&bugId=527820&dbType=3&qc=98e5dc124ac125c57ad633d885ac612aea3ddb8f4abf9d71ab3aa354f2e06cbe), которое доступно для обновлений платформы 37 и более поздних версий. Если это исправление установлено, в режиме отладки будут записаны дополнительные журналы.  

## <a name="check-synchronization-errors-on-the-virtual-machine-for-the-finance-and-operations-app"></a>Проверка ошибок синхронизации на виртуальной машине для приложения Finance and Operations

**Роль, требуемая для просмотра ошибок:** системный администратор

1. Выполните вход в Microsoft Dynamics Lifecycle Services (LCS).
2. Откройте проект LCS, который вы выбрали для выполнения тестирования двойной записи.
3. Выберите плитку **Размещенные в облаке среды**.
4. Используйте удаленный рабочий стол для входа в виртуальную машину для приложения Finance and Operations. Используйте локальную учетную запись, отображаемую в LCS.
5. Откройте средство просмотра событий.
6. Выберите **Журналы приложений и служб \> Microsoft \> Dynamics \> AX-DualWriteSync \> Операционные**.
7. Просмотрите список недавних ошибок.

## <a name="unlink-and-link-another-dataverse-environment-from-a-finance-and-operations-app"></a>Удаление связи и связывание с другой средой Dataverse из приложения Finance and Operations

**Роль, необходимая для отмены связи со средой:** системный администратор для приложения Finance and Operations или Dataverse.

1. Выполните вход в приложение Finance and Operations.
2. Выберите **Рабочие области \> Управление данными** и выберите плитку **Двойная запись**.
3. Выберите все запущенные отображения, затем выберите **Остановить**.
4. Выберите **Удалить связь со средой**.
5. Выберите **Да**, чтобы подтвердить операцию.

Теперь можно связать новую среду.

## <a name="unable-to-view-the-sales-order-line-information-form"></a>Не удается просмотреть форму сведений о строке заказа на продажу 

При создании заказа на продажу в Dynamics 365 Sales при нажатии кнопки **+ Добавить продукты** вы можете быть перенаправлены в форму строки заказа Dynamics 365 Project Operations. Из этой формы невозможно просмотреть форму **Сведения** строки заказа на продажу. Параметр для **Сведений** не отображается в раскрывающемся списке в поле **Создать строку заказа**. Это происходит из-за того, что приложение Project Operations было установлено в вашей среде.

Для повторного включения параметра формы **Сведения** выполните следующие действия:

1. Перейдите к таблице **Строка заказа**.
2. Найдите форму **Сведения** в узле форм.
3. Выберите форму **Сведения** и щелкните **Включить роли безопасности**.
4. Измените параметр безопасности на **Показывать всем**.

## <a name="how-to-enable-and-save-network-trace-so-that-traces-can-be-attached-to-support-tickets"></a>Как включить и сохранить трассировку сети, чтобы трассировки можно было присоединить к запросам в службу поддержки

Группе поддержки может потребоваться просмотреть трассировки сети для устранения некоторых проблем. Чтобы создать трассировку сети, выполните следующие действия:

### <a name="chrome"></a>Chrome

1. На открытой вкладке нажмите клавишу **F12** или выберите **Средства для разработчиков**, чтобы открыть средства разработчика.
2. Откройте вкладку **Сеть** и введите **integ** в текстовом поле фильтра.
3. Выполните сценарий и обратите внимание на запросы, регистрируемые в журнале.
4. Щелкните записи правой кнопкой мыши и выберите **Сохранить все как HAR с содержимым**.

### <a name="microsoft-edge"></a>Microsoft Edge

1. На открытой вкладке нажмите клавишу **F12** или выберите **Средства для разработчиков**, чтобы открыть средства разработчика.
2. Откройте вкладку **Сеть**.
3. Выполните сценарий.
4. Выберите **Сохранить**, чтобы экспортировать результаты как HAR.

[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]
