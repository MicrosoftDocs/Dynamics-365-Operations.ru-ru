---
title: Общие рекомендации по устранению неполадок
description: Эта тема предоставляет общая информацию по устранению неполадок для интеграции двойной записи между приложениями Finance and Operations и Dataverse.
author: RamaKrishnamoorthy
ms.date: 03/16/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: rhaertle
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: ramasri
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-03-16
ms.openlocfilehash: ccad9c55c0200d008525c7d3fdaeeef99b7eecfb
ms.sourcegitcommit: c08a9d19eed1df03f32442ddb65a2adf1473d3b6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/06/2021
ms.locfileid: "6350748"
---
# <a name="general-troubleshooting"></a>Общие рекомендации по устранению неполадок

[!include [banner](../../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]



Эта тема предоставляет общая информацию по устранению неполадок для интеграции двойной записи между приложениями Finance and Operations и Dataverse.

> [!IMPORTANT]
> Для некоторых вопросов, связанных с этим разделом, может потребоваться роль системного администратора или учетные данные администратора клиента Microsoft Azure Active Directory (Azure AD). В разделе для каждого выпуска объясняется, требуются ли конкретная роль или учетные данные.

## <a name="when-you-try-to-install-the-dual-write-package-by-using-the-package-deployer-tool-no-available-solutions-are-shown"></a>При попытке установить пакет двойной записи с помощью средства Package Deployer доступные решения не отображаются

Некоторые версии средства Package Deployer несовместимы с пакетом решения двойной записи. Для успешной установки пакета следует использовать [версию 9.1.0.20](https://www.nuget.org/packages/Microsoft.CrmSdk.XrmTooling.PackageDeployment.Wpf/9.1.0.20) или более позднюю версию средства Package Deployer.

После установки средства Package Deployer установите пакет решения, выполнив следующие шаги.

1. Скачайте последний файл пакета решения из Yammer.com. После скачивания ZIP-файла пакета щелкните его правой кнопкой мыши и выберите пункт **Свойства**. Установите флажок **Разблокировать**, затем выберите **Применить**. Если флажок **Разблокировать** не виден, ZIP-файл уже разблокирован и этот шаг можно пропустить.

    ![Диалоговое окно свойств.](media/unblock_option.png)

2. Извлеките ZIP-файл пакета и скопируйте все файлы в папку **Dynamics365FinanceAndOperationsCommon.PackageDeployer.2.0.438**.

    ![Содержимое папки Dynamics365FinanceAndOperationsCommon.PackageDeployer.2.0.438.](media/extract_package.png)

3. Вставьте все скопированные файлы в папку **Tools** средства Package Deployer. 
4. Запустите **PackageDeployer.exe**, чтобы выбрать среду Dataverse и установить все решения.

    ![Содержимое папки Tools.](media/paste_copied_files.png)

## <a name="enable-and-view-the-plug-in-trace-log-in-dataverse-to-view-error-details"></a><a id="enable-view-trace"></a>Включение и просмотр журнала трассировки подключаемого модуля в Dataverse для просмотра подробных сведений об ошибке

**Роль, необходимая для включения журнала трассировки и просмотра ошибок:** системный администратор

Чтобы включить журнал трассировки, выполните следующие действия.

1. Выполните вход в приложение на основе модели в Dynamics 365, откройте страницу **Параметры**, затем в области **Система** выберите **Администрирование**.
2. На странице **Администрирование** выберите **Параметры системы**.
3. На вкладке **Настройка** в столбце **Трассировка подключаемого модуля и пользовательского действия рабочего процесса** выберите **Все**, чтобы включить журнал трассировки подключаемого модуля. Если требуется вести журналы трассировки только при возникновении исключений, вместо этого можно выбрать **Исключение**.


Чтобы просмотреть журнал трассировки, выполните следующие действия.

1. Выполните вход в приложение на основе модели в Dynamics 365, откройте страницу **Параметры**, затем в области **Настройка** выберите **Журнал трассировки подключаемого модуля**.
2. Найдите журналы трассировки, для которых в столбце **Имя типа** указано значение **Microsoft.Dynamics.Integrator.DualWriteRuntime.Plugins.PreCommmitPlugin**.
3. Дважды щелкните элемент, чтобы просмотреть полный журнал, а затем на экспресс-вкладке **Выполнение** просмотрите текст **Блок сообщений**.

## <a name="enable-debug-mode-to-troubleshoot-live-synchronization-issues-in-finance-and-operations-apps"></a>Включение режима отладки для устранения проблем с синхронизацией приложений Finance and Operations в режиме реального времени

**Роль, необходимая для просмотра ошибок:** системный администратор Ошибки двойной записи, которые возникают в Dataverse, могут отображаться в приложении Finance and Operations. В некоторых случаях полный текст сообщения об ошибке недоступен, поскольку сообщение слишком длинное или содержит личную идентификационную информацию (PII). Подробное протоколирование ошибок можно включить, выполнив следующие действия.

1. Все конфигурации проектов в приложениях Finance and Operations имеют свойство **IsDebugMode** в таблице **DualWriteProjectConfiguration**. Откройте таблицу **DualWriteProjectConfiguration** с помощью надстройки Excel.

    > [!TIP]
    > Простой способ открыть таблицу — включить режим **Конструктор** в надстройке Excel, затем добавить **DualWriteProjectConfigurationEntity** на лист. Дополнительные сведения см. в разделе [Открытие данных таблицы в Excel и их обновление с помощью надстройки Excel](../../office-integration/use-excel-add-in.md).

2. Установите для свойства **IsDebugMode** значение **Да** для проекта.
3. Выполните сценарий, создающий ошибки.
4. Подробные журналы доступны в таблице DualWriteErrorLog. Для просмотра данных в обозревателе таблиц используйте следующий URL-адрес (замените **XXX** требуемыми символами):

    `https://XXXaos.cloudax.dynamics.com/?mi=SysTableBrowser&tableName=DualWriteErrorLog`

## <a name="check-synchronization-errors-on-the-virtual-machine-for-the-finance-and-operations-app"></a>Проверка ошибок синхронизации на виртуальной машине для приложения Finance and Operations

**Роль, требуемая для просмотра ошибок:** системный администратор

1. Выполните вход в Microsoft Dynamics Lifecycle Services (LCS).
2. Откройте проект LCS, который вы выбрали для выполнения тестирования двойной записи.
3. Выберите плитку **Размещенные в облаке среды**.
4. Используйте удаленный рабочий стол для входа в виртуальную машину для приложения Finance and Operations. Используйте локальную учетную запись, отображаемую в LCS.
5. Откройте средство просмотра событий.
6. Выберите **Журналы приложений и служб \> Microsoft \> Dynamics \> AX-DualWriteSync \> Операционные**.
7. Просмотрите список недавних ошибок.

## <a name="unlink-and-link-another-dataverse-environment-from-a-finance-and-operations-app"></a>Удаление связи и связывание с другой средой Dataverse из приложения Finance and Operations

**Роль, необходимая для отмены связи со средой:** системный администратор для приложения Finance and Operations или Dataverse.

1. Выполните вход в приложение Finance and Operations.
2. Выберите **Рабочие области \> Управление данными** и выберите плитку **Двойная запись**.
3. Выберите все запущенные отображения, затем выберите **Остановить**.
4. Выберите **Удалить связь со средой**.
5. Выберите **Да**, чтобы подтвердить операцию.

Теперь можно связать новую среду.

## <a name="unable-to-view-the-sales-order-line-information-form"></a>Не удается просмотреть форму сведений о строке заказа на продажу 

При создании заказа на продажу в Dynamics 365 Sales при нажатии кнопки **+ Добавить продукты** вы можете быть перенаправлены в форму строки заказа Dynamics 365 Project Operations. Из этой формы невозможно просмотреть форму **Сведения** строки заказа на продажу. Параметр для **Сведений** не отображается в раскрывающемся списке в поле **Создать строку заказа**. Это происходит из-за того, что приложение Project Operations было установлено в вашей среде.

Для повторного включения параметра формы **Сведения** выполните следующие действия:
1. Перейдите к таблице **Строка заказа**.
2. Найдите форму **Сведения** в узле форм. 
3. Выберите форму **Сведения** и щелкните **Включить роли безопасности**. 
4. Измените параметр безопасности на **Показывать всем**.


[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]