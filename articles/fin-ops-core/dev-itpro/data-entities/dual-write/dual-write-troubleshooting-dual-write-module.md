---
title: Устранение неполадок в работе модуля двойной записи в приложениях Finance and Operations
description: В этом разделе содержатся сведения об устранении неполадок, связанных с модулем двойной записи в приложениях Finance and Operations.
author: RamaKrishnamoorthy
manager: AnnBe
ms.date: 03/16/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: rhaertle
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: ramasri
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-03-16
ms.openlocfilehash: 2241e7e6219f95115f55bc45a4d94550276e1e21
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2020
ms.locfileid: "4683631"
---
# <a name="troubleshoot-issues-with-the-dual-write-module-in-finance-and-operations-apps"></a>Устранение неполадок в работе модуля двойной записи в приложениях Finance and Operations

[!include [banner](../../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

Эта тема предоставляет информацию по устранению неполадок для интеграции двойной записи между приложениями Finance and Operations и Dataverse. А именно, в нем содержатся сведения об устранении неполадок, связанных с модулем **Двойная запись** в приложениях Finance and Operations.

> [!IMPORTANT]
> Для некоторых вопросов, связанных с этим разделом, может потребоваться роль системного администратора или учетные данные администратора клиента Microsoft Azure Active Directory (Azure AD). В разделе для каждого выпуска объясняется, требуются ли конкретная роль или учетные данные.

## <a name="you-cant-load-the-dual-write-module-in-a-finance-and-operations-app"></a>Вы не можете загрузить модуль двойной записи в приложение Finance and Operations

Если не удается открыть страницу **Двойная запись** путем выбора плитки **Двойная запись** в рабочей области **Управление данными**, возможно, служба интеграции данных не работает. Создайте запрос в службу поддержки для запроса перезапуска службы интеграции данных.

## <a name="error-when-you-try-to-create-a-new-table-map"></a>Ошибка при попытке создания нового сопоставления таблицы

**Необходимые учетные данные для устранения проблемы:** тот же пользователь, который настроил двойную запись.

При попытке настроить новый объект для двойной записи может появиться следующее сообщение об ошибке. Единственным пользователем, который может создать сопоставление, является пользователь, который настроил подключение с двойной записью.

*Код статуса отклика не указывает на успешное выполнение: 401 (Unauthorized).*


## <a name="error-when-you-open-the-dual-write-user-interface"></a>Ошибка при открытии интерфейса пользователя двойной записи

При попытке доступа к двойной записи из рабочей области **Управление данными** может появиться следующее сообщение об ошибке:

*login.microsoftonline.com отклонил попытку подключения.*

Чтобы устранить эту проблему, выполните вход, используя окно InPrivate в Microsoft Edge, окно инкогнито окно в Chromium или окно инкогнито в Google Chrome. Кроме того, необходимо разблокировать или удалить сторонние файлы cookie.

## <a name="error-when-you-link-the-environment-for-dual-write-or-add-a-new-table-mapping"></a>Ошибка при связи среды для двойной записи или добавлении нового сопоставления таблицы

**Необходимая роль для устранения проблемы:** системный администратор как в приложениях Finance and Operations, так и в Dataverse.

При связывании или создании карт может возникнуть следующая ошибка:

*Код состояния отклика не указывает на успешное выполнение: 403 (tokenexchange).<br> Код сеанса: \<your session id\><br> Код корневой операции: \<your root activity id\>*

Эта ошибка может возникнуть, если у вас нет достаточных прав для связывания двойной записи для создания карт. Эта ошибка может также возникать, если среда Dataverse была сброшена без отключения двойной записи. Любого пользователь с ролью системного администратора как в приложениях Finance and Operations, так и в Dataverse, может связать эти среды. Новые сопоставления таблиц может добавлять только пользователь, который настроил подключение с двойной записью. После настройки любой пользователь с ролью системного администратора может отслеживать статус и изменять сопоставления.

## <a name="error-when-you-stop-the-table-mapping"></a>Ошибка при остановке сопоставления таблицы

При попытке остановки сопоставлений таблиц может появиться следующее сообщение об ошибке:

*\[Запрещено\], \[{"статус":403,"источник":"","сообщение":"Ошибка от обмена токенами: пользователю не разрешен доступ к подключению dynamicscrmonline/xxxxxx-xxxx-xxxx-xxxxxxxx"}\], Удаленный сервер вернул ошибку: (403) Запрещено.*

Эта ошибка возникает, когда связанная среда Dataverse недоступна.

Чтобы устранить эту проблему, создайте заявку в рабочую группу интеграции данных. Приложите трассировку сети, чтобы рабочая группа интеграции данных могла отметить карты как **Не выполняются** в серверной системе.

## <a name="error-while-trying-to-start-an-table-mapping"></a>Ошибка при попытке запуска сопоставления таблиц

При попытке установить это состояние сопоставления на **Выполняется** может появиться сообщение об ошибке, подобное следующему:

*Не удалось выполнить начальную синхронизацию данных. Ошибка: сбой двойной записи — не удалось зарегистрировать подключаемый модуль: невозможно построить метаданные поиска двойной записи. Ссылка на объект ошибке не установлена на экземпляр объекта.*

Исправление для этой ошибки зависит от причины ошибки:

+ Если сопоставление имеет зависимые сопоставления, убедитесь, что разрешены зависимые сопоставления для этого сопоставления таблиц.
+ Возможно, в сопоставлении отсутствуют поля источника или назначения. Если поле в приложении Finance and Operations отсутствует, следуйте указаниям в разделе [Отсутствующие поля объекта в сопоставлениях](dual-write-troubleshooting-finops-upgrades.md#missing-entity-fields-issue-on-maps). Если отсутствует поле в Dataverse, нажмите кнопку **Обновить таблицы** на сопоставлении, чтобы эти поля автоматически вводились в сопоставление.
