---
title: Интегрированный мастер клиентов
description: В этом разделе описывается интеграция данных клиентов между Finance and Operations и Dataverse.
author: RamaKrishnamoorthy
ms.date: 07/15/2019
ms.topic: article
audience: Application User, IT Pro
ms.reviewer: tfehr
ms.search.region: global
ms.author: ramasri
ms.search.validFrom: 2019-07-15
ms.openlocfilehash: 41e4b6c192b6125a144e4d5ef952ba0975821d44
ms.sourcegitcommit: 4be1473b0a4ddfc0ba82c07591f391e89538f1c3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/31/2022
ms.locfileid: "8063297"
---
# <a name="integrated-customer-master"></a>Интегрированный справочник клиентов

[!include [banner](../../includes/banner.md)]



Данные клиентов могут обрабатываться в нескольких приложениях Dynamics 365. Например, строка клиента может быть получена через действия продажи в Dynamics 365 Sales (приложение для взаимодействия с клиентами) или строка может происходить из розничной деятельности в Dynamics 365 Commerce (приложение Finance and Operations). Вне зависимости от того, где созданы данные клиента, они интегрируются в фоновом режиме. Интегрированная главная база данных клиентов предоставляет гибкие возможности контролировать данные клиентов в любом приложении Dynamics 365 и обеспечивает полное представление клиента во всем наборе приложений Dynamics 365.

## <a name="customer-data-flow"></a>Поток данных клиентов

*Клиент* — это хорошо определенная концепция в приложениях. Таким образом, интеграция данных клиентов просто включает в себя согласование концепции клиента между двумя приложениями. На следующем рисунке показан поток данных клиентов.

![Поток данных клиентов.](media/dual-write-customer-data-flow.png)

Клиенты могут быть широко классифицированы на два типа: коммерческие/организационные клиенты и потребители/конечные пользователи. Эти два типа клиентов хранятся и обрабатываются по-разному в Finance and Operations и Dataverse.

В Финансы и операции как коммерческие/организационные клиенты, так и потребители/конечные пользователи обрабатываются в одной таблице, которая называется **CustTable** (CustCustomerV3Entity), и классифицируются на основе атрибута **Тип**. (Если для параметра **Тип** задано значение **Организация**, клиент является коммерческим/организационным клиентом, а если для параметра **Тип** задано значение **Физическое лицо**, то клиент является потребителем/конечным пользователем.) Информация об основном контактном лице обрабатывается через таблицу SMMContactPersonEntity.

В Dataverse коммерческие/организационные клиенты обрабатываются в таблице "Организация" и идентифицируются в качестве клиентов, когда атрибут **RelationshipType** имеет значение **Клиент**. Как потребители/конечные пользователи, так и контактное лицо представлены таблицей "Контакт". Чтобы обеспечить четкое разделение между потребителем/конечным пользователем и контактным лицом, таблица **Контакт** имеет флаг типа Boolean, который называется **Для продажи**. Когда параметр **Для продажи** имеет значение **True**, контакт является потребителем/конечным пользователем, и для этого контакта могут быть созданы предложения с расценками и заказы. Когда параметр **Для продажи** имеет значение **False**, контакт является просто основным контактным лицом клиента.

Когда контакт, для которого невозможны продажи, участвует в процессе предложений с расценками или заказа, для параметра **Для продажи** устанавливается значение **True**, чтобы пометить контакт как контакт для продажи. Контакт, который стал контактом для продажи, остается контактом для продажи.

## <a name="templates"></a>Шаблоны

Данные о клиентах включают всю информацию о клиенте, например, группу клиентов, адреса, контактную информацию, профиль платежа, профиль счета-фактуры и статус лояльности. Коллекция сопоставлений таблиц работает совместно во время взаимодействия данных клиентов, как показано в следующей таблице.

Приложения Finance and Operations | Приложения для взаимодействия с клиентами         | описание
----------------------------|---------------------------------|------------
[Контакты CDS V2](mapping-reference.md#115) | контакты | Этот шаблон синхронизирует все первичные, вторичные и третичные контактные данные клиентов и поставщиков.
[Группы клиентов](mapping-reference.md#126) | msdyn_customergroups | Этот шаблон синхронизирует сведения о группах клиентов.
[Способ оплаты клиента](mapping-reference.md#127) | msdyn_customerpaymentmethods | Этот шаблон синхронизирует сведения о способах оплаты клиентов.
[Клиенты V3](mapping-reference.md#101) | счета | Этот шаблон синхронизирует основную информацию о клиентах для коммерческих и организационных клиентов.
[Клиенты V3](mapping-reference.md#116) | контакты | Этот шаблон синхронизирует справочник клиентов для клиентов и конечных пользователей.
[Аффиксы имен](mapping-reference.md#155) | msdyn_nameaffixes | Этот шаблон синхронизирует ссылочные данные аффиксов имен как для клиентов, так и для поставщиков.
[Строки платежных дней CDS V2](mapping-reference.md#157) | msdyn_paymentdaylines | Этот шаблон синхронизирует ссылочные данные строк дней оплаты как для клиентов, так и для поставщиков.
[Платежные дни CDS](mapping-reference.md#158) | msdyn_paymentdays | Этот шаблон синхронизирует ссылочные данные дней оплаты как для клиентов, так и для поставщиков.
[Строки графика платежей](mapping-reference.md#159) | msdyn_paymentschedulelines | Синхронизирует ссылочные данные строк графиков оплаты как для клиентов, так и для поставщиков.
[График оплаты](mapping-reference.md#160) | msdyn_paymentschedules | Этот шаблон синхронизирует ссылочные данные графиков оплаты как для клиентов, так и для поставщиков.
[Условия оплаты](mapping-reference.md#161) | msdyn_paymentterms | Этот шаблон синхронизирует ссылочные данные условий оплаты (условия оплаты) как для клиентов, так и для поставщиков.

[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]
