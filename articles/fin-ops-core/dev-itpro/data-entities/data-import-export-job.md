---
title: Обзор заданий импорта и экспорта данных
description: Для создания заданий импорта и экспорта данных и управления ими служит рабочая область "Управление данными".
author: Sunil-Garg
ms.date: 04/22/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: c660cf5aba786fb6f84776f6443f658ebbfa25d5
ms.sourcegitcommit: 593438a145672c55ff6a910eabce2939300b40ad
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2021
ms.locfileid: "5937338"
---
# <a name="data-import-and-export-jobs-overview"></a><span data-ttu-id="23c0a-103">Обзор заданий импорта и экспорта данных</span><span class="sxs-lookup"><span data-stu-id="23c0a-103">Data import and export jobs overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="23c0a-104">Для создания заданий импорта и экспорта данных и управления ими служит рабочая область **Управление данными**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-104">To create and manage data import and export jobs, you use the **Data management** workspace.</span></span> <span data-ttu-id="23c0a-105">По умолчанию процесс импорта и экспорта данных создает промежуточную таблицу для каждого объекта в целевой базе данных.</span><span class="sxs-lookup"><span data-stu-id="23c0a-105">By default, the data import and export process creates a staging table for each entity in the target database.</span></span> <span data-ttu-id="23c0a-106">Промежуточные таблицы позволяют проверить, очистить или преобразовать данные перед перемещением.</span><span class="sxs-lookup"><span data-stu-id="23c0a-106">Staging tables let you verify, clean up, or convert data before you move it.</span></span>

> [!NOTE]
> <span data-ttu-id="23c0a-107">В этом разделе предполагается, что вы знакомы с [информационными объектами](data-entities.md).</span><span class="sxs-lookup"><span data-stu-id="23c0a-107">This topic assumes that you are familiar with [data entities](data-entities.md).</span></span>

## <a name="data-importexport-process"></a><span data-ttu-id="23c0a-108">Процесс импорта/экспорта данных</span><span class="sxs-lookup"><span data-stu-id="23c0a-108">Data import/export process</span></span>
<span data-ttu-id="23c0a-109">Ниже приведены шаги, необходимые для импорта или экспорта данных.</span><span class="sxs-lookup"><span data-stu-id="23c0a-109">Here are the steps to import or export data.</span></span>

1. <span data-ttu-id="23c0a-110">Создание задания импорта или экспорта, что предполагает выполнение следующих задач:</span><span class="sxs-lookup"><span data-stu-id="23c0a-110">Create an import or export job where you complete the following tasks:</span></span>

    - <span data-ttu-id="23c0a-111">Определение категории проекта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-111">Define the project category.</span></span>
    - <span data-ttu-id="23c0a-112">Определение объектов для импорта или экспорта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-112">Identify the entities to import or export.</span></span>
    - <span data-ttu-id="23c0a-113">Определение формата данных для задания.</span><span class="sxs-lookup"><span data-stu-id="23c0a-113">Set the data format for the job.</span></span>
    - <span data-ttu-id="23c0a-114">Определение последовательности объектов, чтобы они обрабатывались в виде логических групп и в порядке, которые имеет какой-либо смысл.</span><span class="sxs-lookup"><span data-stu-id="23c0a-114">Sequence the entities, so that they are processed in logical groups and in an order that makes sense.</span></span>
    - <span data-ttu-id="23c0a-115">Определение того, следует ли использовать промежуточные таблицы.</span><span class="sxs-lookup"><span data-stu-id="23c0a-115">Determine whether to use staging tables.</span></span>

2. <span data-ttu-id="23c0a-116">Проверка правильности сопоставления исходных данных и целевых данных.</span><span class="sxs-lookup"><span data-stu-id="23c0a-116">Validate that the source data and target data are mapped correctly.</span></span>
3. <span data-ttu-id="23c0a-117">Проверка параметров безопасности для задания импорта или экспорта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-117">Verify the security for your import or export job.</span></span>
4. <span data-ttu-id="23c0a-118">Запуск задания импорта или экспорта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-118">Run the import or export job.</span></span>
5. <span data-ttu-id="23c0a-119">Проверка правильности выполнения задания путем просмотра истории задания.</span><span class="sxs-lookup"><span data-stu-id="23c0a-119">Validate that the job ran as expected by reviewing the job history.</span></span>
6. <span data-ttu-id="23c0a-120">Очистка промежуточных таблиц.</span><span class="sxs-lookup"><span data-stu-id="23c0a-120">Clean up the staging tables.</span></span>

<span data-ttu-id="23c0a-121">В остальных разделах этой темы приведены дополнительные сведения о каждом шаге процесса.</span><span class="sxs-lookup"><span data-stu-id="23c0a-121">The remaining sections of this topic provide more details about each step of the process.</span></span>

> [!NOTE]
> <span data-ttu-id="23c0a-122">Чтобы обновить форму импорта и экспорта данных для просмотра последних данных о ходе выполнения, используйте значок обновления формы.</span><span class="sxs-lookup"><span data-stu-id="23c0a-122">In order to refresh the Data import/export form to see the latest progress, use the form refresh icon.</span></span> <span data-ttu-id="23c0a-123">Обновление на уровне браузера не рекомендуется, поскольку оно прерывает все задания импорта и экспорта, которые не выполняются в пакете.</span><span class="sxs-lookup"><span data-stu-id="23c0a-123">Browser level refresh is not recommended because it will interrupt any import/export jobs that are not run in batch.</span></span>

## <a name="create-an-import-or-export-job"></a><span data-ttu-id="23c0a-124">Создание задания импорта или экспорта</span><span class="sxs-lookup"><span data-stu-id="23c0a-124">Create an import or export job</span></span>
<span data-ttu-id="23c0a-125">Задание импорта или экспорта данных можно запустить один раз или несколько раз.</span><span class="sxs-lookup"><span data-stu-id="23c0a-125">A data import or export job can be run one time or many times.</span></span>

### <a name="define-the-project-category"></a><span data-ttu-id="23c0a-126">Определение категории проекта</span><span class="sxs-lookup"><span data-stu-id="23c0a-126">Define the project category</span></span>
<span data-ttu-id="23c0a-127">Рекомендуем подойти к выбору категории проекта для задания импорта или экспорта со всей тщательностью.</span><span class="sxs-lookup"><span data-stu-id="23c0a-127">We recommend that you take the time to select an appropriate project category for your import or export job.</span></span> <span data-ttu-id="23c0a-128">Категории проекта помогают управлять связанными заданиями.</span><span class="sxs-lookup"><span data-stu-id="23c0a-128">Project categories can help you manage related jobs.</span></span>

### <a name="identify-the-entities-to-import-or-export"></a><span data-ttu-id="23c0a-129">Определение объектов для импорта или экспорта</span><span class="sxs-lookup"><span data-stu-id="23c0a-129">Identify the entities to import or export</span></span>
<span data-ttu-id="23c0a-130">Можно добавить в задание импорта или экспорта конкретные объекты или выбрать шаблон для применения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-130">You can add specific entities to an import or export job or select a template to apply.</span></span> <span data-ttu-id="23c0a-131">Шаблоны заполняют задание списком объектов.</span><span class="sxs-lookup"><span data-stu-id="23c0a-131">Templates fill a job with a list of entities.</span></span> <span data-ttu-id="23c0a-132">Действие **Применить шаблон** становится доступным после присвоения заданию имени и сохранения задания.</span><span class="sxs-lookup"><span data-stu-id="23c0a-132">The **Apply template** option is available after you give the job a name and save the job.</span></span>

### <a name="set-the-data-format-for-the-job"></a><span data-ttu-id="23c0a-133">Определение формата данных для задания</span><span class="sxs-lookup"><span data-stu-id="23c0a-133">Set the data format for the job</span></span>
<span data-ttu-id="23c0a-134">При выборе объекта необходимо выбрать формат данных, которые будут экспортированы или импортированы.</span><span class="sxs-lookup"><span data-stu-id="23c0a-134">When you select an entity, you must select the format of the data that will be exported or imported.</span></span> <span data-ttu-id="23c0a-135">Форматы определяются с помощью плитки **Настройка источников данных**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-135">You define formats by using the **Data sources setup** tile.</span></span> <span data-ttu-id="23c0a-136">Формат исходных данных представляет собой комбинацию параметров **Тип**, **Формат файла**, **Разделитель строк** и **Разделитель столбцов**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-136">A source data format is a combination of **Type**, **File format**, **Row delimiter** and **Column delimiter**.</span></span> <span data-ttu-id="23c0a-137">Имеются также другие атрибуты, но эти являются ключевыми для понимания.</span><span class="sxs-lookup"><span data-stu-id="23c0a-137">There are also other attributes, but these are the key ones to understand.</span></span> <span data-ttu-id="23c0a-138">В следующей таблице перечислены допустимые сочетания.</span><span class="sxs-lookup"><span data-stu-id="23c0a-138">The following table lists the valid combinations.</span></span>

| <span data-ttu-id="23c0a-139">Формат файла</span><span class="sxs-lookup"><span data-stu-id="23c0a-139">File Format</span></span>            | <span data-ttu-id="23c0a-140">Разделитель строк/столбцов</span><span class="sxs-lookup"><span data-stu-id="23c0a-140">Row/Column delimiter</span></span>                       | <span data-ttu-id="23c0a-141">Стиль XML</span><span class="sxs-lookup"><span data-stu-id="23c0a-141">XML Style</span></span>                 |
|------------------------|--------------------------------------------|---------------------------|
| <span data-ttu-id="23c0a-142">Excel</span><span class="sxs-lookup"><span data-stu-id="23c0a-142">Excel</span></span>                  | <span data-ttu-id="23c0a-143">Excel</span><span class="sxs-lookup"><span data-stu-id="23c0a-143">Excel</span></span>                                      | <span data-ttu-id="23c0a-144">\-Неприменимо-</span><span class="sxs-lookup"><span data-stu-id="23c0a-144">\-NA-</span></span>                     |
| <span data-ttu-id="23c0a-145">XML</span><span class="sxs-lookup"><span data-stu-id="23c0a-145">XML</span></span>                    | <span data-ttu-id="23c0a-146">\-Неприменимо-</span><span class="sxs-lookup"><span data-stu-id="23c0a-146">\-NA-</span></span>                                      | <span data-ttu-id="23c0a-147">XML-элемент XML-атрибут</span><span class="sxs-lookup"><span data-stu-id="23c0a-147">XML-Element XML-Attribute</span></span> |
| <span data-ttu-id="23c0a-148">С разделителями, фиксированная ширина</span><span class="sxs-lookup"><span data-stu-id="23c0a-148">Delimited, fixed width</span></span> | <span data-ttu-id="23c0a-149">Запятая, точкой с запятой, символ табуляции, вертикальная черта, двоеточие</span><span class="sxs-lookup"><span data-stu-id="23c0a-149">Comma, semicolon, tab, vertical bar, colon</span></span> | <span data-ttu-id="23c0a-150">\-Неприменимо-</span><span class="sxs-lookup"><span data-stu-id="23c0a-150">\-NA-</span></span>                     |

### <a name="sequence-the-entities"></a><span data-ttu-id="23c0a-151">Определение последовательности объектов</span><span class="sxs-lookup"><span data-stu-id="23c0a-151">Sequence the entities</span></span>
<span data-ttu-id="23c0a-152">Задать последовательность объектов можно в шаблоне данных или в заданиях импорта и экспорта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-152">Entities can be sequenced in a data template, or in import and export jobs.</span></span> <span data-ttu-id="23c0a-153">При запуске задания, которое содержит несколько информационных объектов, необходимо убедиться, что информационные объекты следуют в правильном порядке.</span><span class="sxs-lookup"><span data-stu-id="23c0a-153">When you run a job that contains more than one data entity, you must make sure that the data entities are correctly sequenced.</span></span> <span data-ttu-id="23c0a-154">Последовательность объектов задается главным образом для учета всех функциональных зависимостей между объектами.</span><span class="sxs-lookup"><span data-stu-id="23c0a-154">You sequence entities primarily so that you can address any functional dependencies among entities.</span></span> <span data-ttu-id="23c0a-155">Если объекты не имеют никаких функциональных зависимостей, их можно импортировать или экспортировать параллельно.</span><span class="sxs-lookup"><span data-stu-id="23c0a-155">If entities don’t have any functional dependencies, they can be scheduled for parallel import or export.</span></span>

#### <a name="execution-units-levels-and-sequences"></a><span data-ttu-id="23c0a-156">Единицы выполнения, уровни и порядковые номера</span><span class="sxs-lookup"><span data-stu-id="23c0a-156">Execution units, levels, and sequences</span></span>
<span data-ttu-id="23c0a-157">Единица выполнения, уровень в единице выполнения и порядковый номер объекта помогают управлять порядком, в котором экспортируются или импортируются данные.</span><span class="sxs-lookup"><span data-stu-id="23c0a-157">The execution unit, level in the execution unit, and sequence of an entity help control the order that the data is exported or imported in.</span></span>

- <span data-ttu-id="23c0a-158">Объекты в различных единицах выполнения обрабатываются параллельно.</span><span class="sxs-lookup"><span data-stu-id="23c0a-158">Entities in different execution units are processed in parallel.</span></span>
- <span data-ttu-id="23c0a-159">В каждой единице выполнения объекты обрабатываются параллельно, если они имеют один и тот же уровень.</span><span class="sxs-lookup"><span data-stu-id="23c0a-159">In each execution unit, entities are processed in parallel if they have the same level.</span></span>
- <span data-ttu-id="23c0a-160">На каждом уровне объекты обрабатываются в соответствии с их порядковым номером на данном уровне.</span><span class="sxs-lookup"><span data-stu-id="23c0a-160">In each level, entities are processed according to their sequence number in that level.</span></span>
- <span data-ttu-id="23c0a-161">После завершения обработки одного уровня обрабатывается следующий уровень.</span><span class="sxs-lookup"><span data-stu-id="23c0a-161">After one level has been processed, the next level is processed.</span></span>

#### <a name="resequencing"></a><span data-ttu-id="23c0a-162">Изменение последовательности</span><span class="sxs-lookup"><span data-stu-id="23c0a-162">Resequencing</span></span>
<span data-ttu-id="23c0a-163">Изменить последовательность объектом может понадобиться в следующих ситуациях:</span><span class="sxs-lookup"><span data-stu-id="23c0a-163">You might want to resequence your entities in the following situations:</span></span>

- <span data-ttu-id="23c0a-164">Если для всех ваших изменений используется только одно задание, вы можете использовать команды изменения последовательности для оптимизации времени выполнения всего задания.</span><span class="sxs-lookup"><span data-stu-id="23c0a-164">If only one data job is used for all your changes, you can use resequencing options to optimize the execution time for the full job.</span></span> <span data-ttu-id="23c0a-165">В этих случаях можно использовать единицу выполнения для представления модуля, уровень для представления функциональной области в модуле, а порядковый номер для представления объекта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-165">In these cases, you can use the execution unit to represent the module, the level to represent the feature area in the module, and the sequence to represent the entity.</span></span> <span data-ttu-id="23c0a-166">При таком подходе можно работать между модулями в параллельном режиме, но в пределах модуля все равно работать в определенной последовательности.</span><span class="sxs-lookup"><span data-stu-id="23c0a-166">By using this approach, you can work across modules in parallel, but you can still work in sequence in a module.</span></span> <span data-ttu-id="23c0a-167">Чтобы гарантировать успешное выполнение параллельных операций, необходимо учитывать все зависимости.</span><span class="sxs-lookup"><span data-stu-id="23c0a-167">To help guarantee that parallel operations succeed, you must consider all dependencies.</span></span>
- <span data-ttu-id="23c0a-168">Если используется несколько заданий данных (например, по одному заданию для каждого модуля), задание последовательности может влиять на уровень и порядковый номер для оптимального выполнения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-168">If multiple data jobs are used (for example, one job for each module), you can use sequencing to affect the level and sequence of entities for optimal execution.</span></span>
- <span data-ttu-id="23c0a-169">Если зависимости отсутствуют вообще, вы можете задать последовательность объектов в различных единицах выполнения для максимальной оптимизации.</span><span class="sxs-lookup"><span data-stu-id="23c0a-169">If there are no dependencies at all, you can sequence entities at different execution units for maximum optimization.</span></span>

<span data-ttu-id="23c0a-170">Меню **Изменение последовательности** доступно, когда выбрано несколько объектов.</span><span class="sxs-lookup"><span data-stu-id="23c0a-170">The **Resequencing** menu is available when multiple entities are selected.</span></span> <span data-ttu-id="23c0a-171">Изменять последовательность можно по единицам измерения, уровням или порядковым номерам.</span><span class="sxs-lookup"><span data-stu-id="23c0a-171">You can resequence based on execution unit, level, or sequence options.</span></span> <span data-ttu-id="23c0a-172">Можно задать приращение для изменения последовательности выбранных объектов.</span><span class="sxs-lookup"><span data-stu-id="23c0a-172">You can set an increment to resequence the entities that have been selected.</span></span> <span data-ttu-id="23c0a-173">Единица, уровень и/или порядковый номер, выбранный для каждого объекта, обновляется на заданное значение приращения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-173">The unit, level, and/or sequence number that is selected for each entity is updated by the specified increment.</span></span>

#### <a name="sorting"></a><span data-ttu-id="23c0a-174">Сортировка</span><span class="sxs-lookup"><span data-stu-id="23c0a-174">Sorting</span></span>
<span data-ttu-id="23c0a-175">Для просмотра списка объектов в порядке последовательности можно использовать параметр **Сортировать по**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-175">Use can use the **Sort by** option to view the entity list in sequential order.</span></span>

### <a name="truncating"></a><span data-ttu-id="23c0a-176">Сокращение</span><span class="sxs-lookup"><span data-stu-id="23c0a-176">Truncating</span></span>
<span data-ttu-id="23c0a-177">Для импорта проектов можно сократить записи в объектах до проведения импорта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-177">For import projects, you can choose to truncate records in the entities prior to import.</span></span> <span data-ttu-id="23c0a-178">Это полезно, если записи должна быть импортирована в чистой набор таблиц.</span><span class="sxs-lookup"><span data-stu-id="23c0a-178">This is useful if your records must be imported into a clean set of tables.</span></span> <span data-ttu-id="23c0a-179">Эта настройка по умолчанию отключен.</span><span class="sxs-lookup"><span data-stu-id="23c0a-179">This setting is off by default.</span></span>

## <a name="validate-that-the-source-data-and-target-data-are-mapped-correctly"></a><span data-ttu-id="23c0a-180">Проверка правильности сопоставления исходных данных и целевых данных</span><span class="sxs-lookup"><span data-stu-id="23c0a-180">Validate that the source data and target data are mapped correctly</span></span>
<span data-ttu-id="23c0a-181">Сопоставление — это функция, которая применяется и к заданиям импорта, и к заданиям экспорта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-181">Mapping is a function that applies to both import and export jobs.</span></span>

- <span data-ttu-id="23c0a-182">В контексте задания импорта сопоставление описывает, какие столбцы в исходном файле становятся столбцами в промежуточной таблице.</span><span class="sxs-lookup"><span data-stu-id="23c0a-182">In the context of an import job, mapping describes which columns in the source file become the columns in the staging table.</span></span> <span data-ttu-id="23c0a-183">Таким образом система может определить, в какой столбец в промежуточной таблице должны копироваться данные того или иного столбца в исходном файле должны копироваться.</span><span class="sxs-lookup"><span data-stu-id="23c0a-183">Therefore, the system can determine which column data in the source file must be copied into which column of the staging table.</span></span>
- <span data-ttu-id="23c0a-184">В контексте задания экспорта сопоставление описывает, какие столбцы промежуточной таблицы (т. е. источника) становятся столбцами в целевом файле.</span><span class="sxs-lookup"><span data-stu-id="23c0a-184">In the context of an export job, mapping describes which columns of the staging table (that is, the source) become the columns in the target file.</span></span>

<span data-ttu-id="23c0a-185">Если имена столбцов в промежуточной таблице и файле совпадают, система устанавливает сопоставления автоматически на основании имен.</span><span class="sxs-lookup"><span data-stu-id="23c0a-185">If the column names in the staging table and the file match, the system automatically establishes the mapping, based on the names.</span></span> <span data-ttu-id="23c0a-186">Однако, если имена различаются, столбцы не сопоставляются автоматически.</span><span class="sxs-lookup"><span data-stu-id="23c0a-186">However, if the names differ, columns aren’t mapped automatically.</span></span> <span data-ttu-id="23c0a-187">В этих случаях необходимо выполнить сопоставление, выбрав команду **Просмотр карты** в объекте в задании данных.</span><span class="sxs-lookup"><span data-stu-id="23c0a-187">In these cases, you must complete the mapping by selecting the **View map** option on the entity in the data job.</span></span>

<span data-ttu-id="23c0a-188">Доступно два представления сопоставления: **Визуализация сопоставления**, которое используется по умолчанию, и **Сведения о сопоставлении**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-188">There are two mapping views: **Mapping visualization**, which is the default view, and **Mapping details**.</span></span> <span data-ttu-id="23c0a-189">Красной звездочкой (\*) обозначаются все обязательные поля в объекте.</span><span class="sxs-lookup"><span data-stu-id="23c0a-189">A red asterisk (\*) identifies any required fields in the entity.</span></span> <span data-ttu-id="23c0a-190">Эти поля должны быть сопоставлены, прежде чем вы сможете работать с объектом.</span><span class="sxs-lookup"><span data-stu-id="23c0a-190">These fields must be mapped before you can work with the entity.</span></span> <span data-ttu-id="23c0a-191">Работая с объектом, вы можете отменить сопоставление других полей, если необходимо.</span><span class="sxs-lookup"><span data-stu-id="23c0a-191">You can unmap other fields as you require when you work with the entity.</span></span> <span data-ttu-id="23c0a-192">Чтобы отменить сопоставление поля, выберите поле в столбце **Объект** или в столбце **Источник**, а затем выберите **Удалить выбор**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-192">To unmap a field, select the field in either the **Entity** column or the **Source** column, and then select **Delete selection**.</span></span> <span data-ttu-id="23c0a-193">Выберите **Сохранить**, чтобы сохранить изменения, а затем закройте страницу, чтобы вернуться в проект.</span><span class="sxs-lookup"><span data-stu-id="23c0a-193">Select **Save** to save your changes, and then close the page to return to the project.</span></span> <span data-ttu-id="23c0a-194">Эту же процедуру можно использовать для изменения сопоставления полей между источником и промежуточной таблицей после импорта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-194">You can use the same process to edit the field mapping from source to staging after you import.</span></span>

<span data-ttu-id="23c0a-195">Сопоставление на странице можно сгенерировать, выбрав **Создать сопоставление источника**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-195">You can generate a mapping on the page by selecting **Generate source mapping**.</span></span> <span data-ttu-id="23c0a-196">Сгенерированное сопоставление ведет себя как автоматическое сопоставление.</span><span class="sxs-lookup"><span data-stu-id="23c0a-196">A generated mapping behaves like an automatic mapping.</span></span> <span data-ttu-id="23c0a-197">Следовательно, все несопоставленные поля необходимо сопоставить вручную.</span><span class="sxs-lookup"><span data-stu-id="23c0a-197">Therefore, you must manually map any unmapped fields.</span></span>

![Сопоставление данных](./media/dixf-map.png)

## <a name="verify-the-security-for-your-import-or-export-job"></a><span data-ttu-id="23c0a-199">Проверка параметров безопасности для задания импорта или экспорта</span><span class="sxs-lookup"><span data-stu-id="23c0a-199">Verify the security for your import or export job</span></span>
<span data-ttu-id="23c0a-200">Доступ к рабочей области **Управление данными** можно ограничить, чтобы пользователи, не являющиеся администраторами, имели доступ только к определенным заданиям данных.</span><span class="sxs-lookup"><span data-stu-id="23c0a-200">Access to the **Data management** workspace can be restricted, so that non-administrator users can access only specific data jobs.</span></span> <span data-ttu-id="23c0a-201">Доступ к заданию данных подразумевает полный доступ к истории выполнения этого задания и доступ к промежуточной таблице.</span><span class="sxs-lookup"><span data-stu-id="23c0a-201">Access to a data job implies full access to the execution history of that job and access to the staging tables.</span></span> <span data-ttu-id="23c0a-202">Следовательно, при создании задания данных необходимо проследить за тем, чтобы были заданы надлежащие параметры управления доступом.</span><span class="sxs-lookup"><span data-stu-id="23c0a-202">Therefore, you must make sure that appropriate access controls are in place when you create a data job.</span></span>

### <a name="secure-a-job-by-roles-and-users"></a><span data-ttu-id="23c0a-203">Ограничение доступа к заданию по ролям и пользователям</span><span class="sxs-lookup"><span data-stu-id="23c0a-203">Secure a job by roles and users</span></span>
<span data-ttu-id="23c0a-204">Меню **Применимые роли** служит для ограничения доступа к заданию одной или несколькими ролями безопасности.</span><span class="sxs-lookup"><span data-stu-id="23c0a-204">Use the **Applicable roles** menu to restrict the job to one or more security roles.</span></span> <span data-ttu-id="23c0a-205">Доступ к заданию будут иметь только пользователи с этими ролями.</span><span class="sxs-lookup"><span data-stu-id="23c0a-205">Only users in those roles will have access to the job.</span></span>

<span data-ttu-id="23c0a-206">Также можно ограничить доступ к заданию конкретным набором пользователей.</span><span class="sxs-lookup"><span data-stu-id="23c0a-206">You can also restrict a job to specific users.</span></span> <span data-ttu-id="23c0a-207">Предоставление доступа к заданию по отдельным пользователям, а не по ролям обеспечивает более высокий уровень контроля, если роли назначено несколько пользователей.</span><span class="sxs-lookup"><span data-stu-id="23c0a-207">When you secure a job by users instead of roles, there is more control if multiple users are assigned to a role.</span></span>

### <a name="secure-a-job-by-legal-entity"></a><span data-ttu-id="23c0a-208">Ограничение доступа к заданию по юридическому лицу</span><span class="sxs-lookup"><span data-stu-id="23c0a-208">Secure a job by legal entity</span></span>
<span data-ttu-id="23c0a-209">Задания данных по природе своей являются глобальными.</span><span class="sxs-lookup"><span data-stu-id="23c0a-209">Data jobs are global in nature.</span></span> <span data-ttu-id="23c0a-210">Таким образом, при создании и использовании задания данных в юридическом лице это задание будет видно другим юридическим лицам в системе.</span><span class="sxs-lookup"><span data-stu-id="23c0a-210">Therefore, if a data job was created and used in a legal entity, the job will be visible in other legal entities in the system.</span></span> <span data-ttu-id="23c0a-211">В некоторых сценариях такое предусмотренное по умолчанию поведение является предпочтительным.</span><span class="sxs-lookup"><span data-stu-id="23c0a-211">This default behavior might be preferred in some application scenarios.</span></span> <span data-ttu-id="23c0a-212">Например, в организации, которая импортирует накладные посредством информационных объектов, может существовать централизованная группа обработки накладных, отвечающая за устранение ошибок в накладных по всем подразделениям организации.</span><span class="sxs-lookup"><span data-stu-id="23c0a-212">For example, an organization that imports invoices by using data entities might provide a centralized invoice processing team that is responsible for managing invoice errors for all divisions in the organization.</span></span> <span data-ttu-id="23c0a-213">В этом случае централизованной группе обработки накладных полезно иметь доступ к заданиям импорта накладных из всех юридических лиц.</span><span class="sxs-lookup"><span data-stu-id="23c0a-213">In this scenario, it’s useful for the centralized invoice processing team to have access to invoice import jobs from all legal entities.</span></span> <span data-ttu-id="23c0a-214">Следовательно, предусмотренное по умолчанию поведение соответствует требованиям с точки зрения юридических лиц.</span><span class="sxs-lookup"><span data-stu-id="23c0a-214">Therefore, the default behavior meets the requirement from a legal entity perspective.</span></span>

<span data-ttu-id="23c0a-215">Однако в организации также могут быть отдельные группы обработки накладных для каждого юридического лица.</span><span class="sxs-lookup"><span data-stu-id="23c0a-215">However, an organization might want to have invoice processing teams per legal entity.</span></span> <span data-ttu-id="23c0a-216">В таком случае команда в юридическом лице должна иметь доступ только к заданию импорта накладных в своем собственном юридическом лице.</span><span class="sxs-lookup"><span data-stu-id="23c0a-216">In this case, a team in a legal entity should have access only to the invoice import job in its own legal entity.</span></span> <span data-ttu-id="23c0a-217">Для удовлетворения этого требования можно настроить контроль доступа к заданиям данных по юридическому лицу с помощью меню **Применимые юридические лица** внутри задания данных.</span><span class="sxs-lookup"><span data-stu-id="23c0a-217">To meet this requirement, you can configure legal entity–based access control on the data jobs by using the **Applicable legal entities** menu inside the data job.</span></span> <span data-ttu-id="23c0a-218">По завершении конфигурирования пользователи смогут видеть только задания, доступные в юридическом лице, в которое они в данный момент вошли.</span><span class="sxs-lookup"><span data-stu-id="23c0a-218">After the configuration is done, users can see only jobs that are available in the legal entity that they are currently signed in to.</span></span> <span data-ttu-id="23c0a-219">Чтобы просмотреть задания в другом юридическом лице, пользователю понадобится перейти в это юридическое лицо.</span><span class="sxs-lookup"><span data-stu-id="23c0a-219">To see jobs from another legal entity, users must switch to that legal entity.</span></span>

<span data-ttu-id="23c0a-220">Доступ к заданию можно ограничить по ролям, пользователям и юридическому лицу одновременно.</span><span class="sxs-lookup"><span data-stu-id="23c0a-220">A job can be secured by roles, users, and legal entity at the same time.</span></span>

## <a name="run-the-import-or-export-job"></a><span data-ttu-id="23c0a-221">Запуск задания импорта или экспорта</span><span class="sxs-lookup"><span data-stu-id="23c0a-221">Run the import or export job</span></span>
<span data-ttu-id="23c0a-222">Можно запустить задание однократно, нажав кнопку **Импорт** или **Экспорт** после определения задания.</span><span class="sxs-lookup"><span data-stu-id="23c0a-222">You can run a job one time by selecting the **Import** or **Export** button after you define the job.</span></span> <span data-ttu-id="23c0a-223">Чтобы настроить повторяющееся задание, нажмите кнопку **Создать повторяющееся задание данных**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-223">To set up a recurring job, select **Create recurring data job**.</span></span>

> [!NOTE]
> <span data-ttu-id="23c0a-224">Задания импорта или экспорта могут выполняться с помощью кнопки **Импорт** или **Экспорт**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-224">An import or an export job can be run by selecting the **Import** or **Export** button.</span></span> <span data-ttu-id="23c0a-225">При этом будет запланировано выполнение пакетного задания только один раз.</span><span class="sxs-lookup"><span data-stu-id="23c0a-225">This will schedule a batch job to run only once.</span></span> <span data-ttu-id="23c0a-226">Задание не выполняется немедленно, если пакетная служба ограничивается из-за загрузки пакетной службы.</span><span class="sxs-lookup"><span data-stu-id="23c0a-226">The job may not execute immediately if batch service is throttling due to the load on the batch service.</span></span> <span data-ttu-id="23c0a-227">Задания также могут выполняться синхронно при выборе команды **Импортировать сейчас** или **Экспортировать сейчас**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-227">The jobs can also be run synchronously by selecting **Import now** or **Export now**.</span></span> <span data-ttu-id="23c0a-228">Это запускает задание немедленно и полезно, если пакетный режим не запускается из-за регулирования.</span><span class="sxs-lookup"><span data-stu-id="23c0a-228">This starts the job immediately and is useful if the batch does not start due to throttling.</span></span> <span data-ttu-id="23c0a-229">Задания также могут быть запланированы к выполнению в более позднее время.</span><span class="sxs-lookup"><span data-stu-id="23c0a-229">The jobs can also be scheduled to execute at a later time.</span></span> <span data-ttu-id="23c0a-230">Это можно сделать, выбрав параметр **Выполнить в пакетном режиме**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-230">This can be done by choosing the **Run in batch** option.</span></span> <span data-ttu-id="23c0a-231">Пакетные ресурсы обычно подвергаются регулированию, поэтому пакетное задание может начаться не сразу.</span><span class="sxs-lookup"><span data-stu-id="23c0a-231">Batch resources are subject to throttling, so the batch job might not start immediately.</span></span> <span data-ttu-id="23c0a-232">Использование пакетного режима является рекомендуемым вариантом, поскольку он также помогает работать с большими объемами данных, которые необходимо импортировать или экспортировать.</span><span class="sxs-lookup"><span data-stu-id="23c0a-232">Using a batch is the recommended option because it will also help with large volumes of data that need to be imported or exported.</span></span> <span data-ttu-id="23c0a-233">Пакетные задания можно запланировать для выполнения в определенной пакетной группе, благодаря чему обеспечивает больший контроль с точки зрения балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="23c0a-233">Batch jobs can be scheduled to run on a specific batch group, which allows more control from a load balancing perspective.</span></span>

## <a name="validate-that-the-job-ran-as-expected"></a><span data-ttu-id="23c0a-234">Проверка правильности выполнения задания</span><span class="sxs-lookup"><span data-stu-id="23c0a-234">Validate that the job ran as expected</span></span>
<span data-ttu-id="23c0a-235">Для исследования и устранения неполадок и в заданиях импорта, и в заданиях экспорта ведется история задания.</span><span class="sxs-lookup"><span data-stu-id="23c0a-235">The job history is available for troubleshooting and investigation on both import and export jobs.</span></span> <span data-ttu-id="23c0a-236">Запуски задания в ней упорядочены по временным диапазонам.</span><span class="sxs-lookup"><span data-stu-id="23c0a-236">Historical job runs are organized by time ranges.</span></span>

![Диапазоны в истории задания](./media/dixf-job-history.md.png)

<span data-ttu-id="23c0a-238">По каждому запуску задания фиксируются следующие подробности:</span><span class="sxs-lookup"><span data-stu-id="23c0a-238">Each job run provides the following details:</span></span>

- <span data-ttu-id="23c0a-239">Сведения о выполнении</span><span class="sxs-lookup"><span data-stu-id="23c0a-239">Execution details</span></span>
- <span data-ttu-id="23c0a-240">Журнал выполнения</span><span class="sxs-lookup"><span data-stu-id="23c0a-240">Execution log</span></span>

<span data-ttu-id="23c0a-241">Сведения о выполнении отражают состояние каждого информационного объекта, обработанного заданием.</span><span class="sxs-lookup"><span data-stu-id="23c0a-241">Execution details show the state of each data entity that the job processed.</span></span> <span data-ttu-id="23c0a-242">Таким образом можно быстро найти следующую информацию:</span><span class="sxs-lookup"><span data-stu-id="23c0a-242">Therefore, you can quickly find the following information:</span></span>

- <span data-ttu-id="23c0a-243">Какие объекты были обработаны.</span><span class="sxs-lookup"><span data-stu-id="23c0a-243">Which entities were processed.</span></span>
- <span data-ttu-id="23c0a-244">Сколько записей в каждом объекте было успешно обработано, а сколько обработать не удалось.</span><span class="sxs-lookup"><span data-stu-id="23c0a-244">For an entity, how many records were successfully processed, and how many failed.</span></span>
- <span data-ttu-id="23c0a-245">Записи промежуточной таблицы для каждого объекта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-245">The staging records for each entity.</span></span>

<span data-ttu-id="23c0a-246">Промежуточные данные можно загрузить в виде файла для заданий экспорта и в виде пакета для задания импорта и экспорта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-246">You can download the staging data in a file for export jobs, or you can download it as a package for import and export jobs.</span></span>

<span data-ttu-id="23c0a-247">Из сведений о выполнении можно также открыть журнал выполнения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-247">From the execution details, you can also open the execution log.</span></span>

## <a name="parallel-imports"></a><span data-ttu-id="23c0a-248">Параллельный импорт</span><span class="sxs-lookup"><span data-stu-id="23c0a-248">Parallel imports</span></span>
<span data-ttu-id="23c0a-249">Чтобы ускорить импорт данных, можно включить параллельную обработку импорта файла, если объект поддерживает параллельный импорт.</span><span class="sxs-lookup"><span data-stu-id="23c0a-249">To speed up the import of data, parallel processing of importing a file can be enabled if the entity supports parallel imports.</span></span> <span data-ttu-id="23c0a-250">Чтобы настроить параллельный импорт для объекта, необходимо выполнить следующие действия.</span><span class="sxs-lookup"><span data-stu-id="23c0a-250">To configure the parallel import for an entity, the following steps must be followed.</span></span>

1. <span data-ttu-id="23c0a-251">Перейдите в раздел **Администрирование системы \> Рабочие области \> Управление данными**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-251">Go to **System administration \> Workspaces \> Data management**.</span></span>
2. <span data-ttu-id="23c0a-252">В разделе **Импорт/экспорт** выберите плитку **Параметры структуры**, чтобы открыть страницу **Параметры структуры импорта и экспорта данных**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-252">In the **Import / Export** section, select the **Framework parameters** tile to open the **Data import/export framework parameters** page.</span></span>
3. <span data-ttu-id="23c0a-253">На вкладке **Параметры объекта** выберите **Настройка параметров выполнения объекта**, чтобы открыть страницу **Параметры выполнения импорта объектов**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-253">On the **Entity settings** tab, select **Configure entity execution parameters** to open the **Entity import execution parameters** page.</span></span>
4. <span data-ttu-id="23c0a-254">Настройте следующие поля, чтобы настроить параллельный импорт для объекта:</span><span class="sxs-lookup"><span data-stu-id="23c0a-254">Set the following fields to configure parallel import for an entity:</span></span>

    - <span data-ttu-id="23c0a-255">В поле **Объект** выберите объект.</span><span class="sxs-lookup"><span data-stu-id="23c0a-255">In the **Entity** field, select the entity.</span></span>
    - <span data-ttu-id="23c0a-256">В поле **Счетчик пороговых записей импорта** введите пороговое количество записей для импорта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-256">In the **Import threshold record count** field, enter the threshold record count for import.</span></span> <span data-ttu-id="23c0a-257">Это определяет число записей, обрабатываемых потоком.</span><span class="sxs-lookup"><span data-stu-id="23c0a-257">This determines the record count to be processed by a thread.</span></span> <span data-ttu-id="23c0a-258">Если файл содержит 10000 записей, то число записей в 2500 со счетчиком задач, равным 4, будет означать, что каждый поток будет обрабатывать 2500 записей.</span><span class="sxs-lookup"><span data-stu-id="23c0a-258">If a file has 10K records, a record count of 2500 with a task count of 4 will mean, each thread will process 2500 records.</span></span>
    - <span data-ttu-id="23c0a-259">В поле **Счетчик задач импорта** введите количество задач импорта.</span><span class="sxs-lookup"><span data-stu-id="23c0a-259">In the **Import task count** field, enter the count of import tasks.</span></span> <span data-ttu-id="23c0a-260">Это число не должно превышать максимальное количество потоков в пакете, выделенных для пакетной обработки в разделе **Администрирование системы \> Конфигурация сервера**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-260">This must not exceed the max batch threads allocated for batch processing in **System administration \>Server configuration**.</span></span>

## <a name="job-history-clean-up"></a><span data-ttu-id="23c0a-261">Очистка истории заданий</span><span class="sxs-lookup"><span data-stu-id="23c0a-261">Job history clean up</span></span> 
<span data-ttu-id="23c0a-262">Функциональность очистки истории заданий в управлении данными должна использоваться для планирования периодической очистки истории выполнения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-262">The job history clean-up functionality in data management must be used to schedule a periodic cleanup of the execution history.</span></span> <span data-ttu-id="23c0a-263">Эта функциональность заменяет предыдущую функцию очистки промежуточной таблицы, которая теперь устарела.</span><span class="sxs-lookup"><span data-stu-id="23c0a-263">This functionality replaces the previous staging table clean-up functionality, which is now deprecated.</span></span> <span data-ttu-id="23c0a-264">Следующие таблицы будут очищены в процессе очистки.</span><span class="sxs-lookup"><span data-stu-id="23c0a-264">The following tables will be cleaned up by the clean-up process.</span></span>

-   <span data-ttu-id="23c0a-265">Все промежуточные таблицы</span><span class="sxs-lookup"><span data-stu-id="23c0a-265">All staging tables</span></span>

-   <span data-ttu-id="23c0a-266">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="23c0a-266">DMFSTAGINGVALIDATIONLOG</span></span>

-   <span data-ttu-id="23c0a-267">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="23c0a-267">DMFSTAGINGEXECUTIONERRORS</span></span>

-   <span data-ttu-id="23c0a-268">DMFSTAGINGLOGDETAIL</span><span class="sxs-lookup"><span data-stu-id="23c0a-268">DMFSTAGINGLOGDETAIL</span></span>

-   <span data-ttu-id="23c0a-269">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="23c0a-269">DMFSTAGINGLOG</span></span>

-   <span data-ttu-id="23c0a-270">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="23c0a-270">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>

-   <span data-ttu-id="23c0a-271">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="23c0a-271">DMFEXECUTION</span></span>

-   <span data-ttu-id="23c0a-272">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="23c0a-272">DMFDEFINITIONGROUPEXECUTION</span></span>

<span data-ttu-id="23c0a-273">Функция **Очистка истории выполнения** должна быть включена в управлении функциями, а затем будет доступна из меню **Управление данными \> Очистка истории заданий**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-273">The **Execution history cleanup** feature must be enabled in feature management and then can be accessed from **Data management \> Job history cleanup**.</span></span>

### <a name="scheduling-parameters"></a><span data-ttu-id="23c0a-274">Параметры планирования</span><span class="sxs-lookup"><span data-stu-id="23c0a-274">Scheduling parameters</span></span>

<span data-ttu-id="23c0a-275">При планировании процесса очистки необходимо указать следующие параметры для определения критериев очистки.</span><span class="sxs-lookup"><span data-stu-id="23c0a-275">When scheduling the clean-up process, the following parameters must be specified to define the clean-up criteria.</span></span>

-   <span data-ttu-id="23c0a-276">**Количество дней для сохранения истории** — этот параметр используется для контроля объема сохраняемой истории выполнения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-276">**Number of days to retain history** – This setting is used to control the amount of execution history to be preserved.</span></span> <span data-ttu-id="23c0a-277">Указывается как число дней.</span><span class="sxs-lookup"><span data-stu-id="23c0a-277">This is specified in number of days.</span></span> <span data-ttu-id="23c0a-278">Когда задание очистки запланировано как повторяющееся пакетное задание, эта настройка будет действовать как постоянно скользящее окно, таким образом, всегда оставляя историю для определенного количества дней нетронутыми, но удаляя остальные данные.</span><span class="sxs-lookup"><span data-stu-id="23c0a-278">When the clean-up job is scheduled as a recurring batch job, this setting will act like a continuously moving window thereby, always leaving the history for the specified number of days intact while deleting the rest.</span></span> <span data-ttu-id="23c0a-279">Значение по умолчанию — 7 дней.</span><span class="sxs-lookup"><span data-stu-id="23c0a-279">The default is 7 days.</span></span>

-   <span data-ttu-id="23c0a-280">**Количество часов для выполнения задания** — в зависимости от объема очищаемой истории, общее время выполнения задания по очистке может варьироваться от нескольких минут до нескольких часов.</span><span class="sxs-lookup"><span data-stu-id="23c0a-280">**Number of hours to execute the job** – Depending on the amount of history to be cleaned up, the total execution time for the clean-up job can vary from a few minutes to a few hours.</span></span> <span data-ttu-id="23c0a-281">Для этого параметра должно быть задано количество часов, в течение которых задание будет выполняться.</span><span class="sxs-lookup"><span data-stu-id="23c0a-281">This parameter must be set to the number of hours that the job will execute.</span></span> <span data-ttu-id="23c0a-282">После выполнения задания очистки в течение указанного количества часов задание будет закрыто и возобновит очистку при следующем выполнении на основе плана повторения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-282">After the clean-up job has executed for the specified number of hours, the job will exit and will resume the clean up the next time it is run based on the recurrence schedule.</span></span>

    <span data-ttu-id="23c0a-283">Максимальное время выполнения может быть указано, установив максимальное ограничение на количество часов, которые задание должно выполняться, с помощью этого параметра.</span><span class="sxs-lookup"><span data-stu-id="23c0a-283">A maximum execution time can be specified by setting a max limit on the number of hours the job must run using this setting.</span></span> <span data-ttu-id="23c0a-284">Логика очистки проходит по одному идентификатору выполнения задания за раз в хронологическом порядке, начиная с самого старого, для очистки связанной истории выполнения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-284">The clean-up logic goes through one job execution ID at a time in a chronologically arranged sequence, with oldest being first for the cleanup of related execution history.</span></span> <span data-ttu-id="23c0a-285">Она перестанет подбирать новые идентификаторы выполнения для очистки, когда оставшаяся длительно выполнения будет находиться в пределах последних 10% от указанной длительности.</span><span class="sxs-lookup"><span data-stu-id="23c0a-285">It will stop picking up new execution ID’s for cleanup when the remaining execution duration is within the last 10% of the specified duration.</span></span> <span data-ttu-id="23c0a-286">В некоторых случаях ожидается, что работа по очистке будет продолжена и после указанного максимального времени.</span><span class="sxs-lookup"><span data-stu-id="23c0a-286">In some cases, it will be expected that the clean-up job will continue beyond the specified max time.</span></span> <span data-ttu-id="23c0a-287">Это будет в значительной степени зависеть от количества удаляемых записей для текущего идентификатора выполнения, который был запущен до достижения порога 10%.</span><span class="sxs-lookup"><span data-stu-id="23c0a-287">This will largely depend on the number of records to be deleted for the current execution ID that was started before the 10% threshold was reached.</span></span> <span data-ttu-id="23c0a-288">Начавшаяся очистка должна быть завершена для обеспечения целостности данных, что означает, что очистка будет продолжаться, несмотря на превышение указанного лимита.</span><span class="sxs-lookup"><span data-stu-id="23c0a-288">The cleanup that was started must be completed to ensure data integrity, which means that cleanup will continue despite exceeding the specified limit.</span></span> <span data-ttu-id="23c0a-289">Когда это завершено, новые идентификаторы выполнения не подбираются и выполняется задания очистки завершается.</span><span class="sxs-lookup"><span data-stu-id="23c0a-289">When this is complete, new execution ID’s are not picked up and the clean-up job completes.</span></span> <span data-ttu-id="23c0a-290">Оставшаяся история выполнения, которая не была очищена из-за недостаточного времени выполнения, будет выбрана при следующем запланированном выполнении задания.</span><span class="sxs-lookup"><span data-stu-id="23c0a-290">The remaining execution history that was not cleaned up due to lack of enough execution time, will be picked up the next time the clean-up job is scheduled.</span></span> <span data-ttu-id="23c0a-291">Значение по умолчанию и минимальное значение для этого параметра устанавливаются равными 2 часам.</span><span class="sxs-lookup"><span data-stu-id="23c0a-291">The default and minimum value for this setting is set to 2 hours.</span></span>

-   <span data-ttu-id="23c0a-292">**Повторяющееся пакетное** — задание очистки может быть выполнено в виде одноразового ручного выполнения или также может быть запланировано для повторного выполнения в пакете.</span><span class="sxs-lookup"><span data-stu-id="23c0a-292">**Recurring batch** – The clean-up job can be run as a one-time, manual execution, or it can be also scheduled for recurring execution in batch.</span></span> <span data-ttu-id="23c0a-293">Пакет может быть запланирован с помощью параметров **Выполнять в фоновом режиме**, что является стандартной настройкой пакетного выполнения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-293">The batch can be scheduled using the **Run in background** settings, which is the standard batch set up.</span></span>

> [!NOTE]
> <span data-ttu-id="23c0a-294">Если записи в промежуточных таблицах не очищаются полностью, убедитесь, что задание очистки запланировано на выполнение повторно.</span><span class="sxs-lookup"><span data-stu-id="23c0a-294">If records in the staging tables are not cleaned up completely, ensure that the cleanup job is scheduled to run in recurrence.</span></span> <span data-ttu-id="23c0a-295">Как было сказано выше, в ходе любого выполнения очистки в течение указанного максимума часов задание будет иметь только столько кодов выполнения, сколько возможно.</span><span class="sxs-lookup"><span data-stu-id="23c0a-295">As explained above, in any clean up execution the job will only clean up as many execution ID's as is possible within the provided maximum hours.</span></span> <span data-ttu-id="23c0a-296">Для продолжения очистки всех оставшихся промежуточных записей задание должно быть запланировано на периодическое выполнение.</span><span class="sxs-lookup"><span data-stu-id="23c0a-296">In order to continue cleanup of any remaining staging records, the job must be scheduled to run periodically.</span></span>

## <a name="job-history-clean-up-and-archival-available-for-preview-in-platform-update-39-or-version-10015"></a><span data-ttu-id="23c0a-297">Очистка и архивация журналов заданий (доступно для предварительной версии в обновлении платформы 39 или версии 10.0.15)</span><span class="sxs-lookup"><span data-stu-id="23c0a-297">Job history clean up and archival (available for preview in Platform update 39 or version 10.0.15)</span></span>
<span data-ttu-id="23c0a-298">Функция очистки и архивация журнала заданий заменяет предыдущие версии функций очистки.</span><span class="sxs-lookup"><span data-stu-id="23c0a-298">The job history clean up and archival functionality replaces the previous versions of the clean up functionality.</span></span> <span data-ttu-id="23c0a-299">В этом разделе описываются новые возможности.</span><span class="sxs-lookup"><span data-stu-id="23c0a-299">This section will explain these new capabilities.</span></span>

<span data-ttu-id="23c0a-300">Одним из основных изменений функций очистки является использование системных пакетных заданий для очистки истории.</span><span class="sxs-lookup"><span data-stu-id="23c0a-300">One of the main changes to the clean up functionality is the use of system batch job for cleaning up the history.</span></span> <span data-ttu-id="23c0a-301">Использование системного пакетного задания позволяет приложениям Finance and Operations иметь автоматическое планирование и выполнение пакетного задания очистки, как только система будет готова к работе.</span><span class="sxs-lookup"><span data-stu-id="23c0a-301">The use of system batch job allows Finance and Operations apps to have the clean up batch job automatically scheduled and running as soon as the system is ready.</span></span> <span data-ttu-id="23c0a-302">Больше не требуется планировать пакетное задание вручную.</span><span class="sxs-lookup"><span data-stu-id="23c0a-302">It is no longer required to schedule the batch job manually.</span></span> <span data-ttu-id="23c0a-303">В этом режиме выполнения по умолчанию пакетное задание будет выполняться каждый час, начиная с 12 по полуночи, и сохраняет историю выполнения за последние 7 дней.</span><span class="sxs-lookup"><span data-stu-id="23c0a-303">In this default execution mode, the batch job will execute every hour starting at 12 midnight and will retain the execution history for the most recent 7 days.</span></span> <span data-ttu-id="23c0a-304">Очищенный журнал архивируется для дальнейшего извлечения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-304">The purged history is archived for future retrieval.</span></span>

> [!NOTE]
> <span data-ttu-id="23c0a-305">Поскольку эта функция доступна как предварительная версия, системное пакетное задание не удаляет журнал выполнения до тех пор, пока не будет включено через предоставление доступа DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="23c0a-305">Because this functionality is in preview, the system batch job will not delete any execution history until it is enabled via the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="23c0a-306">Когда функция станет общедоступной в будущем выпуске, это предоставление доступа не потребуется, а системное пакетное задание начнет удалять и архивировать после готовности системы на основе определенного графика, как описано выше.</span><span class="sxs-lookup"><span data-stu-id="23c0a-306">When the feature is generally available in a future release, this flight will not be required and the system batch job will start to purge and archive after the system is ready, based on the defined schedule as explained above.</span></span> 

> [!NOTE]
> <span data-ttu-id="23c0a-307">В будущем выпуске предыдущие версии функций очистки будут удалены из приложений Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="23c0a-307">In a future release, the previous versions of the clean up functionality will be removed from Finance and Operations apps.</span></span>

<span data-ttu-id="23c0a-308">Вторым изменением в процессе очистки является архивирование удаленной истории выполнения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-308">The second change in the clean up process is the archival of the purged execution history.</span></span> <span data-ttu-id="23c0a-309">Задание очистки архивирует удаленные записи в хранилище больших двоичных объектов, которое DIXF использует для обычной интеграции.</span><span class="sxs-lookup"><span data-stu-id="23c0a-309">The clean up job will archive the deleted records to the blob storage that DIXF uses for regular integrations.</span></span> <span data-ttu-id="23c0a-310">Файл архива будет находиться в формате пакета DIXF и будет доступен в течение 7 дней в большом двоичном объекте; в течение это времени его можно будет скачать.</span><span class="sxs-lookup"><span data-stu-id="23c0a-310">The archived file will be in the DIXF package format and will be available for 7 days in the blob during which time it can be downloaded.</span></span> <span data-ttu-id="23c0a-311">Долговечность по умолчанию в 7 дней для файла архива может быть изменена на максимум 90 дней в параметрах.</span><span class="sxs-lookup"><span data-stu-id="23c0a-311">The default longevity of 7 days for the archived file can be changed to a maximum of 90 days in the parameters.</span></span>

### <a name="changing-the-default-settings"></a><span data-ttu-id="23c0a-312">Изменение параметров по умолчанию</span><span class="sxs-lookup"><span data-stu-id="23c0a-312">Changing the default settings</span></span>
<span data-ttu-id="23c0a-313">Эта функция в настоящее время находится в режиме предварительной версии и должна быть явно включена путем предоставления доступа DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="23c0a-313">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="23c0a-314">Функция промежуточной очистки должна быть также включена в управлении функциями.</span><span class="sxs-lookup"><span data-stu-id="23c0a-314">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="23c0a-315">Чтобы изменить значение по умолчанию для долговечности архивного файла, перейдите в рабочую область управления данными и выберите **Очистка журнала заданий**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-315">To change the default setting for the longevity of the archived file, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="23c0a-316">Задайте для параметра **Число дней хранения пакета в большом двоичном объекте** значение от 7 до 90 (включительно).</span><span class="sxs-lookup"><span data-stu-id="23c0a-316">Set **Days to retain package in blob** to a value between 7 and 90 (inclusive).</span></span> <span data-ttu-id="23c0a-317">Это изменение вступит в силу для архивов, созданных после внесения этого изменения.</span><span class="sxs-lookup"><span data-stu-id="23c0a-317">This will take effect on the archives that are created after this change was made.</span></span>

### <a name="downloading-the-archived-package"></a><span data-ttu-id="23c0a-318">Скачивание архивированного пакета</span><span class="sxs-lookup"><span data-stu-id="23c0a-318">Downloading the archived package</span></span>
<span data-ttu-id="23c0a-319">Эта функция в настоящее время находится в режиме предварительной версии и должна быть явно включена путем предоставления доступа DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="23c0a-319">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="23c0a-320">Функция промежуточной очистки должна быть также включена в управлении функциями.</span><span class="sxs-lookup"><span data-stu-id="23c0a-320">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="23c0a-321">Чтобы сказать архивированный журнал выполнения, перейдите в рабочую область управления данными и выберите **Очистка журнала заданий**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-321">To download the archived execution history, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="23c0a-322">Выберите **Журнал резервного копирования пакетов**, чтобы открыть форму журнала.</span><span class="sxs-lookup"><span data-stu-id="23c0a-322">Select **Package backup history** to open the history form.</span></span> <span data-ttu-id="23c0a-323">В этой форме отображается список всех заархивированных пакетов.</span><span class="sxs-lookup"><span data-stu-id="23c0a-323">This form shows the list of all archived packages.</span></span> <span data-ttu-id="23c0a-324">Архив можно выбрать и скачать, выбрав пункт **Скачать пакет**.</span><span class="sxs-lookup"><span data-stu-id="23c0a-324">An archive can be selected and downloaded by selecting **Download package**.</span></span> <span data-ttu-id="23c0a-325">Скаченный пакет будет в формате пакета DIXF и содержит следующие файлы:</span><span class="sxs-lookup"><span data-stu-id="23c0a-325">The downloaded package will be in the DIXF package format and contain the following files:</span></span>

-   <span data-ttu-id="23c0a-326">Файл промежуточной таблицы сущности</span><span class="sxs-lookup"><span data-stu-id="23c0a-326">The entity staging table file</span></span>
-   <span data-ttu-id="23c0a-327">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="23c0a-327">DMFDEFINITIONGROUPEXECUTION</span></span>
-   <span data-ttu-id="23c0a-328">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="23c0a-328">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>
-   <span data-ttu-id="23c0a-329">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="23c0a-329">DMFEXECUTION</span></span>
-   <span data-ttu-id="23c0a-330">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="23c0a-330">DMFSTAGINGEXECUTIONERRORS</span></span>
-   <span data-ttu-id="23c0a-331">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="23c0a-331">DMFSTAGINGLOG</span></span>
-   <span data-ttu-id="23c0a-332">DMFSTAGINGLOGDETAILS</span><span class="sxs-lookup"><span data-stu-id="23c0a-332">DMFSTAGINGLOGDETAILS</span></span>
-   <span data-ttu-id="23c0a-333">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="23c0a-333">DMFSTAGINGVALIDATIONLOG</span></span>



[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
