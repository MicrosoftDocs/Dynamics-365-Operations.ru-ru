---
title: Обзор финансовой интеграции для каналов розничной торговли
description: В этом разделе представлен обзор возможностей финансовой интеграции, доступных в Microsoft Dynamics 365 for Retail.
author: josaw
manager: annbe
ms.date: 02/01/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailFunctionalityProfile, RetailFormLayout, RetailParameters
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: Retail
ms.author: v-kikozl
ms.search.validFrom: 2019-1-16
ms.dyn365.ops.version: 10
ms.openlocfilehash: 2dc977e3c53b1f15b41b095f586861b67c973a6d
ms.sourcegitcommit: 68df883200b5c477ea1799cc28d3ef467cd29202
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/07/2019
ms.locfileid: "377143"
---
# <a name="overview-of-fiscal-integration-for-retail-channels"></a><span data-ttu-id="c1343-103">Обзор финансовой интеграции для каналов розничной торговли</span><span class="sxs-lookup"><span data-stu-id="c1343-103">Overview of fiscal integration for Retail channels</span></span>

[!include [banner](../includes/banner.md)]

## <a name="introduction"></a><span data-ttu-id="c1343-104">Введение</span><span class="sxs-lookup"><span data-stu-id="c1343-104">Introduction</span></span>

<span data-ttu-id="c1343-105">В этом разделе представлен обзор возможностей финансовой интеграции, доступных в Microsoft Dynamics 365 for Retail.</span><span class="sxs-lookup"><span data-stu-id="c1343-105">This topic is an overview of the fiscal integration capabilities that are available in Microsoft Dynamics 365 for Retail.</span></span> <span data-ttu-id="c1343-106">Финансовая интеграция включает интеграцию с различными финансовыми устройствами и службами, которые обеспечивают финансовую регистрации розничных продаж в соответствии с местным финансовым законодательством, предназначенным для предотвращения налогового мошенничества в сфере розничной торговли.</span><span class="sxs-lookup"><span data-stu-id="c1343-106">Fiscal integration includes integration with various fiscal devices and services that enable fiscal registration of retail sales in accordance with local fiscal laws that are aimed at preventing tax fraud in the retail industry.</span></span> <span data-ttu-id="c1343-107">Вот некоторые типичные сценарии, которые могут охватываться с помощью финансовой интеграции:</span><span class="sxs-lookup"><span data-stu-id="c1343-107">Here are some typical scenarios that can be covered by using fiscal integration:</span></span> 

- <span data-ttu-id="c1343-108">Регистрация розничной продажи на финансовом устройстве, подключенном к POS-терминалу розничной торговли, такому как фискальный принтер, и печать фискального чека для клиента.</span><span class="sxs-lookup"><span data-stu-id="c1343-108">Register a retail sale on a fiscal device that is connected to Retail point of sale (POS), such as a fiscal printer, and print a fiscal receipt for the customer.</span></span>
- <span data-ttu-id="c1343-109">Безопасная подача информации, которая относится к продажам и возвратам, выполняемым в Retail POS, во внешнюю веб-службу, которая принадлежит налоговым органам.</span><span class="sxs-lookup"><span data-stu-id="c1343-109">Securely submit information that is related to sales and returns that are completed in Retail POS to an external web-service that is operated by the tax authority.</span></span>
- <span data-ttu-id="c1343-110">Помощь в обеспечении невозможности изменения данных проводок продаж с помощью цифровых подписей.</span><span class="sxs-lookup"><span data-stu-id="c1343-110">Help guarantee inalterability of sales transaction data through digital signatures.</span></span>

<span data-ttu-id="c1343-111">Функция финансовой интеграции в Retail — это платформа, которая предоставляет общее решение для дальнейшей разработки и настройки интеграции между Retail POS и финансовыми устройствами и службами.</span><span class="sxs-lookup"><span data-stu-id="c1343-111">The fiscal integration functionality in Retail is a framework that provides a common solution for further development and customization of the integration between Retail POS and fiscal devices and services.</span></span> <span data-ttu-id="c1343-112">Функциональные возможности также включают примеры финансовой интеграции, поддерживающие основные сценарии розничной торговли для конкретных стран или регионов, и работающие с конкретными финансовыми устройствами или службами.</span><span class="sxs-lookup"><span data-stu-id="c1343-112">The functionality also includes fiscal integration samples that support basic retail scenarios for specific countries or regions, and that work with specific fiscal devices or services.</span></span> <span data-ttu-id="c1343-113">Образец финансовой интеграции состоит из нескольких расширений компонентов Retail и включается в комплект средств разработки программного обеспечения (SDK) для Retail.</span><span class="sxs-lookup"><span data-stu-id="c1343-113">A fiscal integration sample consists of several extensions of Retail components and is included in the Retail software development kit (SDK).</span></span> <span data-ttu-id="c1343-114">Дополнительные сведения об образцах финансовой интеграции, доступных в пакете Retail SDK, см. в разделе [Примеры финансовой интеграции в пакете Retail SDK](#fiscal-integration-samples-in-the-retail-sdk).</span><span class="sxs-lookup"><span data-stu-id="c1343-114">For more information about the fiscal integration samples that are available in the Retail SDK, see [Fiscal integration samples in the Retail SDK](#fiscal-integration-samples-in-the-retail-sdk).</span></span> <span data-ttu-id="c1343-115">Сведения о том, как установить и использовать пакет Retail SDK см. в разделе [Обзор Retail SDK](../dev-itpro/retail-sdk/retail-sdk-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c1343-115">For information about how to install and use the Retail SDK, see [Retail SDK overview](../dev-itpro/retail-sdk/retail-sdk-overview.md).</span></span>

<span data-ttu-id="c1343-116">Для поддержки других сценариев, которые не поддерживаются примером финансовой интеграции, для интеграции Retail POS с другими финансовыми устройствами или службами или для покрытия потребностей в других странах или регионах необходимо расширить существующий пример финансовой интеграции или создать новый пример на основе существующего образца в качестве примера.</span><span class="sxs-lookup"><span data-stu-id="c1343-116">To support other scenarios that aren't supported by a fiscal integration sample, to integrate Retail POS with other fiscal devices or services, or to cover requirements of other countries or regions, you must either extend an existing fiscal integration sample or create a new sample by using an existing sample as an example.</span></span>

## <a name="fiscal-registration-process-and-fiscal-integration-samples-for-fiscal-devices"></a><span data-ttu-id="c1343-117">Примеры процесса финансовой регистрации и финансовой интеграции для финансовых устройств</span><span class="sxs-lookup"><span data-stu-id="c1343-117">Fiscal registration process and fiscal integration samples for fiscal devices</span></span>

<span data-ttu-id="c1343-118">Процесс финансовой регистрации в Retail POS может состоять из одного или нескольких шагов.</span><span class="sxs-lookup"><span data-stu-id="c1343-118">A fiscal registration process in Retail POS can consist of one or more steps.</span></span> <span data-ttu-id="c1343-119">Каждый шаг включает финансовую регистрацию конкретных розничных проводок или событий в одном финансовом устройстве или службе.</span><span class="sxs-lookup"><span data-stu-id="c1343-119">Each step involves fiscal registration of specific retail transactions or events in one fiscal device or service.</span></span> <span data-ttu-id="c1343-120">Следующие компоненты решения участвуют в финансовой регистрации в финансовом устройстве, подключенном к станции Hardware Station:</span><span class="sxs-lookup"><span data-stu-id="c1343-120">The following solution components participate in the fiscal registration in a fiscal device that is connected to a Hardware station:</span></span>

- <span data-ttu-id="c1343-121">**Расширение Commerce Runtime (CRT)** — этот компонент сериализует данные о розничной проводке или событии в формат, который также используется для взаимодействия с финансовым устройством, анализирует ответы от финансового устройства и сохраняет ответы в базе данных канала.</span><span class="sxs-lookup"><span data-stu-id="c1343-121">**Commerce runtime (CRT) extension** – This component serializes retail transaction/event data in the format that is also used for interaction with the fiscal device, parses responses from the fiscal device, and stores the responses in the channel database.</span></span> <span data-ttu-id="c1343-122">Расширения также определяет конкретные проводки и события, которые должны быть зарегистрированы.</span><span class="sxs-lookup"><span data-stu-id="c1343-122">The extension also defines the specific transactions and events that must be registered.</span></span> <span data-ttu-id="c1343-123">Данный компонент часто называется также *поставщиком фискальных документов*.</span><span class="sxs-lookup"><span data-stu-id="c1343-123">This component is often referred to as a *fiscal document provider*.</span></span>
- <span data-ttu-id="c1343-124">**Расширение Hardware Station** — этот компонент инициализирует связь с финансовым устройством, отправляя запросы и прямые команды на финансовое устройство на основе данных проводки/события розничной торговли, которые извлекаются из финансового документа, и получает ответы от финансового устройства.</span><span class="sxs-lookup"><span data-stu-id="c1343-124">**Hardware station extension** – This component initializes the communication with the fiscal device, sends requests and direct commands to the fiscal device based on the retail transaction/event data that is extracted from the fiscal document, and receives responses from the fiscal device.</span></span> <span data-ttu-id="c1343-125">Данный компонент часто называется *финансовым соединителем*.</span><span class="sxs-lookup"><span data-stu-id="c1343-125">This component is often referred to as a *fiscal connector*.</span></span>

<span data-ttu-id="c1343-126">Пример финансовой интеграции для финансового устройства содержит расширения CRT и Hardware Station для поставщика фискальных документов и финансового соединителя, соответственно.</span><span class="sxs-lookup"><span data-stu-id="c1343-126">A fiscal integration sample for a fiscal device contains the CRT and Hardware station extensions for a fiscal document provider and a fiscal connector, respectively.</span></span> <span data-ttu-id="c1343-127">Он также содержит следующие конфигурации компонентов:</span><span class="sxs-lookup"><span data-stu-id="c1343-127">It also contains the following component configurations:</span></span>

- <span data-ttu-id="c1343-128">**Конфигурация поставщика фискальных документов** — эта конфигурация определяет метод вывода и формат финансовых документов.</span><span class="sxs-lookup"><span data-stu-id="c1343-128">**Fiscal document provider configuration** – This configuration defines an output method and a format for fiscal documents.</span></span> <span data-ttu-id="c1343-129">Он также содержит сопоставление данных для налогов и способов оплаты, чтобы сделать данные с Retail POS совместимыми со значениями, которые заранее определены во встроенном ПО финансового устройства.</span><span class="sxs-lookup"><span data-stu-id="c1343-129">It also contains a data mapping for taxes and payment methods, to make data from Retail POS compatible with the values that are predefined in the fiscal device firmware.</span></span>
- <span data-ttu-id="c1343-130">**Конфигурация финансового соединителя** — эта конфигурация определяет физическую связь с конкретным финансовым устройством.</span><span class="sxs-lookup"><span data-stu-id="c1343-130">**Fiscal connector configuration** – This configuration defines the physical communication with the specific fiscal device.</span></span>

<span data-ttu-id="c1343-131">Процесс финансовой регистрации для конкретной ККМ POS определяется соответствующим параметром в профиле функциональности POS.</span><span class="sxs-lookup"><span data-stu-id="c1343-131">A fiscal registration process for a specific POS register is defined by a corresponding setting in the POS functionality profile.</span></span> <span data-ttu-id="c1343-132">Дополнительные сведения о настройке процесса финансовой регистрации, отправки конфигураций поставщиков фискальных документов и финансовых соединителей и изменению их параметров см. в разделе [Настройка процесса финансовой регистрации](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span><span class="sxs-lookup"><span data-stu-id="c1343-132">For more details about how to configure a fiscal registration process, upload fiscal document provider and fiscal connector configurations, and change their parameters, see [Set up a fiscal registration process](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span></span>

<span data-ttu-id="c1343-133">В следующем примере показан типовой порядок выполнения финансовой регистрации для финансового устройства.</span><span class="sxs-lookup"><span data-stu-id="c1343-133">The following example shows a typical fiscal registration execution flow for a fiscal device.</span></span> <span data-ttu-id="c1343-134">Поток начинается с события в POS-терминале (например, завершение проводки продажи) и реализует следующую последовательность действий:</span><span class="sxs-lookup"><span data-stu-id="c1343-134">The flow starts with an event in the POS (for example, finalization of a sales transaction) and implements the following sequence of steps:</span></span>

1. <span data-ttu-id="c1343-135">POS-терминал запрашивает финансовый документ из CRT.</span><span class="sxs-lookup"><span data-stu-id="c1343-135">The POS requests a fiscal document from CRT.</span></span>
2. <span data-ttu-id="c1343-136">CRT определяет, требуется ли финансовая регистрация текущего события.</span><span class="sxs-lookup"><span data-stu-id="c1343-136">CRT determines whether the current event requires fiscal registration.</span></span>
3. <span data-ttu-id="c1343-137">В зависимости от параметров процесса финансовой регистрации CRT определяет финансовый соединитель и соответствующий поставщик фискальных документов для использования для финансовой регистрации.</span><span class="sxs-lookup"><span data-stu-id="c1343-137">Based on the fiscal registration process settings, CRT identifies a fiscal connector and corresponding fiscal document provider to use for the fiscal registration.</span></span>
4. <span data-ttu-id="c1343-138">CRT запускается поставщик фискальных документов, который создает фискальный документ (например, документ XML), представляющий проводку или событие розничной торговли.</span><span class="sxs-lookup"><span data-stu-id="c1343-138">CRT runs the fiscal document provider that generates a fiscal document (for example, an XML document) that represents the retail transaction or event.</span></span>
5. <span data-ttu-id="c1343-139">POS-терминал отправляет фискальный документ, который подготовил CRT, в Hardware Station.</span><span class="sxs-lookup"><span data-stu-id="c1343-139">The POS sends the fiscal document that CRT prepares to a Hardware station.</span></span>
6. <span data-ttu-id="c1343-140">Hardware Station запускает финансовый соединитель, который обрабатывает фискальный документ и передает его финансовому устройству или службе.</span><span class="sxs-lookup"><span data-stu-id="c1343-140">The Hardware station runs the fiscal connector that processes the fiscal document and communicates it to the fiscal device or service.</span></span>
7. <span data-ttu-id="c1343-141">POS-терминал анализирует ответ от финансового устройства или службы, чтобы определить, успешно ли выполнена финансовая регистрация.</span><span class="sxs-lookup"><span data-stu-id="c1343-141">The POS analyzes the response from the fiscal device or service to determine whether the fiscal registration was successful.</span></span>
8. <span data-ttu-id="c1343-142">CRT сохраняет ответ в базе данных канала.</span><span class="sxs-lookup"><span data-stu-id="c1343-142">CRT saves the response to the channel database.</span></span>

<span data-ttu-id="c1343-143">![Схема решения](media/emea-fiscal-integration-solution.png "Схема решения")</span><span class="sxs-lookup"><span data-stu-id="c1343-143">![Solution schema](media/emea-fiscal-integration-solution.png "Solution schema")</span></span>

## <a name="error-handling"></a><span data-ttu-id="c1343-144">Обработка ошибок</span><span class="sxs-lookup"><span data-stu-id="c1343-144">Error handling</span></span>

<span data-ttu-id="c1343-145">Платформа финансовой интеграции предоставляет следующие параметры для обработки ошибок во время финансовой регистрации:</span><span class="sxs-lookup"><span data-stu-id="c1343-145">The fiscal integration framework provides the following options to handle failures during fiscal registration:</span></span>

- <span data-ttu-id="c1343-146">**Повторить** — операторы могут использовать этот параметр, если сбой можно быстро устранить, и финансовую регистрации можно перезапустить.</span><span class="sxs-lookup"><span data-stu-id="c1343-146">**Retry** – Operators can use this option when the failure can be resolved quickly, and the fiscal registration can be rerun.</span></span> <span data-ttu-id="c1343-147">Например, этот параметр используется, если финансовое устройство не подключено, в финансовом принтере нет бумаги или существует замятие бумаги в финансовом принтере.</span><span class="sxs-lookup"><span data-stu-id="c1343-147">For example, this option can be used when the fiscal device isn't connected, the fiscal printer is out of paper, or there is a paper jam in the fiscal printer.</span></span>
- <span data-ttu-id="c1343-148">**Отмена** — этот параметр позволяет оператору отсрочить финансовую регистрацию текущей проводки или события в случае неудачи.</span><span class="sxs-lookup"><span data-stu-id="c1343-148">**Cancel** – This option lets operators postpone the fiscal registration of the current transaction or event if it fails.</span></span> <span data-ttu-id="c1343-149">После того как регистрация отложена, оператор можно продолжить работу с POS и выполнить любую операцию, для которой не требуется финансовая регистрация.</span><span class="sxs-lookup"><span data-stu-id="c1343-149">After the registration is postponed, the operator can continue to work on the POS and can complete any operation that the fiscal registration isn't required for.</span></span> <span data-ttu-id="c1343-150">При возникновении любого события, которое требует финансовой регистрации в POS (например, открывается новая проводка), автоматически отображается диалоговое окно обработки ошибок, чтобы уведомить оператора о том, что предыдущая проводка не была правильно зарегистрирована, и предоставить параметры обработки ошибок.</span><span class="sxs-lookup"><span data-stu-id="c1343-150">When any event that requires the fiscal registration occurs in the POS (for example, a new transaction is opened), the error handling dialog box automatically appears to notify the operator that the previous transaction wasn't correctly registered and to provide the error handling options.</span></span>
- <span data-ttu-id="c1343-151">**Пропустить** — операторы могут использовать этот параметр, когда финансовая регистрация может быть пропущена при определенных условиях и обычные операции могут быть продолжены на POS-терминале.</span><span class="sxs-lookup"><span data-stu-id="c1343-151">**Skip** – Operators can use this option when the fiscal registration can be omitted under specific conditions and regular operations can be continued on the POS.</span></span> <span data-ttu-id="c1343-152">Например, этот параметр может использоваться, когда проводка по продажам, для которой финансовая регистрация закончилась сбоем, может быть зарегистрирована в специальном бумажном журнале.</span><span class="sxs-lookup"><span data-stu-id="c1343-152">For example, this option can be used when a sales transaction that the fiscal registration failed for can be registered in a special paper journal.</span></span>
- <span data-ttu-id="c1343-153">**Пометить как зарегистрированный** — операторы могут использовать этот параметр, когда проводка фактически была зарегистрирована в финансовом устройстве (например, фискальный чек был распечатан), но произошел сбой при сохранении финансового ответа в базе данных канала.</span><span class="sxs-lookup"><span data-stu-id="c1343-153">**Mark as registered** – Operators can use this option when the transaction was actually registered in the fiscal device (for example, a fiscal receipt was printed), but a failure occurred when the fiscal response was being saved to the channel database.</span></span>

> [!NOTE]
> <span data-ttu-id="c1343-154">Параметры **Пропустить** и **Пометить как зарегистрированный** необходимо активировать в процессе финансовой регистрации перед их использованием.</span><span class="sxs-lookup"><span data-stu-id="c1343-154">The **Skip** and **Mark as registered** options must be activated in the fiscal registration process before they are used.</span></span> <span data-ttu-id="c1343-155">Кроме того, операторам должны быть присвоены соответствующие разрешения.</span><span class="sxs-lookup"><span data-stu-id="c1343-155">In addition, corresponding permissions must be granted to operators.</span></span>

<span data-ttu-id="c1343-156">Параметры **Пропустить** и **Пометить как зарегистрированный** включают информационные коды для регистрации некоторых конкретных сведений о сбое, например причину ошибки или обоснование пропуска финансовой регистрации или пометки проводки как зарегистрированной.</span><span class="sxs-lookup"><span data-stu-id="c1343-156">The **Skip** and **Mark as registered** options enable info codes to capture some specific information about the failure, such as the reason for the failure or a justification for skipping the fiscal registration or marking the transaction as registered.</span></span> <span data-ttu-id="c1343-157">Дополнительные сведения о том, как настроить параметры обработки ошибок, см. в разделе [Задание параметров обработки ошибок](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span><span class="sxs-lookup"><span data-stu-id="c1343-157">For more details about how to set up error handling parameters, see [Set error handling settings](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span></span>

## <a name="storing-fiscal-response-in-fiscal-transaction"></a><span data-ttu-id="c1343-158">Сохранение финансового ответа в финансовой проводке</span><span class="sxs-lookup"><span data-stu-id="c1343-158">Storing fiscal response in fiscal transaction</span></span>

<span data-ttu-id="c1343-159">При успешной финансовой регистрации проводки или события финансовая проводка создается в базе данных канала и связывается с исходной проводки или событием.</span><span class="sxs-lookup"><span data-stu-id="c1343-159">When fiscal registration of a transaction or event is successful, a fiscal transaction is created in the channel database and linked to the original transaction or event.</span></span> <span data-ttu-id="c1343-160">Аналогичным образом, если выбран параметр **Пропустить** или **Пометить как зарегистрированный** для сбойной финансовой регистрации, эта информация сохраняется в финансовой проводке.</span><span class="sxs-lookup"><span data-stu-id="c1343-160">Similarly, if the **Skip** or **Mark as registered** option is selected for a failed fiscal registration, this information is stored in a fiscal transaction.</span></span> <span data-ttu-id="c1343-161">Финансовая проводка содержит финансовый ответ финансового устройства или службы.</span><span class="sxs-lookup"><span data-stu-id="c1343-161">A fiscal transaction holds the fiscal response of the fiscal device or service.</span></span> <span data-ttu-id="c1343-162">Если процесс финансовой регистрации состоит из нескольких шагов, финансовая проводка создается для каждого шага процесса, который привел к успешной и неудачной регистрации.</span><span class="sxs-lookup"><span data-stu-id="c1343-162">If the fiscal registration process consists of several steps, a fiscal transaction is created for each step of the process that resulted in a successful or failed registration.</span></span>

<span data-ttu-id="c1343-163">Финансовые проводки переносятся в Retail Headquarters с помощью *P-задания*, вместе с проводками розничной торговли.</span><span class="sxs-lookup"><span data-stu-id="c1343-163">Fiscal transactions are transferred to Retail Headquarters by the *P-job*, together with retail transactions.</span></span> <span data-ttu-id="c1343-164">На экспресс-вкладке **Финансовые проводки** страницы **Проводки магазина розничной торговли** можно просмотреть финансовые проводки, которые связаны с проводкой розничной торговли.</span><span class="sxs-lookup"><span data-stu-id="c1343-164">On the **Fiscal transactions** FastTab of the **Retail store transactions** page, you can view the fiscal transactions that are linked to retail transactions.</span></span>

<span data-ttu-id="c1343-165">В финансовой проводке хранятся следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="c1343-165">A fiscal transaction stores the following details:</span></span>

- <span data-ttu-id="c1343-166">Сведения о процессе финансовой регистрации (процесс, группа соединителей, соединитель и т. д.).</span><span class="sxs-lookup"><span data-stu-id="c1343-166">Fiscal registration process details (process, connector group, connector, and so on).</span></span> <span data-ttu-id="c1343-167">В них также хранятся серийный номер финансового устройства в поле **Номер регистратора**, если эти сведения включаются в финансовый ответ.</span><span class="sxs-lookup"><span data-stu-id="c1343-167">It also stores the serial number of the fiscal device in the **Register number** field, if this information is included in the fiscal response.</span></span>
- <span data-ttu-id="c1343-168">Статус финансовой регистрации: **Завершено** для успешной регистрации, **Пропущено**, если оператор выбрал параметр **Пропустить** для сбойной регистрации, или **Помечено как зарегистрированный**, если оператор выбрал параметр **Пометить как зарегистрированный**.</span><span class="sxs-lookup"><span data-stu-id="c1343-168">The status of the fiscal registration: **Completed** for successful registration, **Skipped** if the operator selected the **Skip** option for a failed registration, or **Marked as registered** if the operator selected the **Mark as registered** option.</span></span>
- <span data-ttu-id="c1343-169">Проводки информационных кодов, связанных с выбранной финансовой проводкой.</span><span class="sxs-lookup"><span data-stu-id="c1343-169">Info code transactions that are related to a selected fiscal transaction.</span></span> <span data-ttu-id="c1343-170">Для просмотра проводок информационных кодов на экспресс-вкладке **Финансовые проводки** выберите финансовую проводку, которая имеет статус **Пропущено** или **Помечено как зарегистрированный**, затем выберите **Проводки с инфокодом**.</span><span class="sxs-lookup"><span data-stu-id="c1343-170">To view the info code transactions, on the **Fiscal transactions** FastTab, select a fiscal transaction that has a status of **Skipped** or **Marked as registered**, and then select **Info code transactions**.</span></span>

## <a name="fiscal-texts-for-discounts"></a><span data-ttu-id="c1343-171">Финансовые тексты для скидок</span><span class="sxs-lookup"><span data-stu-id="c1343-171">Fiscal texts for discounts</span></span>

<span data-ttu-id="c1343-172">В некоторых странах или регионах имеются особые требования к дополнительным текстам, который должен быть напечатан на финансовых чеках, когда применяются различные виды скидок.</span><span class="sxs-lookup"><span data-stu-id="c1343-172">Some countries or regions have special requirements about additional texts that must be printed on fiscal receipts when different kinds of discounts are applied.</span></span> <span data-ttu-id="c1343-173">Функции финансовой интеграции позволяют настроить специальный текст для скидки, который будет печататься после строки скидки на фискальном чеке.</span><span class="sxs-lookup"><span data-stu-id="c1343-173">The fiscal integration functionality lets you set up a special text for a discount that is printed after a discount line on a fiscal receipt.</span></span> <span data-ttu-id="c1343-174">Для ручных скидок можно настроить финансовый текст для информационного кода, который указан в качестве информационного кода **Скидка для продукта** в профиле функциональности POS.</span><span class="sxs-lookup"><span data-stu-id="c1343-174">For manual discounts, you can configure a fiscal text for the info code that is specified as the **Product discount** info code in the POS functionality profile.</span></span> <span data-ttu-id="c1343-175">Дополнительную информацию о том, как настроить финансовые тексты для скидок, см. в разделе [Настройка финансовых текстов для скидок](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-texts-for-discounts).</span><span class="sxs-lookup"><span data-stu-id="c1343-175">For more details about how to set up fiscal texts for discounts, see [Set up fiscal texts for discounts](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-texts-for-discounts).</span></span>

## <a name="printing-fiscal-x-and-fiscal-z-reports"></a><span data-ttu-id="c1343-176">Печать финансовых X- и Z-отчетов</span><span class="sxs-lookup"><span data-stu-id="c1343-176">Printing fiscal X and fiscal Z reports</span></span>

<span data-ttu-id="c1343-177">Функциональные возможности финансовой интеграции поддерживают создание отчетов на конец дня, которые относятся к конкретному интегрированному финансовому устройству или службе:</span><span class="sxs-lookup"><span data-stu-id="c1343-177">Fiscal integration functionality supports generation of end-of-day statements that are specific to the integrated fiscal device or service:</span></span>

- <span data-ttu-id="c1343-178">Новые кнопки, которые выполняют соответствующие операции, должны быть добавлены в макет экрана POS.</span><span class="sxs-lookup"><span data-stu-id="c1343-178">New buttons that run corresponding operations should be added to the POS screen layout.</span></span> <span data-ttu-id="c1343-179">Дополнительные сведения см. в разделе [Настройка финансовых X-/Z-отчетов с POS](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-xz-reports-from-the-pos).</span><span class="sxs-lookup"><span data-stu-id="c1343-179">For more details, see [Set up fiscal X/Z reports from the POS](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-xz-reports-from-the-pos).</span></span>
- <span data-ttu-id="c1343-180">В примере финансовой интеграции этих операции должны соответствовать соответствующим операциям финансового устройства.</span><span class="sxs-lookup"><span data-stu-id="c1343-180">In the fiscal integration sample, these operations should be matched to the corresponding operations of the fiscal device.</span></span>

## <a name="fiscal-integration-samples-in-the-retail-sdk"></a><span data-ttu-id="c1343-181">Примеры финансовой интеграции в пакете Retail SDK</span><span class="sxs-lookup"><span data-stu-id="c1343-181">Fiscal integration samples in the Retail SDK</span></span>

<span data-ttu-id="c1343-182">Следующие примеры финансовой интеграции в настоящее время доступны в Retail SDK, выпущенном с Retail:</span><span class="sxs-lookup"><span data-stu-id="c1343-182">The following fiscal integration samples are currently available in the Retail SDK that is released with Retail:</span></span>

- [<span data-ttu-id="c1343-183">Пример интеграции фискальных принтеров для Италии</span><span class="sxs-lookup"><span data-stu-id="c1343-183">Fiscal printer integration sample for Italy</span></span>](emea-ita-fpi-sample.md)
- [<span data-ttu-id="c1343-184">Пример интеграции фискальных принтеров для Польши</span><span class="sxs-lookup"><span data-stu-id="c1343-184">Fiscal printer integration sample for Poland</span></span>](emea-pol-fpi-sample.md)

<span data-ttu-id="c1343-185">Следующие функциональные возможности финансовой интеграции также доступны в пакете Retail SDK, но в данный момент не используют преимущества платформы финансовой интеграции.</span><span class="sxs-lookup"><span data-stu-id="c1343-185">The following fiscal integration functionality is also available in the Retail SDK but doesn't currently take advantage of the fiscal integration framework.</span></span> <span data-ttu-id="c1343-186">Перенос этих финансовых возможностей в платформу финансовой интеграции планируется в последующих обновлениях.</span><span class="sxs-lookup"><span data-stu-id="c1343-186">Migration of this functionality to the fiscal integration framework is planned for later updates.</span></span>

- [<span data-ttu-id="c1343-187">Цифровая подпись для Франции</span><span class="sxs-lookup"><span data-stu-id="c1343-187">Digital signature for France</span></span>](emea-fra-cash-registers.md)
- [<span data-ttu-id="c1343-188">Цифровая подпись для Норвегии</span><span class="sxs-lookup"><span data-stu-id="c1343-188">Digital signature for Norway</span></span>](emea-nor-cash-registers.md)
- [<span data-ttu-id="c1343-189">Пример интеграции с блоком управления для Швеции</span><span class="sxs-lookup"><span data-stu-id="c1343-189">Control unit integration sample for Sweden</span></span>](../dev-itpro/retail-sdk/retail-sdk-control-unit-sample.md)
