---
title: "Общие сведения о программе лояльности"
description: "В этом разделе описываются возможности программы лояльности в Microsoft Dynamics 365 for Retail и соответствующие шаги настройки, помогающие предприятиям розничной торговли легко приступить к работе со своими программами лояльности."
author: scott-tucker
manager: AnnBe
ms.date: 10/24/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-365-retail
ms.technology: 
ms.search.form: RetailLoyaltyPrograms, RetailPriceDiscGroup
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: 16201
ms.assetid: f79559d2-bc2d-4f0b-a938-e7a61524ed80
ms.search.region: global
ms.search.industry: Retail
ms.author: scotttuc
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.translationtype: HT
ms.sourcegitcommit: 190d0b59ad2e232b33b3c0d1700cbaf95c45aeca
ms.openlocfilehash: 09d4e46694e89b648981352f64da4a43ab1522e1
ms.contentlocale: ru-ru
ms.lasthandoff: 01/04/2019

---

# <a name="loyalty-overview"></a>Общие сведения о программе лояльности

[!include [banner](includes/banner.md)]

Программы лояльности могут повысить лояльность постоянного клиента благодаря тому, что клиент получает поощрения за покупки в магазинах розничной торговли данного бренда. В Microsoft Dynamics 365 for Retail можно настроить простые или сложные программы лояльности, которые применяются ко всем юридическим лицам в любом канале розничной торговли. В этом разделе описываются возможности программы лояльности в Microsoft Dynamics 365 for Retail и соответствующие шаги настройки, помогающие предприятиям розничной торговли легко приступить к работе со своими программами лояльности.

Вы можете настроить вашу программу лояльности, чтобы она включала следующие варианты.

- Настройка нескольких типов поощрений, которые предлагаются в программах лояльности, и отслеживание участия в программах лояльности.
- Настройка программ лояльности, которая представляет различные поощрения, предлагаемые компанией. Можно создать уровни программы лояльности для предложения более значимых поощрений и вознаграждений клиентам, которые совершают покупки чаще или тратят больше денег в магазинах.
- Настройка правил начисления для определения действий, которые должен выполнить клиент, чтобы заработать поощрения. Можно также определить правила списания, чтобы указать, когда и как клиент может списывать поощрения.
- Выпуск карточек постоянного клиента в любом канале розничной торговли, который участвует в программах лояльности, и привязка карточек постоянного клиента к одной или нескольким программам лояльности, в которых может участвовать клиент. Можно также связать запись клиента с карточкой постоянного клиента для предоставления клиенту возможности использовать баллы по программе лояльности на нескольких карточках и списывать их.
- Настройка карточек постоянного клиента вручную или перенос баланса поощрений лояльности с одной карточки на другую, чтобы выполнить требования клиента или поощрить его.

## <a name="setting-up-loyalty-programs"></a>Настройка программ лояльности

Необходимо настроить несколько компонентов, чтобы включить функцию лояльности в Dynamics 365 for Retail. На следующей схеме показаны компоненты лояльности и то, как они связаны друг с другом.

![Последовательность операций для настройки программы лояльности](./media/loyaltyprocess.gif "Компоненты программы лояльности и их связь друг с другом")

## <a name="loyalty-components"></a>Компоненты лояльности

В следующей таблице приводится описание каждого компонента и указывается, где он используется при настройке лояльности.

| Компонент                                        | описание | Использование |
|--------------------------------------------------|-------------|-----------------|
| Настройка скидок (необходимое условие)                  | Настройка скидок, предлагаемых постоянным клиентам. Например, вы можете предложить скидку 5 процентов на всю повседневную одежду. | Чтобы можно было включить скидки в программу лояльности, их необходимо добавить в ценовые группы. Ценовые группы назначаются программам лояльности и уровням лояльности. |
| Настройка ценовых групп (необходимое условие)               | Ценовые группы используются для создания цен и скидок для розничных продуктов и управления ими. Настройте ценовые группы, включающие скидки, которые применяются к программам лояльности. | Ценовые группы назначаются программам лояльности и уровням программ лояльности. |
| Настройка каналов (необходимое условие)                   | Каналы розничной торговли — это магазины, участвующие в программах лояльности, такие как физические магазины, интернет-магазины или центры обработки вызовов. Необходимо настроить каналы розничной торговли перед назначением им программ лояльности. | Каналы розничной торговли назначаются программе лояльности, если канал розничной торговли участвует в программе лояльности. |
| Настройка способа оплаты по программе лояльности (необходимое условие) | Прежде чем карточку постоянного клиента можно будет использовать на кассе, а баллы по программе лояльности можно будет применять в рамках программы лояльности, необходимо настроить способ оплаты. Кроме того, необходимо добавить способ оплаты по программе лояльности в канал розничной торговли, прежде чем клиенты получать возможность использовать баллы по программе лояльности для оплаты продуктов. | Настройте способ оплаты типа программы лояльности, а затем назначьте способ оплаты по программе лояльности каналам розничной торговли, участвующим в программе лояльности. |
| Настройка интервалов дат                            | Интервалы дат позволяют гибко настраивать период времени для уровней лояльности. Используйте интервалы дат для того, чтобы определить, сколько времени клиент может оставаться на уровне или сколько времени имеет клиент на то, чтобы выполнить действие, необходимое для квалификации на уровень. | Интервалы дат применяются, только если в программах лояльности используются уровни. Можно выбрать интервал дат, который применяется к уровням программы, а также интервалы дат, которые применяются к правилам уровней программы. |
| Настройка баллов поощрения                             | Баллы поощрения — это типы поощрения, предлагаемые клиентам. Баллы поощрения могут иметь или не иметь возможность списания. Баллы поощрения с возможностью списания можно обменять на продукты. Баллы поощрения без возможности списания используются для отслеживания сведений о клиенте или перевода клиента на следующий уровень программы лояльности. | Баллы поощрения определяются в правилах уровней и используются для перевода клиента на определенный уровень. Баллы поощрения также определяются в схемах лояльности в правилах начисления и списания. В правилах начисления определяются поощрения, которые клиент может получить, выполнив определенные действия. В правилах списания определяются поощрения, которые клиент может списать. |
| Настройка программ лояльности                          | Программы лояльности — это основной объект лояльности, предлагаемый компанией. Каждая программа лояльности может иметь уровни лояльности. Скидки и ценовые группы назначаются программам лояльности на уровне программы или на уровне уровня. | Для программ лояльности можно создать схемы лояльности. Программам лояльности можно назначить карточки постоянного клиента, а карточки постоянного клиента можно назначить клиенту. Каналы розничной торговли участвуют в программах лояльности, назначенных схемам лояльности. Любой клиент, имеющий карточку постоянного клиента, может участвовать в программах лояльности, назначенных карточке. |
| Настройка уровней лояльности и правил уровней              | Уровни лояльности — это дополнительные уровни, которые можно определить для программ лояльности. Можно настроить базовые скидки и поощрения для всех клиентов, участвующих в программе лояльности, а также дополнительные скидки и поощрения для клиентов, которые находятся на разных уровнях программы. Для каждого определяемого уровня лояльности можно настроить правила перевода клиента на данный уровень. Можно также указать период времени, в течение которого клиенты могут оставаться на данном уровне после перехода на него. | Уровни лояльности и правила уровней лояльности определяются в программах лояльности. Если не определить уровни лояльности, все клиенты, участвующие в программе лояльности, имеют право на скидки, назначенные в ценовой группе программы лояльности. Если определить уровни лояльности, можно настроить правила начисления и правила списания для уровней лояльности в схеме лояльности. |
| Настройка схем программы лояльности                           | В схемах лояльности указываются правила начисления и правила списания, которые применяются к выбранной программе лояльности. Каналы розничной торговли назначаются схеме лояльности для указания того, какая программа лояльности, правила начисления и правила списания применяются к магазину розничной торговли. | Схема лояльности назначается программе лояльности и каналам розничной торговли. Можно назначить несколько схем лояльности одной программе лояльности и можно назначить несколько схем лояльности множеству каналов розничной торговли. |
| Настройка карточек постоянного клиента                             | Карточка постоянного клиента дает владельцу карточки право участвовать в программах лояльности, назначенных карточке. Карточки постоянного клиента можно выпускать анонимно, или они могут назначаться определенному клиенту. Можно просмотреть проводки по программе лояльности для определенной карточки, а также просмотреть сводку баллов по программе лояльности, накопленных на карточке. Карточки постоянного клиента можно выпускать в любом канале розничной торговли. Можно также вручную скорректировать карточку постоянного клиента, чтобы перевести клиента на другой уровень, добавить баллы или перенести сальдо баллов по программе лояльности с одной карточки на другую. | Программы лояльности назначаются карточке постоянного клиента. |

## <a name="loyalty-processes"></a>Процессы лояльности

Следующая таблица описывает процессы, которые необходимо запустить для отправки конфигураций и данных лояльности в ваши магазины, а также для извлечения проводок лояльности из ваших магазинов.

| Наименование процесса                         | Описание | Имя страницы |
|--------------------------------------|-------------|-----------|
| 1050 (сведения по программе лояльности)           | Выполните этот процесс, чтобы отправить данные конфигурации лояльности из Dynamics 365 for Retail в магазины розничной торговли. Рекомендуется запланировать частое выполнение этого процесса, чтобы данные лояльности передавались во все магазины. | График распределения |
| Обработать схемы программы лояльности              | Выполните этот процесс, чтобы связать схемы лояльности с каналами розничной торговли, которым назначена схема лояльности. Этот процесс можно запланировать для запуска в виде процесса пакетной обработки. Вы должны запустить этот процесс, если вы изменяете данные конфигурации лояльности, такие как схемы лояльности, программы лояльность или баллы вознаграждения по программе лояльности. | Обработать схемы программы лояльности |
| Обработать автономные проводки лояльности | Выполните эту процедуру, чтобы обновить карточки постоянного клиента, чтобы они включали проводки, обработанные в автономном режиме. Этот процесс применяется только в том случае, если установлен флажок **Заработок в автономном режиме** на странице **Общие параметры розничной торговли**, чтобы баллы вознаграждения можно было зарабатывать в автономном режиме. | Обработать автономные проводки лояльности |
| Обновить классы карточки постоянного клиента            | Выполните этот процесс, чтобы оценить достаточно ли клиент заработал баллов, чтобы остаться на данном уровне программы лояльности, и чтобы обновить статус уровня клиента. Этот процесс необходим, только если правила уровней в программах лояльности были изменены и требуется обновить правила задним числом для применения к карточкам постоянного клиента, которые уже были выданы. Этот процесс можно выполнить как процесс пакетной обработки или для отдельных карт. | Обновить классы карточки постоянного клиента |

## <a name="loyalty-enhancements"></a>Улучшения программы лояльности

Приложение Retail в выпуске за октябрь 2018 года получило новые функциональные возможности по программам лояльности. Далее приведено описание каждого из новых улучшений.

- В рамках схемы программы лояльности в предыдущих выпусках предприятия розничной торговли могли создать различный правила начисления и погашения с уровнями, чтобы отличать вознаграждения для клиентов на различных уровнях. Предприятия розничной торговли теперь могут включить "принадлежности" как часть правил начисления и погашения, чтобы определенные группы клиентов может быть частью существующих уровней, но получать вознаграждение по-разному. Это исключает необходимость создавать дополнительные уровни.
    
    > [!NOTE]
    > Правила начисления в рамках схемы программы лояльности являются дополнительными. Например если вы создаете правило, согласно которому члену золотого уровня начисляются 10 баллов для каждого доллара США, можно также создать правило для клиента с назначением «ветеран», чтобы начислять 5 баллов за каждый доллар США; тогда ветеран, который также является членом золотого уровня, будет накапливать 15 баллов за каждый 1 доллар США, так как он входит в обе строки. Тем не менее, если клиент-ветеран не является членом золотого уровня, он будет накапливать 5 баллов за каждый доллар. Чтобы отразить изменения в каналах, запустите задания **Обработать схемы программы лояльности** и **1050** (сведения о программе лояльности).
    
    ![Начисления на основе принадлежности](./media/Affiliation%20based%20earning.png "Начисления на основе принадлежности")

- Предприятия розничной торговли часто имеют специальные цены для группы клиентов, которые не хотят входить в программы лояльности. Например, оптовых клиенты или сотрудники, которые получают специальные цены, но не получают баллы по программе лояльности. Часто «принадлежности» используются для предоставления специальных цен для таких групп клиентов. Чтобы запретить определенным группам клиентов получать баллы по программе лояльности, предприятие розничной торговли может указать одну или несколько принадлежностей в разделе **Исключенные назначения** схемы программы лояльности. Таким образом, когда клиенты, входящие в исключенные группы принадлежности, являются действующими членами программы лояльности клиентов, они не смогут накапливать баллы по программе лояльности за свои покупки. Чтобы отразить изменения в каналах, запустите задания **Обработать схемы программы лояльности** и **1050** (сведения о программе лояльности).

    ![Исключенные назначения](./media/Excluded%20affiliations.png "Запрет группам принадлежности получать баллы по программе лояльности")
    
- Продавцы могут создавать номера карточек постоянного клиента в каналах. До обновления от октября 2018 года предприятия розничной торговли могли использовать физические карты программы лояльности или формировать карточки постоянного клиента, используя некоторые уникальные данные клиента, такие как номер телефона. Чтобы включить автоматическое создание карточек постоянного клиента в магазинах розничной торговли, включите параметр **Создать номер карты лояльности** в профиле функциональности, связанном с магазином. Для каналов продаж через Интернет предприятия розничной торговли могут использовать API IssueLoyaltyCard для выпуска карточек программы лояльности для клиентов. Предприятия розничной торговли могут предоставить данному API номер, который будет использоваться для создания карты постоянного клиента, или система будет использовать номерную серию карт постоянного клиента, заданную в Dynamics 365 for Retail. Тем не менее, если номерная серия не существует и при вызове API предприятие розничной торговли не указало номер карточки постоянного клиента, выводится сообщение об ошибке.

    ![Создание карточки постоянного клиента](./media/Generate%20loyalty%20card.png "Автоматическое создание номера карточки постоянного клиента")

- Начисленные и погашенные баллы по программе лояльности, теперь сохраняются для каждой проводки и заказов на продажу для строки продажи, чтобы та же сумма могла быть возвращена или аннулирована в случае полного или частичного возврата. Более того, наличие видимости для баллов на уровне строки продажи обеспечивает возможность для пользователей центра обработки вызовов отвечать на вопросы клиентов о том, сколько баллов было начислено или погашено для каждой строки. До этого изменения начисленные баллы всегда пересчитывались при возврате, что приводило к сумме, отличной от исходной, если правила начисления или погашение были изменены; кроме того, пользователи центра обработки вызовов не видели разбивку баллов. Баллы могут просматриваться в форме **Проводки по карте** для каждой карты постоянного клиента.    
- Предприятия розничной торговли теперь могут определять период ввода в действие для каждого начисленного балла. Конфигурации периода ввода в действие определяет время с даты начисления, после которого начисленные баллы становятся доступными для клиентов. Неначисленные баллы можно просмотреть в столбце **Неначисленные баллы** на странице **Карты лояльности**. Кроме того, предприятия розничной торговли могут определить максимальное количество начисляемых баллов для каждой карты постоянного клиента. Это поле может использоваться для уменьшения воздействия мошенничества с программами лояльности. При достижении максимального количества начисленных баллов пользователь на может получить дополнительные баллы. Предприятия розничной торговли могут решить блокировать такие карты, пока они проверили на наличие потенциального мошенничества. Если предприятие розничной торговли определяет мошенничество, оно не только может блокировать карточку постоянного клиента, но и также пометить клиента как заблокированного. Чтобы это сделать, задайте для свойства **Заблокировать регистрацию в программе лояльности для клиента** значение **Да** в разделе **Все клиенты** на экспресс-вкладке **Retail**. Заблокированные клиенты не смогут получить карточку постоянного клиента ни по одному из каналов.

    ![Начисление и максимальное количество баллов](./media/Vesting%20and%20maximum%20reward%20points.png "Определение начисления и максимального количества баллов")

- Назначения используются для предоставления специальных цен и скидок, но также существуют некоторые назначения, которые предприятия розничной торговли не хотят показывать клиентам. Например, назначение под названием "Клиент с большим объемом покупок" может быть плохо воспринято некоторыми клиентами. Кроме того, существуют некоторые назначения, которые не должны управляться в магазине, например, сотрудники, так как вы не хотите, чтобы кассиры могли решать, кто является сотрудником, и таким образом обеспечивать скидки как для сотрудников. Предприятия розничной торговли теперь могут выбрать назначения, которые должны быть скрыты в розничных каналах. Назначения, помеченные как **Скрыть в каналах**, нельзя просматривать, добавлять или удалять в POS. Тем не менее цены и скидки, связанные с этими назначениями, будут применяться к продуктам.

    ![Скрыть назначения](./media/Hide%20affiliations.png "Скрыть назначения в каналах")
    
- Пользователям центра обработки вызовов теперь легче искать клиентов с помощью информации о карте постоянного клиента и переходить на страницы карты постоянного клиента или проводки по карте постоянного клиента со страницы **Обслуживание клиентов**.

    ![Обслуживание клиентов](./media/Customer%20service.png "Поиск сведений по программе лояльности для клиента")
    
- Если безопасность карты постоянного клиента была нарушена, необходимо создать новую карты на замену и перенести существующие баллы на новую карту. Процесс замены карты в данном выпуске упрощен. Кроме того, клиенты могут дарить часть или все свои баллы по программе лояльности друзьям и членам семьи. При перемещении баллов для каждой карты постоянного клиента создаются записи корректировки баллов. Функция замены карт и переноса сальдо доступны со страницы **Карты лояльности**.

    ![Замена и перенос баллов](./media/Replace%20and%20transfer%20points.png "Замена карты локальности или перенос сальдо")
    
- Предприятиям розничной торговли может потребоваться оценить эффективность определенного канала для регистрации клиентов в программе лояльности. Источник подачи заявок для карт постоянного клиента теперь сохраняется, чтобы предприятия розничной торговли могли выполнять отчеты для этих данных. Источник регистрации автоматически регистрируется для всех выпущенных карт постоянного клиента из каналов MPOS/CPOS или электронной коммерции. Для карт постоянного клиента, выданных из приложения бэк-офиса, пользователь центра обработки вызовов может выбрать соответствующий канал.
- В предыдущих выпусках предприятия розничной торговли могли использовать MPOS/CPOS для погашения баллов по программе лояльности для клиентов в магазине. Тем не менее в этих выпусках, потому что сальдо по программе лояльности отображается в баллах по программе лояльности, кассир не может видеть сумму в валюте, которая может быть применена к текущей проводке. Кассир должен был сделать преобразование баллов в валюту перед оплатой баллами по программе лояльности. В текущем выпуске после добавления строк в проводку кассир может просмотреть сумму, которую можно оплатить баллами по программе лояльности для текущей проводки, что упрощает применение некоторых или всех баллов по программе лояльности к проводке. Кроме того, кассир может увидеть все баллы, срок действия которых истекает за следующие 30 дней, поэтому они могут предложить более дорогой продукт или перекрестные продажи, чтобы мотивировать клиента потратить баллы с истекающим сроком действия в этой транзакции.

    ![Баллы, покрываемые сальдо по программе лояльности](./media/Points%20covered%20by%20loyalty%20balance.png "Показать баланс, покрываемый баллами по программе лояльности")

    ![Баллы с истекающим сроком действия](./media/Expiring%20points.png "Просмотр баллов с истекающим сроком действия")
    
## <a name="upcoming-enhancements"></a>Предстоящие улучшения

Следующие функции будут доступны в будущих ежемесячных обновлениях Dynamics 365 for Retail.
    
- Клиенты желают возможность просматривать сведения о сальдо по программе лояльности в каналах, обращенных к клиентам. Аналогичным образом важно для кассиров просматривать историю баллов по программе лояльности для клиента в MPOS/CPOS, чтобы быстро отвечать на любые запросы от клиента. В предстоящем ежемесячном выпуске клиенты и кассиры будут видеть сведения истории постоянного клиента.
- Многие предприятия розничной торговли могут начислять баллы по программе лояльности только на основе проводок продаж, но некоторые более ориентированные на клиента предприятия розничной торговли хотят иметь возможность поощрять клиентов за любые действия, связанные с их брендом. Например они хотят предоставлять начисления баллов за заполнение интернет-опроса, посещение магазина, лайки для предприятий розничной торговли в Facebook, написание отзывов о предприятии розничной торговли в Twitter и т. д. В будущем мы будем добавлять возможность начисления баллов по программе лояльности для любого действия клиента. Чтобы это сделать, предприятие розничной торговли может определить "Другие типы мероприятий" и определить правила начисления баллов для этих действий. Мы также предоставим API Retail Server, который может быть вызван, когда действие определено, которое будет использовать правило начисления баллов для начисления требуемых баллов по программе лояльности.
- Чтобы включить настоящую многоканальную розничную торговлю, мы позволим клиентам начислять и погашать баллы по программе лояльности на всех каналах.
- Бесплатные покупки или покупки со скидкой — один из факторов высокой мотивации клиентов для покупок через Интернет. Чтобы позволить предприятиям розничной торговли настроить рекламные акции, мы введем новый тип рекламной акции, в которой предприятие розничной торговли может определить пороговые значения, при выполнении которых клиентам будет доступна покупка со скидками или бесплатная покупка.

