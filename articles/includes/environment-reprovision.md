---
ms.openlocfilehash: 22911afd3a3da0ce3bcaeb7e42ab0096c868be547d559f14a91e09d6e6e12c08
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "6777072"
---
Чтобы при копировании базы данных между средами скопированная база данных стала полностью функциональной, вам понадобится запустить средство повторной подготовки среды для обеспечения актуальности всех компонентов Commerce.

> [!IMPORTANT]
> Рекомендуется выполнять эту процедуру независимо от того, используются компоненты Commerce или нет, так как функциональные возможности Commerce включены во все среды. 

Перед продолжением необходимо убедиться, что выполнены следующие необходимые условия:
1. При обновлении до выпуска за июль 2017 г. (также называется 7.2) 7.2.11792.56024 примените следующие исправления приложений X++ в конечной среде перед выполнением обновления данных в этой среде. Это предотвратит появление различных ошибок во время обновления данных.

    - КБ 4036156 — обновление дополнительной версии Retail — "Не задана последовательность для номеров вариантов." Этот пакет исправлений также включает в себя KB 4035399 и KB 4035751. Обратите внимание, что для использования этого пакета должно быть установлено обновление не ниже Platform Update 9. При наличии сомнений установите новейшие двоичные файлы.
    
2. При обновлении с Microsoft Dynamics AX 2012 перед запуском обновления данных установите следующие исправления приложений X++ в конечной среде:
    - KB 4033183 — сбой обновления (не розничного) Dynamics AX 2012 R2 или Dynamics AX 2012 R3 (до накопительного обновления CU8) с сообщением о том, что не найден объект для dbo.RETAILTILLLAYOUTZONE.
    - KB 4040692 — сбой обновления Dynamics AX 2012 R3 до Microsoft Dynamics 365 for Operations 7.2 по повторяющемуся индексу RetailSalesLine в SalesLineIdx.
    - КБ 4035490 — проблема производительности сценария обновления поля GeneralJournalAccountEntry MainAccount.


Выполните следующие действия, чтобы выполнить средство повторной подготовки среды.

1. В библиотеке общих ресурсов выберите **Готовый к развертыванию программный пакет**.
2. Загрузите средство повторной подготовки среды.
3. В библиотеке общих ресурсов для вашего проекта выберите **Готовый к развертыванию программный пакет**.
4. Выберите **Создать** для создания нового пакета.
5. Введите имя и описание для пакета. В качестве имени пакета можно использовать **Средство повторной подготовки среды**.
6. Отправьте пакет, который был загружен ранее.
7. На странице **Сведения среды** для целевой среды выберите команду **Поддержка** > **Применить обновления**.
8. Выберите загруженное ранее средство повторной подготовки среды, затем выберите **Применить**, чтобы применить пакет.
9. Контролируйте процесс развертывания пакета. 

Подробнее порядок применения готового к развертыванию пакета см. в разделе [Применение готового к развертыванию пакета](../deployment/create-apply-deployable-package.md). Подробнее о том, как вручную применить готовый к развертыванию пакет, см. в разделе [Установка готового к развертыванию пакета](../deployment/install-deployable-package.md).
