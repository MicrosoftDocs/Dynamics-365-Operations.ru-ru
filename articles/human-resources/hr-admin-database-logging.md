---
title: Настройка и ведения журнала базы данных
description: Можно отслеживать изменения в таблицах и полях в Dynamics 365 Human Resources с помощью журнала базы данных.
author: twheeloc
ms.date: 12/15/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.custom: 7521
ms.assetid: ''
ms.search.region: Global
ms.author: jaredha
ms.search.validFrom: 2020-06-10
ms.dyn365.ops.version: Human Resources
ms.openlocfilehash: 5b8641655cf31453f6fc11e2056fb6bf96a43cbc
ms.sourcegitcommit: a58dfb892e43921157014f0784bd411f5c40e454
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2022
ms.locfileid: "8696273"
---
# <a name="configure-and-manage-database-logging"></a>Настройка и ведения журнала базы данных


[!INCLUDE [PEAP](../includes/peap-2.md)]

[!include [Applies to Human Resources](../includes/applies-to-hr.md)]

Можно отслеживать изменения в таблицах и полях в Dynamics 365 Human Resources с помощью журнала базы данных. В этом разделе описывается следующее:

- Управление безопасностью и производительностью для ведения журнала базы данных
- Настройка регистрации базы данных
- Очистка журналов базы данных

## <a name="overview-of-database-logging"></a>Обзор журналов базы данных

Журналы базы данных отслеживают определенные изменения в таблицах и полях в Microsoft Dynamics 365 Human Resources. Эти изменения включают вставку, обновление или удаление. В журнале базы данных сохраняется запись об изменениях в таблицах или полях в таблице журнала базы данных.

Деловые применения журнала базы данных включают в себя:

- Создание записи аудита изменений в определенных таблицах, содержащих конфиденциальную информацию.
- Отслеживание одиночных проводок. Ведение журнала базы данных не предназначено для отслеживания автоматических проводок, которые работают в пакетных заданиях.

## <a name="security-for-database-logging"></a>Безопасность для ведения журнала базы данных

Журналы базы данных могут содержать конфиденциальные данные. Ограничьте доступ, чтобы включить только те роли безопасности, для которых необходим доступ к данным журнала.

## <a name="database-logging-and-performance"></a>Ведение журнала базы данных и производительность

В то же время как ведение журнала базы данных может быть полезно с точки зрения бизнеса, оно может потребовать больших затрат на использование ресурсов и управление ими. Последствия ведения журнала базы данных для производительности включают в себя:

- Таблица журнала базы данных может быстро расти и привести к увеличению размера базы данных. Рост зависит от объема данных в журнале, которые вы решили сохранить. По умолчанию в таблице журнала базы данных хранятся данные журнала только за 30 дней. 

- Ведение журнала базы данных может негативно повлиять на длительно выполняемые автоматизированные процессы, такие как длительные импорты данных.

### <a name="best-practices"></a>Рекомендации

Чтобы повысить производительность, ограничьте записи журнала, выбрав для включения в журнал отдельные поля, а не все таблицы. Для обеспечения общей производительности ведение журнала базы данных ограничивается 20 таблицами.

> [!NOTE]
> Только обновления могут регистрироваться для отдельных полей.

## <a name="set-up-database-logging"></a>Настройка регистрации базы данных

Для настройки ведения журнала базы данных можно использовать мастер **Журнал изменений базы данных**. Мастер обеспечивает гибкий способ настройки ведения журнала для таблиц или полей.

1. Перейдите к пункту **Администрирование системы > Ссылки > База данных > Настройка журнала базы данных**. Выберите **Создать**, чтобы запустить мастер **Ведение журнала изменений базы данных**.
2. Выберите **Далее**. 
3. На странице **Таблицы и поля** мастера выберите таблицы и поля, для которых необходимо включить ведение журнала базы данных, и выберите **Далее**.

   > [!Note]
   > Ведение журнала базы данных доступно не во всех таблицах базы данных Human Resources. При выборе команды **Показать все таблицы** под списком разворачивается список таблиц и полей, в котором отображаются все таблицы базы данных, для которых доступно ведение журнала базы данных, но это будет подмножество полного списка таблиц базы данных.

4. На странице **Типы изменения** мастера выберите операции с данными, для которых необходимо отслеживать изменения для каждой из таблиц и полей, и выберите **Далее**. В таблице далее представлено описание операций с данными, доступных для ведения журнала.
5. На странице **Готово** проверьте изменения, которые будут сделаны, и нажмите кнопку **Готово**.

| Операция | описание |
| -- | -- |
| Отслеживать новые проводки | Создайте журнал для новых записей, созданных в таблице. |
| Обновить  | Создайте журнал для обновлений записей таблицы или обновлений в отдельных выбранных полей в таблице. Если выбрано ведение журнала обновлений для таблицы, то запись журнала создается каждый раз, когда выполняется обновление любого поля любой записи в таблице. Если выбрано ведение журнала обновлений для конкретных полей, запись журнала создается только при обновлении этих полей записей таблицы. |
| Удаление | Создание журнала для записей, удаленных из таблицы. |
| Переименовать ключ | Создание записи журнала при переименовании табличного ключа. |


## <a name="clean-up-database-logs"></a>Очистка журналов базы данных

Можно удалить весь журнал базы данных или его часть с помощью следующих параметров:

- Выберите все журналы для определенной таблицы.
- Выберите отдельные типы журнала базы данных.
- Выберите дату и время создания журнала.

Чтобы настроить очистку журнала базы данных, сделайте следующее: 

1. Перейдите к пункту **Администрирование системы > Ссылки > База данных > Журнал базы данных**. Выберите **Очистить журнал**.
2. В заголовке **Записи для добавления** выберите **Фильтр**.
3. Выберите метод, который будет использоваться для выбора журналов для удаления. Введите один из следующих вариантов:

   - Код(ID) таблицы
   - Тип журнала
   - Дата и время создания

4. Используйте вкладку **Очистка журнала базы данных** для определения времени выполнения задачи очистки журнала. По умолчанию журналы базы данных доступны в течение 30 дней.


[!INCLUDE[footer-include](../includes/footer-banner.md)]
