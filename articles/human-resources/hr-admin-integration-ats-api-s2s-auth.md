---
title: Аутентификация сервер-сервер для API интеграции ATS
description: В этой теме описывается, как настроить аутентификации сервер-сервер для интеграции с API интеграции системы отслеживания кандидатов (ATS) Dynamics 365 Human Resources.
author: jaredha
ms.date: 06/30/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: jaredha
ms.search.validFrom: 2021-06-30
ms.dyn365.ops.version: Human Resources
ms.openlocfilehash: d221e1a47dca85880fd683177ca95dd1b7766fb9
ms.sourcegitcommit: 3a7f1fe72ac08e62dda1045e0fb97f7174b69a25
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/31/2022
ms.locfileid: "8064930"
---
# <a name="server-to-server-authentication-for-the-ats-integration-api"></a>Аутентификация сервер-сервер для API интеграции ATS


[!INCLUDE [PEAP](../includes/peap-1.md)]

[!include [Applies to Human Resources](../includes/applies-to-hr.md)]

В этой теме описывается, как настроить аутентификации сервер-сервер для интеграции приложений с API интеграции системы отслеживания кандидатов (ATS) Dynamics 365 Human Resources. Есть несколько уровней безопасности, которыми необходимо управлять для субъекта-службы, чтобы получить доступ к виртуальной таблице Microsoft Dataverse и связанным данным. Пользователю необходимо предоставить доступ к виртуальной таблице Dataverse в Microsoft Power Platform и получить доступ к данным в Dynamics 365 Human Resources.

## <a name="enable-access-to-dataverse-virtual-tables-in-power-platform"></a>Разрешение доступа к виртуальным таблицам Dataverse в Power Platform

На первом шаге разрешите доступ к виртуальным таблицам Dataverse в Power Platform, чтобы настроить свое приложение в Power Platform для аутентификации в конечных точках виртуальной таблицы Dataverse. Шаги для этого описаны в [Руководстве разработчика Microsoft Dataverse](/powerapps/developer/data-platform).

  - Для регистраций приложений в одном клиенте: [Использование аутентификации сервер-сервер в одном клиенте](/powerapps/developer/data-platform/use-single-tenant-server-server-authentication)
  - Для регистраций приложений в нескольких клиентах: [Использование аутентификации сервер-сервер в нескольких клиентах](/powerapps/developer/data-platform/use-multi-tenant-server-server-authentication)

### <a name="creating-a-security-role-for-ats-integrations"></a>Создание роли безопасности для интеграции ATS

Одним из шагов после создания пользователя приложения является назначение пользователю роли безопасности, определяющей доступ приложения к конечным точкам. Это шаг 7 при [создании пользователя приложения](/powerapps/developer/data-platform/use-single-tenant-server-server-authentication#application-user-creation) для регистраций приложений с одним клиентом и при [создании роли безопасности для пользователя приложения](/powerapps/developer/data-platform/use-multi-tenant-server-server-authentication#create-a-security-role-for-the-application-user) для регистраций с несколькими клиентами. 

Роль, для которой назначается пользователь приложения, должна иметь доступ к сущностям данных, используемым для вашей интеграции ATS. Это поле не существует, поэтому будет необходимо создать новую роль безопасности. Новая роль может быть создана после действий, описанных в разделе [Создание роли безопасности](/power-platform/admin/create-edit-security-role#create-a-security-role).

Для новой роли соответствующий уровень доступа должен быть назначен как минимум следующим сущностям на вкладке **Настраиваемые сущности** новой роли. Обратите внимание, что могут возникнуть дополнительные сущности, которые, возможно, потребуется добавить, если интеграция использует более обширные данные приложения. После создания новой роли ее можно назначить пользователю приложения.

  - Основной работник (mshr)
  - Кандидат для приема на работу (mshr)
  - Компетенция сертификата (mshr)
  - Тип сертификата (mshr)
  - Организация
  - Функциональные обязанности компенсации (mshr)
  - Тип работы компенсации (mshr)
  - Страны/регионы (mshr)
  - Подразделение (mshr)
  - Компетенция образования (mshr)
  - Образовательная степень (mshr)
  - Учебные дисциплины (mshr)
  - Требования к образованию (mshr)
  - Идентификация (mshr)
  - Тип идентификации (mshr)
  - Образовательное заведение (mshr)
  - Выпускающее агентство (mshr)
  - Компенсация должности (mshr)
  - Должности (mshr)
  - Уровень образования (mshr)
  - Контакты субъекта (mshr)
  - Сотрудники (mshr)
  - Адреса людей (mshr)
  - Отбор респондента (mshr)
  - Тип должности (mshr)
  - Должности V2 (mshr)
  - Компетенция профессионального опыта (mshr)
  - Уровень рейтинга (mshr)
  - Модели рейтинга (mshr)
  - Коды оснований (mshr)
  - Запрос на набор сотрудников (mshr)
  - Местонахождение запроса на набор сотрудников (mshr)
  - Позиция запроса на набор сотрудников (mshr)
  - Навыки для запроса на набор сотрудников (mshr)
  - Типы отбора (mshr)
  - Компетенция навыков (mshr)
  - Навыки (mshr)
  - Должности (mshr)
  - Статус ветерана (mshr)
  - Работник (mshr)

## <a name="granting-application-permissions-to-human-resources-data"></a>Предоставление приложению разрешений на доступ к данным Human Resources

Вторым шагом является обеспечение предоставления приложению соответствующих разрешений на доступ к данным в Human Resources путем связывания их с пользователем в приложении Human Resources. Для пользователя приложения вызовы сервер-сервер через виртуальные таблицы Dataverse выполняются в контексте идентификации пользователя (приложения) в Dataverse, вызывающего действие. Затем служба адаптера виртуальной таблицы выполняет поиск соответствующего пользователя в Human Resources и выполняет запрос в контексте этого пользователя. Это означает, что пользователь должен быть создан в Human Resources с правильными ролями, назначенными для предоставления доступа к данным, которые потребуется использовать в интеграции приложения.

Пользователю Human Resources также следует назначить правильные разрешения на доступ к данным в Human Resources. Роль **Заявление о приеме на работу** (HcmRecruitingIntegrator) доступна с правами первичных сущностей, необходимых для интеграции с данными приема на работу. Эту роль можно назначить пользователю приложения на странице **Пользователи**, чтобы предоставить соответствующий доступ к данным. Дополнительные сведения о ролях безопасности Human Resources см. в разделе [Безопасность на основе ролей](/fin-ops-core/dev-itpro/sysadmin/role-based-security).

### <a name="set-up-the-new-user-with-appropriate-permissions"></a>Настройка нового пользователя с соответствующими разрешениями

Чтобы настроить нового пользователя с соответствующими разрешениями, выполните следующие действия:

  1. Откройте страницу **Пользователи** в модуле Human Resources и выберите **Создать**.
  2. Введите **ИД пользователя** и **Имя пользователя** для нового пользователя приложения. Например, можно ввести "RecruitingIntegration".

      > [!NOTE]
      > Если у приложения нет учетной записи пользователя Microsoft Azure Active Directory (Azure AD) или адреса электронной почты, можно поместить нечто вроде "RecruitingApp" в поля адреса электронной почты и поставщика для пользователя.

  3. На экспресс-вкладке **Роли пользователя** выберите действие **Назначить роли**.
  4. В области **Назначение ролей для пользователя** выберите **Заявление о приеме на работу** и нажмите **ОК**.
  5. Сохраните новую запись пользователя.

### <a name="link-the-new-human-resources-user-to-the-application"></a>Свяжите нового пользователя Human Resources с приложением

После создания пользователя запись должна быть создана для приложения в форме **Приложения Azure Active Directory**, чтобы связать приложение с пользователем Human Resources.

  1. Откройте форму **Приложения Azure Active Directory** и выберите **Создать**.
  2. В поле **Идентификатор клиента** введите идентификатор клиента приложения, созданного для приложения.
  3. В поле **Имя** введите имя интегрируемого приложения.
  4. В поле **ИД пользователя** выберите нового пользователя Human Resources, созданного для интеграции приема на работу.
  5. Сохраните новую запись.

После этого у приложения будет доступ к данным Human Resources, и только к тем данным, которые необходимы для интеграций приложения для приема на работу.

## <a name="see-also"></a>См. также

[Найм кандидатов на должность](hr-personnel-recruit.md)<br>
[Что такое Microsoft Dataverse?](/powerapps/maker/data-platform/data-platform-intro)<br>
[Использование веб-API Microsoft Dataverse](/powerapps/developer/data-platform/webapi/overview)<br>
[Создание и обновление наборов параметров с помощью веб-API](/powerapps/developer/data-platform/webapi/create-update-optionsets)<br>

[!INCLUDE[footer-include](../includes/footer-banner.md)]
