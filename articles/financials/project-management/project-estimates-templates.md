---
title: "Синхронизация оценок по проекту из Project Service Automation непосредственно с прогнозами по проекту Finance and Operations"
description: "В этой теме обсуждаются шаблоны и базовые задачи, которые используются для синхронизации оценок часов и оценок расходов по проекту непосредственно из Microsoft Dynamics 365 for Project Service Automation с Microsoft Dynamics 365 for Finance and Operations."
author: KimANelson
manager: AnnBe
ms.date: 04/02/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: twheeloc
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: knelson
ms.search.validFrom: 2016-11-28
ms.dyn365.ops.version: AX 7.3.0
ms.translationtype: HT
ms.sourcegitcommit: bd8feff598cf80ca675c7d2b5dda636799b19e29
ms.openlocfilehash: 90501f40da0fdc66ad087b3bd746c908cc25711b
ms.contentlocale: ru-ru
ms.lasthandoff: 05/29/2018

---
# <a name="synchronize-project-estimates-from-project-service-automation-directly-to-project-forecasts-in-finance-and-operations"></a><span data-ttu-id="e773b-103">Синхронизация оценок по проекту из Project Service Automation непосредственно с прогнозами по проекту Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="e773b-103">Synchronize project estimates from Project Service Automation directly to project forecasts in Finance and Operations</span></span>

<span data-ttu-id="e773b-104">В этой теме обсуждаются шаблоны и базовые задачи, которые используются для синхронизации оценок часов и оценок расходов по проекту непосредственно из Microsoft Dynamics 365 for Project Service Automation с Microsoft Dynamics 365 for Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="e773b-104">This topic describes the templates and underlying tasks that are used to synchronize project hour estimates and project expense estimates directly from Microsoft Dynamics 365 for Project Service Automation to Dynamics 365 for Finance and Operations.</span></span>

> [!NOTE]
> <span data-ttu-id="e773b-105">Dynamics 365 for Finance and Operations версии 8.0. доступна интеграция задач проекта, категорий проводок расходов, оценки часов, оценки затрат и блокировка функциональности.</span><span class="sxs-lookup"><span data-stu-id="e773b-105">Project tasks integration, expense transaction categories, hour estimates, expense estimates, and functionality locking is available in Dynamics 365 for Finance and Operations version 8.0.</span></span>


## <a name="data-flow-for-project-service-automation-to-finance-and-operations"></a><span data-ttu-id="e773b-106">Поток данных для Project Service Automation для Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="e773b-106">Data flow for Project Service Automation to Finance and Operations</span></span>

<span data-ttu-id="e773b-107">Решение по интеграции Project Service Automation в Finance and Operations использует функцию интеграции данных для синхронизации данных между экземплярами Project Service Automation и Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="e773b-107">The Project Service Automation to Finance and Operations integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance and Operations.</span></span> <span data-ttu-id="e773b-108">Шаблоны интеграции, доступные при использовании функции интеграции данных, включают поток данных по оценкам часов и оценкам расходов по проекту из Project Service Automation в Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="e773b-108">The integration templates that are available with the Data integration feature enable the flow of data about project hour estimates and project expense estimates from Project Service Automation to Finance and Operations.</span></span>

<span data-ttu-id="e773b-109">На следующем рисунке показано, как данные синхронизируются между Project Service Automation и Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="e773b-109">The following illustration shows how the data is synchronized between Project Service Automation and Finance and Operations.</span></span>

<span data-ttu-id="e773b-110">[![Поток данных для интеграции Project Service Automation с Finance and Operations](./media/ProjectEstimatesFlow.png)](./media/ProjectEstimatesFlow.png)</span><span class="sxs-lookup"><span data-stu-id="e773b-110">[![Data flow for Project Service Automation integration with Finance and Operations](./media/ProjectEstimatesFlow.png)](./media/ProjectEstimatesFlow.png)</span></span>


## <a name="templates-and-tasks"></a><span data-ttu-id="e773b-111">Шаблоны и задачи</span><span class="sxs-lookup"><span data-stu-id="e773b-111">Templates and tasks</span></span>

<span data-ttu-id="e773b-112">Для доступа к доступным шаблонам в центре администрирования Microsoft PowerApps выберите **Проекты**и выберите в правом верхнем углу **Новый проект** для выбора общих шаблонов.</span><span class="sxs-lookup"><span data-stu-id="e773b-112">To access the available templates, in the Microsoft PowerApps Admin Center, select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="e773b-113">Следующий шаблон и базовые задачи используются для синхронизации оценок часов из Project Service Automation в Finance and Operations:</span><span class="sxs-lookup"><span data-stu-id="e773b-113">The following template and underlying tasks are used to synchronize project hour estimates from Project Service Automation to Finance and Operations:</span></span>

-  <span data-ttu-id="e773b-114">**Имя шаблона в интеграции данных:** Оценки часов по проекту (PSA в Fin and Ops)</span><span class="sxs-lookup"><span data-stu-id="e773b-114">**Name of the template in Data integration:** Project hour estimates (PSA to Fin and Ops)</span></span>

-  <span data-ttu-id="e773b-115">**Имя задач в проекте:**</span><span class="sxs-lookup"><span data-stu-id="e773b-115">**Name of the tasks in the project:**</span></span> 
    - <span data-ttu-id="e773b-116">Связи транзакции</span><span class="sxs-lookup"><span data-stu-id="e773b-116">Transaction relationships</span></span> 
    - <span data-ttu-id="e773b-117">Оценки расходов</span><span class="sxs-lookup"><span data-stu-id="e773b-117">Expense estimates</span></span>

## <a name="entity-set"></a><span data-ttu-id="e773b-118">Набор объектов</span><span class="sxs-lookup"><span data-stu-id="e773b-118">Entity set</span></span>

| <span data-ttu-id="e773b-119">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="e773b-119">Project Service Automation</span></span>      | <span data-ttu-id="e773b-120">Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="e773b-120">Finance and Operations</span></span>                          |
|---------------------------------|-------------------------------------------------|
| <span data-ttu-id="e773b-121">Задачи по проекту</span><span class="sxs-lookup"><span data-stu-id="e773b-121">Project tasks</span></span>                   | <span data-ttu-id="e773b-122">Объект интеграции для оценки часов проекта</span><span class="sxs-lookup"><span data-stu-id="e773b-122">Integration entity for project hour estimates</span></span>   |

## <a name="entity-flow"></a><span data-ttu-id="e773b-123">Поток объектов</span><span class="sxs-lookup"><span data-stu-id="e773b-123">Entity flow</span></span>

<span data-ttu-id="e773b-124">Оценки часов проекта управляются в Project Service Automation и синхронизируются с Finance and Operations как прогнозы часов проекта.</span><span class="sxs-lookup"><span data-stu-id="e773b-124">Project hour estimates are managed in Project Service Automation, and they are synchronized to Finance and Operations as project hour forecasts.</span></span>

## <a name="preconditions"></a><span data-ttu-id="e773b-125">Предварительные условия</span><span class="sxs-lookup"><span data-stu-id="e773b-125">Preconditions</span></span>

<span data-ttu-id="e773b-126">Прежде чем синхронизация оценок часа проекта может произойти, вы должны синхронизировать проекты, проектные задачи и категории проводок затрат по проекту.</span><span class="sxs-lookup"><span data-stu-id="e773b-126">Before synchronization of project hour estimates can occur, you must synchronize projects, project tasks, and project expense transaction categories.</span></span>

## <a name="power-query"></a><span data-ttu-id="e773b-127">Power Query</span><span class="sxs-lookup"><span data-stu-id="e773b-127">Power Query</span></span>

<span data-ttu-id="e773b-128">Необходимо использовать Microsoft Power Query в шаблоне обновления оценок часов проекта:</span><span class="sxs-lookup"><span data-stu-id="e773b-128">You must use Microsoft Power Query in the project hour estimates template to:</span></span>
- <span data-ttu-id="e773b-129">Установите **Код модели прогноза**, который будет использоваться, когда интеграции будет создавать новые прогнозы часов.</span><span class="sxs-lookup"><span data-stu-id="e773b-129">Set the **Forecast model ID** that will be used when the integration creates new hour forecasts.</span></span>
- <span data-ttu-id="e773b-130">Отфильтруйте любые записи, относящиеся к определенному ресурсу, в рамках задачи, которая не сможет осуществить интегграцию в прогнозы часов</span><span class="sxs-lookup"><span data-stu-id="e773b-130">Filter out any resource specific records within the task that will fail the integration into hour forecasts</span></span>
- <span data-ttu-id="e773b-131">Отфильтруйте все строки категории пустой транзакции.</span><span class="sxs-lookup"><span data-stu-id="e773b-131">Filter out any empty transaction category rows.</span></span> <span data-ttu-id="e773b-132">Несоблюдение этого может привести к неправильным прогнозам часов.</span><span class="sxs-lookup"><span data-stu-id="e773b-132">Failure to do this may result in incorrect hour forecasts.</span></span>

### <a name="forecast-model-id"></a><span data-ttu-id="e773b-133">Код прогнозной модели</span><span class="sxs-lookup"><span data-stu-id="e773b-133">Forecast model ID</span></span>
<span data-ttu-id="e773b-134">Чтобы обновить вставленный в шаблон код прогнозной модели по умолчанию, щелкните стрелку **Сопоставить**, чтобы открыть соответствие.</span><span class="sxs-lookup"><span data-stu-id="e773b-134">To update the default forecast model ID in the template, click the **Map** arrow to open the mapping.</span></span> <span data-ttu-id="e773b-135">Выберите, чтобы открыть расширенный запрос и фильтрацию</span><span class="sxs-lookup"><span data-stu-id="e773b-135">Select to open the Advanced Query and Filtering.</span></span>
- <span data-ttu-id="e773b-136">При использовании шаблона по умолчанию для шаблона оценок часов (PSA и Fin and Ops) выберите **Вставленное условие** в разделе **Примененные действия**.</span><span class="sxs-lookup"><span data-stu-id="e773b-136">If you are using the default Microsoft Project hour estimates (PSA to Fin and Ops) template, select the **Inserted Condition** in the **Applied Steps** section.</span></span> <span data-ttu-id="e773b-137">Выбрав **Функции**, замените **O_forecast** на имя **Код прогнозной модели**, которое должно использоваться при интеграции.</span><span class="sxs-lookup"><span data-stu-id="e773b-137">In the **Function** entry, replace **O_forecast** with the name of the **Forecast model ID** that should be used with the integration.</span></span> <span data-ttu-id="e773b-138">Шаблон по умолчанию содержит код прогнозной модели в демонстрационных данных.</span><span class="sxs-lookup"><span data-stu-id="e773b-138">The default template has a forecast model ID from the demo data.</span></span>
- <span data-ttu-id="e773b-139">При создании нового шаблона необходимо добавить этот столбец.</span><span class="sxs-lookup"><span data-stu-id="e773b-139">If you are creating a new template, you must add this column.</span></span> <span data-ttu-id="e773b-140">Выберите **Добавить столбец с условиями** и присвойте столбцу имя, например ModelID.</span><span class="sxs-lookup"><span data-stu-id="e773b-140">Select **Add Conditional Column** and give the column a name, such as ModelID.</span></span> <span data-ttu-id="e773b-141">Введите условие для столбца где если Задача по проекту не null, то тогда<enter the forecast model ID>; еще равен null.</span><span class="sxs-lookup"><span data-stu-id="e773b-141">Enter the condition for the column where if Project task is not null, then<enter the forecast model ID>; else null.</span></span>

### <a name="filter-out-resource-specific-records"></a><span data-ttu-id="e773b-142">Отфильтровать определенные записи ресурсов</span><span class="sxs-lookup"><span data-stu-id="e773b-142">Filter out resource specific records</span></span>
<span data-ttu-id="e773b-143">Шаблон (PSA и Fin and Ops) оценок часов по проекту имеет фильтр по умолчанию, который удаляет любую конкретную запись ресурса предположительно создаваемого проекта.</span><span class="sxs-lookup"><span data-stu-id="e773b-143">The Project hour estimates (PSA to Fin and Ops) template has a default filter that removes any resource specific records.</span></span> <span data-ttu-id="e773b-144">При создании собственного шаблона, необходимо добавить этот фильтр.</span><span class="sxs-lookup"><span data-stu-id="e773b-144">If you create your own template, you must add this filter.</span></span> <span data-ttu-id="e773b-145">В форме расширенный запрос и фильтрацию выберите фильтр по столбцу **msdyn_islinetask** для включения только записей **Ложь**.</span><span class="sxs-lookup"><span data-stu-id="e773b-145">In the Advanced Query and Filtering form, select to filter on the column **msdyn_islinetask** to only include **False** records.</span></span>

### <a name="filter-out-empty-transaction-category-rows"></a><span data-ttu-id="e773b-146">Отфильтруйте все строки категории пустой транзакции.</span><span class="sxs-lookup"><span data-stu-id="e773b-146">Filter out empty transaction category rows</span></span>
<span data-ttu-id="e773b-147">Необходимо добавить фильтр, чтобы удалить все строки, содержащие категории пустых проводок.</span><span class="sxs-lookup"><span data-stu-id="e773b-147">You must add a filter to remove any rows with empty transaction categories.</span></span> <span data-ttu-id="e773b-148">Это необходимо независимо от того, используете ли вы шаблон по умолчанию или создали свой собственный шаблон.</span><span class="sxs-lookup"><span data-stu-id="e773b-148">This is needed regardless if you are using the default template or creating your own template.</span></span> <span data-ttu-id="e773b-149">Этот фильтр удалит любые сводные строки, поступающие из Project Service Automation, которые могут привести к неверным прогнозам часов в Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="e773b-149">This filter will remove any summary rows coming from Project Service Automation that could cause the hour forecasts in Finance and Operations to be incorrect.</span></span> <span data-ttu-id="e773b-150">В форме расширенного запроса и фильтрация чтобы отфильтровать записи со значением null в столбце выберите **msdyn_transactioncategory_value**.</span><span class="sxs-lookup"><span data-stu-id="e773b-150">In the Advanced Query and Filtering form, select to filter out the null records in the column **msdyn_transactioncategory_value**.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="e773b-151">Сопоставление шаблона в интеграции данных</span><span class="sxs-lookup"><span data-stu-id="e773b-151">Template mapping in Data integration</span></span>

<span data-ttu-id="e773b-152">На следующем рисунке показан пример соответствия задания шаблона при интеграции данных.</span><span class="sxs-lookup"><span data-stu-id="e773b-152">The following illustration shows an example of the template task mapping in Data integration.</span></span> <span data-ttu-id="e773b-153">Соответствие показывает, какие данные полей будут синхронизированы из Project Service Automation в Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="e773b-153">The mapping shows the field information that will be synchronized from Project Service Automation to Finance and Operations.</span></span>

<span data-ttu-id="e773b-154">[![Соответствие шаблона](./media/ProjectHourEstimatesMapping.jpg)](./media/ProjectHourEstimatesMapping.jpg)</span><span class="sxs-lookup"><span data-stu-id="e773b-154">[![Template mapping](./media/ProjectHourEstimatesMapping.jpg)](./media/ProjectHourEstimatesMapping.jpg)</span></span>

<span data-ttu-id="e773b-155">Следующий шаблон и базовая задача используются для синхронизации оценок расходов из Project Service Automation в Finance and Operations:</span><span class="sxs-lookup"><span data-stu-id="e773b-155">The following template and underlying task is used to synchronize project expense estimates from Project Service Automation to Finance and Operations:</span></span>

-  <span data-ttu-id="e773b-156">**Имя шаблона в интеграции данных:** Оценки расходов по проекту (PSA в Fin and Ops)</span><span class="sxs-lookup"><span data-stu-id="e773b-156">**Name of the template in Data integration:** Project expense estimates (PSA to Fin and Ops)</span></span>
-  <span data-ttu-id="e773b-157">**Имя задач в проекте:**</span><span class="sxs-lookup"><span data-stu-id="e773b-157">**Name of the tasks in the project:**</span></span> 
     - <span data-ttu-id="e773b-158">Связи транзакции</span><span class="sxs-lookup"><span data-stu-id="e773b-158">Transaction relationships</span></span> 
     - <span data-ttu-id="e773b-159">Оценки расходов</span><span class="sxs-lookup"><span data-stu-id="e773b-159">Expense estimates</span></span>

## <a name="entity-set"></a><span data-ttu-id="e773b-160">Набор объектов</span><span class="sxs-lookup"><span data-stu-id="e773b-160">Entity set</span></span>

| <span data-ttu-id="e773b-161">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="e773b-161">Project Service Automation</span></span>      | <span data-ttu-id="e773b-162">Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="e773b-162">Finance and Operations</span></span>                                     |
|---------------------------------|------------------------------------------------------------|
| <span data-ttu-id="e773b-163">Связи проводок</span><span class="sxs-lookup"><span data-stu-id="e773b-163">Transaction Connections</span></span>         | <span data-ttu-id="e773b-164">Объект интеграции для связей проводок по проекту.</span><span class="sxs-lookup"><span data-stu-id="e773b-164">Integration entity for project transaction relationships.</span></span>   |
| <span data-ttu-id="e773b-165">Строки оценки</span><span class="sxs-lookup"><span data-stu-id="e773b-165">Estimate Lines</span></span>                  | <span data-ttu-id="e773b-166">Объект интеграции для оценок расходов проекта.</span><span class="sxs-lookup"><span data-stu-id="e773b-166">Integration entity for project expense estimates.</span></span>           |

## <a name="entity-flow"></a><span data-ttu-id="e773b-167">Поток объектов</span><span class="sxs-lookup"><span data-stu-id="e773b-167">Entity flow</span></span>

<span data-ttu-id="e773b-168">Оценки расходов проекта управляются в Project Service Automation и синхронизируются с Finance and Operations как прогнозы расходов проекта.</span><span class="sxs-lookup"><span data-stu-id="e773b-168">Project expense estimates are managed in Project Service Automation, and they are synchronized to Finance and Operations as project expense forecasts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="e773b-169">Необходимые условия</span><span class="sxs-lookup"><span data-stu-id="e773b-169">Prerequisites</span></span>

<span data-ttu-id="e773b-170">Прежде чем синхронизация оценок расходов проекта может произойти, вы должны синхронизировать проекты, проектные задачи и категории проводок затрат по проекту.</span><span class="sxs-lookup"><span data-stu-id="e773b-170">Before synchronization of project expense estimates can occur, you must synchronize Projects, Project tasks and Project expense transaction categories.</span></span>

## <a name="power-query"></a><span data-ttu-id="e773b-171">Power Query</span><span class="sxs-lookup"><span data-stu-id="e773b-171">Power Query</span></span>

<span data-ttu-id="e773b-172">Необходимо использовать Microsoft Power Query в шаблоне обновления оценок расходов проекта:</span><span class="sxs-lookup"><span data-stu-id="e773b-172">You must use Microsoft Power Query in the project expense estimates template to:</span></span>
- <span data-ttu-id="e773b-173">Отфильтруйте для включения только записей оценки расходов</span><span class="sxs-lookup"><span data-stu-id="e773b-173">Filter to include only expense estimate line records</span></span>
- <span data-ttu-id="e773b-174">Установите **Код модели прогноза**, который будет использоваться, когда интеграции будет создавать новые прогнозы часов.</span><span class="sxs-lookup"><span data-stu-id="e773b-174">Set the **Forecast model ID** that will be used when the integration creates new hour forecasts.</span></span>
- <span data-ttu-id="e773b-175">Преобразование типов выставления счетов.</span><span class="sxs-lookup"><span data-stu-id="e773b-175">Transform the billing types.</span></span>
- <span data-ttu-id="e773b-176">Преобразование типов проводок.</span><span class="sxs-lookup"><span data-stu-id="e773b-176">Transform the transaction types.</span></span>

### <a name="filter-to-include-only-expense-estimate-lines"></a><span data-ttu-id="e773b-177">Отфильтруйте для включения только строк оценки расходов</span><span class="sxs-lookup"><span data-stu-id="e773b-177">Filter to include only expense estimate lines</span></span>
<span data-ttu-id="e773b-178">Шаблон (СРП Fin и Ops) оценки расходов проекта имеет фильтр по умолчанию для включения только строк расходов в интеграции.</span><span class="sxs-lookup"><span data-stu-id="e773b-178">The Project expense estimates (PSA to Fin and Ops) template has a default filter to only include expense lines in the integration.</span></span> <span data-ttu-id="e773b-179">При создании собственного шаблона, необходимо добавить этот фильтр.</span><span class="sxs-lookup"><span data-stu-id="e773b-179">If you create your own template, you must add this filter.</span></span> <span data-ttu-id="e773b-180">Выберите задачу связи транзакции и щелкните стрелку **Сопоставление**.</span><span class="sxs-lookup"><span data-stu-id="e773b-180">Select the Transaction relationships task and click the **Map** arrow.</span></span> <span data-ttu-id="e773b-181">Выберите **Расширенная фильтрация и запросы**.</span><span class="sxs-lookup"><span data-stu-id="e773b-181">Select **Advanced Query and filtering**.</span></span> <span data-ttu-id="e773b-182">Отфильтруйте столбец **msdyn_transactiontype1** для включения только **msdyn_estimateline**.</span><span class="sxs-lookup"><span data-stu-id="e773b-182">Filter the **msdyn_transactiontype1** column to include only **msdyn_estimateline**.</span></span>

### <a name="forecast-model-id"></a><span data-ttu-id="e773b-183">Код прогнозной модели</span><span class="sxs-lookup"><span data-stu-id="e773b-183">Forecast model ID</span></span>
<span data-ttu-id="e773b-184">Чтобы обновить вставленный в шаблон код прогнозной модели по умолчанию, щелкните стрелку **Сопоставить** для задачи оценки расходов.</span><span class="sxs-lookup"><span data-stu-id="e773b-184">To update the default forecast model ID in the template, for the Expense estimates task, click the **Map** arrow to open the mapping.</span></span> <span data-ttu-id="e773b-185">Выберите, чтобы открыть расширенный запрос и фильтрацию</span><span class="sxs-lookup"><span data-stu-id="e773b-185">Select to open the Advanced Query and Filtering.</span></span>
- <span data-ttu-id="e773b-186">При использовании шаблона по умолчанию для оценок расходов по проекту Microsoft (PSA и Fin and Ops) выберите сначала **Вставленное условие** в разделе **Примененные действия**.</span><span class="sxs-lookup"><span data-stu-id="e773b-186">If you are using the default Microsoft Project expense estimates (PSA to Fin and Ops) template, select the first **Inserted Condition** in the **Applied Steps** section.</span></span> <span data-ttu-id="e773b-187">Выбрав **Функции**, замените **O_forecast** на имя **Код прогнозной модели**, которое должно использоваться при интеграции.</span><span class="sxs-lookup"><span data-stu-id="e773b-187">In the **Function** entry, replace **O_forecast** with the name of the **Forecast model ID** that should be used with the integration.</span></span> <span data-ttu-id="e773b-188">Шаблон по умолчанию содержит код прогнозной модели в демонстрационных данных.</span><span class="sxs-lookup"><span data-stu-id="e773b-188">The default template has a forecast model ID from the demo data.</span></span>
- <span data-ttu-id="e773b-189">При создании нового шаблона необходимо добавить этот столбец.</span><span class="sxs-lookup"><span data-stu-id="e773b-189">If you are creating a new template, you must add this column.</span></span> <span data-ttu-id="e773b-190">Выберите **Добавить столбец с условиями** и присвойте столбцу имя, например ModelID.</span><span class="sxs-lookup"><span data-stu-id="e773b-190">Select **Add Conditional Column** and give the column a name, such as ModelID.</span></span> <span data-ttu-id="e773b-191">Введите условие для столбца, где код строки оценки не равен null, а затем < Введите код прогнозной модели >; еще равен null.</span><span class="sxs-lookup"><span data-stu-id="e773b-191">Enter the condition for the column where if Estimate line ID is not null, then < enter the forecast model ID >; else null.</span></span>

### <a name="transform-the-billing-types"></a><span data-ttu-id="e773b-192">Преобразование типов выставления счетов</span><span class="sxs-lookup"><span data-stu-id="e773b-192">Transform the billing types</span></span>
<span data-ttu-id="e773b-193">Шаблон оценки расходов проекта (PSA и Fin and Opss) имеет столбец с условиями, добавленный для преобразования типов выставления счетов, полученных от Project Service Automation во время интеграции.</span><span class="sxs-lookup"><span data-stu-id="e773b-193">The Project expense estimates (PSA to Fin and Ops) template has a conditional column added to transform the billing types received from Project Service Automation during the integration.</span></span>
- <span data-ttu-id="e773b-194">При создании собственного шаблона, необходимо добавить этот столбец с условиями.</span><span class="sxs-lookup"><span data-stu-id="e773b-194">If you create your own template, you must add this conditional column.</span></span> <span data-ttu-id="e773b-195">В форме расширенного запроса и фильтрации, выберите **Добавить столбец с условиями**.</span><span class="sxs-lookup"><span data-stu-id="e773b-195">In the Advanced Query and Filtering form, select **Add Conditional Column**.</span></span> <span data-ttu-id="e773b-196">Назвать столбец, например «BillingType».</span><span class="sxs-lookup"><span data-stu-id="e773b-196">Give the column a name, such as "BillingType".</span></span> <span data-ttu-id="e773b-197">Вставить следующее условие:</span><span class="sxs-lookup"><span data-stu-id="e773b-197">The condition to enter is as follows:</span></span>

    <span data-ttu-id="e773b-198">Если **msdyn_billingtype** = 192350000, тогда **NonChargeable** и если **msdyn_billingtype** = 192350001, тогда **Включаемые в накладную** и если **msdyn_billingtype** = 192350002, тогда **благодарности** еще **NotAvailable**</span><span class="sxs-lookup"><span data-stu-id="e773b-198">If **msdyn_billingtype** = 192350000, then **NonChargeable** else if **msdyn_billingtype** = 192350001, then **Chargeable** else if **msdyn_billingtype** = 192350002, then **Complimentary** else **NotAvailable**</span></span>

### <a name="transform-the-transaction-types"></a><span data-ttu-id="e773b-199">Преобразование типов проводок</span><span class="sxs-lookup"><span data-stu-id="e773b-199">Transform the transaction types</span></span>
<span data-ttu-id="e773b-200">Шаблон оценки расходов проекта (PSA и Fin and Opss) имеет столбец с условиями, добавленный для преобразования типов проводок, полученных от Project Service Automation во время интеграции.</span><span class="sxs-lookup"><span data-stu-id="e773b-200">The Project expense estimates (PSA to Fin and Ops) template has a conditional column added to transform the transaction types received from Project Service Automation during the integration.</span></span>
- <span data-ttu-id="e773b-201">При создании собственного шаблона, необходимо добавить этот столбец с условиями.</span><span class="sxs-lookup"><span data-stu-id="e773b-201">If you create your own template, you must add this conditional column.</span></span> <span data-ttu-id="e773b-202">В форме расширенного запроса и фильтрации, выберите **Добавить столбец с условиями**.</span><span class="sxs-lookup"><span data-stu-id="e773b-202">In the Advanced Query and Filtering form, select **Add Conditional Column**.</span></span> <span data-ttu-id="e773b-203">Назвать столбец, например «TransactionType».</span><span class="sxs-lookup"><span data-stu-id="e773b-203">Give the column a name, such as "TransactionType".</span></span> <span data-ttu-id="e773b-204">Условие для ввода является следующим: Если **msdyn_transactiontypecode** = 192350000, тогда **Затраты** и если **msdyn_transactiontypecode** = 192350005, то **Продажи** еще **null**</span><span class="sxs-lookup"><span data-stu-id="e773b-204">The condition to enter is as follows: If **msdyn_transactiontypecode** = 192350000, then **Cost** else if **msdyn_transactiontypecode** = 192350005, then **Sales** else **null**</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="e773b-205">Сопоставление шаблона в интеграции данных</span><span class="sxs-lookup"><span data-stu-id="e773b-205">Template mapping in Data integration</span></span>

<span data-ttu-id="e773b-206">На следующих рисунках показаны примеры соответствия задания шаблона при интеграции данных.</span><span class="sxs-lookup"><span data-stu-id="e773b-206">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="e773b-207">Соответствие показывает, какие данные полей будут синхронизированы из Project Service Automation в Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="e773b-207">The mapping shows the field information that will be synchronized from Project Service Automation to Finance and Operations.</span></span>

<span data-ttu-id="e773b-208">[![Соответствие шаблона](./media/ExpenseEstimateTransactionRelationshipsMapping.jpg)](./media/ExpenseEstimateTransactionRelationshipsMapping.jpg)</span><span class="sxs-lookup"><span data-stu-id="e773b-208">[![Template mapping](./media/ExpenseEstimateTransactionRelationshipsMapping.jpg)](./media/ExpenseEstimateTransactionRelationshipsMapping.jpg)</span></span>

<span data-ttu-id="e773b-209">[![Соответствие шаблона](./media/ExpenseEstimatesMapping.jpg)](./media/ExpenseEstimatesMapping.jpg)</span><span class="sxs-lookup"><span data-stu-id="e773b-209">[![Template mapping](./media/ExpenseEstimatesMapping.jpg)](./media/ExpenseEstimatesMapping.jpg)</span></span>




