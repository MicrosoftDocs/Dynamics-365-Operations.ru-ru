---
title: Субподряд
description: Эта тема представляет собой пошаговое руководство по субподряду в производстве в Dynamics 365 Supply Chain Management.
author: christophernread
ms.date: 09/28/2018
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: josaw
ms.search.validFrom: 2018-09-30
ms.dyn365.ops.version: ''
ms.openlocfilehash: 678256a301a34f354a1fbf7844f5e3de0ad7e882b5d68c5d0310abcdea4a97de
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "6778610"
---
# <a name="subcontracting"></a>Субподряд

[!include [banner](../includes/banner.md)]

Эта тема представляет собой пошаговое руководство по субподряду в производстве в Microsoft Dynamics 365 Supply Chain Management. В первой части этой темы рассматривается настройка данных. Вторая часть представляет собой описание шагов в руководстве.

## <a name="target-audience"></a>Целевая аудитория

В этой теме рассматривается настройка субподряда в производстве. Для базовой настройки потока мероприятия субподряда используются существующие данные в юридическом лице HQUS. Демонстрационные данные в юридическом лице HQUS включают в себя параметры настройки, которые были предварительно заданы в соответствии с шагами в этом руководстве. Хотя в руководстве рассматриваются проблемные моменты и затруднения для различных ролей, выполнять его может администратор системы.

## <a name="demo-scenario"></a>Демонстрационный сценарий

Юридическое лицо HQUS занимается производством динамиков класса Hi-End. В процессе производства динамики проходят через следующие три операции.

- **Предварительная сборка** — собирается корпус динамика. Материал для корпуса комплектуется на складе материалов до начала операции.
- **Нанесения покрытия** — после сборки корпуса динамика на него необходимо нанести покрытие. Эта операция выполняется поставщиком (субподрядчиком). Предварительно собранный корпус динамика отправляется субподрядчику, который наносит покрытие, вместе с двумя материалами.
- **Окончательная сборка** — после того как на предварительно собранный корпус динамика было нанесено покрытие субподпрядчиком, он возвращается в HQUS на окончательную сборку.

На следующем рисунке показаны три операции и материалы, которые в них потребляются.

![Предварительная сборка, нанесение покрытия и окончательная сборка, а также потребляемые материалы.](./media/subcontract01_operations-materials.png)

## <a name="setup"></a>Настройка

Прежде чем начать выполнение пошагового руководства, необходимо настроить данные.

### <a name="set-up-the-finished-product"></a>Настройка для готового продукта

Эта процедура заключается в настройке выпущенного продукта D8100 "Корпус с покрытием".

1. Выберите **Управление сведениями о продукте \> Продукты \> Выпущенные продукты**, чтобы открыть страницу **Сведения о выпущенном продукте**.
2. В поле экспресс-фильтра введите **D8100**, чтобы найти существующий выпущенный продукт.

    ![Фильтрация для поиска выпущенного продукта D8100 на странице "Сведения о выпущенном продукте".](./media/subcontract02_filtering-released-products.png)

3. В области действий на вкладке **Инжиниринг** выберите **Маршрут**, чтобы открыть страницу **Маршрут**.

    На странице **Маршрут** отображается восемь версий маршрута для выпущенного продукта D8100. Восемь версий маршрута делятся на четыре маршрута на сайте 1 и сайте 5. Маршрут 000400 используется для калькуляции себестоимости, маршрут 00041 используется, когда нанесение покрытия представляет собой внутреннюю операцию, а маршрут 00042 используется, когда нанесение покрытия представляет собой внешнюю операцию.

    ![Восемь версий маршрута на странице "Маршрут".](./media/subcontract03_route-page.png)

4. В верхней области в сетке **Версии** выберите версию маршрута **00042** для сайта **5**.
5. В нижней области на вкладке **Обзор** выберите операцию **20** (**Cbnt CtSc**) в сетке.

    ![Выбранная операция 20 для версии маршрута 00042 для сайта 5.](./media/subcontract04_route-version-operation.png)

6. Выберите вкладку **Общие**.

    Обратите внимание, что в поле **Тип маршрута** установлено значение **Поставщик**. Это значение указывает, что операция 20 (Cbnt CtSc) представляет собой субподрядную операцию.

    ![Значение "Поставщик" в поле "Тип маршрута" на вкладке "Общие".](./media/subcontract05_general-tab.png)

7. Выберите вкладку **Потребности ресурса**.

    Возможности будут использоваться для поиска соответствующих ресурсов во время планирования производства. Для операции 20 (Cbnt CtSc) обратите внимание, что требуется ресурс, который имеет две возможности: **Coating** (Нанесение покрытия) и **Coated cabinets** (Корпуса с покрытием).

    ![Возможности Coating и Coated cabinets на вкладке "Требования ресурса".](./media/subcontract06_resource-requirements-tab.png)

8. Выберите **Применимые ресурсы**, чтобы открыть диалоговое окно **Применимые ресурсы**.

    Найдено три ресурса, соответствующих требованиям к ресурсам для операции. Обратите внимание, что ресурс, 8851 и 8852 имеют тип **Поставщик**.

    ![Три подходящих ресурса в диалоговом окне "Применимые ресурсы".](./media/subcontract07_applicable-resources-dialog.png)

9. Выберите **OK**, чтобы закрыть диалоговое окно **Применимые ресурсы** и вернуться на страницу **Маршрут**.
10. Закройте страницу **Маршрут**, чтобы вернуться на страницу **Сведения о выпущенном продукте**.

    ![Страница "Сведения о выпущенном продукте".](./media/subcontract08_released-product-details-page.png)

11. В области действий на вкладке **Инжиниринг** выберите **Версии спецификации**, чтобы открыть страницу **Версии спецификации**.

    На странице **Версии спецификации** отображается четыре версии спецификации (BOM) для выпущенного продукта D8100. Спецификация 000040 используется для калькуляции себестоимости и планирования, спецификация BOM 000041 используется, если нанесение покрытия производится внутри компании, а спецификации 000042 и 000043 используются, если нанесение покрытия передается на субподряд.

    Обратите внимание, что номенклатура S8050 — это продукт с типом номенклатуры **Услуга**. Эта номенклатура представляет работу, передаваемую на субподряд.

    ![Четыре версии спецификации на странице "Версии спецификации".](./media/subcontract09_bom-versions-page.png)

12. На экспресс-вкладке **Строки спецификации** выберите **Редактировать**, чтобы открыть диалоговое окно **Редактировать строку спецификации**.

    При создании и оценке производственного заказа для выпущенного продукта D8100 автоматически создается заказ на покупку для номенклатуры S8050. Этот заказ на покупку будет связан с производственным заказом. Для автоматического создания заказов на покупку в поле **Тип строки** должно быть установлено значение **Поставщик**, и должен быть выбран счет поставщика для субподрядчика. В данном случае счет поставщика — US-801.

    Обратите внимание, что строка спецификации связана с операцией нанесения покрытия через номер операции (в данном случае 20).

    ![Диалоговое окно "Редактировать строку спецификации".](./media/subcontract10_edit-bom-line-dialog.png)

### <a name="create-a-password-for-warehouse-workers"></a>Создание пароля для работников склада

Необходимо определить пароль для работников склада, использующих карманные устройства.

1. Выберите **Управление складом \> Установка \> Работник**, чтобы открыть страницу **Пользователь работы**.
2. На экспресс-вкладке **Пользователи** выберите строку для пользователя **51**.

    ![Страница "Пользователь работы".](./media/subcontract11_work-users-page.png)

3. Выберите **Сброс пароля**.
4. В поле **Пароль** и **Подтверждение пароля** введите **1**.
5. Выберите **Установить пароль**.

## <a name="step-by-step-walkthrough"></a>Пошаговое руководство

**Сценарий и вводные сведения**

Создается производственный заказ на 10 штук продукта D8100 "Корпус с покрытием". Нанесение покрытия на корпуса — это передаваемая на субподряд операция, которую выполняет поставщик US-801 — компания Perfect Coating Solutions. Производственный заказ состоит из трех операций. В первой операции производится предварительная сборка корпуса; это внутренняя операция. Материал для предварительной сборки запускается для комплектации на складе сырья. По завершении предварительной сборки предварительно собранный корпус отправляется компании Perfect Coating Solutions вместе с двумя материалами, необходимыми для операции нанесения покрытия. При получении корпуса с покрытием обратно от поставщика он проходит операцию окончательной сборки (внутри компании), прежде чем производится его приемка.

1. Выберите **Управление производством \> Производственные заказы \> Все производственные заказы**, чтобы открыть страницу **Все производственные заказы**.
2. В области действий выберите **Новый производственный заказ**, чтобы открыть диалоговое окно **Создать производственный заказ**.

    ![Диалоговое окно "Создать производственный заказ".](./media/subcontract12_create-production-order-dialog.png)

3. В поле **Код номенклатуры** выберите **D8100**.
4. После выбора кода номенклатуры появляются поля для складских аналитик. В поле **Цвет** выберите **Хром**.

    Появится окно сообщения с вопросом, следует ли вставить активные версии спецификации и маршрута.

    ![Окно сообщения.](./media/subcontract13_message-box.png)

5. Выберите **Да**. 

    В диалоговом окне **Создать производственный заказ** в полях **Номер спецификации** и **Номер маршрута** автоматически выбираются активные версии спецификации и маршрута для продукта D8100. В данном случае выбраны спецификация **000040** и маршрут **000040**.
    
    > [!NOTE]
    > И в случае спецификации, и в случае маршрута версия 000040 используется для калькуляции себестоимости и планирования.

6. В поле **Сайт** выберите **5**.
7. В поле **Склад** выберите **51**.
8. В полях **Номер спецификации** и **Номер маршрута** измените автоматически выбранное значение на **000042**.

    > [!NOTE]
    > И в случае спецификации, и в случае маршрута версия 000042 используется для передачи нанесения покрытия на корпус на субподряд поставщику US-801.

    ![Значения, заданные в диалоговом окне "Создать производственный заказ".](./media/subcontract14_create-production-order-dialog-set.png)

9. Выберите **Создать**,чтобы создать производственный заказ и вернуться на страницу **Все производственные заказы**.

    ![Новый производственный заказ на странице "Все производственные заказы".](./media/subcontract15_new-production-order.png)

10. В области действий на вкладке **Производственный заказ** выберите **Оценка**, чтобы открыть диалоговое окно **Оценка**.

    ![Диалоговое окно "Оценка".](./media/subcontract16_estimate-dialog.png)

11. Выберите **ОК**,чтобы подтвердить оценку и вернуться на страницу **Все производственные заказы**.

    > [!NOTE]
    > При оценке производственного заказа создается заказа на покупку номенклатуры "услуга" S8050 для поставщика US-801.

12. В области действий на вкладке **Производственный заказ** выберите **Спецификация**, чтобы открыть страницу **Спецификация**, где можно просмотреть строки спецификации для производственного заказа.

    Для номенклатуры "услуга" S8050 обратите внимание, что имеется ссылка на заказ на покупку, созданный при оценке производственного заказа.

    ![Строки спецификации производственного заказа на странице "Спецификация".](./media/subcontract17_production-order-bom-lines.png)

13. Закройте страницу **Спецификация**, чтобы вернуться на страницу **Все производственные заказы**.
14. В области действий на вкладке **План** выберите **Планирование заданий**, чтобы открыть диалоговое окно **Планирование заданий**.
15. Укажите следующие значения:

    - В поле **Направление планирования** выберите **Начиная с завтрашнего дня**.
    - Установите для параметра **Ограничение по мощности** значение **Да**.

    ![Диалоговое окно "Планирование заданий".](./media/subcontract18_job-scheduling-dialog.png)

16. Выберите **OK**, чтобы закрыть диалоговое окно **Планирование заданий** и вернуться на страницу **Все производственные заказы**.
17. В области действий на вкладке **План** выберите **Гант**, чтобы открыть страницу **Диаграмма Ганта — Представление ресурсов**.

    Диаграмма Ганта представляет визуальный обзор того, как производственные задания планируются на ресурсах. Обратите внимание, что внешняя операция нанесения покрытия состоит из трех заданий: задания "обработка", задания "транспортировка" и задания "время в очереди".

    ![Диаграмма Ганта на странице "Диаграмма Ганта — Представление ресурсов".](./media/subcontract19_gantt-chart.png)

18. Закройте страницу **Диаграмма Ганта — Представление ресурсов**, чтобы вернуться на страницу **Все производственные заказы**.
19. В области действий на вкладке **Производственный заказ** выберите **Выпуск**, чтобы открыть диалоговое окно **Выпуск**.

    ![Диалоговое окно "Выпуск".](./media/subcontract20_release-dialog.png)

20. Выберите **OK**, чтобы закрыть диалоговое окно **Запуск в производство**.
21. Выберите **Управление производством \> Периодические задачи \> Выпуск на склад \> Автоматический выпуск строк спецификации и формулы**, чтобы открыть диалоговое окно **Автоматический выпуск строк спецификации и формулы**.

    ![Диалоговое окно "Автоматический выпуск строк спецификации и формулы".](./media/subcontract21_auto-release-bom-formula-lines-dialog.png)

22. Выберите **OK**, чтобы запустить задание "Автоматический выпуск строк спецификации и формулы".

    Это задание выпускает на склад работу по комплектации сырья.

23. Выберите **Управление производством \> Производственные заказы \> Все производственные заказы**, чтобы открыть страницу **Все производственные заказы**.
24. С помощью поля экспресс-фильтра выберите производственный заказ, над которым вы работали.
25. В области действий на вкладке **Склад** выберите **Сведения о работе**, чтобы открыть страницу **Работа**.

    Обратите внимание, что на странице отображается два набора работ для комплектации сырья. Первая работа относится к материалам M8100 и M8101. Эти материалы потребляются операцией 10. Вторая работа относится к материалам M8202 и M8250. Данные материалы потребляются операцией 20, которая является субподрядной операцией.

    ![Два набора работы для комплектации сырья на странице "Работа".](./media/subcontract22_work-page.png)

26. Запустите мобильное приложение управления складом для обработки работы склада для операции 10.

    <!-- TBD – screen shots for processing pick work for the materials. -->

27. Выберите **Управление производством \> Производственные заказы \> Все производственные заказы**, чтобы открыть страницу **Все производственные заказы**.
28. С помощью поля экспресс-фильтра выберите производственный заказ, над которым вы работали.
29. В области действий на вкладке **Производственный заказ** выберите **Начало**, чтобы открыть диалоговое окно **Начало**.
30. На вкладке **Общие** укажите следующие значения:

    - В поле **От операции №** выберите **10**.
    - В поле **До операции №** выберите **10**.

    ![Значения, заданные на вкладке "Общие" 1.](./media/subcontract23_start-dialog.png)

31. Выберите **OK**, чтобы закрыть диалоговое окно **Начало** и вернуться на страницу **Все производственные заказы**.

    Обратите внимание, что статус производственного заказа теперь **Начато**. Материалы для операции 10 потребляются путем автоматической разноски журнала ведомостей комплектации. Потребление времени для операции 10 учитывается путем автоматической разноски журнала карт маршрутов.

32. Запустите мобильное приложение управления складом для обработки работы склада для операции 20.

    <!-- TBD – screen shots for processing pick work for the materials. -->

33. В области действий на вкладке **Производственный заказ** выберите **Начало**, чтобы открыть диалоговое окно **Начало**.
34. На вкладке **Общие** укажите следующие значения:

    - В поле **От операции №** выберите **20**.
    - В поле **До операции №** выберите **20**.
    - В поле **Количество** введите **10**.
    - Установите для параметра **Разнести отборочную накладную** значение **Нет**.

    ![Значения, заданные на вкладке "Общие" 2.](./media/subcontract24_general-tab.png)

35. Выберите **OK**, чтобы закрыть диалоговое окно **Начало** и вернуться на страницу **Все производственные заказы**.

    Создается ведомость комплектации для материалов, используемых в операции нанесения покрытия, и для номенклатуры "услуга". Номенклатура "услуга" представляет стоимость субподрядной операции.

36. В области действий на вкладке **Просмотр** выберите **Лист подбора**, чтобы открыть страницу **Лист подбора**.
37. Выберите ведомость комплектации, которая не разнесена, а затем выберите номер журнала для просмотра строк журнала.

    ![Строки журнала на странице "Лист подбора".](./media/subcontract25_picking-list.png)

38. В области действий выберите **Печать** \> **Отчет по листу подбора**, чтобы открыть диалоговое окно **Отчет по листу подбора**.
39. Установите для параметра **Использовать макет транспортной накладной** значение **Да**.

    ![Диалоговое окно "Отчет по листу подбора".](./media/subcontract26_picking-list-report-dialog.png)

40. Нажмите **ОК**, чтобы создать отчет **Лист подбора**.

    В данном случае транспортная накладная для поставщика печатается из журнала листов подбора производства. В транспортной накладной указываются материалы, отправляемые поставщику, который будет выполнять операцию нанесения покрытия.

    ![Отчет по сборочному листу.](./media/subcontract27_picking-list-report.png)

41. Закройте отчет **Лист подбора**, чтобы вернуться на страницу **Лист подбора**.
42. В области действий выберите **Разнести**, чтобы открыть диалоговое окно **Разноска журнала**.

    ![Диалоговое окно "Разноска журнала".](./media/subcontract28_post-journal-dialog.png)

43. Выберите **OK**, чтобы закрыть диалоговое окно **Разноска журнала**.
44. Откройте заказ на покупку.

    ![Страница "Заказ на покупку".](./media/subcontract29_purchase-order-page.png)

45. В области действий на вкладке **Покупка** выберите **Подтвердить**.
46. Выберите **Разнести**, чтобы открыть диалоговое окно **Разноска журнала**.
47. Выберите **OK**, чтобы закрыть диалоговое окно **Разноска журнала** и вернуться на страницу **Заказ на покупку**.
48. Измените цену за единицу с **33** на **40**.

    ![Изменение цены за единицу на странице "Заказ на покупку".](./media/subcontract30_unit-price.png)

49. Подтвердите заказ на покупку еще раз.
50. Поступление продуктов.

    ![Диалоговое окно "Разноска поступления продуктов".](./media/subcontract31_posting-product-receipt-dialog.png)

51. Накладная по покупке.
52. Обновите статус сопоставления.

    ![Страница "Накладная поставщика".](./media/subcontract32_vendor-invoice-page.png)

53. Приемка.

    ![Диалоговое окно "Приемка".](./media/subcontract33_report-as-finished-dialog.png)

54. Конец.

    ![Диалоговое окно "Конец".](./media/subcontract34_end-dialog.png)

55. Сравнение стоимости.

    ![Диаграммы сравнения стоимости.](./media/subcontract35_cost-comparison-charts.png)

Отсутствует настройка в данных.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]