---
title: Стиль интерфейса выполнения производственного цеха
description: В разделе объясняется, как настроить элементы управления формы таким образом, чтобы к ним были применены стили выполнения производственного цеха по умолчанию.
author: johanhoffmann
ms.date: 11/08/2021
ms.topic: article
ms.search.form: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2021-02-22
ms.dyn365.ops.version: 10.0.15
ms.openlocfilehash: ef39dc6414f0afdadd4a4b5a41e1fb1fe60e4974
ms.sourcegitcommit: bc9e75c38e192664cde226ed3a94df5a0b304369
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2021
ms.locfileid: "7790898"
---
# <a name="style-the-production-floor-execution-interface"></a>Стиль интерфейса выполнения производственного цеха

[!include [banner](../includes/banner.md)]

В разделе объясняется, как настроить элементы управления формы таким образом, чтобы к ним были применены стили выполнения производственного цеха по умолчанию.

## <a name="forms-and-dialogs"></a>Формы и диалоговые окна

Стили могут применяться к форме или диалоговому окну только в том случае, если удовлетворяются следующие требования:

- Если форма должна быть похожей на существующую форму прогресса отчета, то имя формы или диалогового окна должно начинаться с `JmgProductionFloorExecutionCustomInputDialog`.
- Форма или диалоговое окно может содержать форму сведений. Чтобы применить к ней стили, имя части формы с подробными сведениями должно начинаться с `JmgProductionFloorExecutionCustomDetailsDialog`.
- Если форма или диалоговое окно должно иметь простое представление, то имя простого представления должно начинаться с `JmgProductionFloorExecutionCustomDialog`. Примерами форм, имеющих простое представление, являются форма начала и форма "дополнительные мероприятия".
- Все элементы управления в диалоговом окне должны быть настроены, как описано в этом разделе.

> [!IMPORTANT]
> Функции, упомянутые в первых двух пунктах списка, требуют Supply Chain Management версии 10.0.19 или более поздней.

Стили могут применяться к кнопке **ОК** в диалоговом окне только в том случае, если удовлетворяются следующие требования:

- Эта кнопка содержится в группе форм.
- Имя группы начинается с `OkButtonGroup`.

Стили могут применяться к кнопке **Отмена** в диалоговом поле только в том случае, если удовлетворяются следующие требования:

- Эта кнопка содержится в группе форм.
- Имя группы начинается с `CancelButtonGroup`.

### <a name="header"></a>Заголовок

На следующем рисунке показана типичная форма или заголовок диалогового окна.

![Типичная форма или заголовок диалогового окна.](media/pfe-styles-header.png "Типичная форма или заголовок диалогового окна")

В Visual Studio заголовки создаются, используя структуру, такую как показанная на следующем рисунке.

![Типичная структура кода для создания заголовка.](media/pfe-styles-header-code-structure.png "Типичная структура кода для создания заголовка")

Чтобы добавить текст в заголовок, используйте код, аналогичный приведенному в следующем примере.

```xpp
private void setCaption()
{
    HeaderFieldWithSeparatorText1.text("Report Progress");
    HeaderFieldWithSeparatorText2.text(ProdId);

    …

    HeaderFieldText.text(OprNum);
}
```

При написании кода заголовка примените следующие правила:

- Имя основной группы должно быть `TableRowHeaderGroup`.
- Каждый блок текста (отделенный маркерами) должен начинаться с `HeaderFieldWithSeparatorText`.
- Последнее текстовое имя должно начинаться с `HeaderFieldText`.
- `CaptionImage` может быть пропущено.

### <a name="progress-indicator"></a>Индикатор хода выполнения

Можно включить индикатор хода выполнения, который отображается справа от заголовка. На следующем рисунке показан индикатор хода выполнения.

![Типичный индикатор хода выполнения.](media/pfe-styles-header-progress.png "Типичный индикатор хода выполнения")

Для отображения индикатора хода выполнения текстовое поле должно иметь имя `ShowProgress`.

## <a name="grid"></a>Сетка

Стили применяются автоматически. Никакой особой настройки не требуется.

Сетка должна иметь стиль `TabularView`, и метод `run()` в пользовательской форме должен быть перезаписан, поскольку еще не поддерживается новая сетка. Добавьте следующий код.

```xpp
public void run()
{
    super();
    // To opt out a page from the new grid
    this.forceLegacyGrid();
}
```

Чтобы обновить данные в основном представлении, можно использовать нечто вроде `this.parmParentForm().updateLayout();` в методе `click` вашего действия. (Например, взгляните на класс `JmgProductionFloorExecutionReportFeedbackAction`.) Только убедитесь, что `parmDataSource` установлен в методе `init` новой формы (`formCaller.parmDataSource(this.dataSource(1));`). Например, взгляните на форму `JmgProductionFloorExecutionMainGrid`.

## <a name="card-view"></a>Представление карты

Стили могут применяться к элементами управления представлением карточки только в том случае, если удовлетворяются следующие требования:

- Каждое представление карточками содержится в группе форм.
- Имя группы начинается с `CardGroup` (например, `CardGroupJobsView`).

На следующем рисунке показано представление карточки, в котором нет элементов управления.

![Представление карточки без элементов.](media/pfe-styles-empty-card.png)

На следующих рисунках показаны представления карточки, в которых есть элементы управления.

![Карточка с элементами, которые отображают Hz.](media/pfe-styles-elements.png)

![Карточка с элементами для запроса на обслуживание.](media/pfe-styles-elements-maintenance.png)

## <a name="business-card"></a>Визитная карточка

Стили могут применяться к элементами управления визитной карточки только в том случае, если удовлетворяются следующие требования:

- Каждая визитная карточка содержится в группе форм.
- Имя группы начинается с `BusinessCardGroup` (например, `BusinessCardGroupJobsList`).

Настройте следующие свойства визитной карточки:

- **Стиль:** *список*
- **Расширенный стиль:** *cardList*
- **Множественный выбор:** *Нет*
- **Показывать метки столбцов:** *Нет*

![Визитная карточка.](media/pfe-styles-business-card.png)

## <a name="radio-button"></a>Переключатель

Стили могут применяться к элементами управления переключателей только в том случае, если удовлетворяются следующие требования:

- Каждый переключатель содержится в группе форм.
- Имя группы начинается с `RadioTextBelow` или `RadioTextRight` в зависимости от того, где должен отображаться текст.

Настройте следующие свойства переключателя:

- **Кнопка-переключатель:** *Проверка*
- **Значение переключения:** *Вкл* , если переключатель должен быть выбран; в противном случае — *Выкл*

На следующем рисунке показан пример, в котором текст появится под переключателями.

![Переключатели с текстом, расположенным под ними.](media/pfe-styles-radio-text-below.png)

На следующем рисунке показан пример, в котором текст появится справа от переключателей.

![Переключатели с текстом справа.](media/pfe-styles-radio-text-right.png)

### <a name="radio-buttons-in-internet-explorer"></a>Переключатели в Internet Explorer

Стили переключателей не поддерживаются в Internet Explorer. На следующем рисунке показано, как выглядят переключатели в Internet Explorer.

![Переключатели в Internet Explorer.](media/pfe-styles-browser.png)

## <a name="buttons"></a>Пуговицы

Стили могут применяться к кнопкам только в том случае, если удовлетворяются следующие требования:

- Каждая группа кнопок содержится в группе форм. Все кнопки группы будут иметь одинаковый стиль.
- Нет никаких требований по названию группы.

Настройте следующие свойства кнопок:

- **Отображение кнопки:** *TextWithImageLeft*
- **Обычное изображение:**: это свойство не может быть пустым. В этом примере будет использоваться *CoffeeScript*.
- **Текст:** это свойство не может быть пустым. В этом примере будет использоваться *Start Break*.
- **Ширина:** *Авто* или *SizeToContent*
- **Высота:** *Авто* или *SizeToContent*

### <a name="primary-button"></a>Основная кнопка

Стили могут применяться к основной кнопке только в том случае, если удовлетворяются следующие требования:

- Эта кнопка содержится в группе форм.
- Имя группы начинается с `DefaultButtonGroup` или `PrimaryButtonGroup` (например, `DefaultButtonGroup10`).

![Основная кнопка.](media/pfe-styles-first.png)

### <a name="secondary-button"></a>Дополнительная кнопка

Стили могут применяться к дополнительной кнопке только в том случае, если удовлетворяются следующие требования:

- Эта кнопка содержится в группе форм.
- Группа называется **Правая панель** либо имя группы начинается с `SecondaryButtonGroup`.

![Дополнительная кнопка.](media/pfe-styles-second.png)

### <a name="third-group-button"></a>Кнопка третьей группы

Стили могут применяться к кнопке третьей группы только в том случае, если удовлетворяются следующие требования:

- Эта кнопка содержится в группе форм.
- Группа называется **Левая панель** либо имя группы начинается с `ThirdButtonGroup`.

![Кнопка третьей группы.](media/pfe-styles-third.png)

### <a name="fourth-group-button"></a>Кнопка четвертой группы

Стили могут применяться к кнопке четвертой группы только в том случае, если удовлетворяются следующие требования:

- Эта кнопка содержится в группе форм.
- Имя группы начинается с `FourthButtonGroup`.

Настройте следующие свойства кнопки:

- **Отображение кнопки:** *TextOnly*
- **Обычное изображение:** это свойство должно быть пустым.
- **Текст:** это свойство не может быть пустым. Например, используйте *Вид* или *Редактирование*.
- **Ширина:** *Авто*
- **Высота:** *Авто*

![Кнопка четвертой группы.](media/pfe-styles-fourth.png)

### <a name="flat-button"></a>Плоская кнопка

Стили могут применяться к плоской кнопке только в том случае, если удовлетворяются следующие требования:

- Эта кнопка содержится в группе форм.
- Имя группы начинается с `FlatButtonGroup`.

Настройте следующие свойства кнопки:

- **Отображение кнопки:** *ImageOnly*
- **Обычное изображение:**: это свойство не может быть пустым. В этом примере будет использоваться *CoffeeScript*.
- **Текст:** это свойство должно быть пустым.
- **Ширина:** *Авто* или *SizeToContent*
- **Высота:** *Авто* или *SizeToContent*

![Плоская кнопка.](media/pfe-styles-flat-button.png)

### <a name="continue-button"></a>Кнопка «Продолжить»

Стили могут применяться к кнопке "Продолжить" только в том случае, если удовлетворяются следующие требования:

- Эта кнопка содержится в группе форм.
- Имя группы начинается с `ContinueButtonGroup`.

Настройте следующие свойства кнопки:

- **Отображение кнопки:** *ImageOnly*
- **Обычное изображение:** *Вперед*
- **Текст:** это свойство должно быть пустым.
- **Ширина:** *Авто* или *SizeToContent*
- **Высота:** *Авто* или *SizeToContent*

![Кнопка «Продолжить».](media/pfe-styles-continue-button.png)

## <a name="combo-box"></a>Поле со списком

Поле со списком представляет собой комбинацию из трех элементов управления: элемента управления вводом, кнопки, которая служит для очищения элемента управления вводом, и кнопки, запускающей поиск.

Стили могут применяться к полю со списком только в том случае, если удовлетворяются следующие требования:

- Это поле со списком содержится в группе форм.
- Имя группы начинается с `Combobox`.
- Внутри группы первый элемент управления является `AxFormStringControl`. Этот элемент управления показывает текущее значение, в котором пользователь вводит требуемое значение.
- Второй элемент управления является элементом управления `CommonButton`, а его имя начинается с `ClearButton`. Эта кнопка должна содержать код, использующий свойство `enable`, чтобы отобразить или скрыть кнопку. Например, чтобы показать или скрыть кнопку **Отмена**, пока пользователь вводит информацию в элемент управления вводом, можно использовать следующий код.

    ```xpp
    public void textChange()
    {
        super();
        ClearButtonSerial.enabled(this.text()? true : false);
    }
    ```

    Должен существовать один метод, в котором данные задаются в элементе управления вводом. Включите кнопку **Очистить** в этом методе. Рассмотрим пример:

    ```xpp
    public void setSerialId(str _serialId)
    {
        JmgTmpJobBundleProdFeedback.InventSerial = _serialId;
        ClearButtonSerial.enabled(_serialId? true : false);

        if (_serialId)
        {
            this.addSerialNumber();
        }
    }
    ```

    Используйте следующий код для метода `clicked` кнопки **Очистить**.

    ```xpp
    public void clicked()
    {
        element.setSerialId('');
        InventSerialId.setFocus(); // set focus back to the input box
    }
    ```

    Установите значение элемента управления вводом, `AxFormStringControl`, когда форма инициализируется с помощью метода `init`. Если это поле пусто, включите кнопку **Очистить**. Если это поле пусто, отключите кнопку **Очистить**.

- Третий элемент управления является элементом управления `CommonButton`, а его имя начинается с `SearchButton`.

На следующем рисунке показаны два элемента управления поля со списком. Поле со списком в левой части содержит пустое текстовое поле, кнопка **Очистить** отключена. Поле со списком в правой части содержит текст в текстовом поле, кнопка **Очистить** включена.

![Поля со списком с кнопкой и без кнопки "Очистить".](media/pfe-styles-combo.png)

## <a name="quick-filter"></a>Экспресс-фильтр

Элемент управления экспресс-фильтром добавляет поле поиска на страницу. Стили можно применить к экспресс-фильтру, если удовлетворяются следующие требования:

- Этот экспресс-фильтр содержится в группе форм.
- Имя группы начинается с `SearchInputGroup`.
- Внутри группы первый элемент управления является элементом управления `QuickFilter`. (В этом элементе управления пользователь вводит строку поиска.)
- Вторым элементом управления является `FormStaticTextControl` с именем `NumberOfResults`. (Этот элемент управления не является обязательным. Если он включен, на нем отображается количество найденных элементов.)
- Третий элемент управления является элементом управления `CommonButton`, а его имя начинается с `ClearButton`.

На следующем рисунке показаны два элемента управления экспресс-фильтра. Экспресс-фильтр в левой части имеет пустой экспресс-фильтр, и количество результатов не отображается. Экспресс-фильтр справа содержит строку поиска и отображает число результатов.

![Примеры элемента управления экспресс-фильтра со строкой поиска и без нее.](media/pfe-styles-quick-filter.png "Примеры элемента управления экспресс-фильтра со строкой поиска и без нее")

## <a name="center-align-elements-on-a-tab"></a>Выравнивание элементов на вкладке по центру

Чтобы выровнять элементы по центру вкладки, имя группы должно начинаться с `TabContentGroup`, а группа должна иметь следующие свойства:

- **Режим ширины:** `SizeToAvailable`
- **Режим высоты:** `SizeToAvailable`

## <a name="align-a-grid-detail-part-and-quick-filter"></a>Выравнивание сетки, части сведений и экспресс-фильтра

Чтобы упорядочить настроенную сетку, часть сведений и экспресс-фильтр так, чтобы они были похожи на стандартную структуру, необходимо помнить о следующих моментах, когда вы размещаете их вместе:

- Если сетка имеет экспресс-фильтр, сетка и экспресс-фильтр должны находиться в группе, имя которой начинается с `GridGroup`.
- Чтобы применить стили к части сведений, имя группы должно начинаться с `DetailInformationGroup`,

На следующем рисунке показана типичная сетка, которая включает в себя экспресс-фильтр и часть детальной информации справа.

![Типичная сетка, которая включает экспресс-фильтр и часть сведений.](media/pfe-styles-align-grid.png "Типичная сетка, которая включает экспресс-фильтр и часть сведений")

В Visual Studio сетка, часть сведений и экспресс-фильтр могут создавать с помощью структуры, такой как показанная на следующем рисунке.

![Типичная структура кода, которая выравнивает сетку, часть сведений и экспресс-фильтр.](media/pfe-styles-header-code-structure2.png "Типичная структура кода, которая выравнивает сетку, часть сведений и экспресс-фильтр")

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Настройка интерфейса выполнения производственного цеха](production-floor-execution-customize.md)
- [Разработка интерфейса выполнения производственного цеха](production-floor-execution-tabs.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
