---
title: "Коды групп гибкого графика"
description: "В этом разделе описывается, как группы гибкого графика используются в модуле \"Посещаемость и время присутствия\"."
author: johanhoffmann
manager: AnnBe
ms.date: 03/15/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: JmgFlexGroup
audience: Application User
ms.reviewer: bis
ms.search.scope: Core, Operations
ms.custom: 1705903
ms.assetid: 427e01b3-4968-4cff-9b85-1717530f72e4
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 8.0.0
ms.translationtype: HT
ms.sourcegitcommit: e21a2de2f46c619f27eddad4d7cced260a90bbb8
ms.openlocfilehash: 20f317ff57fac25b5b5b0d702fe64845eb849e87
ms.contentlocale: ru-ru
ms.lasthandoff: 04/09/2018

---

# <a name="flex-groups"></a>Коды групп гибкого графика

[!include[banner](../includes/banner.md)]

Гибкий график работы позволяет компаниям свести к минимуму оплату сверхурочного времени, предлагая работникам дополнительные возможности для отдыха во время периодов с низкой рабочей нагрузкой. Эта возможность применяется, например, в сегментах, в которых возникают сезонные изменения в рабочей нагрузке.

Группы гибкого графика можно использовать для настройки следующих правил и принципов для гибкого графика работы сотрудника:

- Правила для регулирования гибкого графика работы
- Принцип расчета сальдо по гибкому графику работы работника

## <a name="set-up-flexible-working-hours-in-flex-groups"></a>Настройка времени гибкого графика работы в группах гибкого графика

- Выберите **Посещаемость и время присутствия** \> **Настройка** \> **Группы** \> **Коды групп гибкого графика**, чтобы настроить группы гибкого графика для времени гибкого графика.

## <a name="associate-workers-with-flex-groups"></a>Связывание работников с группами гибкого графика

- Выберите **Посещаемость и время присутствия** \> **Настройка** \> **Регистрация времени - работники**.

## <a name="rules-for-flex-regulations"></a>Правила для регулирования гибкого графика работы

Можно использовать правила для регулирования гибкого графика, чтобы определить ограничения гибкого графика или минимальное и максимальное число часов, которые разрешены на счете гибкого графика работника. Ограничения гибкого графика настраиваются в группе гибкого графика. При превышении ограничений по гибкому графику работы можно настроить баланс гибкого графика и зарплату сотрудника.

В случае нарушения допустимого минимума по гибкому графику работника (то есть, если количество часов на счете гибкого графика меньше указанного минимума) можно использовать эти методы для корректировки сальдо по гибкому графику работы работника, делая регулировку гибкого графика:

- Счет гибкого графика работы работника может быть скорректирован до указанного разрешенного минимума, но без вычета оплаты труда работника за количество часов, на которые счет гибкого графика меньше разрешенного минимума.
- Оплата труда работника может быть уменьшена на количество часов, на которое счет гибкого графика меньше разрешенного минимума. Это удержание выполняется путем создания элементов оплаты для специального типа оплаты, который имеет отрицательную или положительную единицу оплаты.

При превышении разрешенного максимума гибкого графика работы работника можно использовать эти методы для настройки сальдо по гибкому графику работы работника, выполняя регулировку гибкого графика:

- Счет гибкого графика работы работника может быть скорректирован вниз до указанного разрешенного максимума, но без компенсации оплаты труда работника за количество часов, которые работник отработал сверх разрешенного максимума.
- Количество часов, отработанных работником сверх разрешенного максимума может быть преобразовано в оплату. Это преобразование выполняется путем создания элементов оплаты для конкретного типа оплаты.

Можно выполнить корректировку сальдо гибкого графика работы в следующие моменты времени:

- Когда файл платежей, который основан на данных о заработной плате, экспортируется с помощью задания **Перенос оплаты**. Данные по зарплате формируются при переносе регистрации работника со страницы **Утвердить**.
- При обработке задания **Корректировка баланса по гибкому графику работы**.

> [!NOTE]
> Регулировки гибкого графика работы не возникают во время ежедневного утверждения и переноса регистраций работника на странице **Утвердить**.

## <a name="principle-for-calculating-a-workers-flex-balance"></a>Принцип расчета сальдо по гибкому графику работы работника

Принцип расчета часов, на которые корректируется сальдо по гибкому графику работы работника, настраивается в группе гибкого графика. Выберите **Посещаемость и время присутствия** \> **Настройка** \> **Группы** \> **Группы гибкого графика**. 

Можно использовать следующие два принципа:

- **Время** — часы гибкого графика работника рассчитываются только из зарегистрированного времени работника за этот день. При расчете ежедневных регистраций работника количество часов переработки и недоработки по гибкому графику за этот день рассчитывается из зон переработки и недоработки по гибкому графику, которые определены в профиле рабочего времени работника.
- **Виды оплаты** — часы гибкого графика работника рассчитываются на основе типов оплаты для переработки и недоработки по гибкому графику, которые определены в соглашении по зарплате работника. Соглашение по зарплате связано с работником с регистрацией времени. Может потребоваться использовать типы оплаты для управления счетами гибкого графика если, например, вы хотите увеличить счет гибкого графика работника на определенный коэффициент в одной или нескольких зонах гибкого графика работы.

### <a name="scenario-1-adjusting-a-workers-pay-and-flex-account-because-the-allowed-flex-minimum-is-exceeded"></a>Сценарий 1. Корректировка оплаты работника и счета гибкого графика из-за выхода за разрешенный минимум часов по гибкому графику

Работник, который может работать по гибкому графику, имеет отрицательное сальдо счета гибкого графика.

- **Счет гибкого графика:** -4

Работник связан с группой гибкого графика работы, которая имеет следующую конфигурацию:

- **Мин. время работы по гибкому графику:** -0,5
- **Тип минимальной оплаты:** 1302
- **Фактор типа оплаты** -1,00

Как показывает разница между счетом гибкого графика работника и его разрешенным минимум часов по гибкому графику, работник вышел за разрешенный минимум по гибкому графику на 3,5 часа.

Когда администратор заработной платы переносит данные оплаты труда работника, выполняя задание **Перенос в зарплату** или **Корректировка гибкого графика**, выполняются следующие корректировки:

- Счет гибкого графика работы работника корректируется на 3,5 часа. Таким образом, сальдо гибкого графика-4,0 часа корректируется до разрешенного минимума часов гибкого графика работника, равного -0,5 часа.
- Создается элемент оплаты для типа оплаты 1302. Этот элемент оплаты имеет единицу оплаты 3,5 часа, которые будут удержаны из оплаты труда работника. В этом случае единица зарплаты является отрицательным числом, поскольку положительная корректировка на 3,5 часа умножается на отрицательный коэффициент типа оплаты -1,0, который определен в группы гибкого графика. Этот элемент оплаты будет частью файла зарплаты, формируемого заданием **Перенос в зарплату**.

### <a name="scenario-2-adjusting-a-workers-pay-and-flex-account-because-the-allowed-flex-maximum-is-exceeded"></a>Сценарий 2. Корректировка оплаты работника и счета гибкого графика из-за превышения разрешенного максимума часов по гибкому графику

Работник, который может работать по гибкому графику, имеет положительное сальдо счета гибкого графика.

- **Счет гибкого графика:** 6

Работник связан с группой гибкого графика работы, которая имеет следующую конфигурацию:

- **Макс. время работы по гибкому графику:** 2,0
- **Тип минимальной оплаты:** 1302
- **Фактор типа оплаты** -1,0

Как показывает разница между счетом гибкого графика работника и его разрешенным максимумом часов по гибкому графику, работник вышла за разрешенный максимум по гибкому графику на 4,0 часа.

Когда администратор заработной платы переносит данные оплаты труда работника, выполняя задание **Перенос в зарплату** или **Корректировка гибкого графика**, выполняются следующие корректировки:

- Счет гибкого графика работы работника корректируется на -4,0 часа. Таким образом, сальдо гибкого графика 6,0 часа корректируется до разрешенного максимума часов гибкого графика работника, равного 2,0 часа.
- Создается элемент оплаты для типа оплаты 1302. Этот элемент оплаты имеет единицу оплаты 4,0 часа, которые будут добавлены в оплату труда работника. В этом случае единица зарплаты является положительным числом, поскольку отрицательная корректировка на 4,0 часа умножается на отрицательный коэффициент типа оплаты -1,0, который определен в группы гибкого графика. Этот элемент оплаты будет частью файла зарплаты, формируемого заданием **Перенос в зарплату**.

### <a name="scenario-3-managing-a-workers-flex-balance-based-on-pay-types"></a>Сценарий 3. Управление сальдо гибкого графика работы работника на основе типов оплаты

Как мы объяснили ранее, счетами гибкого графика работы можно управлять либо на основе времени, которое регистрируется в зонах переработки и недоработки по гибкому графику, которые определены в профиле рабочего времени работника, либо на основе типов оплаты, которые определены в соглашениях по зарплате работника. Если используются типы оплаты, счет гибкого графика работника корректируется элементами оплаты, которые формируются при переносе регистрации работника со страницы **Утвердить**. Может потребоваться использовать типы оплаты для управления счетами гибкого графика если, например, вы хотите увеличить счет гибкого графика работника на определенный коэффициент в одной или нескольких зонах гибкого графика работы.

Этот сценарий использует следующий профиль работы по гибкому графику, представляющий рабочий день.

| Тип графика  | Запустить    | Завершение      |
|---------------|----------|----------|
| Переработка по гибкому графику         | 12:00 | 08:00 |
| Время прихода      | 08:00 | 08:00 |
| Недоработка по гибкому графику-         | 08:00 | 09:00 |
| Нормативное рабочее время | 09:00 | 11:30 |
| Оплачиваемый перерыв    | 11:30 | 12:00 |
| Недоработка по гибкому графику-         | 12:00 | 04:00 |
| Отметить время ухода     | 04:00 | 04:00 |
| Переработка по гибкому графику         | 04:00 | 12:00 |

В этом случае вы хотите иметь возможность управлять сальдо гибкого графика работника на основе типов оплаты. Следовательно, необходимо задать для параметра **На основе типов оплаты** значение **Да** в группе гибкого графика работника.

Для учета часов гибкого графика также необходимо задать новый тип оплаты. В этом сценарии тип оплаты называется **FlexCnt**.

| Вид оплаты | описание  |
|----------|--------------|
| FlexCnt  | Счетчик гибкого графика работы |

Затем выполните следующие действия для настройки типа оплаты и добавления строк нового типа в профиль оплаты.

1. Выберите **Посещаемость и время присутствия** \> **Настройка** \> **Группы** \> **Группы гибкого графика**, затем выберите **Создать**.
2. В полях **Переработка по гибкому графику** и **Недоработка по гибкому графику** укажите новый тип оплаты **FlexCnt**.
3. Выберите **Посещаемость и время присутствия** \> **Настройка** \> **Соглашения по зарплате**, затем выберите **Строки соглашения**.
4. Для **Понедельник** для типа профиля **Переработка по гибкому графику** добавьте следующие три строки.

    | Вид оплаты | описание  | Время начала | Время окончания  | Минимум | Максимум | Коэффициент |
    |----------|--------------|-----------|----------|---------|---------|--------|
    | FlexCnt  | Счетчик гибкого графика работы | 12:00  | 06:00 | 00,00   | 00,00   | 1.00   |
    | FlexCnt  | Счетчик гибкого графика работы | 06:00  | 12:00 | 00,00   | 02,00   | 1.50   |
    | FlexCnt  | Счетчик гибкого графика работы | 06:00  | 12:00 | 02,00   | 06,00   | 2.00   |

    > [!NOTE]
    > Каждая строка используется для другого интервала времени и имеет другой коэффициент. Гибкие часы, которые сотрудник работает в интервале времени, умножаются на коэффициент для этой строки. Например, часы, отработанные с 18:00 до 20:00, умножаются на 1,50. Коэффициент указывается в поле **Коэффициент** на вкладке **Общие** страницы **Строки договора об оплате**.

Сотрудник вводит следующие регистрации за день.

| Тип регистрации журнала | Запустить    | Завершение      |
|---------------------------|----------|----------|
| Время прихода                  | 07:00 | 07:00 |
| Производственное задание            | 07:00 | 09:00 |
| Отметить время ухода                 | 09:00 | 09:00 |

Сумма, которая должна быть уплачена, рассчитывается на странице **Утвердить** на основе регистрации работника. После расчета регистрации можно просмотреть результат на вкладке **Время**. В этом сценарии вы заинтересованы в следующих полях.

| Переработка по гибкому графику | Недоработка по гибкому графику - | Время  | Оплачиваемое время |
|--------|--------|-------|----------|
| 6,00   | 0.00   | 13,50 | 08,00    |

Время переработки по гибкому графику равно шести часам, и расчет основан на зонах гибкого графика в профиле времени. Эта сумма состоит из одного часа переработки по гибкому графику с 07:00 до 08:00 и 5 часов переработки по гибкому графику с 16:00 до 21:00.

При переносе регистрации вы заметите, что значение времени переработки по гибкому графику изменяется с 6,0 часа на 8,0 часа.

| Переработка по гибкому графику | Недоработка по гибкому графику - | Время  | Оплачиваемое время |
|--------|--------|-------|----------|
| 8,00   | 0.00   | 13,50 | 08,00    |

Это изменение происходит после перемещения, так как часы работы по гибкому графику были рассчитаны на основе типов оплаты, а не по времени. В следующей таблице показано, как были рассчитаны эти шесть часов.

| С дт.     | По       | Время | Коэффициент    | Счет гибкого графика |
|----------|----------|------|-----------|--------------|
| 07:00 | 08:00 | 1    | 1         | 1            |
| 04:00 | 06:00 | 2    | 1         | 2            |
| 06:00 | 08:00 | 2    | 1.5       | 3            |
| 08:00 | 09:00 | 1    | 2         | 2            |
|          |          |      | **Итого** | **8**        |

