---
title: Отображение балансов отпусков в интерфейсе выполнения производственного цеха
description: В этой теме представлен пример сценария, в котором показано, как настроить Microsoft Dynamics 365 Supply Chain Management таким образом, чтобы использовалась статистика по зарплате, чтобы предоставить работникам обзор их баланса отпусков за текущий год.
author: johanhoffmann
ms.date: 04/22/2022
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2022-04-22
ms.dyn365.ops.version: 10.0.XX
ms.openlocfilehash: a97858c72b0be50609cee552bd0635e2d68ea478
ms.sourcegitcommit: d715e44b92b84b1703f5915d15d403ccf17c6606
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/27/2022
ms.locfileid: "8645361"
---
# <a name="show-vacation-balances-in-the-production-floor-execution-interface"></a>Отображение балансов отпусков в интерфейсе выполнения производственного цеха

[!include [banner](../includes/banner.md)]

В этой теме представлен пример сценария, в котором показано, как настроить Microsoft Dynamics 365 Supply Chain Management таким образом, чтобы использовалась статистика по зарплате, чтобы предоставить каждому работнику обзор их баланса отпусков за текущий год. Работники смогут просмотреть свой баланс отпуска в диалоговом окне **Мой день** в интерфейсе выполнения производственного цеха.

В этом сценарии используется датский закон о праздниках, в которой год отпуска начинается 1-го сентября и заканчивается 31-го августа. В этом сценарии ваша компания наняла нового сотрудника и предоставит этому сотруднику баланс на 10 дней отпуска за оставшуюся часть текущего года отпуска.

## <a name="turn-on-the-required-features"></a>Включение требуемых функций

Чтобы выполнить этот сценарий, необходимо включить функцию *Представление "Мой день" для интерфейса выполнения производственного цеха* в модуле [Управление функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md). Сведения о том, как включить эту и другие функции для интерфейса выполнения производственного цеха, см. в разделе [Настройка интерфейса выполнения производственного цеха](production-floor-execution-configure.md).

## <a name="make-sample-data-available"></a>Сделать образцы данных доступными

Для работы с этим сценарием с помощью образцов записей и значений, указанных здесь, необходимо использовать систему, в которой установлены стандартные [демонстрационные данные](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md). Дополнительно перед началом необходимо выбрать юридическое лицо **USMF**.

## <a name="create-a-new-pay-type"></a>Создание нового типа оплаты

Начните с создания нового *типа оплаты*, который будет отслеживать заработанные дни отпуска сотрудника (также называемые их *балансом отпуска*). Обычно типы оплаты используются для расчета платежа сотруднику. Однако, созданный здесь тип оплаты будет использоваться для расчета баланса.

1. Перейдите в раздел **Посещаемость и время присутствия \> Настройка \> Заработная плата \> Виды оплаты**.
1. На панели операций выберите **Создать**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Форма оплаты:** *5151-1*
    - **Описание:** *Счетчик для дней отпуска сотрудника*
    - **Включить в экспортируемые данные:** *Нет*

## <a name="update-the-pay-agreement"></a>Обновление соглашения по зарплате

В этом разделе вы измените существующее *соглашение по зарплате* путем добавления нового типа оплаты и задания правил, определяющих, как баланс отпуска каждого сотрудника корректируется при регистрации дней отпуска.

1. Перейдите в раздел **Посещаемость и время присутствия \> Настройка \> Заработная плата \> Соглашения по оплате**.
1. Выберите соглашение по оплате, в котором необходимо настроить политику отпусков. (При работе со стандартными образцами данных USMF имеется только одно соглашение по оплате, *Man*)
1. Убедитесь, что выбранное соглашение по зарплате действительно для текущей даты. Если вы работаете со стандартными образцами данных USMF, в поле **Конечная дата** соглашения по оплате *Man* может быть установлена дата, находящаяся в прошлом. Измените значение так, чтобы оно было на год или два в будущем, как необходимо.
1. В области действий выберите **Строки соглашения**.
1. На странице **Строки договора об оплате** на экспресс-вкладке **Обзор** установите следующие значения на панели инструментов:

    - В первом раскрывающемся списке выберите **Понедельник**.
    - Во втором раскрывающемся списке выберите **Отсутствие**.

1. На панели операций выберите **Создать**, чтобы добавить строку в сетку.
1. В новой строке задайте в поле **Тип оплаты** тип оплаты, созданный для данного сценария (*5151-1*). Во всех остальных полях оставьте их значения по умолчанию.
1. Когда новая строка все еще выбрана, на экспресс-вкладке **Общие** задайте следующие значения:

    - **Код отсутствия:** *Отпуск*
    - **Использовать фиксированное количество:** *Да*
    - **Константа:** *-1*

1. В области действий выберите **Копировать день**.
1. В диалоговом окне **Копировать день** задайте следующие значения:

    - **Вторник**, **Среда**, **Четверг** и **Пятница:** *Да*
    - **Перезапись:** *Да*
    - **Отсутствие:** *Да*

1. Нажмите **ОК**.

## <a name="create-a-payroll-statistic-group"></a>Создание группы статистики по зарплате

*Группы статистики по зарплате* используются для настройки статистики для регистраций работников за период. В этом случае будет использоваться группа статистики по заработной платы для расчета количества дней отпуска, которые работники заработали в течение периода отпуска. В Дании период отпуска длится с 1 сентября по 31 августа.

1. Перейдите в раздел **Посещаемость и время присутствия \> Настройка \> Заработная плата \> Группы статистики по зарплате**.
1. На панели операций выберите **Создать**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Группа статистики по зарплате:** *VAC*
    - **Описание:** *Сальдо отпусков*
    - **Перевод:** *Нет*

1. Когда новая строка все еще выбрана, выберите **Настройка** на панели операций.
1. На странице **Настройка** на панели операций выберите **Создать**, чтобы добавить строку в сетку.
1. В новой строке задайте для поля **Вид оплаты** значение *5151-1*.
1. Выберите и удерживайте (или щелкните правой кнопкой мыши) поле **Код периода**, затем выберите **Просмотреть сведения**. Теперь можно настроить код периода, который будет назначен этому полю позднее.
1. На странице **Типы периодов** в области действий выберите **Создать**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Типы периодов:** *VacYear*
    - **Описание:** *Год отпуска*
    - **Частота:** *Годы*

1. Когда новая строка все еще выбрана, выберите **Создать периоды** на панели операций.
1. В диалоговом окне **Создать периоды** задайте следующие значения:

    - **Указать дату начала периода:** *1 сентября 2021 года*
    - **Длина периода:** *5*

1. Нажмите **ОК**.
1. Закройте страницу **Типы периодов**, чтобы вернуться на страницу **Группы статистики по зарплате**.
1. В поле **Код периода** задайте тип периода, который только что был создан (*VacYear*).

## <a name="create-a-statistical-balance-setup"></a>Создание настройки статистического баланса

В этом разделе будет создана *настройка статистического баланса*, которая связана с группой статистики по заработной плате, созданной в предыдущем разделе. Позже настройка статистического баланса будет связана с представлением **Мой день** в интерфейсе выполнения производственного цеха. Затем в представлении **Мой день** можно будет отобразить сальдо отпусков для типа оплаты, назначенного связанной группе статистики по заработной плате.

1. Перейдите в раздел **Посещаемость и время присутствия \> Настройка \> Заработная плата \> Настройка статистического баланса**.
1. На панели операций выберите **Создать**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Группа статистики по зарплате:** *VAC*
    - **Внешнее имя:** *Сальдо отпусков*
    - **Гибкий график работы:** *Нет*

## <a name="create-a-manual-premium"></a>Создание произвольного вознаграждения

*Произвольные вознаграждения* обычно используются, чтобы предоставить сотрудникам дополнительную оплату за дополнительную работу. В этом сценарии создается ручное произвольное вознаграждение, которое можно использовать для настройки начального баланса отпуска для каждого сотрудника.

1. Перейдите в раздел **Посещаемость и время присутствия \> Настройка \> Заработная плата \> Произвольные вознаграждения**.
1. На панели операций выберите **Создать** для добавления записи.
1. В новой записи установите следующие значения:

    - **Вознаграждения:** *VAC*
    - **Описание:** *Корректировка баланса отпусков сотрудников*
    - **Форма оплаты:** *5151-1*

## <a name="set-a-workers-initial-vacation-balance-and-adjust-it-by-one-day"></a>Настройка начального баланса отпуска работника и корректировка его на один день

Администраторы зарплаты используют страницу **Утверждение** для просмотра и утверждения ежедневных регистраций работников. В этом сценарии вы будете выполнять роль администратора, чтобы вы могли настроить начальный баланс отпусков для работника и зарегистрировать дни отпуска, которые берет работник.

1. Перейдите в раздел **Посещаемость и время присутствия \> Просмотр и утверждение \> Утвердить**.
1. В диалоговом окне **Утвердить** задайте следующие поля:

    - **Группа утверждения** — выберите группу утверждения, к которой вы принадлежите. (При работе со стандартными образцами данных USMF имеется только одна группа утверждения, *AdmMan*.)
    - **Просмотр всей группы, 1 день** — выберите этот параметр, затем установите для поля текущую дату.

1. Нажмите **ОК**.
1. На странице **Утвердить** отображается список записей, соответствующих вашим критериям. Выбор работника, для которого нужно выполнить утверждение. Если вы работаете со стандартными образцами данных USMF, выберите работника *000496* (*Кристина Портра*).
1. Предоставьте выбранному работнику 10 дней отпуска:

    1. Когда этот работник все еще выбран, выберите **Строки вознаграждений** на панели операций.
    1. На странице **Строки вознаграждений** в области действий выберите **Создать**, чтобы добавить строку в сетку.
    1. В новой строке установите следующие значения:

        - **Вознаграждения:** *VAC*
        - **Количество:** *10*

    1. Закройте страницу **Строки вознаграждений**.

1. На странице **Утвердить** зарегистрируйте факт, что работник использовал один из дней отпуска в текущую дату:

    1. Когда этот работник все еще выбран, в нижней части страницы на вкладке **Обзор** выберите **Создать** на панели инструментов, чтобы добавить строку в сетку.
    1. В новой строке установите следующие значения:

        - **Тип регистрации журнала:** *Отсутствие*
        - **Ссылка:** *Отпуск*

    1. В верхней части страницы выберите **Перенести** на панели инструментов, чтобы применить баланс отпусков и рассчитать вычет.

## <a name="configure-the-production-floor-execution-interface-so-that-it-includes-the-my-day-dialog-box"></a>Настройка интерфейса выполнения производственного цеха так, чтобы он включал диалоговое окно "Мой день"

В этом разделе в интерфейс выполнения производственного цеха добавляется кнопка **Мой день**. Работники могут затем нажать эту кнопку, чтобы открыть диалоговое окно **Мой день**.

1. Перейдите в раздел **Управление производством \> Настройка \> Выполнение производства \> Настройка выполнения производственного цеха**.
1. Выберите конфигурацию, такую как *По умолчанию*.
1. В области действий выберите **Разработка вкладок**.
1. На странице **Разработка вкладок** в панели списка выберите *Все задания* для просмотра параметров для этой вкладки. В поле **Основное представление** должно отображаться значение *Все задания*.
1. На панели операций выберите **Правка**.
1. На экспресс-вкладке **Дополнительная панель инструментов** в столбце **Доступные действия** выберите **Мой день**. Затем выберите кнопку со стрелкой вправо, чтобы переместить ее в столбец **Выбранные действия**.

## <a name="check-your-balance-in-the-production-floor-execution-interface"></a>Проверка баланса в интерфейсе выполнения производственного цеха

В этом разделе будет выполнен вход в интерфейс выполнения производственного цеха в качестве сотрудника, время отпуска которого было настроено ранее. Затем вы откроете диалоговое окно **Мой день**, чтобы просмотреть баланс отпуска.

1. Перейдите в раздел **Управление производством \> Настройка \> Выполнение производства \> Выполнение производственного цеха**.
1. Если будет предложено выбрать конфигурацию, выберите конфигурацию, настроенную ранее в этом сценарии (*По умолчанию*).
1. Войдите в систему под учетной записью пользователя, настроенного ранее в этом сценарии. Если вы работаете со стандартными образцами данных USMF, вы сможете войти, введя *123* в поле **Код эмблемы**. Этот код пропуска соответствует Кристине Портре.
1. На левой панели инструментов выберите **Мой день**.
1. Проверьте раздел **Балансы** в диалоговом окне. Теперь в этом разделе должен отображаться баланс, равный девяти дням отпуска.
