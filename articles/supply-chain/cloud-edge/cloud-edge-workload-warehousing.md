---
title: Рабочие нагрузки управления складом для облачных и пограничных единиц масштабирования
description: В этой теме приводятся сведения о функции, которая позволяет модулям масштабирования выполнять выбранные процессы из рабочей нагрузки управления складом.
author: perlynne
ms.date: 10/06/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: PurchTable, SysSecRolesEditUsers
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: SCM
ms.author: perlynne
ms.search.validFrom: 2020-10-06
ms.dyn365.ops.version: 10.0.15
ms.openlocfilehash: 6372e08b7ec737f3abd2f2bd5d4f387eaf869f03
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2021
ms.locfileid: "5832402"
---
# <a name="warehouse-management-workloads-for-cloud-and-edge-scale-units"></a>Рабочие нагрузки управления складом для облачных и пограничных единиц масштабирования

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

> [!WARNING]
> Не все бизнес-функции управления складом полностью поддерживаются для складов, выполняющих рабочую нагрузку в единицах масштабирования. Убедитесь в том, что используются только процессы, которые в этом разделе описаны как поддерживаемые явным образом.

## <a name="warehouse-execution-on-scale-units"></a>Выполнение склада на единицах масштабирования

Эта функция позволяет блокам масштабирования выполнять выбранные процессы из возможностей управления складом. Облачные единицы масштабирования выполняют свою рабочую нагрузку в облаке с помощью выделенной мощности обработки в выбранном регионе Microsoft Azure. Для единиц масштабирования можно выполнять некоторые рабочие нагрузки независимо локально, даже в том случае, когда единицы масштабирования временно отключены от облака.

В этом разделе выполнение управления складом на складе, определенном как единица масштабирования, называется *системой выполнения склада* (*WES*).

## <a name="prerequisites"></a>Необходимые условия

У вас должен быть концентратор Dynamics 365 Supply Chain Management и единица масштабирования, которая была развернута с использованием рабочей нагрузки управления складом. Дополнительные сведения об архитектуре и процессе развертывания см. в разделе [Облачные и пограничные единицы масштабирования для нагрузок управления производством и складом](cloud-edge-landing-page.md).

## <a name="how-the-wes-workload-works-on-scale-units"></a>Как рабочая нагрузка WES работает на единицах масштабирования

Для процессов, выполняемых в рабочей нагрузке управления складом, данные синхронизируются между концентратором и единицами масштабирования.

Единица масштабирования может вести только те данные, которыми она владеет. Концепция владения данными для единиц масштабирования позволяет предотвращать конфликты с несколькими источниками. Таким образом, важно понимать, какие процессы принадлежат концентратору, и какие принадлежат единицам масштабирования.

Единицам масштабирования принадлежат следующие данные:

- **Данные обработки волн** — выбранные методы обработки волн обрабатываются как часть обработки волны на единице масштабирования.
- **Данные обработки работ** — поддерживаются следующие типы обработки заказов на работу:

  - **Складские перемещения** (работа перемещения вручную и перемещения по шаблонам)
  - **Заказы на покупку** (работа размещения с использованием складского заказа, когда заказы на покупку не связаны с загрузками)
  - **Заказы на продажу** (простая работа комплектации и погрузки)
  - **Заказы на перемещение** (только исходящие с простой работой комплектации и погрузки)

- **Данные приемки по складским заказам** — эти данные используются только для заказов на покупку, вручную выпущенных на склад.
- **Данные грузоместа** — в концентраторе и единицах масштабирования могут быть созданы грузоместа. Была предоставлена специальная обработка конфликтов. Обратите внимание, что эти данные не являются специфичными для склада.

## <a name="outbound-process-flow"></a>Поток исходящего процесса

Концентратор владеет следующими данными:

- Все документы-источники, такие как заказы на продажу и заказы на перемещение
- Распределение заказов и обработка исходящей загрузки
- Процессы выпуска на склад, создания отгрузки, создания волны и завершения волны

Единицам масштабирования принадлежит фактическая обработка волны (такая как распределение работ, работа по пополнению и создание работы по спросу) после выпуска волны. Таким образом, работники склада могут обрабатывать исходящую работу с помощью мобильного приложения управления складом, которое связано с единицей масштабирования.

![Поток обработки волны](./media/wes-wave-processing-ga.png "Поток обработки волны")

## <a name="inbound-process-flow"></a>Поток входящего процесса

Концентратор владеет следующими данными:

- Все документы-источники, такие как заказы на покупку и заказы на возврат продаж
- Обработка входящей загрузки
- Все затраты и финансовые обновления

> [!NOTE]
> Входящий поток заказов на покупку концептуально отличен от исходящего потока. Один и тот же склад можно использовать на единице масштабирования или на концентраторе в зависимости от того, был ли заказ на покупку выпущен на склад или нет. После выпуска заказа на склад можно работать только с этим заказом, пока выполнен вход на единице масштабирования.

Если используется процесс *Выпуск на склад*, создаются [*складские заказы*](cloud-edge-warehouse-order.md), и владелец связанного потока получения назначается единице масштабирования. Концентратор не сможет регистрировать входящую приемку.

Необходимо войти в систему в концентраторе, чтобы использовать процесс *Выпуск на склад*. Перейдите на одну из следующих страниц, чтобы выполнить или спланировать:

- **Закупки и источники > Заказы на покупку > Все заказы на покупку > Склад > Действия > Выпуск на склад**
- **Управление складом > Выпуск на склад > Автоматический выпуск заказов на покупку**

При использовании **Автоматический выпуск заказов на покупку** можно выбрать отдельные строки заказа на покупку на основе запроса. Типичным сценарием является настройка повторяющегося пакетного задания, в результате выполнения которого будут выпущены все подтвержденные строки заказа на покупку, ожидаемые для прибытия на следующий день.

Работник может выполнить процесс приемки с помощью мобильного приложения управления складом, которое связано с единицей масштабирования. Затем данные записываются единицей масштабирования и включаются в отчет по входящему складскому заказу. Создание и обработка последующего размещения также будут обработаны единицей масштабирования.

Если не используется процесс *выпуска на склад* и, следовательно, не используются *складские заказы*, концентратор может обрабатывать складскую приемку и обработку работы независимо от единиц масштабирования.

![Поток входящего процесса](./media/wes-inbound-ga.png "Поток входящего процесса")

## <a name="supported-processes-and-roles"></a>Поддерживаемые процессы и роли

Не все процессы управления складом поддерживаются в рабочей нагрузке WES в единицах масштабирования. Поэтому рекомендуется назначить роли, соответствующие функциональным возможностям, доступным для каждого пользователя.

Для облегчения этого процесса образец роли, которая называется *Менеджер склада по рабочей нагрузке*, включается в демонстрационные данные в пункте **Администрирование системы \> Безопасность \> Конфигурация безопасности**. Целью этой роли является предоставление менеджерам складов доступа к WES в единице масштабирования. Роль предоставляет доступ к страницам, которые связаны в контексте рабочей нагрузки, размещенной в единице масштабирования.

Роли пользователей в единице масштабирования назначаются в качестве части начальной синхронизации данных из концентратора в единицу масштабирования.

Для изменения ролей, назначенных пользователю, перейдите в раздел **Администрирование системы \> Безопасность \> Назначение пользователей ролям**. Пользователям, которые играют роль менеджеров складов только в единицах масштабирования, должна быть назначена только роль *Менеджер склада для рабочей нагрузки*. Такой подход обеспечит, чтобы у этих пользователей был доступ только к поддерживаемой функциональности. Удалите все другие роли, назначенные этим пользователям.

Пользователям, которые выполняют роль менеджеров складов как в концентраторах, так и в единицах масштабирования, должна быть назначена существующая роль *Работник склада*. Имейте в виду, что эта роль предоставляет работникам складов доступ к функциям (таким как обработка получения заказов на перемещение), которые отображаются в интерфейсе пользователя, но в настоящее время не поддерживаются в единицах масштабирования.

## <a name="supported-wes-processes"></a>Поддерживаемые процессы WES

Следующие процессы выполнения склада могут быть включены для рабочей нагрузки WES в единице масштабирования:

- Выбранные методы волн для заказов на продажу и перемещение (распределение, пополнение спроса, контейнеризацию, создание работ и печать этикеток волны)
- Обработка работы склада для заказов на продажу и на перемещение с использованием мобильного приложения управления складом (включая работу по пополнению)
- Запрос запасов в наличии с использованием мобильного приложения управления складом
- Создание и выполнение движения запасов с использованием мобильного приложения управления складом
- Регистрация заказов на покупку и выполнение работы размещения с помощью мобильного приложения управления складом

В настоящее время для рабочих нагрузок WES в развертываниях единиц масштабирования поддерживаются следующие типы заказов на работу:

- Заказы на продажу
- Выдача на перемещение
- Пополнение
- Движение запасов
- Заказы на покупку (связанные со складскими заказами)

Никакие другие типы обработки исходных документов или работы склада в настоящее время не поддерживаются в единицах масштабирования. Например, для рабочей нагрузки WES в единице масштабирования невозможно выполнить процесс приема заказов на перемещение (приход перемещения) или обработать работу циклической инвентаризации.

> [!NOTE]
> Пункты меню и кнопки мобильного устройства для неподдерживаемых функциональных возможностей не отображаются в _мобильном приложении управления складом_, когда оно связано с развертыванием единиц масштабирования.

> [!WARNING]
> При выполнении рабочей нагрузки в единице масштабирования вы не можете выполнить неподдерживаемые процессы для этого конкретного склада в концентраторе. В таблицах, указанных ниже в этом разделе, описываются поддерживаемые возможности.
>
> Выбранные типы работы склада могут быть созданы как на концентраторе, так и в единицах масштабирования, но могут поддерживаться только концентратором-владельцем или единицей масштабирования (развертыванием, создавшим данные).
>
> Даже если конкретный процесс поддерживается единицей масштабирования, имейте в виду, что все необходимые данные могут не быть синхронизированы из концентратора в единицу масштабирования, или из единицы масштабирования в концентратор, что может привести к непредвиденным результатам обработки в системе. Примерами являются:
> 
> - При использовании запроса директивы расположения, который соединяет запись таблицы данных, которая существует только в развертывании концентратора.
> - Если вы используете функции статуса местоположения и/или весогабаритной загрузки местоположения. Эти данные не будут синхронизированы между развертываниями и поэтому будут работать только при обновлении запасов местоположения в наличии в одном из развертываний.

Следующие функции управления складом в настоящее время не поддерживаются в рабочих нагрузках единиц масштабирования:

- Входящая обработка строк заказа на покупку, назначенных для загрузки
- Входящая обработка заказов на покупку для проекта
- Входящая и исходящая обработка для номенклатур, которые имеют активные аналитики **Владелец** и/или **Серийный номер**
- Обработка запасов, имеющих значение статуса блокировки
- Изменение статуса складских запасов во время любого процесса движения работ
- Гибкие резервирования аналитик на уровне склада, связанные с заказами
- Использование функции *Статус местоположения склада* (данные не синхронизируются между развертываниями)
- Использование функции *Позиционирования грузоместа местоположения*
- Использование параметров *Фильтры продуктов* и *Группы фильтров продуктов*, включая параметр **Число дней для смешивания партий**
- Интеграция с управлением качеством
- Обработка с номенклатурами с учетом в двух единицах измерения
- Обработка с номенклатурами, которые включены только для управления транспортировкой (TMS)
- Обработка с отрицательными запасами в наличии
- Обработка складских работ с использованием пользовательских типов работ
- Обработка складских работ с примечаниями по отгрузке
- Обработка работ склада с пороговым триггером циклической инвентаризации
- Обработка складских работ с использованием обработки материалов/Warehouse Automation
- Использование изображения данных шаблонов продуктов (например, в мобильном приложении управления складом)

> [!WARNING]
> Некоторые функции склада не будут доступны для складов, на которых выполняются рабочие нагрузки управления складом в единицах масштабирования, а также не поддерживается на концентраторе или в рабочей нагрузке единицы масштабирования.
> 
> Другие возможности могут обрабатываться обоими способами, но в некоторых сценариях потребуется соблюдать осторожность, например, когда запасы в наличии обновляются для одного и того же склада как в концентраторе, так и в единице масштабирования из-за асинхронного процесса обновления данных.
> 
> Специфические функциональности (например, *блокировка работы*), поддерживаемые как в концентраторе, так и в единицах масштабирования, будут поддерживаться только владельцем данных.

### <a name="outbound-supported-only-for-sales-and-transfer-orders"></a>Исходящие (поддерживается только для заказов на продажу и перемещение)

В следующей таблице показано, какие исходящие функции поддерживаются, и где они поддерживаются, когда рабочие нагрузки управления складом используются в облачных и пограничных единицах масштабирования.

| Обработать                                                      | Узел | Рабочая нагрузка WES на единице масштабирования |
|--------------------------------------------------------------|-----|------------------------------|
| Обработка документов-источников                                   | Да | Нет |
| Обработка управления загрузкой и транспортировкой                | Да | Нет |
| Выпуск на склад                                         | Да | Нет |
| Плановый кросс-докинг                                        | Нет  | Нет |
| Консолидация отгрузки                                       | Да | Нет |
| Обработка волны отгрузки                                     | Да, но только инициализация и конечное оформление волны обрабатываются в концентраторе. Это означает, что обработка исходящих перемещений и заказов на продажу может быть выполнена только единицей масштабирования.|<p>Нет, инициализация и финализация обрабатываются концентратором, и **Формирование и сортировка загрузок** не поддерживаются<p><b>Примечание.</b> Доступ к концентратору требуется для того, чтобы завершить обработку статуса волны в рамках обработки волны.</p> |
| Ведение отгрузок для волны                                  | Да | Нет |
| Обработка складских операций (включая печать этикетки грузоместа)        | Нет  | <p>Да, но только для перечисленных выше поддерживаемых возможностей. |
| Комплектация по кластеру                                              | Нет  | Да|
| Ручная обработка упаковки, включая обработку работы "Комплектация упаковенного контейнера"                                           | Нет <P>Некоторую обработку можно выполнить после обработки первоначальной комплектации в единице масштабирования, но это не рекомендуется в связи со следующими операциями блокировки.</p>  | Нет  |
| Удалить контейнер из группы                        | Нет  | Нет                           |
| Обработка исходящей сортировки                                  | Нет  | Нет |
| Печать документов, связанных с загрузкой                           | Да | Нет |
| Формирование транспортной накладной и ASN                            | Да | Нет |
| Подтверждение отгрузки                    | Да  | Нет |
| Подтверждение отгрузки с помощью операции "Подтвердить и перенести"                    | Нет  | Нет |
| Обработка отборочных накладных и выставления накладных                | Да | Нет |
| Недостаточная комплектация (заказы на продажу и перемещение)                    | Нет  | Нет |
| Избыточная комплектация (заказы на продажу и перемещение)                     | Нет  | Нет |
| Изменение рабочих местоположений (заказы на продажу и перемещение)         | Нет  | Да|
| Завершение работы (заказы на продажу и перемещение)                    | Нет  | Да|
| Печать отчета по работе                                            | Да | Нет |
| Этикетка волны                                                   | Нет  | Да|
| Разделение работ                                                   | Нет  | Да|
| Обработка работы — под управлением "Загрузка транспорта"            | Нет  | Нет |
| Уменьшить скомплектованное количество                                       | Нет  | Нет |
| Изменить работу                                                 | Нет  | Нет |
| Реверсировать подтверждение отгрузки                                | Да | Нет |

### <a name="inbound"></a>Входящая

В следующей таблице показано, какие входящие функции поддерживаются, и где они поддерживаются, когда рабочие нагрузки управления складом используются в облачных и пограничных единицах масштабирования.

| Обработать                                                          | Узел | Рабочая нагрузка WES на единице масштабирования<BR>*(Номенклатуры, отмеченные "Да", применяются только для складских заказов)*</p> |
|------------------------------------------------------------------|-----|----------------------------------------------------------------------------------|
| Обработка&nbsp;документов&nbsp;источников                                       | Да | Нет |
| Обработка управления загрузкой и транспортировкой                    | Да | Нет |
| Подтверждение входящей отгрузки                                            | Да | Нет |
| Выпуск заказа на покупку на склад (обработка складских заказов) | Да | Нет |
| Отмена строк складских заказов<p>Обратите внимание, что это поддерживается только в том случае, если по строке не была выполнена регистрация</p>          | Да | Нет |
| Получение и складирование номенклатуры заказа на покупку                       | <p>Да,&nbsp;если&nbsp;нет&nbsp;складского заказа</p><p>Нет, если имеется складской заказ</p> | <p>Да, если заказ на покупку не является частью <i>загрузки</i></p> |
| Получение и складирование строки заказа на покупку                        | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | <p>Да, если заказ на покупку не является частью <i>загрузки</i></p></p> |
| Получение и складирование заказа на возврат                               | Да | Нет |
| Получение и складирование смешанного номерного знака                        | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | Нет |
| Загрузить получение номенклатуры.                                             | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | Нет |
| Получение и складирование номерного знака                              | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | Нет |
| Получение и складирование номенклатуры заказа на перемещение                        | Да | Нет |
| Получение и складирование строки заказа на перемещение                        | Да | Нет |
| Отмена работы (входящая)                                              | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | <p>Да, но только если параметр <b>Отменить регистрацию прихода при отмене работы</b> (на странице <b>Параметры управления складом</b>) сброшен.</p> |
| Обработка поступление продуктов по заказу на покупку                          | Да | Нет |
| Получение заказа на покупку с недопоставкой                        | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | Да, но только путем создания запроса на отмену от концентратора |
| Получение заказа на покупку с перепоставкой                        | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | Да  |
| Получение с созданием работы *кросс-докинга*                   | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | Нет |
| Получение с созданием работы *Заказ для контроля качества*                  | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | Нет |
| Получение с созданием работы *Выборка номенклатуры для контроля качества*          | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | Нет |
| Получение с созданием работы *Качество при проверке качества*       | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | Нет |
| Получение с созданием заказа для контроля качества                            | <p>Да, если отсутствует складской заказ</p><p>Нет, если имеется складской заказ</p> | Нет |
| Обработка работы — направляемая с помощью *размещения кластера*                             | Да | Нет |
| Обработка работы с *недоукомплектованием*                                           | Да | Нет |
| Загрузка грузоместа                                           | Да | Нет |

### <a name="warehouse-operations-and-exception-handing"></a>Складские операции и обработка исключений

В следующей таблице показано, какие операции склада и функции обработки исключений поддерживаются, и где они поддерживаются, когда рабочие нагрузки управления складом используются в облачных и пограничных единицах масштабирования.

| Обработать                                            | Узел | Рабочая нагрузка WES на единице масштабирования |
|----------------------------------------------------|-----|------------------------------|
| Запрос этикетки грузоместа                              | Да | Да                          |
| Запрос номенклатуры                                       | Да | Да                          |
| Запрос местонахождения                                   | Да | Да                          |
| Изменить склад                                   | Да | Да                          |
| Проводка                                           | Да | Да                          |
| Перемещение по шаблону                               | Да | Да                          |
| Перемещение по складу                                 | Да | Нет                           |
| Создание заказа на перемещение из мобильного приложения управления складом           | Да | Нет                           |
| Корректировка (входящая/исходящая)                                | Да | Нет                           |
| Изменение статуса запасов                            | Да | Нет                           |
| Циклическая инвентаризации и обработка несоответствия при инвентаризации | Да | Нет                           |
| Повторная печать этикетки (печать меток грузомест)             | Да | Да                          |
| Создание грузоместа                                | Да | Нет                           |
| Перерыв по грузоместу                                | Да | Нет                           |
| Упаковывать по вложенным номерным знакам                                | Да | Нет                           |
| Отметка о прибытии водителя                                    | Да | Нет                           |
| Отметка об отъезде водителя                                   | Да | Нет                           |
| Изменить код обработки партии                      | Да | Да                          |
| Отобразить открытый список работ                             | Да | Да                          |
| Объединенные грузоместа                         | Да | Нет                           |
| Обработка минимального/максимального количества и порога пополнения зоны| Да <p>Рекомендуется не включать одни и те же местопложения в состав запросов</p>| Да                          |
| Обработка процесса пополнения "Слоттинг"                  | Да  | Да<p>Обратите внимание, что настройка должна выполняться в единице масштабирования</p>                           |
| Блокирование и разблокирование работы                             | Да | Да                          |
| Сменить пользователя                                        | Да | Да                          |
| Изменить пул работ в работе                           | Да | Да                          |
| Отменить работу                                        | Да | Да                          |


### <a name="production"></a>Рабочий

Производственные сценарии управления складом в настоящее время не поддерживается в рабочих нагрузках единиц масштабирования, как указано в следующей таблице.

| Обработать | Узел | Рабочая нагрузка WES на единице масштабирования |
|---------|-----|------------------------------|
| <p>Все процессы управления складом, которые относятся к производству. Далее приводятся некоторые примеры.</p><li>Выпуск на склад</li><li>Обработка волны производства</li><li>Комплектация сырья</li><li>Приемка и размещение готовой продукции</li><li>Размещение побочных и попутных продуктов</li><li>Канбан складирован</li><li>Комплектация по канбану</li><li>Запустить производственный заказ</li><li>Отходы производства</li><li>Последняя палета производства</li><li>Регистрация потребления материалов</li><li>Пустой канбан</li></ul> | Да | Нет |

## <a name="maintaining-scale-units-for-wes"></a>Поддержка единиц масштабирования для WES

Несколько пакетных заданий работают как в концентраторе, так и в единицах масштабирования.

В развертывании концентратора можно вручную управлять пакетными заданиями. Можно управлять следующими пакетными заданиями в разделе **Управление складом \> Периодические задачи \> Управление рабочей нагрузкой бэк-офиса**:

- Обработка событий обновления статуса работы
- Обработчик сообщений от единицы масштабирования к узлу
- Регистрация прихода по исходному заказу
- Завершить складские заказы
- Обработка ответов на обновление количества для строк складского заказа

В рабочей нагрузке в единицах масштабирования можно управлять следующими пакетными заданиями в разделе **Управление складом \> Периодические задачи \> Управление рабочей нагрузкой**:

- Обработать записи таблицы волн
- Обработчик сообщений от узла склада к единице масштабирования
- Обработка запросов на обновление количества для строк складского заказа


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
