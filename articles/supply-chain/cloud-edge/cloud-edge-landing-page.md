---
title: Единицы масштабирования в распределенной гибридной топологии
description: В этой теме приводятся сведения о облачных и пограничных единицах масштабирования для рабочих нагрузок производства и управления складом.
author: cabeln
ms.date: 04/22/2021
ms.topic: article
ms.search.form: ScaleUnitWorkloadsWorkspace
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: cabeln
ms.search.validFrom: 2021-04-13
ms.dyn365.ops.version: 10.0.19
ms.openlocfilehash: 593331a3f1073edb6a50c9bfc66e0723d222832a
ms.sourcegitcommit: 3a7f1fe72ac08e62dda1045e0fb97f7174b69a25
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/31/2022
ms.locfileid: "8065772"
---
# <a name="scale-units-in-a-distributed-hybrid-topology"></a>Единицы масштабирования в распределенной гибридной топологии

[!include [banner](../includes/banner.md)]

> [!IMPORTANT]
> Возможность единиц масштабирования для Microsoft Dynamics 365 Supply Chain Management доступна на условиях, регулирующих использование службы. Дополнительные сведения см. в [Microsoft Dynamics Юридическая информация](https://go.microsoft.com/fwlink/?LinkID=290927).
>
> При включении облачных и пограничных единиц масштабирования потребуется подтвердить, что некоторые данные, которые связаны с конфигурацией и обработкой облачных и пограничных единиц масштабирования, могут храниться в центре обработки данных, который находится в США. Для получения дополнительных сведений об обработке данных для облачных и пограничных единиц масштабирования см. [Обработка данных при управлении единицами масштабирования](#data-processing-management) далее в этом разделе.

## <a name="core-value-proposition-for-a-distributed-hybrid-topology"></a>Основное ценностное предложение для распределенной гибридной топологии

Компании, которые работают с производством и распределением, должны иметь возможность выполнять ключевые бизнес-процессы 24/7, без перерывов и в масштабе. Распределенная гибридная топология позволяют компаниям выполнять основные процессы производства и склада без перерыва, даже если столкнуться с периодическим проблемами подключения к сети или задержками.

Распределенная гибридная топология вводит концепцию *единиц масштабирования*, что позволяет распределять рабочие нагрузки цеха и склада между различными средами. Эта функциональность может помочь повысить производительность, предотвратить перерывы в обслуживании и максимизировать время бесперебойной работы. Единицы масштабирования предоставляются с помощью следующих надстроек для вашей подписки Supply Chain Management:

- Надстройка для облачного модуля масштабирования для Dynamics 365 Supply Chain Management
- Надстройка для пограничного модуля масштабирования для Dynamics 365 Supply Chain Management

Возможности рабочей нагрузки выпускаются на постоянной основе с помощью добавочных улучшений.

## <a name="scale-units-and-dedicated-workloads"></a>Единицы масштабирования и выделенные рабочие нагрузки

Единицы масштабирования расширяет среду концентратора Supply Chain Management, добавляя выделенную мощность обработки. Единицы масштабирования могут работать в облаке. Кроме того, они могут работать на пограничном уровне, локально на вашем узле.

:::image type="content" source="./media/cloud_edge-HeroDiagram.png" alt-text="Dynamics 365 с единицами масштабирования.":::

Единицы масштабирования обеспечивают устойчивость, надежность и масштаб для назначенных рабочих нагрузок. Пограничные единицы масштабирования могут быть временно отключены из среды облачного концентратора, и работники продолжают работать в назначенных рабочих нагрузках на пограничном уровне.

*Рабочая нагрузка* — это определенный набор бизнес-функций, которые можно выделять и делегировать в единицу масштабирования. Несмотря на то, что рабочая нагрузка для управления складом была выпущена, рабочая нагрузка для выполнения производства все еще находится в предварительной версии.

Можно настроить вашу среду концентратора и облачные единицы масштабирования для выбранными рабочими нагрузками с помощью [портала диспетчера единиц масштабирования](https://sum.dynamics.com). Можно также назначить несколько рабочих нагрузок для единицы масштабирования. Сведения о необходимых условиях и ограничениях для облачных единиц масштабирования в текущем выпуске см. в [Необходимые условия и ограничения для облачных единиц масштабирования](#cloud-scale-unit-prerequisites) ниже в этом разделе.

### <a name="dedicated-warehouse-management-workload-capabilities-in-a-scale-unit"></a>Выделенные возможности рабочей нагрузки управления складом в единице масштабирования

Рабочая нагрузка "Управление складом" представляет собой первую распределенную рабочую нагрузку для единиц масштабирования, которые были выпущены для общей доступности. Она позволяет масштабировать и выполнять складские операции в отказоустойчивой среде с помощью изолированных периодов обслуживания. Рабочая нагрузка "Управление складом" поддерживает большинство процессов управления складом в корпоративном центре. Дополнительные сведения см. в разделе [Рабочие нагрузки управления складом для облачных и пограничных единиц масштабирования](cloud-edge-workload-warehousing.md).

### <a name="dedicated-manufacturing-execution-workload-capabilities-in-a-scale-unit"></a>Выделенные возможности выполнения рабочей нагрузки для производства в единице масштабирования

Производственная рабочая нагрузка предоставляет следующие возможности:

- У операторов компьютеров и руководителей цеха есть доступ к рабочему плану производства.
- Операторы компьютеров могут сохранять план актуальным, выполняя дискретные и обрабатывающие производственные задания.
- Начальник цеха может скорректировать план операций.
- Работники могут получить доступ к времени и посещаемости для прихода на работу и ухода с работы в пограничном модуле, чтобы обеспечить правильный расчет оплаты работника.

Дополнительные сведения см. в разделе [Производственные рабочие нагрузки для облачных и пограничных единиц масштабирования](cloud-edge-workload-manufacturing.md).

## <a name="considerations-before-you-enable-the-distributed-hybrid-topology-for-supply-chain-management"></a>Что необходимо учесть перед включением распределенной гибридной топологии для Supply Chain Management

Включая распределенную гибридную топологию, вы переходите в облачную среду Supply Chain Management, так что она выступает в качестве концентратора. Можно также связать дополнительные среды, которые настроены как единицы масштабирования в облаке или на пограничном уровне.

### <a name="prerequisites-and-limitations-for-cloud-scale-units"></a><a name="cloud-scale-unit-prerequisites"></a>Необходимые условия и ограничения для облачных единиц масштабирования

В текущем выпуске для единиц масштабирования некоторые возможности пока недоступны, но со временем могут быть добавлены в добавочных выпусках.

#### <a name="you-must-be-a-licensed-customer-of-supply-chain-management"></a>Необходимо быть лицензированным клиентом Supply Chain Management

Для подключения к распределенную топологию необходима лицензия для Supply Chain Management. Существующая облачная среда станет концентратором в гибридной топологии. Среды "песочницы" и рабочую среду можно объявить в качестве среды концентратора, при этом можно добавлять единицы масштабирования в соответствии с полученными надстройками.

#### <a name="your-existing-project-must-be-administered-via-the-global-commercial-version-of-lcs"></a>Существующий проект должен управляться в рамках глобальной коммерческой версии LCS

Существующий проект Microsoft Dynamics Lifecycle Services (LCS) должен удовлетворять следующим требованиям версии:

- Проект должен управляться в рамках глобальной коммерческой версии LCS на [lcs.dynamics.com](https://lcs.dynamics.com).
- Локальные версии LCS (такие как [eu.lcs.dynamics.com](https://eu.lcs.dynamics.com) и [fr.lcs.dynamics.com](https://fr.lcs.dynamics.com)) не поддерживаются.
- Правительственные облачные версии LCS не поддерживаются.
- Версия Mooncake LCS не поддерживается.

#### <a name="your-current-production-environment-must-be-of-the-self-service-type-in-lcs"></a>Текущая рабочая среда должна относиться к типу самообслуживания в LCS

Текущая рабочая среда должна быть помечена типом **самообслуживания** в LCS. Этот тип указывает, что клиент для проекта LCS уже был преобразован, чтобы он поддерживал модель размещения Azure Service Fabric.

> [!IMPORTANT]
> Типы среды, которые работают как "инфраструктура как услуга" (IaaS), не поддерживаются. Эти среды обычно помечаются типом **управляемые Microsoft** в LCS. Если имеются среды этого типа, обратитесь к своему контактному лицу в Microsoft, чтобы узнать временную шкалу миграции к типу **самообслуживания**.

Microsoft находится в процессе перевода всех облачных сред Supply Chain Management с модели IaaS на топологию, размещенную в Service Fabric. Это позволяет повысить масштабируемость и упростить управление услугами. Таким образом, операции развертывания и обслуживания выполняются быстрее. Аналогичным образом, компоненты служб переносятся в концепцию микрослужб, а модель размещения служб [переводится](/virtualization/windowscontainers/about/containers-vs-vm) из модели виртуальной машины в облегченную контейнерную архитектуру.

В конечном счете, одна и та же контейнерная инфраструктура на основе Service Fabric будет включать как облачные, так и пограничные экземпляры службы, независимо от того, является ли экземпляр концентратором в облаке или единицей масштабирования в облаке или на пограничном уровне.

Прежде чем вы сможете подключиться к гибридной топологии, поддерживающей единицы масштабирования, клиент проекта должен быть переведен на модель, размещенную в Service Fabric. Кроме того, должна быть преобразована любая среда, которая будет выступать в качестве концентратора.

> [!TIP]
> Для получения сведений о состоянии вашего клиента по проекту LCS, проверьте тип вашей среды в [LCS](https://lcs.dynamics.com/) или обратитесь к своему партнеру или контактному лицу в Microsoft.

#### <a name="local-business-data-on-premises-environments-arent-supported-as-hubs-for-scale-units"></a>Локальные среды бизнес-данных (локальные) не поддерживаются в качестве концентраторов для единиц масштабирования

Локальные среды не могут функционировать как концентраторы для единиц масштабирования. Среды концентраторов всегда должны размещаться в облаке.

#### <a name="scale-unit-management-capabilities-are-limited"></a>Возможности управления единицами масштабирования ограничены

Возможности управления, которые могут помочь при перемещении рабочих нагрузок, имеют ограничения. Некоторые операции управления не поддерживаются с помощью самообслуживания, и вам может потребоваться запросить поддержку у своего партнера или контактного лица в Microsoft. Примеры включают в себя несколько перемещений рабочей нагрузки между единицами масштабирования и временные прямые перемещения в сценариях бедствия.

#### <a name="metrics-and-measurements-arent-yet-available"></a>Метрики и измерения пока недоступны

Метрики и измерения, которые могут помочь в выборе наилучшего приложения для единиц масштабирования, пока недоступны. Чтобы выбрать наиболее выгодное приложение, обратитесь к своему контактному лицу в Microsoft или партнеру по реализации.

### <a name="data-processing-during-management-of-scale-units"></a><a name="data-processing-management"></a>Обработка данных во время управления единицами масштабирования

При включении среды Dynamics 365 для поддержки распределенной, гибридной топологии для облачных и пограничных единиц масштабирования некоторые службы управления будут размещены только в Соединенных Штатах Америки, как для LCS. Это влияет на перемещение и хранение некоторых административных сведений и сведений о конфигурации, используемых [порталом диспетчера единиц масштабирования](https://sum.dynamics.com). Далее приводятся некоторые примеры.

- Имена и коды вашего клиента
- Коды ваших проектов LCS
- Адреса электронной почты администратора и владельца проекта, которые используются для входа в систему
- Коды среды для концентратора и модулей масштабирования
- Конфигурации рабочей нагрузки, включая имена и физические адреса юридических лиц и производственных объектов, чтобы топология могла отображаться на географической карте
- Собранные метрики (такие как задержка и пропускная способность), которые будут отображаться на странице анализа карты, чтобы помочь выбрать наиболее выгодное использование единиц масштабирования

Данные, перемещаемые в и хранящиеся в центрах обработки данных в США, будут удалены в соответствии с политиками хранение данных Microsoft. Конфиденциальность важна для корпорации Майкрософт. Чтобы получить дополнительные сведения, ознакомьтесь с нашим [заявлением о конфиденциальности](https://go.microsoft.com/fwlink/?LinkId=521839).

## <a name="onboarding-in-two-stages"></a>Подключение в два этапа

Процесс подключения к распределенной, гибридной топологии имеет два этапа. На первом этапе необходимо проверить настройки, чтобы убедиться в том, что они работают в распределенной топологии с единицами масштабирования. "Песочница" и "рабочие среды" перемещаются только на втором этапе.

### <a name="stage-1-evaluate-customizations-in-one-box-development-environments"></a>Этап 1. Оценка настроек в односерверных средах разработки

Прежде чем приступить к работе со средой "песочницы" или рабочей средой, рекомендуется изучить единицы масштабирования в настройке разработки, например в односерверной среде (называемой также средой уровня 1), чтобы можно было проверять процессы, настройки и решения. На этом этапе данные и настройки будут применяться к односерверных средам. Одна среда использует роль концентратора, а другая — роль единицы масштабирования. Эта настройка обеспечивает лучший способ идентификации и устранения проблем. Для выполнения этого этапа также можно использовать последнюю сборку с ранним доступом (PEAP).

Для этапа 1 следует использовать [инструменты развертывания единиц масштабирования в односерверных средах разработки](https://github.com/microsoft/SCMScaleUnitDevTools). Эти инструменты позволяют настраивать концентраторы и единицы масштабирования в одной или двух отдельных односерверных средах. Эти инструменты предоставляются в виде двоичного выпуска и в исходном коде в GitHub. Изучите вики-сайт проекта, который включает в себя [Пошаговое руководство по использованию](https://github.com/microsoft/SCMScaleUnitDevTools/wiki/Step-by-step-usage-guide) инструментов, которое описывает их использование.

### <a name="stage-2-acquire-add-ins-and-deploy-in-your-sandbox-and-production-environments"></a>Этап 2. Получение надстроек и развертывание в "песочнице" и рабочей среде

Чтобы подключить одну из сред "песочницы" или рабочую среду в новую топологию, необходимо приобрести надстройки для одной или нескольких облачных единиц масштабирования (а в будущем для пограничных единиц масштабирования). Надстройки будут предоставлять соответствующие слоты проекта и среды в [LCS](https://lcs.dynamics.com/), чтобы можно было развернуть среды с единицей масштабирования.

> [!NOTE]
> Надстройки единиц масштабирования не связаны с ограничением числа пользователей, но могут использоваться любым пользователем в существующей подписке на основе ролей, назначенных администратором.

Единицы масштабирования предлагаются в нескольких единицах складского хранения (SKU) и вариантах ценообразования. Таким образом, можно выбрать параметр, который наилучшим образом соответствует запланированному месячному объему проводок и требованиям к производительности.

SKU начального уровня называется *базовой*, а более производительная SKU называется *стандартной*. Каждая SKU предварительно загружается с определенным количеством месячных проводок. Однако можно увеличить бюджет месячной проводки, добавив дополнительные надстройки для каждой SKU.

:::image type="content" source="media/SKUs-highlevel.png" alt-text="Надстройки для облачных единиц масштабирования.":::

> [!TIP]
> Чтобы определить размер, который наилучшим образом соответствует вашим потребностям, обратитесь к своему партнеру и в корпорацию Microsoft для понимания необходимого размера месячных проводок.

Покупка каждой надстройки единицы масштабирования дает вам не только месячный объем проводок, но также право на конкретное число слотов среды в LCS. Для каждой надстройки для облачной единицы масштабирования вы имеете право на один новый рабочий слот и один новый слот "песочницы". В процессе подключения будет добавлен новый проект LCS со следующими слотами. Права использования для слотов привязываются таким образом, что слоты должны использоваться как единицы масштабирования с облачным концентратором.

Избыточные надстройки не дают вам прав на новые слоты среды.

Для получения дополнительных сред "песочницы" можно купить дополнительные обычные слоты "песочницы". Затем Microsoft может помочь включить эти слоты в качестве единиц масштабирования "песочницы" для гибридной топологии.

## <a name="onboard-to-the-distributed-hybrid-topology-for-supply-chain-management"></a>Подключение к распределенной гибридной топологии для Supply Chain Management

### <a name="select-your-lcs-project-tenant-and-the-detailed-onboarding-process"></a>Выбор клиента проекта LCS и подробное описание процесса подключения

После того, как вы закончите планирование того, как вы будете подключаться к распределенной гибридной топологии для Supply Chain Management, вы будете использовать [портал диспетчера единиц масштабирования](https://aka.ms/SCMSUM), чтобы начать процесс подключения. На портале, выберите вкладку **клиенты Dynamics 365**. Эта вкладка отображает список клиентов, входящих в вашу учетную запись и в которых вы являетесь владельцем или администратором среды для проекта LCS.

Если искомый клиент отсутствует в этом списке, перейдите в [LCS](https://lcs.dynamics.com/v2) и убедитесь, что вы являетесь администратором среды или владельцем проекта LCS для этого клиента. Только учетные записи Azure Active Directory (Azure AD) из выбранного клиента авторизованы для выполнения регистрации.

> [!NOTE]
> После применения изменений к LCS для отображения изменений с списке клиентов может потребоваться до 30 минут.

Для каждого клиента в списке отображается статус подключения.

:::image type="content" source="media/cloud_edge-EnableHybrid1.png" alt-text="Список клиентов на вкладке клиентов Dynamics 365.":::

Выберите **Щелкните здесь, чтобы начать**, чтобы запросить подключение для клиента LCS. Необходимо принять условия. Кроме того, необходимо предоставить рабочий адрес электронной почты, на который Microsoft сможет отправлять сообщения, имеющие отношение к процессу подключения.

:::image type="content" source="media/cloud_edge-EnableHybrid2.png" alt-text="Отправка регистрации для клиента.":::

Microsoft проверит запрос и сообщит о следующих шагах, отправив сообщение электронной почты по адресу, указанному в форме регистрации. Microsoft будет работать тесно с вами, чтобы включить единицы масштабирования в гибридную топологию для вашего бизнес-сценария.

После завершения подключения можно использовать порт для настройки единиц масштабирования и рабочих нагрузок.

### <a name="manage-scale-units-and-workloads-by-using-the-scale-unit-manager-portal"></a><a name="scale-unit-manager-portal"></a>Управление единицами масштабирования и рабочими нагрузками с помощью портала диспетчера единиц масштабирования

Перейдите на [портал диспетчера единиц масштабирования](https://aka.ms/SCMSUM) и выполните вход, используя свою учетную запись клиента. На странице **Настройка единиц масштабирования** можно добавить среду концентратора, если она еще не указана. Затем можно выбрать концентратор, для которого требуется настроить единицы масштабирования и рабочие нагрузки.

:::image type="content" source="media/cloud_edge-Manage.png" alt-text="Портал управления единицами масштабирования, страница настройки единиц масштабирования.":::

Чтобы добавить одну или несколько единиц масштабирования, доступных в подписках, выберите **Добавить единицы масштабирования**.

На вкладке **Заданные рабочие нагрузки** используйте кнопку **Создать рабочую нагрузку**, чтобы добавить рабочую нагрузку управления складом для одной из единиц масштабирования. Для каждой рабочей нагрузки необходимо указать контекст процессов, которые будут принадлежать рабочей нагрузке. Для рабочих нагрузок управления складом контекст — это конкретный склад на конкретном сайте и в юридическом лице.

:::image type="content" source="media/cloud_edge-DefineWorkload.png" alt-text="Диалоговое окно определения рабочих нагрузок.":::

#### <a name="manage-workloads"></a>Управление рабочими нагрузками

Если одна или несколько рабочих нагрузок включены, следует использовать параметр **Управление рабочими нагрузками** для инициализации процессов и управления такими процессами, которые перечислены в следующей таблице.

| Обработать | Описание |
|---|---|
| Приостановка обмена данными с единицами масштабирования | Приостановить передачу сообщений конвейера между концентратором и единицей масштабирования. Этот процесс приведет к прекращению обмена данными и сбросу конвейера данных между концентратором и единицами масштабирования. Этот процесс должен быть выполнен до того, как будет выполнена операция обслуживания Supply Chain Management на концентраторе или в единице масштабирования, но его также можно использовать в других ситуациях. |
| Возобновление обмена данными с единицами масштабирования | Возобновите передачу сообщений конвейера между концентратором и единицей масштабирования. Возможно, потребуется использовать этот процесс, например, после запуска операции обслуживания Supply Chain Management в концентраторе или в единицах масштабирования. |
| Обновление рабочих нагрузок | Синхронизируйте новые функции между рабочими нагрузками концентратора и единиц масштабирования. Возможно, потребуется использовать этот процесс, например, когда обслуживание привело к изменению запросов обмена данными, и/или добавлению новых таблиц или полей в рабочую нагрузку. |
| Передача рабочих нагрузок в единицу масштабирования | Запланируйте перемещение рабочей нагрузки, выполняемой в данный момент на концентраторе, в единицу масштабирования. При выполнении этого процесса синхронизация данных будет перетекать, и будет настроено изменение владения рабочей нагрузкой и для концентратора, и для единицы масштабирования. |
| Передача единицы масштабирования в концентратор | Запланируйте перемещение рабочей нагрузки, выполняемой в данный момент на единице масштабирования, в концентратор. При выполнении этого процесса синхронизация данных будет перетекать, и будет настроено изменение владения рабочей нагрузкой и для концентратора, и для единицы масштабирования.
| Аварийный переход в концентратор | <p>Немедленно перенесите существующую рабочую нагрузку в концентратор. *Этот процесс изменит владельца только тех данных, которые в настоящее время доступны в концентраторе.*</p><p><strong>Предупреждение.</strong> Эта процедура может привести к потере несинхронизированных данных и к сбою бизнес-обработки. Поэтому он должен использоваться только в экстренных случаях, где бизнес-процессы должны быть обработаны на концентраторе, так как в единицах масштабирования произошел сбой, который невозможно устранить в разумное время.</p> |
| Вывод из эксплуатации распределенной топологии | Удалите развертывание единицы масштабирования и запускайте только на концентраторе, без обработки рабочей нагрузки. |

:::image type="content" source="media/sum-manage-workloads.png" alt-text="Опыт управления единицами масштабирования и рабочими нагрузками.":::

> [!TIP]
> Со временем для упрощения операций управления жизненным циклом будут добавлены добавочные усовершенствования в модуле диспетчера единиц масштабирования. Отдельные возможности для текущего выпуска документируются в справочнике по подключению, который доступен для клиентов, находящихся в процессе подключения к распределенной гибридной топологии для Supply Chain Management. <!-- KFM: Add a link to the handbook when it is published -->

[!INCLUDE [cloud-edge-privacy-notice](../../includes/cloud-edge-privacy-notice.md)]

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
