---
title: Конфликт обновления, когда методом оценки запасов является или стандартная себестоимость, или скользящее среднее
description: Конфликт обновления, когда методом оценки запасов является или стандартная себестоимость, или скользящее среднее
author: AndersGirke
ms.date: 05/31/2021
ms.topic: troubleshooting
ms.search.form: InventAgingStorage, InventAgingStorageChart, InventAgingStorageDetails, InventValueProcess, InventValueReportSetup, InventClosing
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: aevengir
ms.search.validFrom: 2021-05-31
ms.dyn365.ops.version: 10.0.15
ms.openlocfilehash: 920d20d19843ce0cac678c5426c00ec99aa61c61
ms.sourcegitcommit: 2d6e31648cf61abcb13362ef46a2cfb1326f0423
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/07/2021
ms.locfileid: "7477446"
---
# <a name="an-update-conflict-occurs-when-the-inventory-valuation-method-is-either-standard-cost-or-moving-average"></a>Конфликт обновления, когда методом оценки запасов является или стандартная себестоимость, или скользящее среднее

## <a name="symptoms"></a>Симптомы

При разноске документов, таких как журналы запасов, накладные заказа на покупку или накладные заказа на продажу, параллельно для масштабируемости и производительности, может быть получено сообщение об ошибке, вызванной конфликтом обновления, и некоторые документы могут быть не разнесены. Эта проблема может возникать, когда методом оценки запасов является или *Стандартная себестоимость*, или *Скользящее среднее*. Оба этих метода являются бессрочными методами учета затрат. Иными словами, окончательные затраты определяются во время разноски.

При использовании метода *Скользящее среднее* сообщение об ошибке выглядит следующим образом:

> Значение запасов xx,xx после пропорционального расчета расходов не ожидается

При использовании метода *Стандартная себестоимость* сообщение об ошибке выглядит следующим образом:

> В результате обновления стандартные затраты не соответствуют финансовой величине запасов. Значение = xx,xx, Кол-во = yy,yy, Стандартная себестоимость = zz,zz

## <a name="workaround"></a>Обходное решение

До тех пор, пока корпорация Майкрософт не выпустит решение для устранения проблемы, придерживайтесь следующих временных решений, чтобы избежать подобных ошибок:

- Заново выполните разноску документов, для которых возникла ошибка.
- Создайте документы, содержащие меньшее число строк.
- Избегайте использования десятичных значений в стандартных затратах. Попробуйте определить стандартную себестоимость таким образом, чтобы в поле **Количество для цены** было установлено значение *1*. Если необходимо указать значение **Количество для цены**, большее *1*, попробуйте минимизировать число десятичных разрядов в стандартной себестоимости единицы измерения. (В идеале должно быть менее двух десятичных разрядов.) Например, не следует определять настройки стандартной себестоимости, такие как **Цена** = *10* и **Количество для цены** = *3*, так как они создают стандартную себестоимость 3,333333 (где десятичные знаки повторяются).
- В большинстве документов следует избегать использования нескольких строк, содержащих одинаковое сочетание продуктов и финансовых складских аналитик.
- Снизьте степень параллелизма. (В этом случае система может начать работать быстрее, так как происходит меньше конфликтов обновления и повторных попыток.)
