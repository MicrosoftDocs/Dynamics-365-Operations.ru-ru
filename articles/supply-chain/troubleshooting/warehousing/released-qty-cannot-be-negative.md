---
title: Невозможно обновить строку загрузки, так как выпущенное количество было бы отрицательным
description: Эта проблема возникает в том случае, когда обновление или удаление строки загрузки вызовет отрицательное выпущенное количество.
author: GalynaFedorova
ms.date: 6/30/2021
ms.topic: troubleshooting
ms.search.form: WHSLoadPlanningListPage_WHSLoadLineUnShipQty,WHSLoadTable_WHSLoadLineUnShipQty,WHSLoadPlanningWorkbench_WHSLoadLineUnShipQty,WHSShipmentDetails_WHSLoadLineUnShipQty,WHSLoadPlanningListPage_DeleteButtonLoadLine,WHSLoadTable_DeleteButtonLoadLine,WHSLoadPlanningWorkbench_DeleteButtonLoadLine,WHSShipmentDetails_DeleteButtonShipment
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: v-gfedorova
ms.search.validFrom: 2021-06-30
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: a6325a632e1f68a0a3a9cb6b6091c48da014a405e8ce9ad69ea841f5cceb216f
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "6728467"
---
# <a name="cant-update-a-load-line-because-the-released-quantity-would-be-negative"></a>Невозможно обновить строку загрузки, так как выпущенное количество было бы отрицательным

Код ошибки: @WAX:ReleasedQtyCannotBeNegative

## <a name="symptoms"></a>Симптомы

Эта проблема возникает в том случае, когда обновление или удаление строки загрузки вызовет отрицательное выпущенное количество. В этом случае при попытке обновить или удалить строку загрузки система выводит следующее сообщение об ошибке:

> Выпущенное количество не может быть отрицательным для номенклатуры %1, лот %2.

Поэтому невозможно обновить или удалить строку загрузки.

## <a name="cause"></a>Причина

После обновления или удаления строки загрузки система обновляет выпущенное количество соответствующей строки продаж (*whsSalesLine.ReleaseQty*). Система оценивает выпущенное количество, и если в результате будет обнаружено, что выпущенное количество по строке было бы отрицательным после обновления, это не позволит обновить или удалить строку. Данная проверка выполняется при попытке обновить количество в строке загрузки или единицу измерения с помощью различных действий, таких как удаление строки загрузки, удаление отгрузки, изменение количества в строке загрузки, уменьшение скомплектованного количества и недоукомплектованность.

Наиболее распространенной причиной этой проблемы является изменение пересчета единиц измерения, используемого для открытых строк загрузки. Например, пересчет единиц измерения, когда выпущен заказ на продажу, было *50 Ea = 1 PL*. Однако до завершения обработки отгрузки, пересчет единиц измерения был изменен на *100 Ea = 1 PL*.

## <a name="resolution"></a>Решение

Решением является отмена изменений пересчета единиц измерения, обновление или удаление строки загрузки, а затем повторная реализация преобразования. Необходимо предотвратить обработку других нагрузок, включающих номенклатуру, вызвавший проблему, пока проблема не будет устранена. В противном случае новые пересчеты могут использоваться для других уже открытых нагрузок.

Для решения проблемы необходимо выполнить следующие задачи:

1. Проверьте пересчет единиц измерения, который использовался для строки загрузки.
2. Просмотрите текущее преобразование единиц измерения для номенклатуры и выполните корректировки, которые позволят обновить или удалить строку загрузки.
3. Обновление или удаление строки загрузки и возврат к корректировкам пересчета единиц измерения.

### <a name="review-the-unit-conversion-that-was-used-for-the-load-line"></a>Проверьте пересчет единиц измерения, который использовался для строки загрузки

Используйте следующую процедуру для просмотра строк загрузки и запишите пересчет единиц измерения, использованное для строки загрузки.

1. Выберите **Управление складом \> Загрузки \> Все загрузки**.
1. Выберите загрузку, которая включает строку загрузки, которая не может быть удалена или обновлена.
1. В области действий на вкладке **Загрузки** в группе **Связанные сведения** выберите **Работа**.
1. В верхней сетке выберите соответствующий код работы.
1. На вкладке **Общие** в нижней части страницы рассчитайте коэффициент преобразования между значением **Рабочее количество запасов** и **Количество работы**. Запишите значение.
1. Повторите эту процедуру для всех соответствующих кодов работы, чтобы убедиться в том, что используется один и тот же пересчет.

### <a name="review-the-current-unit-conversion-for-the-item-and-make-adjustments"></a>Просмотрите текущий пересчет единиц измерения для номенклатуры и выполните корректировки

С помощью следующей процедуры проверьте пересчеты единиц измерения продукта и внесите корректировки, чтобы убедиться, что пересчет единиц измерения приведен в соответствие со строкой загрузки.

1. Выберите **Управление сведениями о продукте \> Продукты \> Выпущенные продукты**.
1. Откройте соответствующий продукт, чтобы перейти на его страницу **Сведения о выпущенном продукте**.
1. На панели операций на вкладке **Продукт** в группе **Настройка** выберите **Пересчеты единиц измерения**.
1. Выберите преобразование между единицами измерения и выполните корректировки, используя пересчет, который вы нашли в предыдущем разделе.

### <a name="update-or-delete-the-load-line-and-revert-the-unit-conversion-adjustments"></a>Обновление или удаление строки загрузки и возврат к корректировкам пересчета единиц измерения

Следующая процедура используется для обработки необходимой строки загрузки, а также для возврата пересчетов единиц измерения.

1. Выберите **Управление складом \> Загрузки \> Все загрузки**.
1. Откройте загрузку, которая включает строку загрузки, которая не может быть удалена или обновлена.
1. На экспресс-вкладке **Строки загрузки** проверьте строку загрузки.
1. Продолжите выполнение необходимых действий, если это необходимо. (Например, удалите строку загрузки или измените ее количество).
1. Выберите **Управление сведениями о продукте \> Продукты \> Выпущенные продукты**.
1. Откройте соответствующий продукт, чтобы перейти на его страницу **Сведения о выпущенном продукте**.
1. На панели операций на вкладке **Продукт** в группе **Настройка** выберите **Пересчеты единиц измерения**.
1. Выберите преобразование между единицами измерения и возврат корректировок, которые вы выполнили в предыдущем разделе.
