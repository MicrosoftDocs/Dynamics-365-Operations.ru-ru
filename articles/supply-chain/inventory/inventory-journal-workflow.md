---
title: Рабочие процессы утверждения журнала запасов
description: Этот раздел описывает, как настроить и использовать рабочие процессы утверждения журнала запасов для разноски различных типов проводок для физических запасов. Рабочие процессы утверждения журнала запасов гарантируют, что в проводки могут быть разнесены только утвержденные журналы запасов.
author: sherry-zheng
manager: tfehr
ms.date: 07/21/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: InventJournalTableWorkflowDropDialog
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: chuzheng
ms.search.validFrom: 2020-07-21
ms.dyn365.ops.version: Release 10.0.13
ms.openlocfilehash: 623c628f3359efc1f76e1d06387905f981deca0b
ms.sourcegitcommit: 199848e78df5cb7c439b001bdbe1ece963593cdb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2020
ms.locfileid: "4435796"
---
# <a name="inventory-journal-approval-workflows"></a><span data-ttu-id="48ae9-104">Рабочие процессы утверждения журнала запасов</span><span class="sxs-lookup"><span data-stu-id="48ae9-104">Inventory journal approval workflows</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="48ae9-105">В этой теме описывается, как настроить и использовать рабочие процессы утверждения журнала запасов для разноски проводок по физическим запасам различных типов, таких как расходы и приходы, перемещения запасов, спецификации (BOM) и выверка физических запасов.</span><span class="sxs-lookup"><span data-stu-id="48ae9-105">This topic describes how to set up and use inventory journal approval workflows for various types of physical inventory transactions, such as issues and receipts, inventory movements, bills of materials (BOMs), and the reconciliation of physical inventory.</span></span> <span data-ttu-id="48ae9-106">Рабочие процессы утверждения журнала запасов гарантируют, что в проводки могут быть разнесены только утвержденные журналы запасов.</span><span class="sxs-lookup"><span data-stu-id="48ae9-106">Inventory journal workflows help ensure that only approved inventory journals can be posted to transactions.</span></span>

> [!NOTE]
> <span data-ttu-id="48ae9-107">Рабочие процессы утверждения журнала запасов применяются только к проводкам, записанным с использованием модуля "Управление запасами".</span><span class="sxs-lookup"><span data-stu-id="48ae9-107">Inventory journal approval workflows apply only to transactions recorded using the Inventory Management module.</span></span> <span data-ttu-id="48ae9-108">Они не работают с журналами запасов, запущенными в модуле "Управление складом".</span><span class="sxs-lookup"><span data-stu-id="48ae9-108">They don't work with inventory journals triggered from the Warehouse Management module.</span></span>

## <a name="create-your-inventory-journal-approval-workflows"></a><span data-ttu-id="48ae9-109">Создание своих рабочих процессов утверждения журнала запасов</span><span class="sxs-lookup"><span data-stu-id="48ae9-109">Create your inventory journal approval workflows</span></span>

<span data-ttu-id="48ae9-110">Чтобы настроить эту функцию, необходимо создать рабочий процесс для каждого из типов журналов запасов, которые необходимо контролировать.</span><span class="sxs-lookup"><span data-stu-id="48ae9-110">To set up this feature, you must create a workflow for each of the inventory journal types you want to control.</span></span> <span data-ttu-id="48ae9-111">Поскольку у различных типов журналов запаса могут быть разные иерархии утверждения и шаги рабочих процессов, можно настроить отдельные рабочие процессы для каждого типа журнала запасов.</span><span class="sxs-lookup"><span data-stu-id="48ae9-111">Because different inventory journal types can have different approval hierarchies and workflow steps, you can configure individual workflows for each inventory journal type.</span></span>

<span data-ttu-id="48ae9-112">Рабочие процессы поддерживают управление версиями, и у каждого из них есть идентификатор рабочего процесса и активная версия.</span><span class="sxs-lookup"><span data-stu-id="48ae9-112">Workflows support version control, and each has a workflow ID and an active version.</span></span> <span data-ttu-id="48ae9-113">Можно выбрать активацию каждой новой версии рабочего процесса сразу же после его создания или оставить его в неактивном состоянии.</span><span class="sxs-lookup"><span data-stu-id="48ae9-113">You can choose to activate each new workflow version immediately upon creation or keep it inactive.</span></span> <span data-ttu-id="48ae9-114">Если требуются различные рабочие процессы для одного и того же типа журнала, создайте несколько рабочих процессов для этого типа журнала, а затем назначьте каждый из них другому имени журнала, использующему этот тип.</span><span class="sxs-lookup"><span data-stu-id="48ae9-114">If you need different workflows for the same journal type, then create multiple workflows for that journal type, and then assign each of these to a different journal name that uses that type.</span></span>

<span data-ttu-id="48ae9-115">Создание своих рабочих процессов утверждения журнала запасов:</span><span class="sxs-lookup"><span data-stu-id="48ae9-115">To create your inventory journal approval workflows:</span></span>

1. <span data-ttu-id="48ae9-116">Перейдите в раздел **Управление запасами \> Настройка \> Рабочие процессы управления запасами**.</span><span class="sxs-lookup"><span data-stu-id="48ae9-116">Go to **Inventory Management \> Setup\> Inventory management workflows**.</span></span>
1. <span data-ttu-id="48ae9-117">На панели операций выберите **Создать**.</span><span class="sxs-lookup"><span data-stu-id="48ae9-117">Select **New** on the Action Pane.</span></span>
1. <span data-ttu-id="48ae9-118">Выберите тип журнала запасов, для которого необходимо настроить рабочий процесс:</span><span class="sxs-lookup"><span data-stu-id="48ae9-118">Choose the inventory journal type for which you want to set up a workflow:</span></span>
    - <span data-ttu-id="48ae9-119">**Журнал учета маркеров запасов**</span><span class="sxs-lookup"><span data-stu-id="48ae9-119">**Inventory tag counting journal**</span></span>
    - <span data-ttu-id="48ae9-120">**Журнал изменения владельца запасов**</span><span class="sxs-lookup"><span data-stu-id="48ae9-120">**Inventory ownership change journal**</span></span>
    - <span data-ttu-id="48ae9-121">**Журнал движения запасов**</span><span class="sxs-lookup"><span data-stu-id="48ae9-121">**Inventory movement journal**</span></span>
    - <span data-ttu-id="48ae9-122">**Журнал переноса запасов**</span><span class="sxs-lookup"><span data-stu-id="48ae9-122">**Inventory transfer journal**</span></span>
    - <span data-ttu-id="48ae9-123">**Журнал учета запасов**</span><span class="sxs-lookup"><span data-stu-id="48ae9-123">**Inventory counting journal**</span></span>
    - <span data-ttu-id="48ae9-124">**Журнал спецификации запасов**</span><span class="sxs-lookup"><span data-stu-id="48ae9-124">**Inventory BOM journal**</span></span>
    - <span data-ttu-id="48ae9-125">**Журнал корректировки запасов**</span><span class="sxs-lookup"><span data-stu-id="48ae9-125">**Inventory adjustment journal**</span></span>

    <span data-ttu-id="48ae9-126">![Диалоговое окно создания рабочего процесса](media/journal-workflow-create-workflow.png "Диалоговое окно создания рабочего процесса")</span><span class="sxs-lookup"><span data-stu-id="48ae9-126">![The Create workflow dialog box](media/journal-workflow-create-workflow.png "The Create workflow dialog box")</span></span>

1. <span data-ttu-id="48ae9-127">Приложение редактора рабочих процессов запускается на вашем компьютере.</span><span class="sxs-lookup"><span data-stu-id="48ae9-127">The workflow editor app launches on your machine.</span></span> <span data-ttu-id="48ae9-128">(Возможно, вам будет предложено подтвердить это действие.) Используйте его для разработки рабочего процесса, как необходимо.</span><span class="sxs-lookup"><span data-stu-id="48ae9-128">(You may be asked to approve this action.) Use it to design your workflow as needed.</span></span> <span data-ttu-id="48ae9-129">Дополнительные сведения об использовании редактора рабочих процессов см. в разделе [Обзор системы рабочих процессов](../../fin-ops-core/fin-ops/organization-administration/overview-workflow-system.md).</span><span class="sxs-lookup"><span data-stu-id="48ae9-129">For details about how to use the workflow editor, see [Workflow system overview](../../fin-ops-core/fin-ops/organization-administration/overview-workflow-system.md).</span></span>
1. <span data-ttu-id="48ae9-130">После сохранения и закрытия приложения редактора рабочих процессов необходимо выбрать, активировать ли эту версию рабочего процесса или сохранить ее как неактивную.</span><span class="sxs-lookup"><span data-stu-id="48ae9-130">After saving and closing the workflow editor app, you must choose whether to activate this workflow version or keep it as inactivate.</span></span>

> [!NOTE]
> <span data-ttu-id="48ae9-131">Рабочие процессы обеспечивают управление версиями, то есть можно просматривать список созданных вами версий и выбирать, какая из них является активной.</span><span class="sxs-lookup"><span data-stu-id="48ae9-131">Workflows provide version control, which means that you can view a list of versions you have created and choose which one is active.</span></span> <span data-ttu-id="48ae9-132">Для просмотра списка доступных версий и выбора нужной для активации выберите рабочий процесс, перечисленный на странице **Рабочие процессы управления запасами**.</span><span class="sxs-lookup"><span data-stu-id="48ae9-132">To view the list of available versions and choose which to activate, select a workflow listed on the **Inventory management workflows** page.</span></span> <span data-ttu-id="48ae9-133">На панели действий откройте вкладку **Рабочий процесс** и выберите **Версии**.</span><span class="sxs-lookup"><span data-stu-id="48ae9-133">On the Action Pane, open the **Workflow** tab, and select **Versions**.</span></span> <span data-ttu-id="48ae9-134">В каждый момент времени для каждого идентификатора рабочего процесса может быть активна только одна версия.</span><span class="sxs-lookup"><span data-stu-id="48ae9-134">Only one version can be active at a time for each workflow ID.</span></span>

## <a name="assign-approval-workflows-to-inventory-journal-names"></a><span data-ttu-id="48ae9-135">Назначение рабочих процессов утверждения для имен журналов запасов</span><span class="sxs-lookup"><span data-stu-id="48ae9-135">Assign approval workflows to inventory journal names</span></span>

<span data-ttu-id="48ae9-136">Следующий шаг состоит в назначении рабочего процесса журнала запасов для каждого имени журнала запасов.</span><span class="sxs-lookup"><span data-stu-id="48ae9-136">The next step is to assign a inventory journal workflow to each inventory journal name.</span></span> <span data-ttu-id="48ae9-137">Для каждого типа журнала запасов можно настроить несколько имен журналов запасов.</span><span class="sxs-lookup"><span data-stu-id="48ae9-137">For each inventory journal type, you can set up multiple inventory journal names.</span></span>

<span data-ttu-id="48ae9-138">Чтобы связать рабочий процесс журнала запасов с именем журнала запасов:</span><span class="sxs-lookup"><span data-stu-id="48ae9-138">To associate an inventory journal workflow with an inventory journal name:</span></span>

1. <span data-ttu-id="48ae9-139">Перейдите в раздел **Управление запасами \> Настройка \> Имена журналов \> Запасы**.</span><span class="sxs-lookup"><span data-stu-id="48ae9-139">Go to **Inventory management \> Setup \> Journal names \> Inventory**.</span></span>
1. <span data-ttu-id="48ae9-140">Выберите имя журнала из столбца списка, чтобы открыть страницу его настроек.</span><span class="sxs-lookup"><span data-stu-id="48ae9-140">Select a journal name from the list column to open its settings page.</span></span>
1. <span data-ttu-id="48ae9-141">На экспресс-вкладке **Общие** задайте для параметра **Рабочий процесс утверждения** значение **Да**.</span><span class="sxs-lookup"><span data-stu-id="48ae9-141">On the **General** FastTab, set **Approval workflow** to **Yes**.</span></span> <span data-ttu-id="48ae9-142">Если выводится запрос подтверждения действия, выберите **Да**.</span><span class="sxs-lookup"><span data-stu-id="48ae9-142">If you are prompted to approve the action, select **Yes**.</span></span>

    <span data-ttu-id="48ae9-143">![Назначение рабочего процесса для имени журнала](media/journal-workflow-journal-name.png "Назначение рабочего процесса для имени журнала")</span><span class="sxs-lookup"><span data-stu-id="48ae9-143">![Assign a workflow to a journal name](media/journal-workflow-journal-name.png "Assign a workflow to a journal name")</span></span>

1. <span data-ttu-id="48ae9-144">Откройте раскрывающийся список **Рабочий процесс** и выберите нужный рабочий процесс.</span><span class="sxs-lookup"><span data-stu-id="48ae9-144">Open the **Workflow** drop-down list and select the appropriate workflow.</span></span> <span data-ttu-id="48ae9-145">В списке показан каждый активный рабочий процесс, созданный с помощью приложения редактора рабочих процессов.</span><span class="sxs-lookup"><span data-stu-id="48ae9-145">The list shows each active workflow that you have created using the workflow editor app.</span></span>

## <a name="create-an-inventory-journal-and-send-it-for-approval"></a><span data-ttu-id="48ae9-146">Создание журнала запасов и отправка его на утверждение</span><span class="sxs-lookup"><span data-stu-id="48ae9-146">Create an inventory journal and send it for approval</span></span>

<span data-ttu-id="48ae9-147">После того как имя журнала запасов будет связано с рабочим процессом утверждения журнала запасов, вы сможете создавать новые журналы запасов, использующие это имя, а затем отправлять эти журналы на утверждение с помощью этого рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="48ae9-147">After you associate an inventory journal name with its matching inventory journal approval workflow, you'll be able to create new inventory journals that use that name and then send these journals for approval using that workflow.</span></span> <span data-ttu-id="48ae9-148">Вы не сможете выполнить разноску журнала запасов до тех пор, пока он не будет утвержден утверждающими лицами, настроенными в рабочем процессе.</span><span class="sxs-lookup"><span data-stu-id="48ae9-148">You won't be able post the inventory journal until it has been approved by the approvers configured in the workflow.</span></span>

1. <span data-ttu-id="48ae9-149">В области перехода разверните **Управление запасами \> Записи журнала \> Номенклатуры**, а затем выберите тип журнала запасов.</span><span class="sxs-lookup"><span data-stu-id="48ae9-149">On the navigation pane, expand **Inventory management \> Journal entries \> Items** and then select an inventory journal type.</span></span>
1. <span data-ttu-id="48ae9-150">Выберите **Создать**, чтобы создать новый журнал выбранного типа.</span><span class="sxs-lookup"><span data-stu-id="48ae9-150">Select **New** to create a new journal of your selected type.</span></span>
1. <span data-ttu-id="48ae9-151">Откроется диалоговое окно **Создание журнала запасов**.</span><span class="sxs-lookup"><span data-stu-id="48ae9-151">The **Create inventory journal** dialog box opens.</span></span> <span data-ttu-id="48ae9-152">Заполните форму, если это необходимо, а затем нажмите **ОК**, чтобы сохранить журнал.</span><span class="sxs-lookup"><span data-stu-id="48ae9-152">Fill out the form as needed and then select **OK** to save the journal.</span></span>
1. <span data-ttu-id="48ae9-153">Заполните журнал по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="48ae9-153">Complete the journal as required.</span></span>
1. <span data-ttu-id="48ae9-154">При создании или открытии журнала запасов, связанного с рабочим процессом утверждения, кнопка **Рабочий процесс** будет активна на панели операций.</span><span class="sxs-lookup"><span data-stu-id="48ae9-154">When you create or open an inventory journal with an approval workflow associated with it, the **Workflow** button will be active in the Action Pane.</span></span> <span data-ttu-id="48ae9-155">Когда вы готовы отправить журнал на утверждение, нажмите кнопку **Рабочий процесс**, чтобы открыть раскрывающееся диалоговое окно, а затем выберите **Отправить**.</span><span class="sxs-lookup"><span data-stu-id="48ae9-155">When you are ready to submit the journal for approval, select the **Workflow** button to open a drop-down dialog box and then select **Submit**.</span></span> <span data-ttu-id="48ae9-156">Затем запрос на утверждение перейдет к соответствующему утверждающему лицу, которое будет получать оповещения, используя метод уведомления, настроенный для рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="48ae9-156">The approval request will then route to the relevant approver, who will be alerted using the notification method configured for the workflow.</span></span>

    <span data-ttu-id="48ae9-157">![Отправка журнала на утверждение](media/journal-workflow-inventory-journal.png "Отправка журнала на утверждение")</span><span class="sxs-lookup"><span data-stu-id="48ae9-157">![Submit a journal for approval](media/journal-workflow-inventory-journal.png "Submit a journal for approval")</span></span>

<span data-ttu-id="48ae9-158">Чтобы отозвать запрос на утверждение, откройте соответствующий журнал, нажмите кнопку **Рабочий процесс**, а затем выберите **Отозвать**.</span><span class="sxs-lookup"><span data-stu-id="48ae9-158">To recall an approval request, open the relevant journal, select the **Workflow** button and then select **Recall**.</span></span> <span data-ttu-id="48ae9-159">Это приведет к сбросу рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="48ae9-159">This will reset the workflow.</span></span>

<span data-ttu-id="48ae9-160">Когда журнал утвержден, вы сможете разнести его.</span><span class="sxs-lookup"><span data-stu-id="48ae9-160">When your journal has been approved, you'll be able to post it.</span></span> <span data-ttu-id="48ae9-161">Чтобы разнести журнал, выберите **Разноска** в области действий.</span><span class="sxs-lookup"><span data-stu-id="48ae9-161">To post the journal, select **Post** from the Action Pane.</span></span> <span data-ttu-id="48ae9-162">Если кнопка **Разноска** неактивна, журнал еще не был утвержден.</span><span class="sxs-lookup"><span data-stu-id="48ae9-162">If the **Post** button isn't active the journal hasn't been approved yet.</span></span>

## <a name="respond-to-an-inventory-journal-approval-request"></a><span data-ttu-id="48ae9-163">Ответ на запрос утверждения журнала запасов</span><span class="sxs-lookup"><span data-stu-id="48ae9-163">Respond to an inventory journal approval request</span></span>

<span data-ttu-id="48ae9-164">Если вы являетесь утверждающим лицом, вам должны получать сообщение каждый раз при необходимости утверждения (в соответствии с настройкой соответствующего рабочего процесса).</span><span class="sxs-lookup"><span data-stu-id="48ae9-164">If you are an approver, you should receive a message each time your approval is needed (as configured in the relevant workflow).</span></span> <span data-ttu-id="48ae9-165">Затем можно утвердить или отклонить запрос на утверждение журнала, выполнив следующие действия:</span><span class="sxs-lookup"><span data-stu-id="48ae9-165">Then you can approve or reject a journal approval request by doing the following:</span></span>

1. <span data-ttu-id="48ae9-166">В области перехода разверните **Управление запасами \> Записи журнала \> Номенклатуры**, а затем выберите тип журнала запасов.</span><span class="sxs-lookup"><span data-stu-id="48ae9-166">On the navigation pane, expand **Inventory management \> Journal entries \> Items** and then select an inventory journal type.</span></span>
1. <span data-ttu-id="48ae9-167">Откройте соответствующий журнал и проверьте его.</span><span class="sxs-lookup"><span data-stu-id="48ae9-167">Open the relevant journal and review it.</span></span>
1. <span data-ttu-id="48ae9-168">Нажмите кнопку **Рабочий процесс** на панели действий, чтобы открыть раскрывающееся диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="48ae9-168">Select the **Workflow** button on the Action Pane to open a drop-down dialog box.</span></span> <span data-ttu-id="48ae9-169">Выберите один из следующих вариантов:</span><span class="sxs-lookup"><span data-stu-id="48ae9-169">Select one of the following:</span></span>
    - <span data-ttu-id="48ae9-170">**Утвердить** — утверждение запроса.</span><span class="sxs-lookup"><span data-stu-id="48ae9-170">**Approve** - To approve the request.</span></span>
    - <span data-ttu-id="48ae9-171">**Отклонить** — отклонить запрос.</span><span class="sxs-lookup"><span data-stu-id="48ae9-171">**Reject** - To reject the reject the request.</span></span>
    - <span data-ttu-id="48ae9-172">**Еще \> Изменение запроса** — для отправки сообщения инициатору запроса с предложением изменить какие-либо сведения, а затем отправить повторно.</span><span class="sxs-lookup"><span data-stu-id="48ae9-172">**More \> Request change** - To send a message to the requester asking them to change something specific and then resubmit.</span></span>
    - <span data-ttu-id="48ae9-173">**Еще \> Делегировать** — делегировать утверждение другому пользователю.</span><span class="sxs-lookup"><span data-stu-id="48ae9-173">**More \> Delegate** - To delegate the approval to another user.</span></span>
    - <span data-ttu-id="48ae9-174">**Еще \> Отзыв** — для отзыва запроса на утверждение (сброс рабочего процесса).</span><span class="sxs-lookup"><span data-stu-id="48ae9-174">**More \> Recall** - To recall the approval request (resets the workflow).</span></span>
    - <span data-ttu-id="48ae9-175">**Еще \> История workflow-процесса** — просмотреть историю данного рабочего процесса утверждения на данный момент времени.</span><span class="sxs-lookup"><span data-stu-id="48ae9-175">**More \> Workflow history** - To view the history of this approval workflow so far.</span></span>

## <a name="review-the-approval-history"></a><span data-ttu-id="48ae9-176">Просмотр истории утверждений</span><span class="sxs-lookup"><span data-stu-id="48ae9-176">Review the approval history</span></span>

<span data-ttu-id="48ae9-177">Как и в случае других типов рабочих процессов, можно использовать страницу **История workflow-процесса** для просмотра истории рабочих процессов утверждения для любого журнала.</span><span class="sxs-lookup"><span data-stu-id="48ae9-177">As with other types of workflows, you can use the **Workflow history** page to view the approval workflow history for any journal.</span></span>

<span data-ttu-id="48ae9-178">Чтобы просмотреть историю рабочих процессов для журнала:</span><span class="sxs-lookup"><span data-stu-id="48ae9-178">To review the workflow history for a journal:</span></span>

1. <span data-ttu-id="48ae9-179">В области перехода разверните **Управление запасами \> Записи журнала \> Номенклатуры**, а затем выберите тип журнала запасов.</span><span class="sxs-lookup"><span data-stu-id="48ae9-179">On the navigation pane, expand **Inventory management \> Journal entries \> Items** and then select an inventory journal type.</span></span>
1. <span data-ttu-id="48ae9-180">Откройте соответствующий журнал.</span><span class="sxs-lookup"><span data-stu-id="48ae9-180">Open the relevant journal.</span></span>
1. <span data-ttu-id="48ae9-181">Нажмите кнопку **Рабочий процесс** на панели действий, чтобы открыть раскрывающееся диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="48ae9-181">Select the **Workflow** button on the Action Pane to open a drop-down dialog box.</span></span> <span data-ttu-id="48ae9-182">Выберите **История workflow-процесса**.</span><span class="sxs-lookup"><span data-stu-id="48ae9-182">Select **Workflow history**.</span></span> <span data-ttu-id="48ae9-183">Дополнительные сведения см. в разделе [Просмотр истории workflow-процесса](../../fin-ops-core/fin-ops/organization-administration/tasks/view-workflow-history.md).</span><span class="sxs-lookup"><span data-stu-id="48ae9-183">For more information, see [View workflow history](../../fin-ops-core/fin-ops/organization-administration/tasks/view-workflow-history.md).</span></span>
