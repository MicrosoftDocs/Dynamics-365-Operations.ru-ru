---
title: Сопоставления контроля качества
description: В этом разделе описывается, как можно использовать сопоставления контроля качества в Microsoft Dynamics 365 Supply Chain Management для автоматического создания заказов контроля качества, связанных с процессами продаж, покупки и производства.
author: rachel-profitt
ms.date: 03/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: InventTestAssociationTable
audience: Application User
ms.reviewer: kamaybac
ms.custom: 94003
ms.assetid: a1d9417b-268f-4334-8ab6-8499d6c3acf0
ms.search.region: Global
ms.search.industry: Distribution
ms.author: perlynne
ms.search.validFrom: 2020-06-18
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 6c6fab1b89b7e58d9e443c27da03a6b13afcc9c6
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/11/2021
ms.locfileid: "6022332"
---
# <a name="quality-associations"></a>Сопоставления контроля качества

[!include [banner](../includes/banner.md)]

В этом разделе описывается, как можно использовать сопоставления контроля качества в Microsoft Dynamics 365 Supply Chain Management для автоматического создания заказов контроля качества, связанных с процессами продаж, покупки и производства.

Ассоциация качества определяет всю следующую информацию для созданного заказа для контроля качества:

- Событие проводки
- Набор проверок, которые необходимо выполнить для номенклатур
- Допустимый уровень качества (AQL)
- План выборочного контроля

Необходимо определить сопоставление контроля качества для каждого изменения бизнес-процесса, требующего автоматического создания заказов для контроля качества. Например, заказ для контроля качества может создаваться в бизнес-процессах для заказов на покупку, карантинных заказов, заказов на продажу и производственных заказов.

## <a name="working-with-quality-associations"></a>Работа с сопоставлениями контроля качества

Бизнес-процесс, использующий сопоставления, может быть связан с различными исходными документами, такими как заказы на покупку, заказы на продажу и производственные заказы.

Каждая запись сопоставления качества определяет также набор тестов, AQL и план выборочного контроля, применимые для создаваемых автоматически качественных заказов. Необходимо определить запись сопоставления контроля качества для каждого изменения бизнес-процесса, требующего автоматического создания заказа контроля качества. Например, можно создать сопоставление, которое формирует заказ контроля качества для заказов на продажу, когда обновляется поступление продуктов по заказу на покупку. В зависимости от настройки плана выполнения сам процесс запуска может быть заблокирован при наличии открытого заказа контроля качества. Кроме того, могут быть заблокированы последующие процессы, такие как выставление накладных по заказу на покупку.

> [!NOTE]
> Пока имеются открытые заказы для контроля качества, количества запасов автоматически блокируются по выдаче. В зависимости от настройки поля **Полная блокировка** на странице **Выборка номенклатур**, количество равно количеству в заказе для контроля качества или количеству в строке исходного документа. Дополнительные сведения см. в разделе [Выборка номенклатур управления качеством](quality-item-sampling.md).

Сопоставление по контролю качестве указывает событие и условия, при которых формируется заказ на контроль качества для определенного бизнес-процесса. Условия могут быть заданы для определенного места или юридического лица. Заказ по контролю качества, в котором используются разрушающие испытания, может формироваться, только если для данного события имеется складской запас.

Для работы с сопоставлениями контроля качества выберите **Управление запасами \> Настройка \> Контроль качества \> Сопоставления контроля качества**. Следующие примеры показывают определение записи сопоставления качества для отклонений в бизнес-процессах. Примеры обобщаются также в следующей таблице в плане событий и условий, определенных записью сопоставления качества.

<table>
<thead>
<tr>
<th>Тип ссылки</th>
<th>Тип события</th>
<th>Выполнение</th>
<th>Блокировка событий</th>
<th>Ссылка на документ</th>
</tr>
</thead>
<tbody>
<tr>
<td>Запасы</td>
<td>Неприменимо</td>
<td>Неприменимо</td>
<td>Нет</td>
<td>Все</td>
</tr>
<tr>
<td rowspan="7">Прод.</td>
<td rowspan="4">Процесс комплектации запланирован</td>
<td rowspan="4">До</td>
<td>Нет</td>
<td rowspan="22">Только определенный код, группа или все</td>
</tr>
<tr>
<td>Процесс комплектации</td>
</tr>
<tr>
<td>Отборочная накладная</td>
</tr>
<tr>
<td>Счет</td>
</tr>
<tr>
<td rowspan="3">Отборочная накладная</td>
<td rowspan="3">До</td>
<td>Нет</td>
</tr>
<tr>
<td>Отборочная накладная</td>
</tr>
<tr>
<td>Счет</td>
</tr>
<tr>
<td rowspan="15">Покупка</td>
<td rowspan="7">Список поступлений</td>
<td rowspan="4">До</td>
<td>Нет</td>
</tr>
<tr>
<td>Список поступлений</td>
</tr>
<tr>
<td>Поступление продуктов</td>
</tr>
<tr>
<td>Счет</td>
</tr>
<tr>
<td rowspan="3">После</td>
<td>Нет</td>
</tr>
<tr>
<td>Поступление продуктов</td>
</tr>
<tr>
<td>Счет</td>
</tr>
<tr>
<td rowspan="3">Регистрация</td>
<td rowspan="3">Неприменимо</td>
<td>Нет</td>
</tr>
<tr>
<td>Поступление продуктов</td>
</tr>
<tr>
<td>Счет</td>
</tr>
<tr>
<td rowspan="5">Поступление продуктов</td>
<td rowspan="3">До</td>
<td>Нет</td>
</tr>
<tr>
<td>Поступление продуктов</td>
</tr>
<tr>
<td>Счет</td>
</tr>
<tr>
<td rowspan="2">После</td>
<td>Нет</td>
</tr>
<tr>
<td>Счет</td>
</tr>
<tr>
<td rowspan="8">Производство</td>
<td rowspan="3">Регистрация</td>
<td rowspan="3">Неприменимо</td>
<td>Нет</td>
<td rowspan="12">Все</td>
</tr>
<tr>
<td>Приемка</td>
</tr>
<tr>
<td>Конец</td>
</tr>
<tr>
<td rowspan="5">Приемка</td>
<td rowspan="3">До</td>
<td>Нет</td>
</tr>
<tr>
<td>Приемка</td>
</tr>
<tr>
<td>Конец</td>
</tr>
<tr>
<td rowspan="2">После</td>
<td>Нет</td>
</tr>
<tr>
<td>Конец</td>
</tr>
<tr>
<td rowspan="4">Карантин</td>
<td rowspan="3">Приемка</td>
<td rowspan="2">До</td>
<td>Приемка</td>
</tr>
<tr>
<td>Конец</td>
</tr>
<tr>
<td>После</td>
<td>Конец</td>
</tr>
<tr>
<td>Конец</td>
<td>До</td>
<td>Конец</td>
</tr>
<tr>
<td rowspan="3">Операция маршрута</td>
<td rowspan="3">Приемка</td>
<td rowspan="2">До</td>
<td>Не допускается</td>
<td rowspan="3">Определенный код, группа или все конкретный ресурс, группа или все</td>
</tr>
<tr>
<td>Приемка</td>
</tr>
<tr>
<td>После</td>
<td>Не допускается</td>
</tr>
<tr>
<td rowspan="3">Производство сопутствующих продуктов</td>
<td>Регистрация</td>
<td>Неприменимо</td>
<td rowspan="3">Не допускается</td>
<td rowspan="3">Все</td>
</tr>
<tr>
<td rowspan="2">Приемка</td>
<td>До</td>
</tr>
<tr>
<td>После</td>
</tr>
</tbody>
</table>

> [!NOTE]
> Функция *Управление качеством для складских процессов* добавляет возможности для обработки заказов для контроля качества для производства, когда для поля **Тип события** задано значение *Приемка*, а для поля **Выполнение** задано значение *После*, и для покупок, для которых **Тип события** имеет значение *Регистрация*. Подробнее см. в разделе [Управление качеством для складских процессов](quality-management-for-warehouses-processes.md).

В таблице ниже приведены дополнительные сведения о том, как формируются заказы для определенных типов процессов.

<div class="tableSection">
<table>
<thead>
<tr>
<th>Тип процесса</th>
<th>Когда можно автоматически формировать заказы по контролю качества</th>
<th>Когда можно формировать заказа, если применяются разрушающие испытания</th>
<th>Описание условия</th>
<th>Сведения о ручном формировании</th>
</tr>
</thead>
<tbody>
<tr>
<td>Заказ на покупку</td>
<td>До или после разноски поступления продуктов получаемого материала</td>
<td>После разноски отборочной накладной на полученные материалы, поскольку материалы должны быть доступны для проведения испытаний с разрушением.</td>
<td>Потребность в заказе на контроль может отражать конкретный сайт, номенклатуру или поставщика, либо сочетание этих условий.</td>
<td>Созданный вручную качественный заказ, относящийся к заказу на продажу, может использовать информацию из записи сопоставления качества, например план выборочного контроля, для расчета тестируемого количества, которое зависит от объема заказа.</td>
</tr>
<tr>
<td>Карантинный заказ</td>
<td>До или после завершения карантинного заказа</td>
<td>Нельзя формировать заказы с разрушительными испытаниями. Предполагается, что функции карантинного заказа учитывают разрушаемые материалы.</td>
<td>Потребность в заказе на контроль может отражать конкретный сайт, номенклатуру или поставщика, либо сочетание этих условий.</td>
<td>Созданный вручную качественный заказ, относящийся к карантинному заказу, может использовать информацию из записи сопоставления качества, например план выборочного контроля, для расчета тестируемого количества, которое зависит от объема заказа.</td>
</tr>
<tr>
<td>Заказ на продажу</td>
<td>Перед обновлением запланированного процесса комплектации или отборочной накладной для отгружаемых номенклатур</td>
<td>В любом шаге</td>
<td>Потребность в заказе на контроль может отражать конкретный объект, номенклатуру или заказчика, либо сочетание этих условий.</td>
<td>Созданный вручную качественный заказ, относящийся к заказу на продажу, может использовать информацию из записи сопоставления качества, например план выборочного контроля, для расчета тестируемого количества, которое зависит от объема заказа.</td>
</tr>
<tr>
<td>Производственный заказ</td>
<td>До или после регистрации завершенного количества для производственного заказа</td>
<td>После регистрации завершенного количества для производственного заказа</td>
<td>Потребность в заказе на контроль может отражать конкретный сайт, номенклатуру или сочетание этих условий.</td>
<td>Созданный вручную качественный заказ, относящийся к производственному заказу может использовать информацию из записи сопоставления качества, например план выборочного контроля, для расчета тестируемого количества, которое зависит от объема заказа.</td>
</tr>
<tr>
<td>Производственный заказ с операцией маршрута</td>
<td>До или после завершения отчета по операции</td>
<td>После регистрации завершения производства по последней операции</td>
<td>Потребность в заказе на контроль может отражать конкретный объект, ресурс операции, либо сочетание этих условий.</td>
<td>Созданный вручную заказ для контроля качества, относящийся к операции маршрута, может использовать информацию из записи сопоставления качества, например план выборочного контроля, для расчета тестируемого количества, которое зависит от объема заказа.</td>
</tr>
<tr>
<td>Запасы</td>
<td>Заказ для контроля качества не может быть создан автоматически для проводки в журнале запасов (например, журнал прибылей и убытков или журнал инвентаризации) или для проводок заказов на перемещение.</td>
<td></td>
<td></td>
<td>Невозможно создать заказ контроля качества для складского количества номенклатуры. Требуются физические запасы в наличии.</td>
</tr>
</tbody>
</table>
</div>

## <a name="examples-of-automatic-generation-of-quality-orders"></a>Примеры автоматического создания заказов для контроля качества

### <a name="purchasing"></a>Закупки

В случае покупки, если для поля **тип события** выбрано *Поступление продуктов* а для поля **Выполнение** выбрано *После* на странице **Сопоставления контроля качества** , будут получены следующие результаты:

- Если для параметра **На обновленное количество** указано значение *Да*, заказ контроля качества создается для каждого поступления по заказу на покупку на основе полученного количества и параметров для выборки номенклатур. При каждом получении количества по заказу на покупку создаются новые заказы контроля качества на основе вновь полученного количества.
- Если для параметра **На обновленное количество** указано значение *Нет*, заказ для контроля качества создается для первого поступления по заказу на покупку на основе полученного количества. Кроме того, один или несколько заказов для контроля качества создаются на основе оставшегося количества, в зависимости от аналитик отслеживания. Заказы для контроля качества не создаются для последующих поступлений по заказу на покупку.

### <a name="production"></a>Рабочий

В случае производства, если для поля **тип события** выбрано *Приемка* а для поля **Выполнение** выбрано *После* на странице **Сопоставления контроля качества** , будут получены следующие результаты:

- Если для параметра **На обновленное количество** указано значение *Да*, заказ для контроля качества создается на основе каждого законченного количества и параметров для выборки номенклатур. При каждом принятом количестве в отношении производственный заказа создаются новые заказы для контроля качества на основе нового законченного количества. Эта логика создания согласуется с покупкой.
- Если для параметра **На обновленное количество** указано значение *Нет*, заказ для контроля качества создается при первом сообщении о том, что количество принято, на основе законченного количества. Кроме того, один или несколько заказов для контроля качества создаются на основе оставшегося количества, в зависимости от аналитик отслеживания выборки номенклатур. Заказы для контроля качества не создаются для последующих законченных количеств.

<table>
<thead>
<tr>
<th>Спецификация качества</th>
<th>На обновленное количество</th>
<th>На аналитику отслеживания</th>
<th>Результат</th>
</tr>
</thead>
<tbody>
<tr>
<td>Процент: 10%</td>
<td>Да</td>
<td>
<p>Номер партии: Нет</p>
<p>Серийный номер: Нет</p>
</td>
<td>
<p>Количество в заказе: 100</p>
<ol>
<li>Приемка для 30
<ul>
<li>Заказ для контроля качества 1 для 3 (10% от 30)</li>
</ul>
</li>
<li>Приемка для 70
<ul>
<li>Заказ для контроля качества 2 для 7 (10% от оставшегося количества заказа, что соответствует 70 в этом случае)</li>
</ul>
</li>
</ol>
</td>
</tr>
<tr>
<td>Фиксированное количество: 1</td>
<td>Нет</td>
<td>
<p>Номер партии: Нет</p>
<p>Серийный номер: Нет</p>
</td>
<td>Количество в заказе: 100
<ol>
<li>Приемка для 30
<ul>
<li>Заказ для контроля качества 1 для 1 (для первого принятого количества, которое имеет фиксированное значение 1)</li>
<li>Заказ для контроля качества 2 для 1 (для оставшегося количества, которое все еще имеет фиксированное значение 1)</li>
</ul>
</li>
<li>Приемка для 10
<ul>
<li>Заказы для контроля качества не создаются.</li>
</ul>
</li>
<li>Приемка для 60
<ul>
<li>Заказы для контроля качества не создаются.</li>
</ul>
</li>
</ol>
</td>
</tr>
<tr>
<td>Фиксированное количество: 1</td>
<td>Да</td>
<td>
<p>Номер партии: Да</p>
<p>Серийный номер: Да</p>
</td>
<td>
<p>Количество в заказе: 10</p>
<ol>
<li>Приемка для 3: 1 для номера партии b1, серийный номер s1; 1 для номера партии b2, серийный номер s2; и 1 для номера партии b3, серийный номер s3
<ul>
<li>Заказ для контроля качества 1 для 1 партии номер b1, серийный номер s1</li>
<li>Заказ для контроля качества 2 для 1 партии номер b2, серийный номер s2</li>
<li>Заказ для контроля качества 3 для 1 партии номер b3, серийный номер s3</li>
</ul>
</li>
<li>Приемка для 2: 1 для номера партии b4, серийного номера s4; и 1 для номера партии b5, серийный номер s5
<ul>
<li>Заказ для контроля качества 4 для 1 партии номер b4, серийный номер s4</li>
<li>Заказ для контроля качества 5 для 1 партии номер b5, серийный номер s5</li>
</ul>
</li>
</ol>
<p><strong>Примечание:</strong> партия может быть использована повторно.</p>
</td>
</tr>
<tr>
<td>Фиксированное количество: 2</td>
<td>Нет</td>
<td>
<p>Номер партии: Да</p>
<p>Серийный номер: Да</p>
</td>
<td>
<p>Количество в заказе: 10</p>
<ol>
<li>Приемка для 4: 1 для номера партии b1, серийный номер s1; 1 для номера партии b2, серийный номер s2; и 1 для номера партии b3, серийный номер s3; и 1 для номера партии b4, серийный номер s4
<ul>
<li>Заказ для контроля качества 1 для 1 партии номер b1, серийный номер s1</li>
<li>Заказ для контроля качества 2 для 1 партии номер b2, серийный номер s2</li>
<li>Заказ для контроля качества 3 для 1 партии номер b3, серийный номер s3</li>
<li>Заказ для контроля качества 4 для 1 партии номер b4, серийный номер s4</li>
</ul>
<ul>
<li>Заказ для контроля качества 5 для 2, без ссылки на номер партии и серийный номер</li>
</ul>
</li>
<li>Приемка для 6: 1 для номера партии b5, серийный номер s5; 1 для номера партии b6, серийный номер s6; 1 для номера партии b7, серийного номера s7; 1 для номера партии b8, серийный номер s8; 1 для номера партии b9, серийного номера s9; и 1 для номера партии b10, серийный номер s10
<ul>
<li>Заказы для контроля качества не создаются.</li>
</ul>
</li>
</ol>
</td>
</tr>
</tbody>
</table>

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Процессы управления качеством](quality-management-processes.md)
- [Включение управления качеством и несоответствием](enable-quality-management.md)
- [Управление качеством для складских процессов](quality-management-for-warehouses-processes.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
