---
title: Приложение видимости запасов
description: В этой статье описывается, как использовать приложение видимости запасов.
author: yufeihuang
ms.date: 05/27/2022
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: yufeihuang
ms.search.validFrom: 2021-08-02
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: a360b8beaad2bf6916c22765131e37f90e40282b
ms.sourcegitcommit: f2175fe5e900d39f34167d671aab5074b09cc1b8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2022
ms.locfileid: "9306184"
---
# <a name="use-the-inventory-visibility-app"></a>Использование приложения Inventory Visibility

[!include [banner](../includes/banner.md)]


В этой статье описывается, как использовать приложение видимости запасов.

Видимость запасов — приложение на основе модели для визуализации. Приложение содержит три страницы: **Конфигурация**, **Операционная видимость** и **Сводка по запасам**. Оно имеет следующие функции:

- Оно предоставляет интерфейс пользователя (UI) для настройки конфигурации "в наличии" и конфигурации предварительного резервирования.
- Оно поддерживает запросы запасов в наличии в реальном времени в различных комбинациях аналитик.
- Оно предоставляет пользовательский интерфейс для разноски запросов резервирования.
- Оно предоставляет настраиваемое представление запасов в наличии для продуктов вместе со всеми аналитиками.

## <a name="prerequisites"></a>Необходимые условия

Перед началом установки установите и настройте надстройку "Видимость запасов", как описано в разделе [Установка и настройка видимости запасов](inventory-visibility-setup.md).

## <a name="open-the-inventory-visibility-app"></a>Откройте приложение Видимость запасов

Чтобы открыть приложение "Видимость запасов", выполните вход в среду Power Apps и откройте **Видимость запасов**.

## <a name="configuration"></a><a name="configuration"></a>Конфигурация

Страница **Конфигурация** приложения Видимость запасов позволяет настроить конфигурацию запасов в наличии и конфигурацию предварительного резервирования. После установки надстройки конфигурация по умолчанию включает настройки по умолчанию для Microsoft Dynamics 365 Supply Chain Management (источник данных `fno`). Можно просмотреть настройку по умолчанию. Таким образом, в зависимости от бизнес-требований и требований разноски запасов для внешней системы, можно изменить конфигурацию, чтобы стандартизировать способ разноски, упорядочения и запроса изменений запасов в нескольких системах.

Полные сведения о настройке решения см. в разделе [Настройка Видимости запасов](inventory-visibility-configuration.md).

## <a name="operational-visibility"></a>Операционная видимость

Страница **Операционная видимость** содержит результаты запроса запасов в наличии в реальном времени на основе различных комбинаций аналитик. Если включена функция *OnHandReservation*, можно также разнести запросы на резервирование со страницы **Операционная видимость**.

### <a name="on-hand-query"></a>Запрос в наличии

На вкладке **Запрос в наличии** отображаются результаты запроса запасов в наличии в реальном времени.

Когда выбрана вкладка **Запрос в наличии**, система запрашивает учетные данные, чтобы она могла получить токен носителя, который требуется для запроса к службе видимости запасов. Можно просто вставить токен носителя в поле **BearerToken** и закрыть диалоговое окно. Затем можно выполнить разноску запроса запасов в наличии.

Если токен носителя недействителен или истек, необходимо вставить новый в поле **BearerToken**. Введите правильные значения **Идентификатор клиента**, **Код арендатора**, **Секрет клиента**, а затем выберите **Обновить**. Система автоматически получит новый, действительный токен носителя.

Для разноски запроса в наличии введите запрос в тексте запроса. Воспользуйтесь шаблоном, указанным в [Запрос с помощью метода разноски](inventory-visibility-api.md#query-with-post-method).

![Настройки запросов в наличии](media/inventory-visibility-query-settings.png "Настройки запросов в наличии")

### <a name="reservation-posting"></a>Разноска резервирования

Вкладка **Разноска резервирования** используется для разноски запроса на резервирование. Прежде чем можно будет разнести запрос на резервирование, необходимо включить функцию *OnHandReservation*. Дополнительные сведения об этой функции см. в разделе [Резервирования видимости запасов](inventory-visibility-reservations.md).

Для разноски запроса на резервирование необходимо ввести значение в тексте запроса. Воспользуйтесь шаблоном, описанным в разделе [Создание одного события резервирования](inventory-visibility-api.md#create-one-reservation-event). Затем выберите **Разнести**. Чтобы просмотреть сведения об ответе на запрос, выберите **Показать сведения**. Можно также получить значение `reservationId` из сведений ответа.

## <a name="inventory-summary"></a><a name="inventory-summary"></a>Сводка запасов

Страница **Сводка запасов** предоставляет сводку запасов для продуктов вместе со всеми аналитиками. Это настраиваемое представление сущности *Сумма запасов в наличии*. Итоговые данные по запасам периодически синхронизируются из видимости запасов.

### <a name="enable-the-inventory-summary-and-set-the-synchronization-frequency"></a>Включение сводки запасов и задание частоты синхронизации

Чтобы включить страницу **Сводка запасов** и задать частоту синхронизации, выполните следующие шаги:

1. Откройте страницу **Конфигурация**.
1. Откройте вкладку **Управления функциями и параметры**.
1. Установите выключатель для функции **OnHandMostSpecificBackgroundService** в положение *Да*.
1. Когда функция включена, раздел **Конфигурация службы** становится доступным и включает строку для настройки функции **OnHandMostSpecificBackgroundService**. Этот параметр позволяет выбрать частоту синхронизации сводных данных запасов. Воспользуйтесь кнопками **Вверх** и **Вниз** в столбце **Значение**, чтобы изменить время между синхронизациями (может быть не менее 5 минут). Затем выберите **Сохранить**.
1. Выберите **Обновить конфигурацию**, чтобы сохранить все изменения.

![Настройка OnHandMostSpecificBackgroundService](media/inventory-visibility-ohms-freq.PNG "Настройка OnHandMostSpecificBackgroundService")

> [!NOTE]
> Функция *OnHandMostSpecificBackgroundService* отслеживает только те изменения продуктов в наличии, которые произошли после включения этой функции. Данные для продуктов, которые не были изменены с момента включения функции, не будут синхронизированы из кэша складской службы в среду Dataverse. Если страница **Сводка запасов** не показывает все ожидаемые сведения о наличии, перейдите в пункт **Управление запасами > Периодические задачи > Интеграция Видимости запасов**, отключите пакетное задание и включите его снова. Это приведет к первоначальной отправке, и все данные будут синхронизированы с сущностью *Сумма запасов в наличии* в течение следующих 15 минут. Если вы хотите использовать эту функцию, рекомендуется включить ее перед созданием каких-либо изменений запасов в наличии и включить пакетное задание **Видимость запасов**.

### <a name="work-with-the-inventory-summary"></a>Работа со сводкой по запасам

Используя **Расширенный фильтр** в Dataverse, можно создать личное представление, в котором будут отображаться важные для вас строки. С помощью расширенных параметров фильтра можно создавать разнообразные представления, из простых до сложных. Они также позволяют добавлять сгруппированные и вложенные условия для фильтров. Дополнительные сведения об использовании **расширенного фильтра** см. в разделе [Редактирование или создание персональных представлений с помощью расширенных фильтров сетки](/powerapps/user/grid-filters-advanced).

В верхней части настроенного представления представлены три поля: **Аналитика по умолчанию**, **Пользовательская аналитика** и **Мера**. Эти поля можно использовать для управления, какие столбцы видимы.

Можно выбрать заголовок столбца для фильтрации или сортировки текущего результата.

В нижней части пользовательского представления отображаются такие сведения, как "50 записей (29 выбрано)" или "50 записей". Эти сведения относятся к загруженным в данный момент записям из результатов **расширенного фильтра**. Текст "29 выбрано" означает число записей, выбранных с помощью фильтра заголовка столбца для загруженных записей.

В нижней части представления находится кнопка **Загрузить еще**, которую можно использовать для загрузки дополнительных записей из Dataverse. Число загруженных записей по умолчанию — 50. При выборе **Загрузить еще** в представление загружаются следующие 1000 доступных записей. Число на кнопке **Загрузить еще** означает загруженные в данный момент записи и общее число записей для результатов **расширенного фильтра**.

![Сводка запасов](media/inventory-visibility-onhand-list.png "Сводка запасов")
