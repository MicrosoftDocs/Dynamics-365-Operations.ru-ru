---
title: Поддержка Inventory Visibility для номенклатур WHS
description: В это теме описывается поддержка Inventory Visibility для номенклатур, включенных в расширенные складские процессы (номенклатур WHS).
author: yufeihuang
ms.date: 03/10/2022
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: yufeihuang
ms.search.validFrom: 2022-03-10
ms.dyn365.ops.version: 10.0.26
ms.openlocfilehash: cfbff05697f4159cb74d110887b8029f28fbf96b
ms.sourcegitcommit: 1050e58e621d9a0454895ed07c286936f8c03320
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2022
ms.locfileid: "8625412"
---
# <a name="inventory-visibility-support-for-whs-items"></a>Поддержка Inventory Visibility для номенклатур WHS

[!include [banner](../includes/banner.md)]

В это теме описывается поддержка Inventory Visibility для номенклатур, включенных в расширенные складские процессы (номенклатур WHS). Функция, добавляющая эту возможность в Inventory Visibility, называется *Расширенный WHS*.

## <a name="whs-items"></a>Номенклатуры WHS

Номенклатура WHS — это номенклатура, включенная в расширенные складские процессы (WHS) и обрабатываемая на складе, на котором также включены WHS.

Дополнительные сведения о WHS и модуле **Warehouse Management** в Microsoft Dynamics 365 Supply Chain Management см. в разделе [Обзор управления складом](../warehousing/warehouse-management-overview.md).

## <a name="scope-of-the-feature"></a>Область действия функции

Функция расширенного WHS для Inventory Visibility сосредоточена на расчетах количества в наличии, которые основаны на запросах запасов в наличии. Эта функция не предназначена для использования Inventory Visibility для управления действиями по складской обработке в целом. Inventory Visibility не предоставляет понятия, связанные с складом, для своих пользователей. Ниже приведены несколько примеров таких понятий:

- Иерархия резервирования
- Включены ли WHS для номенклатуры или склада
- Код группы упорядочения единиц
- Процессы, связанные с складом, такие как отгрузки, загрузки, волны и трудозатраты

Inventory Visibility выводит эту информацию на основе данных, отправленных из Supply Chain Management. Данные, связанные с WHS (другими словами, данные из таблицы `WHSInventReserve`), не видны пользователям.

При использовании усовершенствованной функции WHS для Inventory Visibility все результаты запросов будут идентичны результатам запросов, выполненных непосредственно в Supply Chain Management. Однако они не будут совпадать с результатами запросов, выполненных с помощью мобильного приложения Warehouse Management, так как мобильное приложение использует немного другую логику вычислений.

## <a name="when-to-use-the-feature"></a>Когда использовать эту функцию

Рекомендуется использовать усовершенствованную функцию WHS для Inventory Visibility в случаях, когда выполняются все следующие условия:

- Вы синхронизируете данные Supply Chain Management с Inventory Visibility.
- Вы используете WHS в Supply Chain Management.
- Пользователи делают резервирования для номенклатур WHS на уровнях, отличных от уровня склада (например, поскольку используются складские работы).

В других сценариях результаты запросов запасов в наличии будут одинаковы, независимо от того, активирована ли расширенная функция WHS для Inventory Visibility. Кроме того, производительность будет выше, если эта функция не включена в этих сценариях, так как в этом случае уменьшается количество вычислений и накладные расходы будут меньше.

## <a name="enable-the-advanced-whs-feature-for-inventory-visibility"></a>Включение расширенной функции WHS для Inventory Visibility

Чтобы включить расширенную функцию WHS для Inventory Visibility, выполните следующие действия.

1. Войдите в Supply Chain Management в качестве администратора.
1. Откройте рабочую область [Управление функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) и включите следующие функции в указанном порядке:

    1. *Интеграция Видимости запасов*
    1. *Включить складские номенклатуры в видимости запасов*

1. Перейдите в раздел **Управление запасами \> Настройка \> Параметры интеграции видимости запасов**.
1. На вкладке **Включить номенклатуры WHS** задайте для параметра **Включить номенклатуры WHS** значение *Да*.
1. Вход в Power Apps.
1. Откройте страницу **Конфигурация**, затем на вкладке **Управление функциями** включите функцию *AdvancedWHS*.
1. в Supply Chain Management перейдите в раздел **Управление запасами \> Периодические задачи \> Inventory Visibility**.
1. На панели действий выберите **Отключить** для временного отключения Inventory Visibility.
1. На панели действий выберите **Включить**, чтобы снова включить Inventory Visibility. Надстройка перезагружена, и новая функция теперь включена. Начинается синхронизация ваших данных, связанных с WHS, с Inventory Visibility.

## <a name="query-on-hand-quantities-of-whs-items"></a>Запрос количеств номенклатур WHS в наличии

Для запроса номенклатур WHS используется тот же [интерфейс прикладного программирования (API) и синтаксис сообщений](inventory-visibility-api.md), которые используются для номенклатур, отличных от WHS. Нет необходимости указывать, что номенклатура является номенклатурой WHS или не является номенклатурой WHS. Inventory Visibility автоматически различает номенклатуры на основе сохраненных данных.

Результаты запросов для номенклатур WHS в основном совпадают с результатами для номенклатур, не являющихся WHS. Единственная разница заключается в том, что следующие физические меры из источника данных `fno` рассчитываются на основе логики WHS в Supply Chain Management:

- `AvailOrdered`
- `AvailPhysical`
- `ReservOrdered`
- `ReservPhysical`

Все остальные физические меры рассчитываются точно так же, как при отключенной улучшенной функции WHS для Inventory Visibility.

Подробные сведения о том, как работают вычисления запасов в наличии для номенклатуры WHS, см. в техническом документе [Резервирование в Warehouse Management](https://www.microsoft.com/download/details.aspx?id=43284).

Сущности данных, которые экспортируются в Dataverse, пока не могут обновлять количества для номенклатур WHS. Количества, показанные в сущностях данных, являются правильными как для номенклатур, не являющихся номенклатурами WHS, так и для тех количеств, которые не затронуты логикой WHS (то есть мер, за исключением `AvailPhysical`, `AvailOrdered`, `ReservPhysical` и `ReservOrdered` в источнике данных `fno`).

Изменения количества номенклатуры WHS, которые хранятся в источнике данных Supply Chain Management, запрещены. Как и для других функций Inventory Visibility, это ограничение принудительно применяется для предотвращения конфликтов.

## <a name="soft-reservations-on-whs-items-in-inventory-visibility"></a>Предварительные резервирования по номенклатурам WHS в Inventory Visibility

В целом [предварительные резервирования](inventory-visibility-reservations.md) для номенклатур WHS поддерживаются. Можно включать физические меры, связанные с WHS, в расчетах предварительного резервирования. 

В известном ограничении расчеты *доступно для резервирования* в настоящее время не поддерживаются для номенклатур WHS. Таким образом, если имеется резервирование над текущими измерениями, в которых происходит предварительное резервирование, то расчет *доступно для резервирования* будет неверным. Предварительные резервирования не затрагиваются, если параметр **ifCheckAvailForReserv** отключен в [API-интерфейсе предварительного резервирования](inventory-visibility-api.md#create-one-reservation-event).

Это ограничение также применяется к функциям и настройкам, основанным на предварительных резервированиях (таких как распределение).

## <a name="calculate-available-to-promise-quantities"></a>Расчет доступных для заказа количеств

Решение полностью поддерживает функцию [доступно для резервирования (ATP)](inventory-visibility-available-to-promise.md) для номенклатур WHS. Можно определить расчеты ATP, не заботясь о подробностях, относящихся к WHS.
