---
title: Механизмы управления транспортировкой
description: Механизмы управления транспортировкой определяют логику, которая используется для создания и обработки ставок транспортировки в модуле "Управление транспортировкой".
author: MarkusFogelberg
manager: tfehr
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: TMSFreightBillType, TMSGenericEngine, TMSMileageEngine, TMSRateEngine, TMSTransitTimeEngine, TMSZoneEngine
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 12234
ms.assetid: b878478c-0e04-4a1e-a037-6fdbb345a9a3
ms.search.region: Global
ms.author: mafoge
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 0d4478f170e222a1e56596fbad7245832e300cdb
ms.sourcegitcommit: 4f9912439ff78acf0c754d5bff972c4b85763093
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/02/2020
ms.locfileid: "3201395"
---
# <a name="transportation-management-engines"></a>Механизмы управления транспортировкой

[!include [banner](../includes/banner.md)]

Механизмы управления транспортировкой определяют логику, которая используется для создания и обработки ставок транспортировки в модуле "Управление транспортировкой". 

Механизм управления транспортировкой рассчитывает задачи, такие как ставка транспортировки перевозчика. Система механизма позволяет изменить стратегии расчета во время выполнения на основе данных в Supply Chain Management. Механизм управления транспортировкой напоминает подключаемый модуль, который связан с отдельным контрактным лицом перевозчика.

## <a name="what-engines-are-available"></a>Какие механизмы доступны?
В следующей таблице приводятся доступные механизмы управления транспортировкой.

| Механизм управления транспортировкой | Описание                                                                                                                                                                                                                                                                                                                 |
|----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Механизм ставок**                  | Рассчитывает ставки.                                                                                                                                                                                                                                                                                                           |
| **Общий механизм**               | Простые вспомогательных механизмы, используемые другими механизмами, которым не требуются данные из Supply Chain Management, например механизм распределения. Механизмы распределения используются для снижения конечных затрат транспортировки по определенным заказам и строкам на основании аналитик, таких как объем и вес. |
| **Механизм расчета пробега**               | Рассчитывает расстояние транспортировки.                                                                                                                                                                                                                                                                                     |
| **Механизм расчета транзитного времени**          | Рассчитывает время, необходимое для перемещения из начальной точки в конечное место назначения.                                                                                                                                                                                                                                       |
| **Механизм зоны**                  | Рассчитывает зону на основе текущего адреса, а также количество зон, которые необходимо пересечь, чтобы попасть из точки А в точку B.                                                                                                                                                                    |
| **Тип векселя фрахта**            | Стандартизирует накладную фрахта и строки векселя фрахта и используется для автоматического сопоставления векселей фрахта.                                                                                                                                                                                                                |


<a name="what-engines-must-be-configured-to-rate-a-shipment"></a>Какие механизмы необходимо настроить для оценки отгрузки?
---------------------------------------------------

Чтобы оценить отгрузку, используя определенного перевозчика, необходимо настроить несколько механизмов управления транспортировкой. **Механизм ставок** является обязательным, однако могут потребоваться другие механизмы управления транспортировкой для поддержки **Механизм ставок**. Например, **Механизм ставок** можно использовать, чтобы извлечь данные из **Механизм расчета пробега** для расчета ставки на основе расстояния между источником и местом назначения.

## <a name="whats-required-to-initialize-a-transportation-management-engine"></a>Что необходимо для инициализации механизма управления транспортировкой?
Чтобы можно было использовать механизм управления транспортировкой, необходимо настроить данные инициализации для работы определенным образом. Настройка может включать следующие типы данных:
-   Ссылки с другие механизмы управления транспортировкой. Для получения дополнительных сведений см. пример конфигурации в этом разделе.
-   Ссылки для типы .NET, которые используются механизмом управления транспортировкой.
-   Простые данные конфигурации.

В большинстве случаев можно нажать кнопку **Параметры** в формах настройки механизма управления транспортировкой, чтобы настроить данные инициализации. **Пример настройки механизма ставок, ссылающегося на механизм расчета пробега** В следующем примере показана настройка, необходимая для механизма ставок, который основывается на типе механизма .NET Microsoft.Dynamics.Ax.Tms.Bll.MileageRateEngine и ссылается на механизм расчета пробега.

|          Параметр           |                                                                                  Описание                                                                                  |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  <em>RateBaseAssigner</em>   | Тип .NET, который интерпретирует данные назначения базы ставки для определенной схемы. Синтаксис значения параметра состоит из двух сегментов, разделенных вертикальной чертой ( |
|  <em>MileageEngineCode</em>  |                       Код механизма расчета пробега, который определяет запись механизма расчета пробега в базе данных.                        |
| <em>ApportionmentEngine</em> |                        Код общего механизм, который определяет запись механизма распределения в базе данных.                        |

<a name="how-is-metadata-used-in-transportation-management-engines"></a>Как используются метаданные в механизмах управления транспортировкой?
----------------------------------------------------------

Механизмы управления транспортировкой, использующие данные, которые определены в Supply Chain Management, могут использовать различные схемы данных. Система управления транспортировкой позволяет различным механизмам управления транспортировкой использовать одинаковые общие таблицы физической базы данных. Чтобы гарантировать правильную интерпретацию данных механизма во время выполнения, можно определить метаданные для таблиц базы данных. Это уменьшит затраты на создание новых механизмов управления транспортировкой, поскольку дополнительная таблица и структуры форм не требуются в Operations.

## <a name="what-can-be-used-as-search-data-in-rate-calculations"></a>Что можно использовать в качестве данных поиска в расчетах ставок?
Данные, используемые при расчете ставок, управляются с помощью конфигурации метаданных. Например, если требуется найти ставки на основе почтовых индексов, необходимо настроить метаданные на основе типа поиска почтового индекса.

## <a name="do-all-engine-configurations-require-metadata"></a>Для всех ли конфигураций механизмов требуются метаданные?
Метаданные не требуются для механизмов управления транспортировкой, которые используются для извлечения данных, необходимых для расчета ставки, из внешних систем. Данные ставки для этих механизмов можно получить из внешних систем перевозчиков, обычно через веб-службу. Например, можно использовать механизм расчета пробега, который извлекает данные непосредственно из карт Bing, и метаданные для этого механизма не требуются.

| **Примечание**                                                                                                                                                                                                                                                                                                                                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Механизмы управления транспортировкой, поставляемые с Supply Chain Management, используют данные, получаемые от приложения. Механизмы, подключаемые к внешним системам, не входят в Operations. Однако основанная на механизмах модель расширяемости позволяет создавать расширения, используя средства Visual Studio Tools. |

## <a name="how-do-i-configure-metadata-for-a-transportation-management-engine"></a>Как настроить метаданные для механизма управления транспортировкой?
Метаданные для механизмов управления транспортировкой настраиваются по-разному для различных типов механизмов.

| Механизм управления транспортировкой               | Конфигурация метаданных                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Механизм ставок**                                | Требуется **Базовый тип ставки**. Тип базы ставки содержит метаданные для данных базы ставки и данных назначения базы ставки. Структура метаданных базы ставки определяется типом механизма ставок. Структура метаданных назначения базы ставки определяется типом определителя базы ставки, связанного с механизмом ставок. Настроить тип базы ставки механизма ставок можно на странице **Механизм ставок** и на странице **Шаблон ставки**. |
| **Механизм зоны**                                | Требуется, чтобы метаданные были настроены непосредственно в шаблоне зоны.                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Механизм расчета транзитного времени** и **Механизм расчета пробега** | Извлекает метаданные непосредственно из формы настройки конфигурации механизма расчета пробега.                                                                                                                                                                                                                                                                                                                                                                                  |

  **Пример метаданных для механизма ставок.** Для механизма управления транспортировкой требуется идентификация адреса отправки, области и страны/региона места назначения, а также начальной и конечной точек отгрузки. Благодаря использованию этих требований метаданные будут выглядеть как данные в следующей таблице. В таблице также приводятся сведения о необходимом типе вводимых данных.
-   Определите эту информацию в параметре **Управление транспортировкой** &gt; **Настройка** на странице **Базовый тип ставки**.

| Последовательность | Наименование                          | Тип поля | Тип данных | Тип поиска    | Обязательный |
|----------|-------------------------------|------------|-----------|----------------|-----------|
| 1        | Почтовый индекс адреса отправки            | Назначение | Строка    | Почтовый индекс    | Выбрано  |
| 2        | Область места назначения             | Назначение | Строка    | Региональный          |           |
| 3        | Исходный почтовый индекс места назначения | Назначение | Строка    | Почтовый индекс    | Выбрано  |
| 4        | Конечный почтовый индекс места назначения   | Назначение | Строка    | Почтовый индекс    | Выбрано  |
| 5        | Страна/регион места назначения           | Назначение | Строка    | Страна/регион |           |
