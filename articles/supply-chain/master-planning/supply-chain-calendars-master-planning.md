---
title: Календари и сводное планирование
description: В этом разделе представлен обзор календарей цепочки поставок и их влияния на сводное планирование.
author: t-benebo
manager: tfehr
ms.date: 08/19/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: global
ms.search.industry: Manufacturing
ms.author: benebotg
ms.search.validFrom: ''
ms.dyn365.ops.version: ''
ms.openlocfilehash: bbbd60ddfd46904374a2cf3ad4a09f96805bd2bf
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2021
ms.locfileid: "5001807"
---
# <a name="calendars-and-master-planning"></a>Календари и сводное планирование

[!include [banner](../includes/banner.md)]

В этом разделе представлен обзор календарей цепочки поставок и их влияния на сводное планирование.  Объясняются различные календари, используемые в механизме сводного планирования, включая их влияние на даты отгрузки и получения в спланированных заказах. Наконец, приведены рекомендации в отношении назначения, использования и обновления календарей.

## <a name="definition-of-a-calendar"></a>Определение календаря

Можно определить календарь, используемый в вашей организации, на странице в пункте **Управление организацией > Настройка > Календари > Календари**. 

Каждая запись даты в календаре может быть **открытой**, **закрытой** или **базовый календарь**. Это указывается в столбце **Управление** на странице **Рабочее время**. Для каждой даты: 
- **Открыто** — указывает, что работа выполняется в выбранный день. Календарь будет обновлен в соответствии с шаблоном рабочего времени.
- **Закрыто** — указывает, что работа не выполняется в этот день. 
- **Базовый календарь** — указывает, что конкретная дата будет наследовать рабочее время и состояние открыто/закрыто из базового календаря. Таким образом, при обновлении базового календаря выбранный календарь наследует из него рабочее время. 

Для любых закрытых дат будет автоматически назначен флажок **Закрыто для отправки**. Для открытых дат можно вручную выбрать параметр **Закрыто для отправки**. Это означает, что работа выполняется в день, что доставка не будет выполнена. 

## <a name="calendars-that-affect-master-planning"></a>Календари, которые влияют на процесс сводного планирования

### <a name="calendar-for-a-coverage-group"></a>Календарь для группы покрытия
Группа покрытия указывает общий набор параметров, используемых для пополнения номенклатур, которые относятся к данной группе покрытия. 

Чтобы добавить календарь для группы покрытия, откройте **Сводное планирование > Настройка > Покрытие > Группы покрытия**. Найдите группу покрытия, которой необходимо назначить календарь, затем выберите ее в поле **Календарь**.

Можно назначить группу покрытия на разных страницах: 
    - На странице **Сведения о выпущенном продукте** номенклатуры. Для просмотра группы покрытия для номенклатуры откройте **Управление сведениями о продукте > Продукты > Выпущенные продукты** и выберите номенклатуру для перехода на страницу **Сведения о выпущенном продукте**. Можно просмотреть группу покрытия номенклатуры на экспресс-вкладке **План**.
    - На странице **Покрытие номенклатуры**. На странице сведений о выпущенных продуктах щелкните **Покрытие номенклатуры** для перехода к странице покрытия номенклатуры. На вкладке обзора можно просмотреть различные параметры для пополнения, в зависимости от аналитик узла, склада и продукции. Группа покрытия для каждой номенклатуры будут наследоваться из группы покрытия на странице **Сведения о выпущенном продукте**. Это может быть переопределено с помощью пункта **Использовать определенные параметры** или **Переопределенные параметры группы** на вкладке **Общие**.
    - На странице **Параметры сводного планирования**. Если у номенклатуры на предыдущих страницах нет группы покрытия, сводное планирование будет учитывать общую группу покрытия, заданную в параметрах сводного планирования. Это настраивается в пункте **Сводное планирование > Настройка > Параметры сводного планирования** в поле **Общая группа покрытия**. 

### <a name="calendar-for-a-vendor"></a>Календарь для поставщика
Чтобы указать рабочие дни поставщика, можно назначить календарь закупок данному поставщику на странице **Значения заказа на покупку по умолчанию** для поставщика. 

Чтобы настроить календарь для поставщика, необходимо создать календарь в пункте **Управление организацией > Календари > Календари**. Когда календарь создан, необходимо назначить его поставщику. Откройте **Расчеты с поставщиками > Поставщики > Все поставщики** и выберите поставщика, которому необходимо назначить календарь. Затем на странице поставщика на экспресс-вкладке **Значения заказа на покупку по умолчанию** назначьте новый календарь закупок, используя раскрывающееся меню. 

Календарь для поставщика указывает дни, в которые они принимают размещение заказа на покупку, и даты, когда они могут доставить заказы для вашей компании. В результате даты заказа для заказов на покупку для поставщика с календарем покупки будут определен как открытые в календаре. Даты поставки для этих заказов также будет в открытые дни и, таким образом, будут влиять на время упреждения для купленной номенклатуры. 

#### <a name="define-the-lead-time-for-a-purchased-item"></a>Определение времени упреждения для приобретенной номенклатуры

Чтобы указать время упреждения покупки (и следует ли учитывать только рабочие дни) для номенклатуры, вам нужно перейти на страницу параметров заказа по умолчанию для продукта, которая находится в разделе **Управление сведениями о продукте > Продукты > Выпущенные продукты**, и выбрать **Параметры заказа по умолчанию**. 

> [!Note]
> Флажок **Рабочие дни** под временем упреждения покупки указывает рабочие дни поставщика. Например, календарь для поставки только по вторникам с временем упреждения 10 дней и установленным флажком рабочих дней указывает, что доставка номенклатуры займет 10 недель (10 вторников).
Таким образом, в большинстве случаев не рекомендуется выбирать рабочие дни для времени упреждения для заказа на покупку.

#### <a name="define-lead-times-from-the-trade-agreements-page"></a>Определение времени упреждения со страницы коммерческих соглашений

Сводное планирование можно настроить для включения всех торговых соглашений для поставщиков. Коммерческие соглашения являются соглашениями с фиксированной ценой или соглашениями о скидках, которые настроены для одного или нескольких клиентов или поставщиков для продажи или покупки одного или нескольких продуктов. Откройте **Сводное планирование > Настройка > Параметры сводного планирования** и на вкладке **Спланированные заказы** выберите **Поиск коммерческих соглашений**, чтобы включить торговые соглашения при планировании. Сводное планирование может выбрать поставщика по параметру **Минимальное время упреждения** или **Наименьшая цена ед. изм.**.

### <a name="calendar-for-a-warehouse"></a>Календарь для склада
Календарь можно назначить складу для указания открытых дат для приемки и отгрузки. Если календарь не был назначен складу, предполагается, что он открыт во все дни. 

> [!Note]
> Назначение календаря транзитному складу не оказывает никакого влияния. Транзитные склады используются для поддержки заказов на перемещение. Применимые даты отгрузки или прихода для заказов определяются открытыми днями в складе "Из" и складе "На", а также режимом календаря поставки.

#### <a name="closed-for-pickup-policy"></a>Политика закрытия для отгрузки
Чтобы указать, что склад открыт для получения, но комплектация невозможна, можно использовать параметр **Политика закрытия для отгрузки** в календаре склада. Это также применимо к получению клиентом. 

### <a name="transport-calendar"></a>Календарь транспортировки 
Чтобы указать даты, доступные для отгрузки заказов на перемещение из **Со склада**, можно назначить **Календарь транспортировки**. Можно настроить календарь транспортировки по режимам доставки или по режиму доставки и складу отгрузки. Календарь транспортировки настраивается в пункте **Продажи и маркетинг > Настройка > Распределение > Способы поставки**. Выберите режим поставки и нажмите кнопку **Календарь транспортировки**.

Строка может быть создана для каждого склада и способа поставки, где календарь будет добавлен в столбец **Календарь транспортировки**. Она укажет календарь транспортировки, который применяется, когда производится отгрузка товаров со склада с использованием данного способа поставки. Чтобы применить календарь транспортировки к любой отгрузке, использующей данный способ поставки, может быть создана строка без указания склада.  Он будет влиять на всех отгрузки с помощью данного способа поставки, независимо от склада. 

Если календарь транспортировки не назначен, предполагается, что все дни открыты для транспортировки.

### <a name="calendar-for-a-customer"></a>Календарь для клиента
Для указания дат, когда клиент может принимать поставки, можно назначить календарь прихода для клиента. Если календарь не назначен клиенту, предполагается, что клиент может получать заказы во все дни. Это повлияет на дату приемки в строках заказа на продажу. Если выбрана дата в строках заказа на продажу, которая не является "открытой" в календаре клиента, система сообщит, что дата прихода не является допустимой. 

Обратите внимание, что можно включить только один календарь для каждого клиента. Если требуется включить календарь для каждого различного адреса для клиента, можно создать по одному клиенту на каждый адрес и затем назначить ему соответствующий календарь. 

На запрошенную дату поступления в строках заказа на продажу влияют календарь клиента и метод управления датой поставки. Можно прочитать подробнее о расчете самой ранней даты поставки в разделе [Резервирование по заказам](https://docs.microsoft.com/dynamics365/unified-operations/supply-chain/sales-marketing/delivery-dates-available-promise-calculations).

### <a name="shipping-calendar-for-a-legal-entity"></a>Календарь отгрузки для юридического лица
Для указания дат, в которые юридическое лицо может отгружать товары, можно настроить календарь отгрузки в разделе **Управление организацией > Организации > Юридические лица**. Выберите юридическое лицо и добавьте календарь на вкладке **Внешняя торговля и логистика** в поле **Календарь отгрузки**. Календарь отгрузки будет выступать в качестве источника значений по умолчанию для всех календарей складов юридического лица. 

## <a name="how-calendars-affect-dates-in-planning"></a>Влияние календарей на даты в планировании

### <a name="order-date-of-a-planned-purchase-order"></a>Дата заказа спланированного заказа на покупку 
Дата заказа в спланированном заказе на покупку указывает дату, когда размещен заказ. Это будет открытая дата как в календаре поставщика, так и в календаре группы покрытия. В некоторых случаях поставщикам требуется запас несколько дней между получением заказа на покупку и отгрузкой товаров. Эти даты указываются как резервные дни поставщика. Однако если приобретенные номенклатуры назначены группе покрытия с резервными днями, эти резервные дни имеют больший приоритет, чем резервные дни поставщика.

### <a name="delivery-date-of-a-planned-purchase-order"></a>Дата поставки спланированного заказа на покупку
Дата поступления покупки показывает дату, когда вы получите товары. Она будет является открытой датой в календаре. Календарь, который будет приниматься во внимание, чтобы показать, в какие дни заказы на покупку могут быть получены, в порядке убывания приоритета: 
1. Календарь поставщика
1. Календарь группы покрытия
1. Календарь склада для склада приемки

Обратите внимание, что календарь группы покрытия может быть задан на различных страницах и будет иметь приоритет в следующем порядке:
1. Группа покрытия номенклатуры на странице **Покрытие номенклатуры**
1. Группа покрытия номенклатуры на странице **Сведения о выпущенном продукте**
1. Группа покрытия номенклатуры по умолчанию на странице **Параметры сводного планирования**

### <a name="shipping-date-of-a-planned-transfer-order"></a>Дата отгрузки спланированного заказа на перемещение
При создании заказа на перемещение между двумя складами дата отгрузки и дата приемки включаются в заголовок заказа на перемещение вместе со складами "Со" и "На". Разница между этими двумя датами является ожидаемым временем транспортировки (в днях) между складами.

Дата отгрузки спланированного заказа на перемещение указывает дату отгрузки товаров со склада "Со". Календари, используемые для указания доступной даты отгрузки, перечисляются в порядке приоритета: 
1. Календарь склада "Со"
1. Календарь группы покрытия (см. резервный порядок для этого календаря выше), если задан календарь склада, дата отгрузки будет являться открытой датой в этом календаре. Если календарь склада не задан, будет взят календарь группы покрытия. 

### <a name="receipt-date-of-a-planned-transfer-order"></a>Дата поступления спланированного заказа на перемещение
Дата поступления для спланированного заказа на перемещение указывает дату получения товаров на складе "На".

Календари, используемые для указания доступной даты получения, перечисляются в порядке приоритета: 
1. Календарь группы покрытия 
1. Календарь склада "На", если задан календарь покрытия, дата поступления будет являться открытой датой в календаре. Если календарь группы покрытия не задан, будет взят календарь склада. 

При поиске дат отгрузки и получения для спланированного переноса, также учитываются дни допуска, установленные пользователем для отгрузки и приемки. 

## <a name="using-calendars-in-master-planning"></a>Использование календарей в сводном планировании

### <a name="assignment-of-scm-calendars"></a>Назначение календарей SCM
Важно задать календари для идентификации рабочих дней компании. Лучшей реализацией является установка календаря для каждого элемента с различными рабочими днями. Другими словами, все внешние календари (клиент, поставщик) и все внутренние календари (склад, группа покрытия и режим доставки), связанные с компанией.

### <a name="recommendation-on-warehouse-calendars"></a>Рекомендации по календарям склада
Рекомендуется использовать один календарь на склад, чтобы включить конкретные изменения, влияющие только на данный склад. Например, два или несколько складов могут иметь одинаковые рабочие дни, но разную политику отгрузки. В этом случае календарь для каждого из складов с соответствующей политикой отгрузки является наилучшей реализацией, чтобы система включала оптимальные даты для спланированных заказов на покупку, перемещения и производство. Если календари склада не заданы, календарь юридического лица может использоваться как источник значений по умолчанию для календаря склада. 

### <a name="recommendation-of-coverage-group-calendars"></a>Рекомендация по календарям групп покрытия
Относительно календаря группы покрытия, важно принять во внимание то, что может переопределять даты получения при сводном планировании. Таким образом, рекомендуется использовать его с осторожностью. В частности, он полезен в случае, когда потребности пополнения должны задаваться по конкретным дням недели. 

### <a name="updating-scm-related-calendars"></a>Обновление календарей, связанных с SCM
Хотя важно, что все соответствующие календари были назначены своим соответствующим местам (поставщик, клиент, склад, способ поставки или группа покрытия), также очень важно обновлять их для отражения изменений. Система определяет даты заказов на производство, перемещение, покупку и продажу в зависимости от комбинации назначенных календарей. Рекомендуется четко задать, кто отвечает за назначение и обновление календарей в соответствующих областях. В случае аварии или других необычных изменений рабочих дней очень важно обновить календари в соответствии с этим. Все задачи, которые зависят от календарей, например сводное планирование и планирование производства, необходимо снова запустить при обновлении календарей. 


[!INCLUDE[footer-include](../../includes/footer-banner.md)]