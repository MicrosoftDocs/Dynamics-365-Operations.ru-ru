---
title: Настройка прогнозирования спроса
description: В этом разделе описывается, как настроить задачи, которые необходимо выполнить, чтобы подготовиться к прогнозированию спроса.
author: roxanadiaconu
manager: AnnBe
ms.date: 09/16/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ReqDemPlanDefaultAlgorithmParameters, ReqDemPlanForecastParameters
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 72653
ms.assetid: c5fa4b09-512d-4349-ac51-cc13da69a160
ms.search.region: global
ms.search.industry: Manufacturing
ms.author: roxanad
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: cdfc5eda1ebf78abe823908324ed9c35215e562e
ms.sourcegitcommit: 2460d0da812c45fce67a061386db52e0ae46b0f3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/30/2019
ms.locfileid: "2249583"
---
# <a name="demand-forecasting-setup"></a>Настройка прогнозирования спроса

[!include [banner](../includes/banner.md)]

В этом разделе описывается, как настроить задачи, которые необходимо выполнить, чтобы подготовиться к прогнозированию спроса.  

Эти задачи настройки включают настройку следующих данных и параметров.

## <a name="item-allocation-key"></a>Ключ распределения номенклатур
Прогноз спроса рассчитан для номенклатуры и его аналитик, только если номенклатура является частью ключа распределения номенклатуры. Это правило применяется для группировки крупных количеств номенклатур, чтобы ускорить создание прогнозов спроса. Процент ключа распределения номенклатур игнорируется, когда создаются прогнозы спроса. Прогнозы создаются исключительно на основе данных за прошлые периоды. 

Номенклатура и ее аналитики должны быть частью только одного ключа распределения номенклатуры, если ключ используется во время создания прогноза. 

Чтобы добавить в ключ единицу складского хранения (SKU), перейдите в раздел **Сводное планирование** &gt; **Настройка** &gt; **Прогнозирование спроса** &gt; **Ключи распределения номенклатуры**. Воспользуйтесь страницей **Назначить номенклатуры**, чтобы назначить номенклатуру ключу распределения.

## <a name="intercompany-planning-groups"></a>Группы внутрихолдингового планирования
Прогнозирование спроса создает межфирменные прогнозы. В Dynamics 365 Supply Chain Management компании, планирование для которых осуществляется вместе, сгруппированы в одну группу внутрихолдингового планирования. Чтобы указать для каждой компании, какие ключи распределения номенклатуры необходимо учитывать для прогнозирования спрос, свяжите ключ с участником группы внутрихолдингового планирования, перейдя в раздел **Сводное планирование** &gt; **Настройка** &gt; **Группы внутрихолдингового планирования**. 

По умолчанию если ни один ключ распределения номенклатуры не назначен участникам внутрихолдинговой группы планирования, прогноз спроса вычисляется для всех элементов, назначенных всем ключам распределения номенклатуры из всех компаний. Дополнительные параметры фильтраций для компаний и ключи распределения номенклатуры доступны на странице **Создание статистического базового прогноза**. 

Изучите число прогнозируемых номенклатур. Лишние номенклатуры могут стать причиной роста расходов при использовании Microsoft Azure Machine Learning.

## <a name="demand-forecasting-parameters"></a>Параметры прогнозирования спроса
Чтобы настроить параметры прогнозирования спроса, перейдите в раздел **Сводное планирование** &gt; **Настройка** &gt; **Параметры прогнозирования спроса**. Поскольку прогнозирование спроса выполняется на уровне компаний, настройка является глобальной. Другими словами, она применяется ко всем компаниям. 

Прогнозирование спроса составляет прогноз о количествах. Следовательно, единица измерения, в которой должно выражаться это количество, должна указываться в поле **Единица прогнозирования спроса**. Единица измерения должна быть уникальной, чтобы гарантировать, что суммирование и распределение процентов имеют смысл. Дополнительные сведения о суммировании и распределении процентов см. в разделе [Внесение ручных корректировок в базовый прогноз](manual-adjustments-baseline-forecast.md). Для каждой единицы измерения, которая используется для SKU, которые включены в прогнозирование спроса, необходимо убедиться в наличии правила преобразования для единицы измерения и единицы измерения общего прогнозирования. При создании прогноза составляется список номенклатур без преобразования единиц измерения, чтобы можно было легко скорректировать настройку. 

Прогнозирование спроса можно использовать для прогнозирования зависимого и независимого спроса. Например, если установлен только флажок **Заказ на продажу** и все элементы, учитываемые при прогнозировании спроса, являются продаваемыми элементами, система вычисляет независимый спрос. Тем не менее, ключевые подкомпоненты можно добавить в ключи распределения номенклатур и прогнозирование спроса. В этом случае, если установлен флажок **Строка производства**, вычисляется зависимый прогноз. 

Существует два метода создания базового прогноза. Вы можете использовать модели прогнозирования поверх данных за прошлые периоды или просто копировать в прогноз эти данные. Поле **Стратегия создания прогноза** позволяет выбирать между этими двумя методами. Чтобы использовать модели прогноза, выберите **Azure Machine Learning**. 

Нажимая **Аналитики прогноза** в левой области страницы **Параметры прогнозирования спроса**, можно также выбрать набор аналитик прогноза для использования при создании прогноза спроса. Аналитика прогноза указывает на степень подробности, для которой определен прогноз. Компания, объект и ключ распределения номенклатуры — это обязательные аналитики прогноза, но можно также создавать прогнозы на уровне склада, статуса запасов, группы клиентов, счета клиента, страны или региона, области и номенклатуры плюс все уровни аналитик номенклатуры. 

В любой момент вы можете добавить аналитики прогноза в список аналитик, используемых для прогнозирования спроса. Можно также удалить аналитики прогноза из списка. Тем не менее, при добавлении и удалении аналитики прогноза ручные корректировки будут потеряны. 

Не все номенклатуры функционируют одинаково с точки зрения прогнозирования спроса. Аналогичные номенклатуры можно сгруппировать в один ключ распределения номенклатуры, а параметры (такие как типы проводки и параметры метода прогнозирования) можно задать для отдельного ключа распределения номенклатуры. Щелкните **Ключи распределения номенклатуры** в левой области страницы **Параметры прогнозирования спроса**. 

Чтобы создать прогноз, Supply Chain Management использует веб-сервис Machine Learning. Чтобы подключиться к сервису, необходимо предоставить следующую информацию, если выполняется вход в Microsoft Azure Machine Learning Studio.

-   Ключ API-интерфейса приложения веб-сервиса
-   URL-адрес конечной точки веб-сервиса
-   Имя учетной записи хранения Azure
-   Ключ учетной записи хранения Azure

**Примечание/** Имя и ключ учетной записи хранения Azure требуются, только если используется пользовательская учетная запись хранения. При развертывании локальной версии необходимо иметь пользовательскую учетную запись хранения в Azure, чтобы сервис Machine Learning мог получить доступ к данным за прошлые периоды. 

Чтобы создать прогнозы спроса, можно развернуть собственный сервис, воспользовавшись Machine Learning Studio или экспериментами прогнозирования спроса Supply Chain Management. Инструкции по развертыванию экспериментов прогнозирования спроса в качестве веб-сервиса доступны в Finance and Operations. На странице **Параметры прогнозирования спроса** перейдите на вкладку **Azure Machine Learning**.

## <a name="settings-for-the-demand-forecasting-machine-learning-service"></a>Параметры для сервиса Machine Learning прогнозирования спроса
Для просмотра параметров, которые можно настроить для сервиса прогнозирования спроса, перейдите в раздел **Сводное планирование** &gt; **Настройка** &gt; **Прогнозирование спроса** &gt; **Параметры алгоритма прогнозирования**. На странице **Параметры алгоритма прогнозирования** показаны значения по умолчанию для этих параметров. Можно переопределить эти параметры на странице **Параметры прогнозирования спроса**. Воспользуйтесь вкладкой **Общие**, чтобы перезаписать параметры глобально, или вкладкой **Ключи распределения номенклатуры**, чтобы перезаписать параметры для отдельных ключей распределения номенклатуры. Параметры, которые перезаписаны для ключа распределения номенклатуры, влияют только на прогноз номенклатур, которые связаны с ключом.

### <a name="forecast-algorithm-parameters"></a>Параметры алгоритма прогнозирования

На вкладке **Ключи распределения** можно настроить **Параметры алгоритма прогнозирования** для каждого ключа распределения номенклатуры. Доступны следующие параметры.
- **Уровень достоверности в процентах**: интервал доверия состоит из диапазона значений, которые функционируют в качестве достоверных оценок прогноза спроса. Уровень доверия 95% показывает, что имеется 5% риск того, что будущий спрос окажется за пределами диапазона интервала доверия.
- **Принудительная сезонность**: определяет, должна ли модель принудительно использовать определенный тип сезонности. Применяется только к ARIMA и ETS. Параметры: АВТО(по умолчанию), НЕТ, АДДИТИВНЫЙ, МУЛЬТИПЛИКАТИВНЫЙ.
- **Модель прогнозирования**: параметры: ARIMA, ETS, STL, ETS+ARIMA, ETS+STL, ВСЕ. Чтобы выбрать модель наилучшего соответствия, используйте **ВСЕ**.
- **Максимальное прогнозируемое значение**: определяет максимальное значение, которое будет использоваться для прогнозов. Формат: +1E[n] или числовая константа.
- **Минимальное прогнозируемое значение**: определяет минимальное значение, которое будет использоваться для прогнозов. Формат: -1E[n] или числовая константа.
- **Подстановка отсутствующего значения**: определяет, как заполняются пропуски в исторических данных. Параметры: числовое значение, СРЕДНЕЕ, ПРЕДЫДУЩЕЕ, ЛИНЕЙНАЯ ИНТЕРПОЛЯЦИЯ, ПОЛИНОМИАЛЬНАЯ ИНТЕРПОЛЯЦИЯ.
- **Диапазон подстановки отсутствующего значения**: определяет, применяется ли подстановка значений только к диапазону данных каждого отдельного атрибута подробности или ко всему набору данных. Параметры: GRANULARITY_ATTRIBUTE(по умолчанию), ГЛОБАЛЬНО.
- **Подсказка сезонности**: для сезонных данных введите подсказку для модели прогнозирования, чтобы повысить точность прогноза. Формат: целое число, представляющее количество сегментов, через которое повторяется схема спроса. Например, введите "6" для данных, которые повторяются каждые шесть месяцев.
- **Размер тестового набора в процентах**: процент исторических данных для использования в качестве тестового набора при расчете точности прогноза. 

<a name="additional-resources"></a>Дополнительные ресурсы
--------

[Вводные сведения о прогнозировании спроса](introduction-demand-forecasting.md)

[Создание статистического базового прогноза](generate-statistical-baseline-forecast.md)

[Внесение ручных корректировок в базовый прогноз](manual-adjustments-baseline-forecast.md)



