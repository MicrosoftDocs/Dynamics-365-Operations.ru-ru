---
title: Настройка сводного планирования
description: В этой теме описываются различные важные стратегии и параметры, используемые для настройки сводного планирования.
author: t-benebo
manager: tfehr
ms.date: 07/01/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ReqCreatePlanWorkspace
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: benebotg
ms.search.validFrom: 2019-05-31
ms.dyn365.ops.version: AX 10.0.0
ms.openlocfilehash: 5e71cfd451a51a5dabd12419541202ecc39df631
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2021
ms.locfileid: "4999964"
---
# <a name="set-up-master-planning"></a>Настройка сводного планирования

[!include [banner](../includes/banner.md)]

В этой теме описываются различные важные стратегии и параметры, используемые для настройки сводного планирования. В ней содержится обзор типов планов, используемых сводным планированием, и объясняется, какую стратегию планирования следует использовать в зависимости от бизнес-требований. Здесь также описываются основные параметры, влияющие на план, и объясняется влияние этих параметров на предлагаемые спланированные заказы.

## <a name="types-of-master-plans"></a>Типы сводных планов

Сводное планирование имеет два типа планов: статические и динамические Каждый из типов предназначен для различных видов использования. Для оптимальной производительности рекомендуется использовать соответствующий план для сценария.

### <a name="static-plan"></a>Статический план

Статический план остается без изменений, независимо от любых изменений в поставках и спросе, до следующего момента выполнения сводного планирования.

Статический план используется для одобрения и утверждения предлагаемых заказов. Это оперативный план, который используется различными сотрудниками компании (например закупщиками или составителями планов производства) для принятия решений и использования при выполнении ежедневных заданий и операций.

Статический план также поддерживает повторное создание. Полностью новый оптимизированный план вычисляется каждый раз при запуске сводного планирования, а существующие заказы, которые еще не были утверждены, удаляются.

### <a name="dynamic-plan"></a>Динамический план

Динамический план обычно начинается как копия статического плана, но его можно обновлять каждый раз, когда изменяются основные данные. Например, если данные изменяются, создается новый заказ на продажу.

Динамический план используется для оперативного планирования. Он позволяет компании осуществлять мониторинг изменяющейся сети заказов и доступности номенклатур, не нарушая статический план, который другие сотрудники используют в своих рабочих процессах. Он особенно применяется для функции доступности для заказа с учетом производства (CTP). Динамический план является планом по умолчанию, когда чистые потребности открываются со страниц заказов (таких как страницы заказа на продажу, заказа на покупку или производственного заказа).

Динамический план использует чистое изменение. Таким образом, он помогает обеспечить более быстрое время выполнения.

## <a name="strategies-for-using-master-plans"></a>Стратегии использования сводных планов

В сводном планировании можно использовать как один план, так и два плана. Используемая стратегия зависит от деловых требований.

### <a name="one-plan-strategy"></a>Стратегия одного плана

Для стратегии с одним планом используется один и тот же сводный план для статического плана и динамического плана. Эта стратегия используется для сценариев производства на склад, когда обычно нет необходимости моделировать план, выполняющий заказ.

Стратегия с одним планом обычно используется в розничных и распределительных отраслях или в том случае, когда даты поставки продаж подтверждаются на основе соглашений об уровне обслуживания (SLA) или времени упреждения. Для плана управление датой поставки может использоваться без CTP.

Если необходимо выполнить моделирование, можно снова запустить план для номенклатур, для которых требуется моделирование. Спланированные заказы, которые создаются в процессе моделирования заказов, обычно подтверждаются.

### <a name="two-plan-strategy"></a>Стратегия двух планов

Для стратегии с двумя планами используется статический план и отдельный динамический план. Стратегия с двумя планами обычно используется для сценариев настройки под заказ и изготовления на заказ, где необходимо выполнять моделирование заказов на продажу и рассчитывать точные даты поставки для заказов на продажу, но эти расчеты не должны затрагивать ежедневные операции. Эти имитации всегда выполняются в динамическом плане. Стратегия с двумя планами полезна, например, в автомобильной промышленности и для изготовителей оборудования» (OEM).

Для стратегии с двумя планами можно использовать управление датой поставки с CTP. Когда используется CTP, она автоматически запускает выполнение в динамическом плане.

### <a name="setting-up-the-plans"></a>Настройка планов

Планы можно создавать на странице **Сводные планы** (**Сводное планирование \> Настройка \> Планы \> Сводные планы**).

Можно указать, какие планы будут использоваться для статического плана и динамического плана, установив поля **Текущий статический сводный план** и **Текущий динамический сводный план** на странице **Параметры сводного планирования** (**Сводное планирование \> Настройка \> Параметры сводного планирования**). Чтобы использовать стратегию из одного плана, выберите один и тот же план в полях **Текущий статический сводный план** и **Текущий динамический сводный план**.

## <a name="types-of-planning-methods"></a>Типы методов планирования

Для запуска сводного планирования могут использоваться три метода расчета: повторное создание и чистое изменение. При выполнении каждого метода создаются разные планы.

Метод планирования указывается в диалоговом окне **Выполнение сводного планирования**. Чтобы открыть это диалоговое окно, перейдите к пункту **Сводное планирование \> Сводное планирование \> Выполнить \> Сводное планирование** или выберите команду **Выполнить** в рабочей области **Сводное планирование**.

### <a name="regeneration"></a>Пересоздание

Метод планирования с повторным созданием удаляет существующие спланированные заказы, если только они не были подтверждены. Он создает новые спланированные заказы на основе всех требований. Повторное создание — это единственный способ планирования, доступный для статических планов.

- Рассматриваются изменения в поставках. К этим изменениям относятся изменения в прогнозе.
- Этот метод учитывает код покрытия **Период**.
- Этот метод поддерживает функциональность замены продукции (PI).

### <a name="net-change"></a>Чистое изменение

Метод планирования с чистыми изменениями создает спланированные заказы для покрытия потребностей, созданных или измененных с момента последнего выполнения сводного планирования. Изменения в поставках не учитываются, когда выполняется этот метод. Система не учитывает никакие новые поставки, и ранее созданные спланированные заказы не удаляются, если они больше не требуются. Метод планирования с чистым изменением выполняется быстрее, чем метод повторного создания. Он доступен только для динамических планов.

- Даты действий и будущие даты обновляются для всех потребностей.
- Этот метод не учитывает код покрытия **Период**.
- Этот метод не удовлетворяет прогнозу, даже если он выбран в плане.
- Этот метод не поддерживает функциональность замены продукции (PI).

### <a name="net-change-minimized"></a>Мин. чистое изменение

Метод планирования с минимизированными чистыми изменениями создает спланированные заказы для покрытия только потребностей, созданных или измененных с момента последнего выполнения планирования сводного планирования. В отличие от метода чистого изменения, даты действий и будущие даты обновляются только для новых или измененных требований. Этот метод планирования доступен только для динамических планов.

## <a name="types-of-scheduling-methods"></a>Типы методов планирования

Для каждого плана на экспресс-вкладке **Общие** на странице **Сводные планы** (**Сводное планирование \> Настройка \> Планы \> Сводные планы**) необходимо выбрать метод планирования, используемый для производственных заказов. Вы можете запланировать производство на уровне операций или заданий.

### <a name="operations-scheduling"></a>Планирование операций

Планирование операций можно использовать, чтобы получить общую оценку производственного процесса по времени. Планирование операций не разворачивает операции для маршрута производства в задания. Дополнительные сведения о планировании операций см. в разделе [Планирование операций](https://docs.microsoft.com/dynamics365/unified-operations/supply-chain/production-control/operations-scheduling).

### <a name="job-scheduling"></a>Планирование заданий

Планирование заданий — это более подробный метод планирования, в котором каждая операция разделяется на отдельные задачи или задания. Планирование заданий включает сведения о мощности. Оно обычно используется для планирования отдельных задач в цехе для краткосрочных периодов времени. Дополнительные сведения о планировании заданий см. в разделе [Планирование заданий](https://docs.microsoft.com/dynamics365/unified-operations/supply-chain/production-control/job-scheduling).

## <a name="time-fences-in-days"></a>Временные границы в днях

Для каждого плана можно выбрать, как в будущем должны рассчитываться различные потребности и другие аспекты при сводном планировании. Этот период называется *временной границей*. Для достижения максимальной производительности при сводном планировании рекомендуется настроить различные временные границы в соответствие с деловыми требованиями. Для каждого плана можно найти временные границы на экспресс-вкладке **Временные границы в днях** на странице **Сводные планы** (**Сводное планирование \> Настройка \> Планы \> Сводные планы**).

> [!NOTE]
> Временные границы указывают, насколько далеко в будущем рассчитываются различные потребности и другие аспекты при сводном планировании. Временные границы, выбранные на этой странице, переопределят временные границы, определенные в группе покрытия. Это означает, что если задать для параметра временной границы значение "Да" и определить значение в днях, оно заменяет временную границу, определенную в группе покрытия. Если задано значение "Нет", временная граница будет определена в группе покрытия. Наконец, если вам не нужно или вы не хотите использовать параметр (например, не нужно использовать сообщения о действиях), задайте значение **Да**, затем установите для временной границы значение **0** (ноль) дней.

### <a name="coverage"></a>Покрытие

Временная граница покрытия представляют собой период планирования или время, на которое должен быть включен спрос. Другими словами, она указывает горизонт планирования.

Установив для параметра **Покрытие** значение **Да**, можно переопределить временную границу покрытия, которая определена для номенклатуры во время сводного планирования. В этом случае введите количество дней, в течение которого расчет сводного планирования должен покрывать потребности. Временные границы покрытия рассчитываются наперед от текущей даты. Потребности до текущей даты всегда обрабатываются.

> [!NOTE]
> Для достижения максимальной производительности при сводном планировании рекомендуется настроить временную границу покрытия в соответствии с горизонтом планирования.

### <a name="freeze"></a>Блокировка

Временная граница блокировки представляет собой период, в течение которого существующие спланированные заказы не изменяются при запуске нового сводного графика. Спланированные заказы фиксируются, и никакие новые спланированные заказы не предлагаются.

Установив для параметра **Блокировка** значение **Да**, можно переопределить временную границу блокировки, которая определена для номенклатуры во время сводного планирования. В этом случае введите количество дней, на которое заблокирована деятельность по планированию. Помните, что в течение этого периода никакие новые спланированные заказы не создаются, существующие спланированные заказы невозможно изменить.

### <a name="firming"></a>Утверждение

Временная граница утверждения показывает период времени, в течение которого спланированные заказы автоматически преобразуются в заказы на производство и заказы на покупку. Этот процесс также известен как *автоматическое утверждение спланированных заказов*.

Установив для параметра **Утверждение** значение **Да**, можно переопределить временную границу утверждения, которая определена для номенклатуры во время сводного планирования. В этом случае введите количество дней, в течение которых спланированные заказы на покупку и спланированные заказы на производство должны утверждаться автоматически. Временная граница блокировки рассчитывается вперед от даты сводного планирования. Автоматическое утверждение спланированного заказа на покупку может выполняться только в том случае, если номенклатура связана с поставщиком.

### <a name="forecast-plan"></a>Прогнозный план

Временная граница прогнозного плана показывает, как далеко в будущем сводное планирование создает спланированные заказы для номенклатур, для которых имеется прогнозируемая потребность.

Установив для параметра **Прогнозный план** значение **Да**, можно переопределить временную границу прогнозного плана, которая определена для номенклатуры во время сводного планирования. В этом случае введите количество дней, на протяжении которых прогноз продаж из прогнозного плана должен включаться в сводное планирование.

### <a name="capacity"></a>Вместимость

Временная граница мощности показывает, насколько далеко в будущем система учитывает максимальную мощность ресурсов при планировании заказов. Другими словами, план планирует производственные заказы, используя производственный маршрут для номенклатуры, и учитывает ресурсы производственного маршрута и максимальную мощность каждого ресурса.

Установив для параметра **Мощность** значение **Да**, можно переопределить временную границу мощности, которая определена для номенклатуры во время сводного планирования. В этом случае введите количество дней, на протяжении которых должна планироваться мощность для спланированных производственных заказов. При сводном планировании используется активный маршрут производства номенклатуры и планирование выполняется назад от даты потребности. Если дата потребности для спланированного заказа на производство выходит за рамки временной границы мощности, тогда время поставки определяется на основе даты поставки номенклатуры. Временные границы мощности рассчитываются наперед от текущей даты.

### <a name="action-message"></a>Сообщение по действию

Сообщения о действиях предлагают изменения, которые могут быть сделаны в существующем заказе на поставку, чтобы помочь оптимизировать план поставок. Например, они могут рекомендовать ускорить или отложить заказы, или увеличивать или уменьшать количество в заказах.

Установив для параметра **Сообщение по действию** значение **Да**, можно переопределить временную границу сообщений по действию, которая определена для номенклатуры во время сводного планирования. В этом случае введите количество дней, в течение которых в сводном планировании должны создаваться сообщения действия для потребностей. Временные границы сообщений по действию рассчитываются наперед от текущей даты.

Дополнительные сведения о сообщениях по действиям см. в разделе [Сообщения по действиям](https://docs.microsoft.com/dynamics365/unified-operations/supply-chain/master-planning/action-messages).

> [!NOTE]
> Расчет сообщений по действиям приводит к более длительному времени выполнения сводного планирования. Если сообщения по действиям не анализируются и не применяются регулярно (ежедневно, еженедельно и т. д.), следует отключать этот расчет во время выполнения сводного планирования. Чтобы отключить вычисление, на странице **Сводные планы** установите для временной границы **Сообщение по действию** значение **0** (ноль) для сводного плана, который вы выполняете. Кроме того, убедитесь, что параметр **Сообщение по действию** отключен для всех групп покрытия.

### <a name="calculated-delays"></a>Рассчитанные задержки

Можно указать, как далеко в будущим возможные задержки в спланированных заказах обнаруживаются и сообщаются. Таким образом можно запланировать возможные (задержанные) даты поставки.

Если спланированный заказ не может быть выполнен для запрошенной даты, он планируется для самой ранней даты выполнения для проводки, основанной на времени упреждения и доступности материалов и мощностей.

### <a name="approved-requisitions-time-fence"></a>Временная граница утвержденных заявок

Можно настроить сводное планирование для создания спланированных заказов для запросов по заявкам. Установите для параметра **Включить заявки** значение **Да** на экспресс-вкладке **Общие** на странице **Сводные планы**. Затем, когда цель утвержденной заявки — пополнение, сводное планирование автоматически создает соответствующий спланированный заказ для ее удовлетворения. Метод пополнения определяется политиками поставок, настроенными для номенклатур в организации. После создания и утверждения заявки на пополнение дополнительные действия от пользователя не требуются.

При установке для параметра **Временная граница утвержденных заявок** значения **Да** на экспресс-вкладке **Временные границы в днях** можно переопределить временную границу утвержденных заявок, которая определена для номенклатуры во время сводного планирования. В этом случае введите количество дней в прошлом, в течение которых спрос утвержденных заявок с целью пополнения должен быть включен в сводное планирование. Например, можно указать, что только невыполненный, просроченный спрос из утвержденных заявок, которые были созданы в течение последних 10 дней, должны учитываться и только для них будет выполняться планирование.

### <a name="sequencing"></a>Последовательность

Последовательность позволяет упорядочивать спланированные заказы на основе атрибутов упорядочивания, связанных с готовым продуктом. Она часто используется для подготовки производственных заказов для упаковки. Например, она может использоваться для упаковки коробок в определенной последовательности, в зависимости от цвета и размера.

Задав для параметра **Последовательность** значение **Да**, можно указать, как далеко в будущем должны быть упорядочены операции или задания. Имейте в виду, что чем длиннее временная граница, тем больше времени потребуется для выполнения сводного планирования.

### <a name="calculated-delays"></a>Рассчитанные задержки

Параметры задержки помогают гарантировать, что заказы имеют разумные плановые даты. Следующие параметры доступны на экспресс-вкладке **Рассчитанные задержки** на странице **Сводные планы**:

- **Обеспечить, чтобы запланированные заказы не создавались до даты выполнения сводного планирования** — установите для этого параметра значение **Да**, чтобы гарантировать, что заказы не могут планироваться для дат в прошлом.
- **Добавить рассчитанную задержку к дате потребности** (в разделе **Спланированные заказы на покупку**) — установите для этого параметра значение **Да**, чтобы добавить вычисленную задержку в требования.
- **Добавить рассчитанную задержку к дате потребности** (в разделе **Спланированные производственные заказы**) — установите для этого параметра значение **Да**, чтобы добавить вычисленную задержку в требования.
- **Добавить рассчитанную задержку к дате потребности** (в разделе **Спланированное перемещение**) — установите для этого параметра значение **Да**, чтобы добавить вычисленную задержку в требования.
- **Добавить рассчитанную задержку к дате потребности** (в разделе **Запланированный канбан**) — установите для этого параметра значение **Да**, чтобы добавить вычисленную задержку в требования.

При установке для параметра **Добавить рассчитанную задержку к дате потребности** значения **Да**, чтобы добавить задержку в требования, система учитывает мощность ресурсов и создает подходящие спланированные заказы. Пересчет дат спланированного заказа увеличивает время выполнения сводного планирования. Поэтому, если не требуется использовать задержки, задайте для этих параметров значение **Нет**.

## <a name="positive-and-negative-days"></a>Положительные и отрицательные дни

Положительные и отрицательные дни влияют на то, как сводное планирование предлагает спланированные заказы и действия. Положительные и отрицательные дни устанавливаются в группе покрытия номенклатуры для номенклатуры. Можно определить различные группы покрытия и настроить их параметры на странице **Группы покрытия** (**Сводное планирование \> Настройка \> Покрытие \> Группы покрытия**).

### <a name="positive-days"></a>Положительные дни

Положительные дни указывают на то, насколько далеко в будущем сводное планирование учитывает текущие запасы или приходы для удовлетворения будущих потребностей. Например, если для положительных дней установлено значение **100**, текущие запасы могут использоваться для удовлетворения потребности в течение следующих 100 дней. Если имеется заказ на 150 дней с текущей даты, сводное планирование создаст запланированный заказ для удовлетворения этого спроса, даже если запасы в наличии для номенклатуры могут покрыть данный заказ. Для быстро оборачиваемых номенклатур, имеющих короткий период упреждения, вам может быть нежелательно использовать запасы в наличии для заказа, который находится далеко в будущем. В этом быстрого оборота текущие запасы в наличии быстро закончатся, и в будущем можно размещать дополнительные заказы для удовлетворения будущего спроса вовремя, что могло бы быть возможным благодаря короткому времени упреждения для номенклатуры.

Положительные дни также влияют на сообщения по действию. Например, система может рекомендовать увеличение спланированного заказа на покупку, чтобы он включал спрос, находящийся в пределах числа положительных дней в будущем. Если количество положительных дней равно **100**, и если для номенклатуры имеется спрос через 30 дней с текущей даты, система создаст запланированный заказ для удовлетворения этого спроса. Если через 90 дней с текущей даты имеется спрос на эту же номенклатуру, система порекомендует увеличить количество заказа через 30 дней с текущей даты, чтобы этот заказ также покрывал спрос через 90 дней. Однако если имеется спрос на номенклатуру через 150 дней с текущей даты, система не порекомендует увеличить количество уже запланированного заказа. Вместо этого будет создан новый спланированный заказ.

Как правило, положительные дни устанавливаются число, которое находится между самым длинным временем упреждения для номенклатур и временной границей покрытия. Рекомендуется назначать регулярно приобретаемые или производимые номенклатуры в группу покрытия, в которой положительные дни равны времени упреждения номенклатуры.

### <a name="negative-days"></a>Отрицательные дни

Отрицательные дни указывают на то, насколько поздние приходы номенклатуры разрешены. Они представляют собой число дней, в течение которых вы готовы ожидать, прежде чем заказать новое пополнение в случае отрицательных запасов или отсутствия достаточного количества запасов. Отрицательные дни отвечают на вопрос, следует ли создать новый заказ на покупку для номенклатуры или должны использовать существующую покупку, даже если мы знаем, что номенклатура поступит с опозданием?

Например, имеется заказ на продажу для номенклатуры через 15 дней с текущей даты. Имеется также заказ на покупку для этой же номенклатуры Этот заказ на покупку будет получен через 20 дней с текущей даты. Вы хотите, чтобы система создала заказ на покупку для этого заказа на продажу, или вы хотите использовать существующий заказ, несмотря на то, что вы не сможете выполнить заказ на продажу вовремя? Если для отрицательных дней указано значение меньше **5**, чтобы указать, что номенклатура может быть задержана максимум на пять дней, система создает новый спланированный заказ на покупку для удовлетворения заказа на продажу. Если значение отрицательных дней больше **5**, система использует существующий заказ для номенклатуры.

Отрицательные дни также влияют на производительность сводного планирования. Если для отрицательных дней установлено большое число, будет создано много сообщений по действиям.

Рекомендуется установить для отрицательных дней число, которое меньше времени упреждения номенклатуры.

### <a name="dynamic-negative-days"></a>Динамические отрицательные дни

Динамические отрицательные дни учитывают время упреждения номенклатуры и указанные отрицательные дни. Система создаст новый спланированный заказ на покупку на основе временной границы отрицательных дней, которая рассчитывается с использованием следующей формулы:

Время упреждения + Отрицательные дни + Текущая дата – Дата потребности

Система использует только спланированные заказы на поставку, которые находятся в пределах временной границы, и создает новый спланированный заказ вне ее. Преимуществом динамических отрицательных дней является то, что они будут включать в себя время упреждения для отдельного продукта, чтобы повторно использовать существующие заказы и не создавать новые спланированные заказы, которые будут выполнены в более позднюю дату из-за задержек, вызванных временем упреждения. 

Дополнительные сведения см. в разделе [Отрицательные дни и динамические отрицательные дни](https://docs.microsoft.com/dynamics365/unified-operations/supply-chain/master-planning/more-about-dynamic-negative-days).


[!INCLUDE[footer-include](../../includes/footer-banner.md)]