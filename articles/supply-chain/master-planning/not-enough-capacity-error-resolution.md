---
title: Устранение ошибки подсистемы планирования "Обнаружена недостаточная емкость" и конечной емкости
description: В этой статье приводятся сведения о причинах и разрешениях для 'Не удалось запланировать производственный заказ %1. Ошибка подсистемы планирования "Обнаружена недостаточная емкость".
author: t-benebo
ms.date: 7/29/2021
ms.topic: article
ms.search.form: ProdTable
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: benebotg
ms.search.validFrom: 2021-07-19
ms.dyn365.ops.version: 10.0.20
ms.openlocfilehash: 2db4c2606936222fcd1a97cf2814fbfbc41df113
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/03/2022
ms.locfileid: "8891041"
---
# <a name="fix-the-not-enough-capacity-could-be-found-scheduling-engine-error"></a>Устранение ошибки подсистемы планирования "Обнаружена недостаточная емкость"

[!include [banner](../includes/banner.md)]

При попытке выполнения планирования может появиться следующее сообщение об ошибке:

> Не удалось запланировать производственный заказ %1. Не удалось найти достаточную мощность.

Имеется несколько причин, по которым подсистема планирования может быть поврежден и выдавать сообщение об ошибке. В этой статье приводятся рекомендации, которые помогут найти основную причину ошибки и затем смягчить ее влияние.

## <a name="review-the-applicable-resources"></a>Просмотр применимых ресурсов

Ошибка может возникнуть, если ни один из применимых ресурсов не удовлетворяет требованиям операции на объекте производственного заказа.

Чтобы просмотреть соответствующие ресурсы, выполните следующие действия.

1. Перейдите к **Управление производством \> Производственные заказы \> Все производственные заказы** и откройте или выберите производственный заказ, который не может быть запланирован.
1. В области действий на вкладке **Производственный заказ** в группе **Производственные сведения** выберите **Маршрут**.
1. На странице **Маршрут производства** выберите операцию, а затем в области действий выберите **Применимые ресурсы**.
1. В диалоговом окне **применимые ресурсы** установите поле **Требования к использованию** на *Планирование операций* или *Планирование заданий*, в зависимости от того, какой тип планирования используется.
1. Убедитесь, что существуют применимые ресурсы на объекте производственного заказа.

## <a name="review-the-calendars-that-are-associated-with-resources"></a>Просмотрите календари, связанные с ресурсами

Ошибка может возникать, если нет календаря, связанного с ресурсом или группой ресурсов, либо если связанный календарь не был правильно настроен (например, не имеет рабочего времени, или его эффективность в процентах равна 0 \[нулю\]).

Чтобы убедиться, что календарь связан с ресурсом или группой ресурсов, выполните следующие действия.

1. Перейдите к **Управление производством \> Производственные заказы \> Все производственные заказы** и откройте или выберите производственный заказ, который не может быть запланирован.
1. В области действий на вкладке **Производственный заказ** в группе **Производственные сведения** выберите **Маршрут**.
1. На странице **Маршрут производства** выберите операцию, а затем в области действий выберите **Применимые ресурсы**.
1. В диалоговом окне **применимые ресурсы** выберите ресурс, а затем выберите пункт **Просмотреть ресурс**. Или же выберите и удерживайте (или щелкните правой кнопкой мыши) поле **Группа ресурсов**, а затем выберите **Просмотреть сведения**.
1. На странице **ресурсы** или **группы ресурсов** на экспресс-вкладке **Календари** убедитесь, что календарь связан с ресурсом или группой ресурсов.

> [!NOTE]
> Если ошибка происходит при планировании операций, необходимо обеспечить, чтобы календарь был связан со всеми соответствующими группами ресурсов.

Чтобы просмотреть настройку календаря, выполните следующие действия.

1. Перейдите к **Администрирование организации \> Настройка \> Календари \> Календари** и выберите календарь, связанный с ресурсом или группой ресурсов.
1. В области действий выберите **Рабочее время**.
1. На странице **рабочее время** убедитесь, что страница не пуста. Кроме того, для интересующих вас дней убедитесь, что в поле **управления** не установлено значение *закрыто*, существует рабочее время, а в поле **Эффективность в процентах** указано значение *0* (ноль).

Если календарь связан с базовым календарем, необходимо также просмотреть настройку базового календаря.

> [!NOTE]
> При планировании операций календарь группы ресурсов используется для определения начального и конечного времени и дат каждой операции. Также ограничивается время, в течение которого система может планировать выполнение одной отдельной операции для одного определенного дня в одной отдельной группе ресурсов. Например, если рабочее время для группы ресурсов на один конкретный день находится в интервале с 8:00 до 16:00, загрузка, которую одна операция помещает в группу ресурсов, не может превышать загрузку, которая может быть уложена в восемь часов, независимо от количества доступной мощности, которой группа ресурсов располагает на этот день. Однако доступная мощность может еще больше ограничить загрузку.

## <a name="review-the-scheduling-parameters"></a>Просмотрите параметры планирования

Для обеспечения хорошей производительности подсистема планирования будет искать ресурсы только в течение определенного количества времени и определенного количества конфликтов планирования.

Чтобы просмотреть параметры планирования, выполните следующие действия.

1. Выберите **Управление организацией \> Настройка \> Параметры планирования**.
1. Выполните одно из следующих действий.

    - Если для параметра **Время ожидания планирования включено** установлено значение *нет*, перейдите на шаг 3.
    - Если для параметра **Время ожидания планирования включено** установлено значение *Да*, увеличьте значение в поле **Максимальное время планирования на одну последовательность**, чтобы придать обработке больше времени на завершение обработки.

1. Выполните одно из следующих действий.

    - Если для параметра **Время ожидания оптимизации планирования включено** установлено значение *нет*, перейдите на шаг 4.
    - Если для параметра **Время ожидания оптимизации планирования включено** установлено значение *Да*, увеличьте значение в поле **Время ожидания попыток оптимизации**, чтобы придать обработке больше времени на завершение обработки.

1. Если какие-либо параметры были изменены на странице, повторите планирование заказа еще раз.

## <a name="review-capacity"></a>Проверка возможности

Эта ошибка может возникнуть при выполнении ограничения по планированию, но свободное место отсутствует.

Чтобы выполнить планирование без ограничений по мощности, выполните следующие действия.

1. Перейдите к **Управление производством \> Производственные заказы \> Все производственные заказы** и откройте или выберите производственный заказ, который не может быть запланирован.
1. В области действий на вкладке **Планирование** в группе **Производственный заказ** выберите **планирование операций** или **планирование заданий**.
1. В диалоговом окне **Планирование операций** или **планирование заданий** установите для параметра **ограничение по мощности** значение *нет*.
1. Выберите **ОК**, чтобы запланировать заказ.

Чтобы просмотреть доступную мощность ресурса, выполните следующие действия.

1. Перейдите к **Администрирование организации \> Ресурсы \> Ресурсы** и выберите ресурс, который применим к заказу, который не может быть запланирован.
1. В области действий на вкладке **Ресурс** в группе **Просмотр** выберите **Максимальная мощность** или **Максимальная мощность в графическом виде** и убедитесь в наличии доступных мощностей.

Чтобы просмотреть доступную мощность группы ресурсов, выполните следующие действия.

1. Перейдите к **Администрирование организации \> Ресурсы \> Группы ресурсов** и выберите группу ресурсов, который применим к заказу, который не может быть запланирован.
1. В области действий на вкладке **Группа ресурсов** в группе **Просмотр** выберите **Максимальная мощность** или **Максимальная мощность в графическом виде** и убедитесь в наличии доступных мощностей.

## <a name="master-planning-books-a-resource-when-the-resource-calendar-is-closed"></a>Сводное планирование резервирует ресурс, когда календарь ресурса закрыт

При использовании планирования операций сводное планирование будет планировать емкость в соответствии с календарем основной группы ресурсов. Оно резервирует вторичную операцию в тот же момент, что и первичная операция, и не учитывает календари или емкость вторичной операции. Это может привести к планированию производственного заказа на закрытом календаре или в то время, когда вторичная операция недоступна (календарь закрыт, нет мощности).

При использовании планирования заданий сводное планирование учитывает емкость и календарь как первичной, так и вторичной операций при планировании заказа. Чтобы заказ был запланирован, календари для ресурсов обеих операций должны быть открыты и иметь доступную емкость.

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
