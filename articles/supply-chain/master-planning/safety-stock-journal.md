---
title: Использование журнала резервного запаса для обновления минимального покрытия для номенклатур
description: В этой теме описывается, как использовать журнал резервного запаса для обновления количества резервного запаса для номенклатур путем расчета минимальных предложений покрытия на основе прошлых проводок.
author: ChristianRytt
ms.date: 10/28/2021
ms.topic: article
ms.search.form: ReqItemJournalName, ReqItemJournalSafetyStock, EcoResProductInformationDialog, ReqItemTableSetup, ReqItemTable, EcoResProductDetailsExtended
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: crytt
ms.search.validFrom: 2021-10-28
ms.dyn365.ops.version: 10.0.22
ms.openlocfilehash: 59e4959898cd961582e1ac1d2285c0c0867ee7af
ms.sourcegitcommit: bc9e75c38e192664cde226ed3a94df5a0b304369
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2021
ms.locfileid: "7790991"
---
# <a name="use-the-safety-stock-journal-to-update-minimum-coverage-for-items"></a>Использование журнала резервного запаса для обновления минимального покрытия для номенклатур

[!include [banner](../../includes/banner.md)]

Резервный запас указывает дополнительное количество номенклатуры, хранящееся в запасах, чтобы помочь уменьшить риск того, что номенклатура будет отсутствовать на складе. Резервный запас используется в качестве буфера в случае, если поступил заказ на продажу, а поставщик не может обеспечить запрошенные клиентом даты отгрузки.

В этой теме описывается, как использовать журнал резервного запаса, чтобы рассчитать предложения минимального покрытия на основе исторических проводок, а затем обновить покрытие номенклатуры с учетом предложений.

## <a name="overview-of-minimum-coverage-usage"></a>Обзор использования минимального покрытия

Резервный запас настраивается на странице **Покрытие номенклатуры** для каждой номенклатуры. Различные типы пополнения представлены с помощью различных кодов покрытия. (Дополнительные сведения см. в разделе [Резервный запас для номенклатур](safety-stock-replenishment.md).) Однако все коды покрытия используют значение, заданное в поле **Минимум** на странице **Покрытие номенклатуры** для каждой номенклатуры. Существуют два основных подхода к использованию поля **Минимум**:

- **Минимальное количество для минимальных/максимальных целей** — этот подход использует минимальное количество вместе с логикой мин/макс. Он применяется, если в поле **Код покрытия** указано значение *Мин/Макс* для соответствующей номенклатуры или группы покрытия. **Минимальное** количество представляет среднее ежедневное использование, умноженное на время упреждения для номенклатуры.
- **Минимальное количество для целей плана запасов** — этот подход использует минимальное количество для представления складского плана в сочетании с прогнозами спроса. Он применяется, если в поле **Код покрытия** задано значение *Период* или *Требование* для соответствующей номенклатуры или группы покрытия. **Минимальное** количество представляет собой складской план, отражающий требуемый уровень обслуживания клиентов для уменьшения количества случаев исчерпания запасов, частичных отгрузок и времени ожидания при поставке. Минимальное количество отражает процент точности прогноза для данной номенклатуры. Оно не представляет желаемую позицию запасов.

**Минимальное** значение можно задать тремя способами:

- Вручную на странице **Покрытие номенклатуры**
- С помощью платформы управления данными (сущности данных *Покрытие номенклатуры*)
- Путем расчета резервного запаса, который выполняется журналами резервного запаса

## <a name="calculate-minimum-coverage-based-on-historical-usage"></a>Расчет минимального покрытия на основе исторического использования

Журналы резервного запаса используются для расчета предлагаемого минимального количества, основанного на истории использования номенклатуры, либо для целей мин/макс, либо для целей складского плана. Историческое использование представляет все проводки расхода за указанный период. Эти проводки расхода включают в себя проводки заказов на продажу и корректировки запасов. Расчеты также определяют влияние предложенного минимального количества на стоимость запасов и изменение стоимости запасов в сравнении с текущими минимальными количествами.

Каждая строка журнала резервного запаса представляет номенклатуру и ее аналитики покрытия. Эти строки журнала создаются и отображаются на странице **Строки журнала резервного запаса** (**Сводное планирование \> Сводное планирование \> Запуск \> Расчет резервного запаса**). Бизнес-процесс использования журналов резервного запаса для расчета предложенных минимальных количеств описывается далее в этой теме.

Планировщик использует журнал резервных запасов, чтобы рассчитать предлагаемые минимальные количества для выбранных номенклатур на основе истории использования в выбранные периоды. Предложенные минимумы могут быть вручную переопределены как обязательные, и вы можете просмотреть потенциальное воздействие предложенных минимумов на стоимость запасов. При разноске журнала соответствующие минимальные количества в покрытии номенклатуры автоматически обновляются.

### <a name="create-a-new-safety-stock-journal-name"></a>Создание нового имени журнала резервного запаса

Необходимо создать по крайней мере одно имя журнала резервных запасов, прежде чем можно будет создать этот тип журнала. Обычно можно использовать несколько названий журналов, чтобы помочь отделить ваши расчеты резервного запаса.

1. Перейдите в раздел **Сводное планирование \> Настройка \> Имена журналов резервного запаса**.
1. В области действий выберите **Создать**.
1. В новой строке установите следующие поля:

    - **Имя** — введите краткое имя для журнала.
    - **Описание** — введите описание журнала.
    - **Персональный для группы** — чтобы ограничить аудиторию для текущего имени журнала, выберите группу пользователей.
    - **Удаление строк после разноски** — этот флажок устанавливается, чтобы очистить строки журнала по умолчанию при их разноске. Снимите этот флажок, чтобы сохранить все разнесенные строки.

    Поле **Тип журнала** доступно только для чтения и является предустановленным на *Резервный запас*.

1. Закройте страницу.

### <a name="create-a-safety-stock-journal-and-lines"></a>Создание журнала и строк резервного запаса

На этом шаге создается журнал, в который автоматически добавляются строки. Каждая строка определяет номенклатуру, ее аналитики покрытия и несколько расчетных количеств из истории использования. Рассчитанные количества включают в себя средние расходы на время упреждения по номенклатуре, средние расходы в месяц и месячное стандартное отклонение.

#### <a name="automatically-generate-journal-lines"></a>Автоматическое создание строк журнала

Строки журнала могут создаваться автоматически только в том случае, если для текущего отображаемого журнала не существует каких-либо строк.

Чтобы автоматически создать строки журнала, необходимо выполнить следующие действия.

1. Перейдите в раздел **Сводное планирование \> Сводное планирование \> Выполнить \> Расчет резервного запаса**.
1. В области действий выберите **Создать**. Создается новый журнал резервного запаса.
1. На экспресс-вкладке **Сведения заголовка журнала** задайте следующие поля:

    - **Имя** — выберите имя журнала резервного запаса, в который добавляется строка.
    - **Описание** — значение по умолчанию является описанием выбранного имени журнала. Однако если требуется, это значение можно изменить.
    - **Удаление строк после разноски** — этот флажок устанавливается, чтобы очистить строки журнала при их разноске. Снимите этот флажок, чтобы сохранить все разнесенные строки. Этот параметр наследуется из выбранного имени журнала.

    Поле **Журнал** доступно только для чтения и отображает идентификационный номер журнала, который создается и в который добавляются строки.

1. На экспресс-вкладке **Строки журнала** выберите **Создать строки** на панели инструментов.
1. В диалоговом окне **Создание строк журнала для предложенных уровней минимальных запасов** установите следующие поля:

    - **Дата начала** — выберите начальную дату периода, для которого должны быть включены расходы в расчет.
    - **Дата окончания** — выберите конечную дату периода, для которого должны быть включены расходы в этот расчет. Между начальной и конечной датами должно быть по крайней мере два месяца.
    - **Рассчитать стандартное отклонение** — установите для этого параметра значение *Да*, чтобы вычислить стандартное отклонение. Необходимо установить для этого параметра значение *Да*, чтобы использовать параметр **Использовать уровень услуг** при расчете предложения (как описано далее в этой теме).

1. На экспресс-вкладке **Записи для добавления** можно настроить фильтры и ограничения, чтобы определить, какие номенклатуры должны быть включены. (Например, можно выполнить фильтрацию по значению **Группа покрытия**.) Выберите **Фильтр**, чтобы открыть стандартное диалоговое окно редактора запросов, в котором можно определить критерии выбора, критерии сортировки и соединения. Поля работают так же, как они работают для других типов запросов в Microsoft Dynamics 365 Supply Chain Management.
1. На экспресс-вкладке **Выполнять в фоновый режиме** выберите, будет ли задание выполняться в пакетном режиме, и/или настройте повторяющийся график. Поля работают так же, как они работают для других типов [фоновых заданий](../../fin-ops-core/dev-itpro/sysadmin/batch-processing-overview.md) в Supply Chain Management.
1. Нажмите **ОК**. Строки создаются для аналитик, которые имеют проводки по запасам.

#### <a name="manually-add-or-remove-journal-lines"></a>Добавление или удаление строк журнала вручную

Строки журнала можно добавлять и удалять вручную в любое время (либо после, либо вместо автоматического создания строк). Используйте следующие кнопки на панели инструментов на экспресс-вкладке **Строки журнала**:

- **Создать** — добавление новой строки. Затем введите значение в каждом столбце, чтобы определить продукт для расчета и применения к нему новые минимальные значения. Поскольку расчеты предлагаемых минимумов недоступны для добавленных вручную строк, никакие новые значения **Рассчитанное минимальное количество** не отображаются для них. Таким образом, необходимо вручную ввести значения **Новое минимальное количество**. Однако можно просмотреть потенциальное воздействие значения **Новое минимальное количество** на стоимость запасов и потенциальное изменение запасов в сравнении с текущим указанным минимумом.
- **Удалить** — удаление выбранной строки.
- **Удалить строки журнала** — удаление всех строк в журнале.

### <a name="calculate-a-proposal"></a>Расчет предложения

На этом шаге вычисляется предлагаемый минимум для каждой строки журнала и потенциальное воздействие строки на стоимость запасов. (Предлагаемый минимум отображается как значение **Рассчитанное минимальное количество**.) Можно выполнять расчет несколько раз, как это требуется. Расчет обновляет значение **Рассчитанное минимальное количество**, которое отображается для всех строк журнала.

Отображаемые расчеты не влияют на фактические значения минимального количества для каждого продукта, пока не будет выбрана команда **Разнести** на панели действий. В это время к каждому продукту будут применены значения **Новое минимальное количество**.

1. Перейдите в раздел **Сводное планирование \> Сводное планирование \> Выполнить \> Расчет резервного запаса**.
1. Откройте журнал, для которого требуется рассчитать предложение. Или создайте новый журнал, как описано ранее в этой теме.
1. На экспресс-вкладке **Строки журнала** выберите **Подсчет предложений** на панели инструментов. (Нет необходимости выбирать какие-либо строки.)
1. В диалоговом окне **Подсчет предложения для уровня минимального запаса** установите следующие поля:

    - **Использовать средний расход за время упреждения** — выберите этот параметр для создания значений **Рассчитанное минимальное количество** на основе среднего расхода за указанный период. Затем в поле **Множитель** введите значение, чтобы при необходимости скорректировать результат. Например, введите *1,0*, чтобы использовать точное вычисленное среднее или *1,1*, чтобы добавить дополнительный буфер 10 процентов.
    - **Использовать уровень услуг** — выберите этот параметр, чтобы рассчитать предлагаемый минимум в соответствии с требуемым уровнем обслуживания. Затем в поле **Уровень обслуживания** выберите предпочтительный уровень обслуживания.
    - **Резерв времени упреждения** — введите значение, чтобы продлить стандартное время упреждения (например, чтобы учесть время на администрирование).
    - **Использовать рассчитанное минимальное количество в качестве нового минимального количества** — установите для этого параметра значение *Да*, чтобы автоматически копировать значения из столбца **Рассчитанное минимальное количество** в столбец **Новое минимальное количество** для всех строк после завершения расчета. Если для этого параметра установить значение *Нет*, значение **Текущее минимальное количество** будет скопировано в столбец **Новое минимальное количество** для всех строк. Затем потребуется вручную изменить значения **Новое минимальное количество**, если это необходимо.

1. На экспресс-вкладке **Выполнять в фоновый режиме** выберите, будет ли задание выполняться в пакетном режиме, и/или настройте повторяющийся график. Поля работают так же, как они работают для других типов [фоновых заданий](../../fin-ops-core/dev-itpro/sysadmin/batch-processing-overview.md) в Supply Chain Management.
1. Нажмите **ОК**. Результаты расчета отображаются в столбце **Рассчитанное минимальное количество** на экспресс-вкладке **Строки журнала**. На данный момент значения являются предложенными значениями, которые еще не были применены к вашим продуктам.

### <a name="update-minimum-quantity"></a>Обновление минимального количества

Можно выбрать любую строку в журнале резервного запаса и вручную переопределить значение в поле **Новое минимальное количество**.

1. Перейдите в раздел **Сводное планирование \> Сводное планирование \> Выполнить \> Расчет резервного запаса**.
1. Откройте журнал для редактирования. Или создайте новый журнал, как описано ранее.
1. На экспресс-вкладке **Строки журнала** найдите строку для корректировки, затем измените значение в столбце **Новое минимальное количество**. Например, можно установить значение **Новое минимальное количество**, чтобы оно совпадало со значением **Рассчитанное минимальное количество**. Если значение **Рассчитанное минимальное количество** равно *0* (нулю), можно ввести требуемое будущее значение.

### <a name="post-the-new-minimum-quantity-and-validate-the-result"></a>Разноска нового минимального количества и проверка результата

Выполните эти шаги для разноски нового минимального количества и проверки результата.

1. Перейдите в раздел **Сводное планирование \> Сводное планирование \> Выполнить \> Расчет резервного запаса**.
1. Откройте журнал, в который требуется разнести новые минимальные количества. Или создайте новый журнал, как описано ранее.
1. На панели операций выберите **Разнести**.
1. В диалоговом окне **Разноска журнала** установите требуемое значение поля **Перенести все ошибки разноски в новый журнал**. Затем выберите **ОК**, чтобы разнести журнал.
1. Если изменить значение **Новое минимальное количество** для строки на экспресс-вкладке **Строки журнала**, можно подтвердить изменение, выполнив следующие шаги:

    1. В столбце **Код номенклатуры** для строки, которая была изменена, выберите ссылку.
    1. В диалоговом окне **Сведения о продукте** выберите ссылку в поле **Код номенклатуры**, чтобы открыть связанную запись выпущенного продукта.
    1. На панели операций на вкладке **План** в группе **Покрытие** выберите **Покрытие номенклатуры**.
    1. Обратите внимание, что значение **Минимум** для сайта и склада, настроенного с использованием разнесенного журнала резервного запаса, теперь обновлено в соответствии с внесенными изменениями.

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Выполнение резервного запаса для номенклатур](safety-stock-replenishment.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
