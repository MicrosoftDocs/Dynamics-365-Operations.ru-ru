---
title: Переход на оптимизацию планирования для сводного планирования
description: В этой теме приводятся сведения о новом механизме сводного планирования, оптимизации планирования, и о миграции с существующего механизма.
author: ChristianRytt
ms.date: 05/11/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.custom: 19311
ms.assetid: 5ffb1486-2e08-4cdc-bd34-b47ae795ef0f
ms.search.region: Global
ms.search.industry: ''
ms.author: crytt
ms.search.validFrom: 2020-11-05
ms.dyn365.ops.version: ''
ms.openlocfilehash: 9590213ef73f7623aff10d4c8ee3efbea0e7984b
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2021
ms.locfileid: "5823465"
---
# <a name="migration-to-planning-optimization-for-master-planning"></a><span data-ttu-id="77e67-103">Переход на оптимизацию планирования для сводного планирования</span><span class="sxs-lookup"><span data-stu-id="77e67-103">Migration to Planning Optimization for master planning</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="77e67-104">Встроенный механизм сводного планирования планируется сделать устаревшим (устарело).</span><span class="sxs-lookup"><span data-stu-id="77e67-104">The built-in master planning engine is scheduled to be made obsolete (deprecated).</span></span> <span data-ttu-id="77e67-105">Он заменяется надстройкой оптимизации планирования для Microsoft Dynamics 365 Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="77e67-105">It's being replaced by the Planning Optimization Add-in for Microsoft Dynamics 365 Supply Chain Management.</span></span> <span data-ttu-id="77e67-106">В этой теме содержатся сведения о влиянии на новые и существующие развертывания.</span><span class="sxs-lookup"><span data-stu-id="77e67-106">This topic provides information about the impact on new and existing deployments.</span></span> <span data-ttu-id="77e67-107">Она включает информацию о необходимых действиях.</span><span class="sxs-lookup"><span data-stu-id="77e67-107">It includes information about required actions.</span></span>

<span data-ttu-id="77e67-108">Оптимизация планирования обеспечивает вычисления сводного планирования вне Supply Chain Management и его базы данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="77e67-108">Planning Optimization enables master planning calculations to occur outside Supply Chain Management and its Azure SQL database.</span></span> <span data-ttu-id="77e67-109">Преимущества, связанные с оптимизацией планирования, включают улучшенную производительность и минимальное воздействие на базу данных SQL во время выполнения сводного планирования.</span><span class="sxs-lookup"><span data-stu-id="77e67-109">The benefits that are associated with Planning Optimization include improved performance and minimized impact on the SQL database during master planning runs.</span></span> <span data-ttu-id="77e67-110">Поскольку быстрое планирование может выполняться даже во время работы в офисе, планировщики могут немедленно реагировать на изменения спроса или параметров.</span><span class="sxs-lookup"><span data-stu-id="77e67-110">Because quick planning runs can be done even during office hours, planners can immediately react to demand or parameter changes.</span></span>

<span data-ttu-id="77e67-111">Дополнительные сведения об оптимизации планирования см. в разделе [Обзор оптимизации планирования](planning-optimization/planning-optimization-overview.md).</span><span class="sxs-lookup"><span data-stu-id="77e67-111">For more information about Planning Optimization, see [Planning Optimization overview](planning-optimization/planning-optimization-overview.md).</span></span>

## <a name="obsolescence-of-the-existing-master-planning-engine"></a><span data-ttu-id="77e67-112">Устаревание существующего механизма сводного планирования</span><span class="sxs-lookup"><span data-stu-id="77e67-112">Obsolescence of the existing master planning engine</span></span>

<span data-ttu-id="77e67-113">Корпорация Майкрософт работает над тем, чтобы сделать встроенное средство планирования устаревшим в пользу оптимизации планирования.</span><span class="sxs-lookup"><span data-stu-id="77e67-113">Microsoft is in the process of making the built-in planning engine obsolete in favor of Planning Optimization.</span></span> <span data-ttu-id="77e67-114">Это изменение затрагивает все облачные среды.</span><span class="sxs-lookup"><span data-stu-id="77e67-114">This change affects all cloud environments.</span></span> <span data-ttu-id="77e67-115">Локальные установки не затрагиваются.</span><span class="sxs-lookup"><span data-stu-id="77e67-115">On-premises installations aren't affected.</span></span> <span data-ttu-id="77e67-116">В версии 10.0.16 или более поздней будет выведено сообщение об ошибке, если выполняется встроенное сводное планирование без создания запланированных производственных заказов.</span><span class="sxs-lookup"><span data-stu-id="77e67-116">In version 10.0.16 and later, you will receive an error message if you run the built-in master planning without generating planned production orders.</span></span> <span data-ttu-id="77e67-117">Однако выполнение сводного планирования будет успешно завершено, несмотря на сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="77e67-117">However, the master planning run will be successfully completed despite the error message.</span></span>

<span data-ttu-id="77e67-118">Дополнительные сведения об устаревании встроенного механизма планирования см. в объявлениях в разделе [Удаленные или устаревшие функции в Dynamics 365 Supply Chain Management](../get-started/removed-deprecated-features-scm-updates.md).</span><span class="sxs-lookup"><span data-stu-id="77e67-118">For more information about the obsolescence of the built-in planning engine, see the announcements in [Removed or deprecated features in Dynamics 365 Supply Chain Management](../get-started/removed-deprecated-features-scm-updates.md).</span></span>

## <a name="migration-messages-and-exceptions"></a><span data-ttu-id="77e67-119">Миграция, сообщения и исключения</span><span class="sxs-lookup"><span data-stu-id="77e67-119">Migration, messages, and exceptions</span></span>

<span data-ttu-id="77e67-120">Владельцы существующих сред, которые запускают встроенные средства сводного планирования без создания спланированных производственных заказов, получат сообщения электронной почты с подробными сведениями об этом процессе обработки исключения.</span><span class="sxs-lookup"><span data-stu-id="77e67-120">Owners of existing environments who run the built-in master planning engine without generating planned production orders will receive an email that provides details about the exception process.</span></span> <span data-ttu-id="77e67-121">Рекомендуется работать с партнером, чтобы оценить и спланировать миграцию на оптимизацию планирования.</span><span class="sxs-lookup"><span data-stu-id="77e67-121">We recommend that you work with a partner to evaluate and plan the migration to Planning Optimization.</span></span>

<span data-ttu-id="77e67-122">Как было указано, в версии 10.0.16 или более поздней будет выведено сообщение об ошибке, если выполняется встроенное сводное планирование без создания запланированных производственных заказов.</span><span class="sxs-lookup"><span data-stu-id="77e67-122">As has been mentioned, you will receive an error message in version 10.0.16 and later if you run the built-in master planning without generating planned production orders.</span></span> <span data-ttu-id="77e67-123">Это сообщение об ошибке включает инструкции по миграции и инструкции по запросу исключения.</span><span class="sxs-lookup"><span data-stu-id="77e67-123">This error message includes guidance about migration and instructions for requesting an exception.</span></span>

### <a name="new-deployments"></a><span data-ttu-id="77e67-124">Новые развертывания</span><span class="sxs-lookup"><span data-stu-id="77e67-124">New deployments</span></span>

<span data-ttu-id="77e67-125">Оптимизация планирования должна рассматриваться как механизм сводного планирования по умолчанию для всех новых развертываний в облаке.</span><span class="sxs-lookup"><span data-stu-id="77e67-125">Planning Optimization should be considered the default master planning engine for all new deployments in the cloud.</span></span> <span data-ttu-id="77e67-126">В целом оптимизация планирования должна использоваться для всех новых развертываний, в которых не создаются спланированные производственные заказы при сводном планировании.</span><span class="sxs-lookup"><span data-stu-id="77e67-126">In general, Planning Optimization should be used for all new deployments that don't generate planned production orders during master planning.</span></span> <span data-ttu-id="77e67-127">Если новое развертывание зависит от функциональных возможностей, которые в настоящее время не поддерживаются оптимизацией планирования, можно запросить исключение, чтобы можно было продолжать использовать встроенный механизм сводного планирования.</span><span class="sxs-lookup"><span data-stu-id="77e67-127">If a new deployment depends on functionality that Planning Optimization doesn't currently support, you can request an exception so that you can continue to use the built-in master planning engine.</span></span>

### <a name="existing-deployments"></a><span data-ttu-id="77e67-128">Существующие развертывания</span><span class="sxs-lookup"><span data-stu-id="77e67-128">Existing deployments</span></span>

<span data-ttu-id="77e67-129">Владельцы существующих облачных развертываний, которые зависят от сводного планирования, должны планировать миграцию на оптимизацию планирования.</span><span class="sxs-lookup"><span data-stu-id="77e67-129">Owners of existing cloud-based deployments that depend on master planning should plan to migrate to Planning Optimization.</span></span> <span data-ttu-id="77e67-130">Если ваше реализация зависит от функциональных возможностей, которые в настоящее время не поддерживаются оптимизацией планирования, можно запросить исключение, чтобы можно было продолжать использовать встроенный механизм сводного планирования.</span><span class="sxs-lookup"><span data-stu-id="77e67-130">If your implementation depends on functionality that Planning Optimization doesn't currently support, you can request an exception so that you can continue to use the built-in master planning engine.</span></span>

<span data-ttu-id="77e67-131">Для сред, в которых в настоящее время используются процессы сводного планирования, которые становятся устаревшими, корпорация Майкрософт отправит сообщение электронной почты администратору среды. В этом сообщении будут представлены сведения о действиях, которые необходимы для миграции или запроса исключения.</span><span class="sxs-lookup"><span data-stu-id="77e67-131">For environments that currently use master planning processes that are being made obsolete, Microsoft will send an email to the environment admin. This email will provide information about the actions that are required to migrate or to request an exception.</span></span>

## <a name="the-exception-process"></a><span data-ttu-id="77e67-132">Процесс исключения</span><span class="sxs-lookup"><span data-stu-id="77e67-132">The exception process</span></span>

<span data-ttu-id="77e67-133">Можно запросить исключение, если необходимо продолжать использовать встроенный механизм планирования, так как бизнес-процессы в данный момент сильно зависят от по крайней мере одной функции, которая в настоящее время не реализована в надстройке оптимизации планирования.</span><span class="sxs-lookup"><span data-stu-id="77e67-133">You can request an exception if you must continue to use the built-in master planning engine because your business processes depends heavily on at least one feature that isn't currently implemented in Planning Optimization.</span></span> <span data-ttu-id="77e67-134">Список доступных функций см. в разделе [Анализ соответствия оптимизации планирования](planning-optimization/planning-optimization-fit-analysis.md).</span><span class="sxs-lookup"><span data-stu-id="77e67-134">For a list of available features, see [Planning Optimization fit analysis](planning-optimization/planning-optimization-fit-analysis.md).</span></span>

<span data-ttu-id="77e67-135">В настоящее время исключения для миграции на оптимизацию планирования рассматриваются только в том случае, если ваш процесс сводного планирования не включает производство (то есть, спланированные производственные заказы, созданные с помощью сводного планирования) и вам требуется встроенный механизм сводного планирования за пределами версии 10.0.15.</span><span class="sxs-lookup"><span data-stu-id="77e67-135">Currently, exceptions for Planning Optimization migration are only relevant if your master planning process doesn't include production (that is, planned production orders that are generated by master planning), and you require the built-in master planning engine beyond version 10.0.15.</span></span>

<span data-ttu-id="77e67-136">После появления необходимых функций корпорация Майкрософт обеспечит льготный период до истечения срока действия исключения.</span><span class="sxs-lookup"><span data-stu-id="77e67-136">After the required features become available, Microsoft will provide a grace period until the exception expires.</span></span> <span data-ttu-id="77e67-137">Администратор среды уведомляется о доступности необходимых функций и запуске льготного периода.</span><span class="sxs-lookup"><span data-stu-id="77e67-137">The environment admin will be informed when the required features have become available and the grace period has started.</span></span>

> [!NOTE]
> <span data-ttu-id="77e67-138">Исключение можно запросить только для производственных сред, но не для сред-песочниц.</span><span class="sxs-lookup"><span data-stu-id="77e67-138">You can only request an exception for production environments, not for sandbox environments.</span></span> <span data-ttu-id="77e67-139">Если необходимо отключить ошибку исключения оптимизации планирования в среде песочницы "инфраструктура как услуга" (IaaS), выполните запрос SQL, заданный в разделе [Среда песочницы](#faq-sandbox).</span><span class="sxs-lookup"><span data-stu-id="77e67-139">If you need to disable the Planning Optimization exception error on an infrastructure as a service (IaaS) sandbox environment, run the SQL query provided in [Sandbox environments](#faq-sandbox).</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="77e67-140">Вопросы и ответы</span><span class="sxs-lookup"><span data-stu-id="77e67-140">Frequently asked questions</span></span>

### <a name="sandbox-environments"></a><a name="faq-sandbox"></a><span data-ttu-id="77e67-141">Среды-песочницы</span><span class="sxs-lookup"><span data-stu-id="77e67-141">Sandbox environments</span></span>

<span data-ttu-id="77e67-142">Можно ли использовать встроенное сводное планирование в моей среде-песочнице?</span><span class="sxs-lookup"><span data-stu-id="77e67-142">Can I use built-in master planning on my sandbox environment?</span></span> <span data-ttu-id="77e67-143">Требуется ли исключение?</span><span class="sxs-lookup"><span data-stu-id="77e67-143">Do I need an exception?</span></span>

<span data-ttu-id="77e67-144">**Ответ.** Исключения обычно не относятся к средам-песочницам, поскольку ошибка исключения оптимизации планирования не препятствует успешному выполнению встроенного обработчика сводного планирования.</span><span class="sxs-lookup"><span data-stu-id="77e67-144">**Answer:** Exceptions aren't normally relevant for sandbox environments because the Planning Optimization exception error doesn't prevent the built-in master planning engine from running successfully.</span></span> <span data-ttu-id="77e67-145">Однако, если сообщение об ошибке беспокоит вас, его можно отключить в среде "песочницы" (не Service Fabric), выполнив следующий запрос в базе данных:</span><span class="sxs-lookup"><span data-stu-id="77e67-145">However, if the error message disturbs you, you can disable it on an IaaS (not Service Fabric) sandbox environment by running the following query on your database:</span></span>

```sql
-- Insert or update an enabled flight:
DECLARE @flightName NVARCHAR(100) = 'ReqPlanningOptimizationExceptionToggle';
IF NOT EXISTS (SELECT TOP 1 1 FROM SysFlighting WHERE flightName = @flightName)
    INSERT INTO SYSFLIGHTING(FLIGHTNAME,ENABLED, FLIGHTSERVICEID,PARTITION)
    SELECT @flightName, 1, 12719367,RECID FROM DBO.[PARTITIONS];
ELSE
    UPDATE SysFlighting SET enabled = 1, flightServiceId = 12719367 WHERE flightName = @flightName;
```

### <a name="on-premises-environments"></a><span data-ttu-id="77e67-146">Локальные среды</span><span class="sxs-lookup"><span data-stu-id="77e67-146">On-premises environments</span></span>

<span data-ttu-id="77e67-147">Моя среда является локальной.</span><span class="sxs-lookup"><span data-stu-id="77e67-147">My environment is on-premises.</span></span> <span data-ttu-id="77e67-148">Требуется ли исключение?</span><span class="sxs-lookup"><span data-stu-id="77e67-148">Do I need an exception?</span></span>

<span data-ttu-id="77e67-149">**Ответ.** Нет.</span><span class="sxs-lookup"><span data-stu-id="77e67-149">**Answer:** No.</span></span> <span data-ttu-id="77e67-150">Исключение не требуется для локальных сред.</span><span class="sxs-lookup"><span data-stu-id="77e67-150">An exception isn't required for on-premises environments.</span></span> <span data-ttu-id="77e67-151">Можно продолжать пользоваться встроенным сводным планированием.</span><span class="sxs-lookup"><span data-stu-id="77e67-151">You can continue to use the built-in master planning.</span></span> <span data-ttu-id="77e67-152">Ваш администратор среды получит уведомление, если требуется какое-либо действие.</span><span class="sxs-lookup"><span data-stu-id="77e67-152">Your environment admin will be informed if any action is required.</span></span>

### <a name="production-scenarios"></a><span data-ttu-id="77e67-153">Производственные сценарии</span><span class="sxs-lookup"><span data-stu-id="77e67-153">Production scenarios</span></span>

<span data-ttu-id="77e67-154">Мы используем спланированные производственные заказы, но нас интересует, что произойдет при обновлении до версии 10.0.16.</span><span class="sxs-lookup"><span data-stu-id="77e67-154">We use planned production orders, but I'm concerned about what will happen when we upgrade to version 10.0.16.</span></span> <span data-ttu-id="77e67-155">Следует ли предпринимать какие-либо действия?</span><span class="sxs-lookup"><span data-stu-id="77e67-155">Should I take any action?</span></span>

<span data-ttu-id="77e67-156">**Ответ.** Не стоит беспокоиться.</span><span class="sxs-lookup"><span data-stu-id="77e67-156">**Answer:** You should not be concerned.</span></span> <span data-ttu-id="77e67-157">Можно продолжать пользоваться встроенным сводным планированием в версии 10.0.16.</span><span class="sxs-lookup"><span data-stu-id="77e67-157">You can continue to use the built-in master planning in version 10.0.16.</span></span> <span data-ttu-id="77e67-158">Однако рекомендуется оценить, можно ли начать переход на оптимизацию планирования с текущими функциями.</span><span class="sxs-lookup"><span data-stu-id="77e67-158">However, we recommend that you evaluate whether migration to Planning Optimization can start with the current functionality.</span></span> <span data-ttu-id="77e67-159">Кроме того, рекомендуется следить за информацией о новой функции.</span><span class="sxs-lookup"><span data-stu-id="77e67-159">We also recommend that you remain informed about new functionality.</span></span>

### <a name="email-from-microsoft"></a><span data-ttu-id="77e67-160">Сообщение электронной почты от Майкрософт</span><span class="sxs-lookup"><span data-stu-id="77e67-160">Email from Microsoft</span></span>

<span data-ttu-id="77e67-161">Наш администратор среды получил электронное письмо от Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="77e67-161">Our environment admin received an email from Microsoft.</span></span> <span data-ttu-id="77e67-162">В этом сообщении электронной почты говорится, что следует выполнить миграцию на оптимизацию планирования или запросить исключение.</span><span class="sxs-lookup"><span data-stu-id="77e67-162">This email states that we should migrate to Planning Optimization or request an exception.</span></span> <span data-ttu-id="77e67-163">Нужно ли предпринимать какие-либо действия?</span><span class="sxs-lookup"><span data-stu-id="77e67-163">Do I need to take any action?</span></span>

<span data-ttu-id="77e67-164">**Ответ.** Да.</span><span class="sxs-lookup"><span data-stu-id="77e67-164">**Answer:** Yes.</span></span> <span data-ttu-id="77e67-165">Ваша среда будет затронута, если вы не будете следовать указаниям в сообщении электронной почты.</span><span class="sxs-lookup"><span data-stu-id="77e67-165">Your environment will be affected unless you follow the instructions in the email.</span></span> <span data-ttu-id="77e67-166">Можно либо выполнить миграцию на оптимизацию планирования к указанной дате, либо запросить исключение, используя ссылку в сообщении электронной почты.</span><span class="sxs-lookup"><span data-stu-id="77e67-166">You can either migrate to Planning Optimization by the date specified or request an exception by using the link in the email.</span></span> <span data-ttu-id="77e67-167">Эта ссылка открывает анкету.</span><span class="sxs-lookup"><span data-stu-id="77e67-167">This link opens a questionnaire.</span></span> <span data-ttu-id="77e67-168">После заполнения и отправки этой анкеты вы получите ответ по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="77e67-168">After you've completed and submitted this questionnaire, you will receive a reply via email.</span></span> <span data-ttu-id="77e67-169">Хотя этот процесс выполняется вручную, корпорация Майкрософт пытается отвечать в течение недели после отправки анкеты.</span><span class="sxs-lookup"><span data-stu-id="77e67-169">Although this process is manual, Microsoft tries to reply within a week after the questionnaire is submitted.</span></span>

### <a name="error-messages"></a><span data-ttu-id="77e67-170">Сообщения об ошибках</span><span class="sxs-lookup"><span data-stu-id="77e67-170">Error messages</span></span>

<span data-ttu-id="77e67-171">Используется версия 10.0.16 или более поздняя, и при выполнении сводного планирования выводится следующее сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="77e67-171">I'm using version 10.0.16 or later, and I receive the following error message when I run master planning.</span></span> <span data-ttu-id="77e67-172">Заблокировано ли сводное планирование?</span><span class="sxs-lookup"><span data-stu-id="77e67-172">Is master planning blocked?</span></span>

> <span data-ttu-id="77e67-173">Это сообщение об ошибке выводится из-за того, что встроенный механизм сводного планирования использовался для сценариев, поддерживаемых оптимизацией планирования.</span><span class="sxs-lookup"><span data-stu-id="77e67-173">You receive this error message because the built-in master planning engine was used for scenarios supported by Planning Optimization.</span></span> <span data-ttu-id="77e67-174">Сейчас следует выполнить миграцию на оптимизацию планирования, поскольку текущее встроенное сводное планирование будет устаревшим.</span><span class="sxs-lookup"><span data-stu-id="77e67-174">You should migrate to Planning Optimization now, as the current built-in master planning will be deprecated.</span></span> <span data-ttu-id="77e67-175">Обратите внимание, что выполнение этого сводного планирования успешно завершено.</span><span class="sxs-lookup"><span data-stu-id="77e67-175">Note that this master planning run did complete successfully.</span></span>
>
> <span data-ttu-id="77e67-176">В случае, когда миграция имеет сильную зависимость от ожидающих функций, может быть запрошено исключение для продолжения использования встроенного механизма сводного планирования.</span><span class="sxs-lookup"><span data-stu-id="77e67-176">In case your migration has strong dependencies on pending features, an exception to continued usage of the built-in master planning engine can be requested.</span></span>
>
> <span data-ttu-id="77e67-177">Заполните следующую анкету, чтобы приступить к работе, и, если требуется, запросить исключение из миграции на оптимизацию планирования.</span><span class="sxs-lookup"><span data-stu-id="77e67-177">Please complete the following questionnaire to get started and if relevant request exception from migration to Planning Optimization.</span></span>

<span data-ttu-id="77e67-178">**Ответ.** Нет, сводное планирование не заблокировано.</span><span class="sxs-lookup"><span data-stu-id="77e67-178">**Answer:** No, master planning isn't blocked.</span></span> <span data-ttu-id="77e67-179">Выполнение сводного планирования было успешно завершено, и результат можно использовать обычным способом.</span><span class="sxs-lookup"><span data-stu-id="77e67-179">Your master planning run was successfully completed, and you can use the result in the usual way.</span></span> <span data-ttu-id="77e67-180">Однако, чтобы избежать получения этого сообщения об ошибке в ходе будущих запусков сводного планирования, необходимо либо немедленно выполнить миграцию на оптимизацию планирования, либо запросить исключение, используя ссылку в сообщении об ошибке.</span><span class="sxs-lookup"><span data-stu-id="77e67-180">However, to avoid receiving this error message during future master planning runs, you must either migrate to Planning Optimization immediately or request an exception by using the link in the error message.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]