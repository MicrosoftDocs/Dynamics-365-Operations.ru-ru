---
title: Переход на оптимизацию планирования для сводного планирования
description: В этой теме приводятся сведения о новом механизме сводного планирования, оптимизации планирования, и о миграции с существующего механизма.
author: ChristianRytt
manager: tfehr
ms.date: 05/11/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 19311
ms.assetid: 5ffb1486-2e08-4cdc-bd34-b47ae795ef0f
ms.search.region: Global
ms.search.industry: ''
ms.author: crytt
ms.search.validFrom: 2020-11-05
ms.dyn365.ops.version: ''
ms.openlocfilehash: 94e5668da45c524ed9ab9eef10b40d0fb5336a65
ms.sourcegitcommit: deb711c92251ed48cdf20ea514d03461c26a2262
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/25/2020
ms.locfileid: "4646004"
---
# <a name="migration-to-planning-optimization-for-master-planning"></a>Переход на оптимизацию планирования для сводного планирования

[!include [banner](../includes/banner.md)]

Встроенный механизм сводного планирования планируется сделать устаревшим (устарело). Он заменяется надстройкой оптимизации планирования для Microsoft Dynamics 365 Supply Chain Management. В этой теме содержатся сведения о влиянии на новые и существующие развертывания. Она включает информацию о необходимых действиях.

Оптимизация планирования обеспечивает вычисления сводного планирования вне Supply Chain Management и его базы данных SQL Azure. Преимущества, связанные с оптимизацией планирования, включают улучшенную производительность и минимальное воздействие на базу данных SQL во время выполнения сводного планирования. Поскольку быстрое планирование может выполняться даже во время работы в офисе, планировщики могут немедленно реагировать на изменения спроса или параметров.

Дополнительные сведения об оптимизации планирования см. в разделе [Обзор оптимизации планирования](planning-optimization/planning-optimization-overview.md).

## <a name="obsolescence-of-the-existing-master-planning-engine"></a>Устаревание существующего механизма сводного планирования

Корпорация Майкрософт работает над тем, чтобы сделать встроенное средство планирования устаревшим в пользу оптимизации планирования. Это изменение затрагивает все облачные среды. Локальные установки не затрагиваются. В версии 10.0.16 или более поздней будет выведено сообщение об ошибке, если выполняется встроенное сводное планирование без создания запланированных производственных заказов. Однако выполнение сводного планирования будет успешно завершено, несмотря на сообщение об ошибке.

Дополнительные сведения об устаревании встроенного механизма планирования см. в объявлениях в разделе [Удаленные или устаревшие функции в Dynamics 365 Supply Chain Management](../get-started/removed-deprecated-features-scm-updates.md).

## <a name="migration-messages-and-exceptions"></a>Миграция, сообщения и исключения

Владельцы существующих сред, которые запускают встроенные средства сводного планирования без создания спланированных производственных заказов, получат сообщения электронной почты с подробными сведениями об этом процессе обработки исключения. Рекомендуется работать с партнером, чтобы оценить и спланировать миграцию на оптимизацию планирования.

Как было указано, в версии 10.0.16 или более поздней будет выведено сообщение об ошибке, если выполняется встроенное сводное планирование без создания запланированных производственных заказов. Это сообщение об ошибке включает инструкции по миграции и инструкции по запросу исключения.

### <a name="new-deployments"></a>Новые развертывания

Оптимизация планирования должна рассматриваться как механизм сводного планирования по умолчанию для всех новых развертываний в облаке. В целом оптимизация планирования должна использоваться для всех новых развертываний, в которых не создаются спланированные производственные заказы при сводном планировании. Если новое развертывание зависит от функциональных возможностей, которые в настоящее время не поддерживаются оптимизацией планирования, можно запросить исключение, чтобы можно было продолжать использовать встроенный механизм сводного планирования.

### <a name="existing-deployments"></a>Существующие развертывания

Владельцы существующих облачных развертываний, которые зависят от сводного планирования, должны планировать миграцию на оптимизацию планирования. Если ваше реализация зависит от функциональных возможностей, которые в настоящее время не поддерживаются оптимизацией планирования, можно запросить исключение, чтобы можно было продолжать использовать встроенный механизм сводного планирования.

Для сред, в которых в настоящее время используются процессы сводного планирования, которые становятся устаревшими, корпорация Майкрософт отправит сообщение электронной почты администратору среды. В этом сообщении будут представлены сведения о действиях, которые необходимы для миграции или запроса исключения.

## <a name="the-exception-process"></a>Процесс исключения

Можно запросить исключение, если необходимо продолжать использовать встроенный механизм планирования, так как бизнес-процессы в данный момент сильно зависят от по крайней мере одной функции, которая в настоящее время не реализована в надстройке оптимизации планирования. Список доступных функций см. в разделе [Анализ соответствия оптимизации планирования](planning-optimization/planning-optimization-fit-analysis.md).

В настоящее время исключения для миграции на оптимизацию планирования рассматриваются только в том случае, если ваш процесс сводного планирования не включает производство (то есть, спланированные производственные заказы, созданные с помощью сводного планирования) и вам требуется встроенный механизм сводного планирования за пределами версии 10.0.15.

После появления необходимых функций корпорация Майкрософт обеспечит льготный период до истечения срока действия исключения. Администратор среды уведомляется о доступности необходимых функций и запуске льготного периода.

> [!NOTE]
> Исключение можно запросить только для производственных сред, но не для сред-песочниц. Если необходимо отключить ошибку исключения оптимизации планирования в среде песочницы "инфраструктура как услуга" (IaaS), выполните запрос SQL, заданный в разделе [Среда песочницы](#faq-sandbox).

## <a name="frequently-asked-questions"></a>Вопросы и ответы

### <a name="sandbox-environments"></a><a name="faq-sandbox"></a>Среды-песочницы

Можно ли использовать встроенное сводное планирование в моей среде-песочнице? Требуется ли исключение?

**Ответ.** Исключения обычно не относятся к средам-песочницам, поскольку ошибка исключения оптимизации планирования не препятствует успешному выполнению встроенного обработчика сводного планирования. Однако, если сообщение об ошибке беспокоит вас, его можно отключить в среде "песочницы" (не Service Fabric), выполнив следующий запрос в базе данных:

```sql
-- Insert or update an enabled flight:
DECLARE @flightName NVARCHAR(100) = 'ReqPlanningOptimizationExceptionToggle';
IF NOT EXISTS (SELECT TOP 1 1 FROM SysFlighting WHERE flightName = @flightName)
    INSERT INTO SYSFLIGHTING(FLIGHTNAME,ENABLED, FLIGHTSERVICEID,PARTITION)
    SELECT @flightName, 1, 12719367,RECID FROM DBO.[PARTITIONS];
ELSE
    UPDATE SysFlighting SET enabled = 1, flightServiceId = 12719367 WHERE flightName = @flightName;
```

### <a name="on-premises-environments"></a>Локальные среды

Моя среда является локальной. Требуется ли исключение?

**Ответ.** Нет. Исключение не требуется для локальных сред. Можно продолжать пользоваться встроенным сводным планированием. Ваш администратор среды получит уведомление, если требуется какое-либо действие.

### <a name="production-scenarios"></a>Производственные сценарии

Мы используем спланированные производственные заказы, но нас интересует, что произойдет при обновлении до версии 10.0.16. Следует ли предпринимать какие-либо действия?

**Ответ.** Не стоит беспокоиться. Можно продолжать пользоваться встроенным сводным планированием в версии 10.0.16. Однако рекомендуется оценить, можно ли начать переход на оптимизацию планирования с текущими функциями. Кроме того, рекомендуется следить за информацией о новой функции.

### <a name="email-from-microsoft"></a>Сообщение электронной почты от Майкрософт

Наш администратор среды получил электронное письмо от Майкрософт. В этом сообщении электронной почты говорится, что следует выполнить миграцию на оптимизацию планирования или запросить исключение. Нужно ли предпринимать какие-либо действия?

**Ответ.** Да. Ваша среда будет затронута, если вы не будете следовать указаниям в сообщении электронной почты. Можно либо выполнить миграцию на оптимизацию планирования к указанной дате, либо запросить исключение, используя ссылку в сообщении электронной почты. Эта ссылка открывает анкету. После заполнения и отправки этой анкеты вы получите ответ по электронной почте. Хотя этот процесс выполняется вручную, корпорация Майкрософт пытается отвечать в течение недели после отправки анкеты.

### <a name="error-messages"></a>Сообщения об ошибках

Используется версия 10.0.16 или более поздняя, и при выполнении сводного планирования выводится следующее сообщение об ошибке. Заблокировано ли сводное планирование?

> Это сообщение об ошибке выводится из-за того, что встроенный механизм сводного планирования использовался для сценариев, поддерживаемых оптимизацией планирования. Сейчас следует выполнить миграцию на оптимизацию планирования, поскольку текущее встроенное сводное планирование будет устаревшим. Обратите внимание, что выполнение этого сводного планирования успешно завершено.
>
> В случае, когда миграция имеет сильную зависимость от ожидающих функций, может быть запрошено исключение для продолжения использования встроенного механизма сводного планирования.
>
> Заполните следующую анкету, чтобы приступить к работе, и, если требуется, запросить исключение из миграции на оптимизацию планирования.

**Ответ.** Нет, сводное планирование не заблокировано. Выполнение сводного планирования было успешно завершено, и результат можно использовать обычным способом. Однако, чтобы избежать получения этого сообщения об ошибке в ходе будущих запусков сводного планирования, необходимо либо немедленно выполнить миграцию на оптимизацию планирования, либо запросить исключение, используя ссылку в сообщении об ошибке.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]