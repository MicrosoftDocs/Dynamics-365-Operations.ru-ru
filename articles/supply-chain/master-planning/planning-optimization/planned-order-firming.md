---
title: Утверждение спланированных заказов
description: В этой теме объясняется, как утвердить спланированные заказы. При подтверждении спланированных заказов они становятся фактическими заказами на покупку, заказами на перемещение или производственными заказами.
author: ChristianRytt
ms.date: 04/22/2021
ms.search.form: ReqTransPo, ReqTransFirmLog
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: crytt
ms.search.validFrom: 2021-04-22
ms.dyn365.ops.version: 10.0.19
ms.openlocfilehash: ac8b63b98c37c7429cee792b85f492f3ca1d57c7
ms.sourcegitcommit: 365092f735310990e82516110141d42aaf04e654
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/27/2021
ms.locfileid: "6103636"
---
# <a name="firm-planned-orders"></a><span data-ttu-id="080d2-104">Утверждение спланированных заказов</span><span class="sxs-lookup"><span data-stu-id="080d2-104">Firm planned orders</span></span>

[!include [banner](../../includes/banner.md)]

<span data-ttu-id="080d2-105">Спланированные заказы должны быть *подтверждены* (то есть выпущены) как часть процесса сводного планирования.</span><span class="sxs-lookup"><span data-stu-id="080d2-105">Planned orders must be *firmed* (that is, released) as part of the master planning process.</span></span> <span data-ttu-id="080d2-106">При подтверждении спланированных заказов они становятся фактическими заказами на покупку, заказами на перемещение или производственными заказами.</span><span class="sxs-lookup"><span data-stu-id="080d2-106">When planned orders are firmed, they become actual purchase orders, transfer orders, or production orders.</span></span> <span data-ttu-id="080d2-107">Эти заказы также известны как *выпущенные заказы* или *открытые заказы*.</span><span class="sxs-lookup"><span data-stu-id="080d2-107">These orders are also known as *released orders* or *open orders*.</span></span>

<span data-ttu-id="080d2-108">Существует три метода подтверждения спланированных заказов:</span><span class="sxs-lookup"><span data-stu-id="080d2-108">There are three methods for firming planned orders:</span></span>

- <span data-ttu-id="080d2-109">**Подтверждение вручную** — выберите в списке конкретный спланированный заказ, а затем вручную запустите процесс.</span><span class="sxs-lookup"><span data-stu-id="080d2-109">**Manual firming** – Select specific planned orders in a list, and then manually start the process.</span></span>
- <span data-ttu-id="080d2-110">**Автоматическое подтверждение** — определите временную границу подтверждения по умолчанию для групп покрытия, отдельных номенклатур и комбинаций номенклатур и сводных планов.</span><span class="sxs-lookup"><span data-stu-id="080d2-110">**Auto-firming** – Define a default firming time fence for coverage groups, individual items, and combinations of items and master plans.</span></span> <span data-ttu-id="080d2-111">Затем во время выполнения сводного планирования спланированные заказы будут автоматически подтверждены, если дата заказа находится в пределах заданной временной границы для подтверждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-111">Then, during master planning runs, planned orders will automatically be firmed if the order date is within the specified time fence for firming.</span></span>
- <span data-ttu-id="080d2-112">**Подтверждение на основе запроса** — определите запрос для выбора спланированных заказов на основе их свойств.</span><span class="sxs-lookup"><span data-stu-id="080d2-112">**Query-based firming** – Define a query to select planned orders based on their properties.</span></span> <span data-ttu-id="080d2-113">Можно настроить пакетное задание для выполнения запроса и подтверждения совпадающих заказов по регулярному расписанию.</span><span class="sxs-lookup"><span data-stu-id="080d2-113">You can set up a batch job to run the query and firm matching orders on a regular schedule.</span></span>

<span data-ttu-id="080d2-114">В этом разделе подробно описывается каждый из методов.</span><span class="sxs-lookup"><span data-stu-id="080d2-114">This topic describes each method in detail.</span></span>

## <a name="enable-the-features-that-are-described-in-this-topic"></a><a name="enable-features"></a><span data-ttu-id="080d2-115">Включите функции, описанные в этой теме</span><span class="sxs-lookup"><span data-stu-id="080d2-115">Enable the features that are described in this topic</span></span>

<span data-ttu-id="080d2-116">Большинство функций спланированного заказа доступны во всех стандартных установках Microsoft Dynamics 365 Supply Chain Management, в которых используется оптимизация планирования.</span><span class="sxs-lookup"><span data-stu-id="080d2-116">Most planned order features are available in all standard installations of Microsoft Dynamics 365 Supply Chain Management that use Planning Optimization.</span></span> <span data-ttu-id="080d2-117">Однако несколько функций, описанных в этом разделе, должны быть включены в управлении функциями, прежде чем их можно будет использовать.</span><span class="sxs-lookup"><span data-stu-id="080d2-117">However, a few of the features that are described in this topic must be turned on in Feature management before you can use them.</span></span>

### <a name="enable-parallelized-firming-of-planned-orders"></a><span data-ttu-id="080d2-118">Включение параллельного подтверждения спланированных заказов</span><span class="sxs-lookup"><span data-stu-id="080d2-118">Enable parallelized firming of planned orders</span></span>

<span data-ttu-id="080d2-119">Параллельное подтверждение помогает ускорить процесс подтверждения путем параллельного выполнения в нескольких потоках.</span><span class="sxs-lookup"><span data-stu-id="080d2-119">Parallelized firming helps speed up the firming process by parallelizing it across multiple threads.</span></span> <span data-ttu-id="080d2-120">Этот подход может быть полезен, если подтверждено много спланированных заказов.</span><span class="sxs-lookup"><span data-stu-id="080d2-120">This approach can be useful when many planned orders are firmed.</span></span>

<span data-ttu-id="080d2-121">Чтобы эта функция была доступна в системе, перейдите [Управление функциями](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) и включите функцию *Параллельное подтверждение спланированных заказов*.</span><span class="sxs-lookup"><span data-stu-id="080d2-121">To make this functionality available in your system, go to [Feature management](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md), and turn on the *Parallel firming of planned orders* feature.</span></span>

### <a name="enable-planned-order-firming-with-filtering"></a><span data-ttu-id="080d2-122">Включение подтверждения спланированного заказа с фильтрацией</span><span class="sxs-lookup"><span data-stu-id="080d2-122">Enable planned order firming with filtering</span></span>

<span data-ttu-id="080d2-123">При подтверждении спланированного заказа с фильтрацией можно определить логические критерии для выбора спланированных заказов для подтверждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-123">Planned order firming with filtering lets you define logical criteria for selecting which planned orders to firm.</span></span> <span data-ttu-id="080d2-124">Можно также просмотреть выбранные спланированные заказы, выполнить процесс в фоновом режиме и/или запланировать его как пакетное задание.</span><span class="sxs-lookup"><span data-stu-id="080d2-124">You can also preview which planned orders were selected, run the process in the background, and/or schedule it as a batch job.</span></span>

<span data-ttu-id="080d2-125">Чтобы эта функция была доступна в системе, перейдите [Управление функциями](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) и включите функцию *Подтверждение спланированных заказов с фильтрацией*.</span><span class="sxs-lookup"><span data-stu-id="080d2-125">To make this functionality available in your system, go to [Feature management](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md), and turn on the *Planned order firming with filtering* feature.</span></span>

### <a name="enable-auto-firming-for-planning-optimization"></a><span data-ttu-id="080d2-126">Включение автоматического подтверждения для оптимизации планирования</span><span class="sxs-lookup"><span data-stu-id="080d2-126">Enable auto-firming for Planning Optimization</span></span>

<span data-ttu-id="080d2-127">Автоматическое подтверждение позволяет подтверждать спланированные заказы в рамках процесса сводного планирования в переделах временной границы подтверждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-127">Automatic firming lets you firm planned orders as part of the master planning process during the time fence for firming.</span></span> <span data-ttu-id="080d2-128">Автоматическое подтверждение всегда поддерживается для механизма планирования, встроенного в Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="080d2-128">Auto-firming is always supported for the planning engine that is built into Supply Chain Management.</span></span> <span data-ttu-id="080d2-129">Однако, чтобы использовать его в оптимизации планирования, необходимо включить функцию.</span><span class="sxs-lookup"><span data-stu-id="080d2-129">However, to use it with Planning Optimization too, you must turn on the feature.</span></span>

<span data-ttu-id="080d2-130">Чтобы эта функция была доступна в системе, перейдите [Управление функциями](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) и включите функцию *Автоматическое подтверждение для оптимизации планирования*.</span><span class="sxs-lookup"><span data-stu-id="080d2-130">To make this functionality available in your system, go to [Feature management](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md), and turn on the *Auto-firming for Planning Optimization* feature.</span></span>

## <a name="manually-firm-planned-orders"></a><span data-ttu-id="080d2-131">Подтверждение спланированных заказов вручную</span><span class="sxs-lookup"><span data-stu-id="080d2-131">Manually firm planned orders</span></span>

<span data-ttu-id="080d2-132">Чтобы вручную подтвердить спланированные заказы, найдите и выберите спланированные заказы, которые необходимо подтвердить, а затем запустите процесс подтверждения вручную.</span><span class="sxs-lookup"><span data-stu-id="080d2-132">To manually firm planned orders, you find and select the planned orders that you want to firm, and then you manually start the firming process.</span></span>

1. <span data-ttu-id="080d2-133">[Откройте любую страницу списка спланированных заказов](approved-planned-order.md#view-planned-orders).</span><span class="sxs-lookup"><span data-stu-id="080d2-133">[Open any planned orders list page](approved-planned-order.md#view-planned-orders).</span></span>
1. <span data-ttu-id="080d2-134">Используйте поле **Фильтр**, **План** и заголовки столбцов, чтобы отфильтровать и отсортировать список таким образом, чтобы можно было найти требуемые спланированные заказы.</span><span class="sxs-lookup"><span data-stu-id="080d2-134">Use the **Filter** field, **Plan** field, and column headings to filter and sort the list so that you can find the planned orders that you're looking for.</span></span>
1. <span data-ttu-id="080d2-135">Выберите флажок для каждого спланированного заказа, которые необходимо подтвердить.</span><span class="sxs-lookup"><span data-stu-id="080d2-135">Select the check box for each planned order that you want to firm.</span></span> <span data-ttu-id="080d2-136">Если необходимо подтвердить все спланированные заказы, которые в настоящее время указаны на странице (на основе примененных фильтров), пропустите этот шаг.</span><span class="sxs-lookup"><span data-stu-id="080d2-136">If you want to firm all the planned orders that are currently listed on the page (based on the filters that you applied), skip this step.</span></span>
1. <span data-ttu-id="080d2-137">В области действий нажмите одну из следующих кнопок:</span><span class="sxs-lookup"><span data-stu-id="080d2-137">On the Action Pane, select one of the following buttons:</span></span>

    - <span data-ttu-id="080d2-138">**Подтвердить** — подтвердить только выбранные спланированные заказы.</span><span class="sxs-lookup"><span data-stu-id="080d2-138">**Firm** – Firm only the selected planned orders.</span></span>
    - <span data-ttu-id="080d2-139">**Подтвердить все** — подтвердить все спланированные заказы, выбранные на странице (на основе примененных фильтров), независимо от выбранных флажков.</span><span class="sxs-lookup"><span data-stu-id="080d2-139">**Firm all** – Firm all the planned orders that are currently listed on the page (based on the filters that you applied), regardless of any check boxes that are selected.</span></span> <span data-ttu-id="080d2-140">Этот параметр может быть полезен при подтверждении большого количества спланированных заказов.</span><span class="sxs-lookup"><span data-stu-id="080d2-140">This option can be useful if you're firming many planned orders.</span></span>

1. <span data-ttu-id="080d2-141">В диалоговом окне **Подтверждение** на экспресс-вкладке **Параметры** установите следующие поля.</span><span class="sxs-lookup"><span data-stu-id="080d2-141">In the **Firming** dialog box, on the **Parameters** FastTab, set the following fields.</span></span> <span data-ttu-id="080d2-142">(Многие из этих полей получают значения по умолчанию из вкладки **Стандартное обновление** на странице **Параметры сводного планирования**.)</span><span class="sxs-lookup"><span data-stu-id="080d2-142">(Many of these fields take their default values from the **Standard update** tab on the **Master planning parameters** page.)</span></span>

    - <span data-ttu-id="080d2-143">**Обновить маркировку** — выберите политику складской маркировки для использования при подтверждении спланированных заказов.</span><span class="sxs-lookup"><span data-stu-id="080d2-143">**Update marking** – Select the inventory marking policy to use when planned orders are firmed.</span></span>
    - <span data-ttu-id="080d2-144">**Прервать подтверждение в случае ошибки** — установите этот параметр как *Да*, чтобы прервать подтверждение всех выбранных спланированных заказов, если в одном из них произошла ошибка.</span><span class="sxs-lookup"><span data-stu-id="080d2-144">**Stop firming if an error occurs** – Set this option to *Yes* to stop firming all selected planned orders if an error occurs in one of them.</span></span> <span data-ttu-id="080d2-145">Этот параметр должен иметь значение *Нет*, если для параметра **Параллельное подтверждение** задано значение *Да*.</span><span class="sxs-lookup"><span data-stu-id="080d2-145">This option must be set to *No* if the **Parallelize firming** option is set to *Yes*.</span></span>
    - <span data-ttu-id="080d2-146">**Параллельное подтверждение** — этот параметр доступен только в том случае, если функция [*Параллельное подтверждение спланированных заказов*](#enable-features) включена в вашей и если было выбрано два или более спланированных заказов для подтверждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-146">**Parallelize firming** – This option is available only if the [*Parallel firming of planned orders* feature](#enable-features) is turned on in your system, and if you've selected two or more planned orders for firming.</span></span> <span data-ttu-id="080d2-147">Задайте значение *Да*, чтобы параллельно выполнять процессы подтверждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-147">Set it to *Yes* to run the firming processes in parallel.</span></span> <span data-ttu-id="080d2-148">Параллельное подтверждение может помочь повысить производительность.</span><span class="sxs-lookup"><span data-stu-id="080d2-148">Parallel firming can help improve performance.</span></span>
    - <span data-ttu-id="080d2-149">**Количество потоков** — этот параметр доступен только в том случае, если функция [*Параллельное подтверждение спланированных заказов*](#enable-features) включена в вашей и для параметра **Параллельное подтверждение** выбрано значение *Да*.</span><span class="sxs-lookup"><span data-stu-id="080d2-149">**Number of threads** – This option is available only if the [*Parallel firming of planned orders* feature](#enable-features) is turned on in your system, and if you've set the **Parallelize firming** option to *Yes*.</span></span> <span data-ttu-id="080d2-150">Введите число потоков, используемых для параллельного выполнения подтверждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-150">Enter the number of threads to use to parallelize the firming process.</span></span> <span data-ttu-id="080d2-151">Советы по использованию этого параметра в сводном планировании см. в разделе [Повышение производительности сводного планирования](../master-planning-performance.md#number-of-threads).</span><span class="sxs-lookup"><span data-stu-id="080d2-151">For advice about how to use this option in master planning, see [Improve master planning performance](../master-planning-performance.md#number-of-threads).</span></span>

        > [!NOTE]
        > <span data-ttu-id="080d2-152">Значение *0* (ноль) для поля **Количество потоков** увеличивает время выполнения сводного планирования.</span><span class="sxs-lookup"><span data-stu-id="080d2-152">A value of *0* (zero) for the **Number of threads** field increases the running time of master planning.</span></span> <span data-ttu-id="080d2-153">Поэтому рекомендуется всегда задавать в этом поле значение больше 0.</span><span class="sxs-lookup"><span data-stu-id="080d2-153">Therefore, we recommend that you always set this field to a value that is more than 0.</span></span>

    - <span data-ttu-id="080d2-154">**Группировать по поставщику** — установите этот параметр как *Да*, чтобы сгруппировать спланированные заказы на покупку и создать один заказ на покупку для каждого поставщика в процессе подтверждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-154">**Group by vendor** – Set this option to *Yes* to group planned purchase orders and create one purchase order per vendor during firming.</span></span> <span data-ttu-id="080d2-155">Либо можно создать один заказ на покупку с одной строкой для каждого спланированного заказа.</span><span class="sxs-lookup"><span data-stu-id="080d2-155">Alternatively, you can create one purchase order that has one line for each planned order.</span></span>
    - <span data-ttu-id="080d2-156">**Группировать по группе закупщиков** — задайте для этого параметра значение *Да*, чтобы сгруппировать спланированные заказы на покупку и создать один заказ на покупку, объединяющий поставщика и группу закупщиков.</span><span class="sxs-lookup"><span data-stu-id="080d2-156">**Group by buyer group** – Set this option to *Yes* to group planned purchase orders and create one purchase order that combines the vendor and buyer group.</span></span> <span data-ttu-id="080d2-157">Чтобы использовать этот параметр, необходимо задать параметр **Группировать по поставщику** как *Да*.</span><span class="sxs-lookup"><span data-stu-id="080d2-157">To use this option, you must also set the **Group by vendor** option to *Yes*.</span></span>
    - <span data-ttu-id="080d2-158">**Группировать по договорам покупки** — установите этот параметр в положение *Да*, чтобы сгруппировать спланированные заказы на покупку, имеющие того же поставщика в качестве существующих договоров на покупку, и создать один заказ на покупку для каждого договора покупки.</span><span class="sxs-lookup"><span data-stu-id="080d2-158">**Group by purchase agreement** – Set this option to *Yes* to group planned purchase orders that have the same vendor as existing purchase agreements and create one purchase order per purchase agreement.</span></span> <span data-ttu-id="080d2-159">Этот параметр автоматически включается, когда включен параметр **Группировать по поставщику**.</span><span class="sxs-lookup"><span data-stu-id="080d2-159">This option is automatically enabled when **Group by vendor** is enabled.</span></span> <span data-ttu-id="080d2-160">Для использования **Группировать по договорам покупки** для параметра **Поиск договоров покупки** необходимо установить значение *Да* на странице **Параметры сводного планирования**.</span><span class="sxs-lookup"><span data-stu-id="080d2-160">To use **Group by purchase agreement**, **Find purchase agreement** must be set to *Yes* on the **Master planning parameters** page.</span></span>
    - <span data-ttu-id="080d2-161">**Группировать по периоду** (в разделе **Заказы на покупку**) — выберите период, по которому необходимо сгруппировать спланированные заказы на покупку.</span><span class="sxs-lookup"><span data-stu-id="080d2-161">**Group by period** (in the **Purchase orders** section) – Select the period to group planned purchase orders by.</span></span> <span data-ttu-id="080d2-162">Чтобы использовать этот параметр, необходимо установить параметр **Группировать по поставщику**.</span><span class="sxs-lookup"><span data-stu-id="080d2-162">To use this option, you must also select the **Group by vendor** option.</span></span>
    - <span data-ttu-id="080d2-163">**Группировать по периоду** (в разделе **Перемещения**) — выберите период, по которому необходимо сгруппировать спланированные заказы на перемещение.</span><span class="sxs-lookup"><span data-stu-id="080d2-163">**Group by period** (in the **Transfers** section) – Select the period to group planned transfer orders by.</span></span> <span data-ttu-id="080d2-164">Заказы будут сгруппированы на основе значений **Со склада** и **На склад**.</span><span class="sxs-lookup"><span data-stu-id="080d2-164">The orders will be grouped based on **From warehouse** and **To warehouse** values.</span></span>

    <span data-ttu-id="080d2-165">![Экспресс-вкладка параметров в диалоговом окне подтверждения](./media/manual-firming.png "Экспресс-вкладка параметров в диалоговом окне подтверждения")</span><span class="sxs-lookup"><span data-stu-id="080d2-165">![Parameters FastTab in the Firming dialog box](./media/manual-firming.png "Parameters FastTab in the Firming dialog box")</span></span>

1. <span data-ttu-id="080d2-166">На Экспресс-вкладке **Выполнять в фоновый режиме** настройте задание таким образом, чтобы оно выполнялось в пакетном режиме.</span><span class="sxs-lookup"><span data-stu-id="080d2-166">On the **Run in the background** FastTab, set up the job so that it runs in batch mode.</span></span> <span data-ttu-id="080d2-167">Однако при выполнении подтверждения вручную нет смысла настраивать повторяющийся график.</span><span class="sxs-lookup"><span data-stu-id="080d2-167">However, it doesn't make sense to set up a recurrent schedule when you're doing manual firming.</span></span> <span data-ttu-id="080d2-168">Поля работают так же, как они работают для других типов [фоновых заданий](../../../fin-ops-core/dev-itpro/sysadmin/batch-processing-overview.md) в Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="080d2-168">The fields work just as they work for other types of [background jobs](../../../fin-ops-core/dev-itpro/sysadmin/batch-processing-overview.md) in Supply Chain Management.</span></span> <span data-ttu-id="080d2-169">Однако для подтверждения вручную пакетное задание будет обрабатывать только выбранные в данный момент спланированные заказы.</span><span class="sxs-lookup"><span data-stu-id="080d2-169">However, for manual firming, the batch job will process only the currently selected planned orders.</span></span> <span data-ttu-id="080d2-170">При этом не будут обрабатываться никакие заказы, соответствующие фильтрам, которые в данный момент применены на странице.</span><span class="sxs-lookup"><span data-stu-id="080d2-170">It won't process any orders that fit the filters that are currently applied on the page.</span></span>
1. <span data-ttu-id="080d2-171">Выберите **ОК**, чтобы применить настройки и создать спланированные заказы.</span><span class="sxs-lookup"><span data-stu-id="080d2-171">Select **OK** to apply your settings and generate the firmed orders.</span></span>

## <a name="auto-firm-planned-orders"></a><span data-ttu-id="080d2-172">Автоматическое подтверждение спланированных заказов</span><span class="sxs-lookup"><span data-stu-id="080d2-172">Auto-firm planned orders</span></span>

<span data-ttu-id="080d2-173">Автоматическое подтверждение позволяет подтверждать спланированные заказы в рамках процесса сводного планирования.</span><span class="sxs-lookup"><span data-stu-id="080d2-173">Automatic firming lets you firm planned orders as part of the master planning process.</span></span> <span data-ttu-id="080d2-174">Можно определить временную границу подтверждения по умолчанию для групп покрытия, отдельных номенклатур и комбинаций номенклатур и сводных планов.</span><span class="sxs-lookup"><span data-stu-id="080d2-174">You can define a firming time fence for coverage groups, individual items, and combinations of items and master plans.</span></span> <span data-ttu-id="080d2-175">Затем во время выполнения сводного планирования спланированные заказы будут автоматически подтверждены, если дата заказа находится в пределах заданной временной границы для подтверждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-175">Then, during master planning runs, planned orders will automatically be firmed if the order date is within the specified time fence for firming.</span></span> <span data-ttu-id="080d2-176">Спланированные заказы, созданные оптимизацией планирования, и встроенная операция сводного планирования обрабатывают дату заказа (то есть дату начала) по-разному.</span><span class="sxs-lookup"><span data-stu-id="080d2-176">Planned orders that are generated by Planning Optimization and the built-in master planning operation handle the order date (that is, the start date) differently.</span></span>

> [!NOTE]
> <span data-ttu-id="080d2-177">Автоматическое подтверждение спланированных заказов на покупку может выполняться только для номенклатур, связанных с поставщиком.</span><span class="sxs-lookup"><span data-stu-id="080d2-177">Auto-firming of planned purchase orders can occur only for items that are associated with a vendor.</span></span>
> 
> <span data-ttu-id="080d2-178">Утвержденные производные заказы (то есть субподрядные заказы на покупку) будут иметь статус *На рассмотрении*, когда включено отслеживание изменений.</span><span class="sxs-lookup"><span data-stu-id="080d2-178">Derived orders (that is, subcontract purchase orders) that are firmed will have a status of *In-review* if change tracking is turned on.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="080d2-179">Перед тем как функция, описанная в этом разделе, может быть использована при оптимизации планирования, в вашей системе должна быть включена функция [*Автоматическое подтверждение для оптимизации планирования*](#enable-features), как описано в начале этого раздела.</span><span class="sxs-lookup"><span data-stu-id="080d2-179">Before the feature that is described in this section can be used with Planning Optimization, the [*Auto-firming for Planning Optimization* feature](#enable-features) must be turned on in your system, as described at the beginning of this topic.</span></span> <span data-ttu-id="080d2-180">Автоматическое подтверждение всегда может использоваться со встроенным механизмом сводного планирования.</span><span class="sxs-lookup"><span data-stu-id="080d2-180">Auto-firming can always be used with the built-in master planning engine.</span></span>

### <a name="auto-firming-with-planning-optimization-vs-the-built-in-planning-engine"></a><span data-ttu-id="080d2-181">Автоматическое подтверждение с оптимизацией плана и встроенным механизмом планирования</span><span class="sxs-lookup"><span data-stu-id="080d2-181">Auto-firming with Planning Optimization vs. the built-in planning engine</span></span>

<span data-ttu-id="080d2-182">Для автоматического подтверждения спланированных заказов можно использовать как оптимизацию планирования, так и встроенный механизм планирования.</span><span class="sxs-lookup"><span data-stu-id="080d2-182">Both Planning Optimization and the built-in planning engine can be used to auto-firm planned orders.</span></span> <span data-ttu-id="080d2-183">Однако существуют некоторые важные различия.</span><span class="sxs-lookup"><span data-stu-id="080d2-183">However, there are some important differences.</span></span> <span data-ttu-id="080d2-184">Например, в то время как в оптимизации планирования используется дату заказа (то есть дата начала), чтобы определить, какие спланированные заказы должны быть подтверждены, во встроенном механизме планирования используется дата потребности (то есть дата окончания).</span><span class="sxs-lookup"><span data-stu-id="080d2-184">For example, Planning Optimization uses the order date (that is, the start date) to determine which planned orders to firm, whereas the built-in planning engine uses the requirement date (that is, the end date).</span></span> <span data-ttu-id="080d2-185">В приведенной ниже таблице представлена сводная информация о различиях.</span><span class="sxs-lookup"><span data-stu-id="080d2-185">The following table summarizes the differences.</span></span>

| | <span data-ttu-id="080d2-186">Оптимизация планирования</span><span class="sxs-lookup"><span data-stu-id="080d2-186">Planning Optimization</span></span> | <span data-ttu-id="080d2-187">Встроенный механизм планирования</span><span class="sxs-lookup"><span data-stu-id="080d2-187">Built-in planning engine</span></span> |
|---|---|---|
| <span data-ttu-id="080d2-188">**Основание даты**</span><span class="sxs-lookup"><span data-stu-id="080d2-188">**Date basis**</span></span> | <span data-ttu-id="080d2-189">Автоматическое подтверждение основано на дате заказа (дате начала).</span><span class="sxs-lookup"><span data-stu-id="080d2-189">Auto-firming is based on the order date (start date).</span></span> | <span data-ttu-id="080d2-190">Автоматическое подтверждение основано на дате потребности (дате окончания).</span><span class="sxs-lookup"><span data-stu-id="080d2-190">Auto-firming is based on the requirement date (end date).</span></span> |
| <span data-ttu-id="080d2-191">**Время упреждения**</span><span class="sxs-lookup"><span data-stu-id="080d2-191">**Lead time**</span></span> | <span data-ttu-id="080d2-192">Так как дата заказа (дата начала) инициирует подтверждение, нет необходимости учитывать время упреждения как часть временной границы подтверждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-192">Because the order date (start date) triggers the firming, you don't have to consider the lead time as part of the firming time fence.</span></span> | <span data-ttu-id="080d2-193">Чтобы помочь гарантировать, что заказы подтверждаются вовремя, временная граница подтверждения должна быть длиннее времени упреждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-193">To help guarantee that orders are firmed in a timely manner, the firming time fence must be longer than the lead time.</span></span> |
| <span data-ttu-id="080d2-194">**Заказы за текущую неделю**</span><span class="sxs-lookup"><span data-stu-id="080d2-194">**Orders for the current week**</span></span> | <span data-ttu-id="080d2-195">Чтобы подтвердить все заказы, которые должны быть запущены в течение текущей недели, временная граница подтверждения должна быть равна одной неделе.</span><span class="sxs-lookup"><span data-stu-id="080d2-195">To firm all orders that must start during the current week, the firming time fence must be one week.</span></span> | <span data-ttu-id="080d2-196">Если необходимо подтвердить все заказы, которые должны быть запущены в течение текущей недели, временная граница подтверждения должна быть равна времени упреждения плюс одна неделя.</span><span class="sxs-lookup"><span data-stu-id="080d2-196">To firm all orders that must start during the current week, the firming time fence must be the lead time plus one week.</span></span> |

### <a name="set-up-auto-firming-and-the-firming-time-fence"></a><span data-ttu-id="080d2-197">Настройка автоматического подтверждения и временной границы подтверждения</span><span class="sxs-lookup"><span data-stu-id="080d2-197">Set up auto-firming and the firming time fence</span></span>

<span data-ttu-id="080d2-198">Автоматическое подтверждение включается путем назначения временной границы автоматического подтверждения соответствующей настройке покрытия, как описано далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="080d2-198">You turn on auto-firming by assigning an automated firming time fence to the relevant coverage setup, as described later in this section.</span></span> <span data-ttu-id="080d2-199">Если автоматическое подтверждение не включено для каких-либо настроек покрытия или если планирование запускается с определенной страницы, например страницы **Чистые потребности** для выпущенного продукта, процесс автоматического подтверждения пропускается.</span><span class="sxs-lookup"><span data-stu-id="080d2-199">If auto-firming isn't turned on for any coverage setup, or if planning is started from a specific page, such as the **Net requirements** page for a released product, the auto-firming process is skipped.</span></span>

<span data-ttu-id="080d2-200">Параметры группировки и маркировки для автоматического подтверждения получают значения со вкладки **Стандартное обновление** на странице **Параметры сводного планирования**.</span><span class="sxs-lookup"><span data-stu-id="080d2-200">Grouping and marking options for auto-firming take their values from the **Standard update** tab on the **Master planning parameters** page.</span></span>

<span data-ttu-id="080d2-201">Временная граница автоматического подтверждения определяется количеством дней, которое вводится для соответствующей настройки покрытия.</span><span class="sxs-lookup"><span data-stu-id="080d2-201">The auto-firming time fence is defined by the number of days that you enter for the relevant coverage setup.</span></span> <span data-ttu-id="080d2-202">Можно включить автоматическое подтверждение и контролировать временную границу подтверждения следующими способами:</span><span class="sxs-lookup"><span data-stu-id="080d2-202">You can turn on auto-firming and control the firming time fence in the following ways:</span></span>

- <span data-ttu-id="080d2-203">Чтобы определить временную границу подтверждения по умолчанию для группы покрытия, перейдите **Сводное планирование \> Настройка \> Покрытие \> Группы покрытия** и выберите группу покрытия.</span><span class="sxs-lookup"><span data-stu-id="080d2-203">To define the default firming time fence for a coverage group, go to **Master planning \> Setup \> Coverage \> Coverage groups**, and select a coverage group.</span></span> <span data-ttu-id="080d2-204">Затем на экспресс-вкладке **Прочие** в поле **Временная граница автоматического подтверждения (в днях)** введите количество дней.</span><span class="sxs-lookup"><span data-stu-id="080d2-204">Then, on the **Other** FastTab, in the **Automatic firming time fence (days)** field, enter the number of days.</span></span>
- <span data-ttu-id="080d2-205">Чтобы перезаписать временную границу подтверждения, которая определена для группы покрытия для конкретной номенклатуры, перейдите **Управление сведениями о продукте \> Выпущенные продукты**.</span><span class="sxs-lookup"><span data-stu-id="080d2-205">To overwrite the firming time fence that is defined for the coverage group for a specific item, go to **Product information management \> Released products**.</span></span> <span data-ttu-id="080d2-206">В области действий выберите **План**, а затем выберите **Покрытие номенклатуры**.</span><span class="sxs-lookup"><span data-stu-id="080d2-206">On the Action Pane, select **Plan**, and then select **Item coverage**.</span></span> <span data-ttu-id="080d2-207">На вкладке **Общие** выберите **Перекрытие временных границ** и затем в поле **Временная граница автоматического подтверждения (в днях)** введите количество дней.</span><span class="sxs-lookup"><span data-stu-id="080d2-207">On the **General** tab, select **Override time fence**, and then, in the **Automatic firming time fence (days)** field, enter the number of days.</span></span>
- <span data-ttu-id="080d2-208">Чтобы перезаписать временную границу подтверждения, определенную для группы покрытия и покрытия номенклатуры для конкретного сводного плана, перейдите **Сводное планирование \> Настройка \> Сводные планы** и выберите сводный план.</span><span class="sxs-lookup"><span data-stu-id="080d2-208">To overwrite the firming time fence that is defined for the coverage group and item coverage for a specific master plan, go to **Master planning \> Setup \> Master plans**, and select a master plan.</span></span> <span data-ttu-id="080d2-209">Затем на экспресс-вкладке **Временная граница в днях** выберите параметр **Подтверждение** как *Да* и введите количество дней.</span><span class="sxs-lookup"><span data-stu-id="080d2-209">Then, on the **Time fence in days** FastTab, set the **Firming** option to *Yes*, and enter the number of days.</span></span>

<span data-ttu-id="080d2-210">Если для всех ранее указанных временных границ установлено значение *0* (ноль), автоматическое подтверждение фактически отключается для соответствующих охватываемых в данный момент номенклатур.</span><span class="sxs-lookup"><span data-stu-id="080d2-210">If you set all the previously mentioned time fences to *0* (zero), auto-firming is effectively disabled for the relevant covered items.</span></span>

## <a name="firm-planned-orders-by-using-a-query"></a><span data-ttu-id="080d2-211">Подтверждение спланированных заказов с помощью запроса</span><span class="sxs-lookup"><span data-stu-id="080d2-211">Firm planned orders by using a query</span></span>

[!INCLUDE [preview-banner-section](../../../includes/preview-banner-section.md)]

<span data-ttu-id="080d2-212">Подтверждение на основе запросов позволяет планировать подтверждение на основе заранее определенных критериев.</span><span class="sxs-lookup"><span data-stu-id="080d2-212">Query-based firming lets you plan firming based on criteria that are defined in advance.</span></span> <span data-ttu-id="080d2-213">В отличие от автоматического подтверждения подтверждение на основе запросов позволяет автоматически подтверждать отдельные подмножества заказов в разные моменты времени.</span><span class="sxs-lookup"><span data-stu-id="080d2-213">Unlike auto-firming, query-based firming allows for automated firming of different subsets of orders at different points in time.</span></span> <span data-ttu-id="080d2-214">Кроме того, можно использовать ручные или автоматические операции для подтверждения различных типов спланированных заказов.</span><span class="sxs-lookup"><span data-stu-id="080d2-214">Additionally, you can use either manual or automated operations to firm different types of planned orders.</span></span> <span data-ttu-id="080d2-215">Можно также предварительно просмотреть, какие подтвержденные заказы выбираются на основе ваших настроек.</span><span class="sxs-lookup"><span data-stu-id="080d2-215">You can also preview which firmed orders are selected based on your settings.</span></span> <span data-ttu-id="080d2-216">Таким образом, можно подтвердить, что выбор соответствует вашим ожиданиям.</span><span class="sxs-lookup"><span data-stu-id="080d2-216">Therefore, you can confirm that the selection fits your expectations.</span></span>

<span data-ttu-id="080d2-217">Автоматическое подтверждение можно комбинировать с подтверждением на основе запросов.</span><span class="sxs-lookup"><span data-stu-id="080d2-217">You can combine auto-firming with query-based firming.</span></span> <span data-ttu-id="080d2-218">Например, задание подтверждения на основе запроса имеет временную границу перенаправления, превышающую временную границу для соответствующей конфигурации покрытия автоматического подтверждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-218">For example, a query-based firming job has a forward time fence that is longer than the time fence for a matching auto-firming coverage configuration.</span></span> <span data-ttu-id="080d2-219">Таким образом, задание подтверждения на основе запроса будет обрабатывать спланированные заказы перед запуском автоматического подтверждения.</span><span class="sxs-lookup"><span data-stu-id="080d2-219">Therefore, the query-based firming job will process its planned orders before the auto-firming is triggered.</span></span> <span data-ttu-id="080d2-220">Можно воспользоваться преимуществом этого поведения для планирования заказов для определённых поставщиков другим способом, нежели заказы для аналогичных продуктов других поставщиков.</span><span class="sxs-lookup"><span data-stu-id="080d2-220">You can take advantage of this behavior to schedule orders for specific vendors differently than orders for similar products from other vendors.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="080d2-221">Перед тем как функция, описанная в этом разделе, может быть использована, в вашей системе должна быть включена функция [*Подтверждение спланированных заказов с фильтрацией*](#enable-features), как описано в начале этого раздела.</span><span class="sxs-lookup"><span data-stu-id="080d2-221">Before the feature that is described in this section can be used, the [*Planned order firming with filtering* feature](#enable-features) must be turned on in your system, as described at the beginning of this topic.</span></span>

<span data-ttu-id="080d2-222">Чтобы подтвердить спланированный заказ, используя процесс подтверждения на основе запроса, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="080d2-222">To firm a planned order by using the query-based firming process, follow these steps.</span></span>

1. <span data-ttu-id="080d2-223">Перейдите в раздел **Сводное планирование \> Сводное планирование \> Выполнение \> Подтверждение спланированных заказов**.</span><span class="sxs-lookup"><span data-stu-id="080d2-223">Go to **Master-planning \> Master planning \> Run \> Planned order firming**.</span></span>
1. <span data-ttu-id="080d2-224">В диалоговом окне **Подтверждение спланированных заказов** на экспресс-вкладке **Параметры** настройте параметры базовой обработки, маркировки и группировки.</span><span class="sxs-lookup"><span data-stu-id="080d2-224">In the **Planned order firming** dialog box, on the **Parameters** FastTab, set the basic processing, marking, and grouping options.</span></span> <span data-ttu-id="080d2-225">Эти параметры работают так же, как и в диалоговом окне **Подтверждение**.</span><span class="sxs-lookup"><span data-stu-id="080d2-225">These options work just as they do in the **Firming** dialog box.</span></span> <span data-ttu-id="080d2-226">(Описание см. в предыдущем разделе.) Затем в разделе **План** задайте следующие поля, которые являются уникальными для диалогового окна **Подтверждение спланированного заказа**:</span><span class="sxs-lookup"><span data-stu-id="080d2-226">(See the previous section for descriptions.) Then, in the **Plan** section, set the following fields that are unique to the **Planned order firming** dialog box:</span></span>

    - <span data-ttu-id="080d2-227">**План** — выберите сводный план, который должен применяться при подтверждении спланированных заказов, найденных данным запросом.</span><span class="sxs-lookup"><span data-stu-id="080d2-227">**Plan** – Select the master plan that should be applied during firming of the planned orders that are found by this query.</span></span>
    - <span data-ttu-id="080d2-228">**Временная граница подтверждения, дней вперед** —выберите, как далеко в будущем должны рассчитываться различные потребности и другие аспекты при сводном планировании.</span><span class="sxs-lookup"><span data-stu-id="080d2-228">**Firming time fence days forward** – Select how far in the future the various requirements and other considerations must be calculated by master planning.</span></span>
    - <span data-ttu-id="080d2-229">**Временная граница подтверждения, дней назад** —выберите, как далеко в прошлом должны рассчитываться различные потребности и другие аспекты при сводном планировании.</span><span class="sxs-lookup"><span data-stu-id="080d2-229">**Firming time fence days backward** – Select how far in the past the various requirements and other considerations must be calculated by master planning.</span></span>

    <span data-ttu-id="080d2-230">![Экспресс-вкладка параметров в диалоговом окне подтверждения спланированного заказа](./media/planned-order-firming-main-1.png "Экспресс-вкладка параметров в диалоговом окне подтверждения спланированного заказа")</span><span class="sxs-lookup"><span data-stu-id="080d2-230">![Parameters FastTab in the Planned order firming dialog box](./media/planned-order-firming-main-1.png "Parameters FastTab in the Planned order firming dialog box")</span></span>

1. <span data-ttu-id="080d2-231">Чтобы указать, какие записи должны быть включены в заказ, нажмите кнопку **Фильтр** на экспресс-вкладке **Записи для добавления**.</span><span class="sxs-lookup"><span data-stu-id="080d2-231">To specify which records should be included in the order, select the **Filter** button on the **Records to include** FastTab.</span></span> <span data-ttu-id="080d2-232">Появится стандартное диалоговое окно запроса, в котором можно определить критерии выбора, критерии сортировки и соединения.</span><span class="sxs-lookup"><span data-stu-id="080d2-232">A standard query dialog appears, where you can define selection criteria, sorting criteria, and joins.</span></span> <span data-ttu-id="080d2-233">Поля работают так же, как они работают для других типов запросов в Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="080d2-233">The fields work just as they do for other types of queries in Supply Chain Management.</span></span> <span data-ttu-id="080d2-234">Поля доступны только для чтения и содержат значения, которые связаны с запросом.</span><span class="sxs-lookup"><span data-stu-id="080d2-234">The fields here are read-only and show values that are related to your query.</span></span>

    <span data-ttu-id="080d2-235">![Экспресс-вкладка записей для добавления в диалоговом окне подтверждения спланированного заказа](./media/planned-order-firming-main-2.png "Экспресс-вкладка записей для добавления в диалоговом окне подтверждения спланированного заказа")</span><span class="sxs-lookup"><span data-stu-id="080d2-235">![Records to include FastTab on the Planned order firming dialog box](./media/planned-order-firming-main-2.png "Records to include FastTab on the Planned order firming dialog box")</span></span>

1. <span data-ttu-id="080d2-236">Выберите **Предварительный просмотр** для предварительного просмотра содержимого подтвержденного заказа на основе ваших настроек на данный момент времени.</span><span class="sxs-lookup"><span data-stu-id="080d2-236">Select **Preview** to preview the content of your firmed order, based on your settings so far.</span></span> <span data-ttu-id="080d2-237">Список спланированных заказов, которые будут утверждены, отображается как сообщение.</span><span class="sxs-lookup"><span data-stu-id="080d2-237">The list of planned orders that will be firmed is shown as a message.</span></span> <span data-ttu-id="080d2-238">После этого можно скорректировать настройки нужным образом, пока в окне предварительного просмотра не будет показан утвержденный заказ в том виде, в котором он предполагается.</span><span class="sxs-lookup"><span data-stu-id="080d2-238">You can then adjust your settings as required until the preview shows the firmed order as you intend it.</span></span>

    <span data-ttu-id="080d2-239">![Пример предварительного просмотра подтвержденного заказа](./media/planned-order-firming-preview.png "Пример предварительного просмотра подтвержденного заказа")</span><span class="sxs-lookup"><span data-stu-id="080d2-239">![Example of a firmed order preview](./media/planned-order-firming-preview.png "Example of a firmed order preview")</span></span>

    > [!WARNING]
    > <span data-ttu-id="080d2-240">Эта функция подтверждает все спланированные заказы, соответствующие критерию фильтрации.</span><span class="sxs-lookup"><span data-stu-id="080d2-240">This feature will firm all planned orders that match the filter criteria.</span></span> <span data-ttu-id="080d2-241">Некритическое подтверждение спланированных заказов может привести к созданию большого количества нежелательных заказов на покупку, перемещение и производство.</span><span class="sxs-lookup"><span data-stu-id="080d2-241">Uncritical firming of planned orders can cause massive numbers of unwanted purchase, transfer, and production orders to be created.</span></span> <span data-ttu-id="080d2-242">Перед продолжением следует всегда использовать кнопку **Предварительный просмотр**, чтобы проверять записи, которые будут включены в процесс.</span><span class="sxs-lookup"><span data-stu-id="080d2-242">Before you continue, always use the **Preview** button to validate the records that will be included.</span></span>

1. <span data-ttu-id="080d2-243">На экспресс-вкладке **Выполнять в фоновый режиме** настройте задание таким образом, чтобы оно выполнялось в пакетном режиме, и/или настройте повторяющийся график.</span><span class="sxs-lookup"><span data-stu-id="080d2-243">On the **Run in the background** FastTab, set up the job so that it runs in batch mode, and/or set up a recurrent schedule.</span></span> <span data-ttu-id="080d2-244">Поля работают так же, как они работают для других типов [фоновых заданий](../../../fin-ops-core/dev-itpro/sysadmin/batch-processing-overview.md) в Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="080d2-244">The fields work just as they do for other types of [background jobs](../../../fin-ops-core/dev-itpro/sysadmin/batch-processing-overview.md) in Supply Chain Management.</span></span>
1. <span data-ttu-id="080d2-245">Выберите **ОК**, чтобы применить настройки и создать спланированные заказы.</span><span class="sxs-lookup"><span data-stu-id="080d2-245">Select **OK** to apply your settings and generate the firmed orders.</span></span>

## <a name="track-firmed-orders"></a><span data-ttu-id="080d2-246">Отслеживание подтвержденных заказов</span><span class="sxs-lookup"><span data-stu-id="080d2-246">Track firmed orders</span></span>

<span data-ttu-id="080d2-247">Для отслеживания спланированного заказа, который был подтвержден, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="080d2-247">To track a planned order that was firmed, follow these steps.</span></span>

1. <span data-ttu-id="080d2-248">[Откройте любую страницу списка спланированных заказов](approved-planned-order.md#view-planned-orders).</span><span class="sxs-lookup"><span data-stu-id="080d2-248">[Open any planned orders list page](approved-planned-order.md#view-planned-orders).</span></span>
1. <span data-ttu-id="080d2-249">Откройте или выберите спланированный заказ, который нужно отслеживать.</span><span class="sxs-lookup"><span data-stu-id="080d2-249">Open or select the planned order that you want to track.</span></span>
1. <span data-ttu-id="080d2-250">В области действий на вкладке **Вид** в группе **Вид** выберите **История подтверждений**.</span><span class="sxs-lookup"><span data-stu-id="080d2-250">On the Action Pane, on the **View** tab, in the **View** group, select **Firming history**.</span></span>

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
