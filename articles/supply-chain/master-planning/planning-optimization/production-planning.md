---
title: Планирование производства
description: В этой теме описывается планирование производства и объясняется, как изменять спланированные производственные заказы при помощи оптимизации планирования.
author: t-benebo
ms.date: 06/01/2021
ms.topic: article
ms.search.form: ReqCreatePlanWorkspace
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: benebotg
ms.search.validFrom: 2020-12-15
ms.dyn365.ops.version: 10.0.13
ms.openlocfilehash: 8f23cb62512dfd718fe199867a4b21aaa0eca3fd
ms.sourcegitcommit: ad1afc6893a8dc32d1363395666b0fe1d50e983a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/23/2022
ms.locfileid: "8469068"
---
# <a name="production-planning"></a>Планирование производства

[!include [banner](../../includes/banner.md)]

Оптимизация планирования поддерживает несколько производственных сценариев. При переходе с существующего встроенного механизма сводного планирования важно знать об изменениях в поведении системы.

В следующем видео дан краткий обзор некоторых понятий, обсуждаемых в данной теме: [Dynamics 365 Supply Chain Management: планирование улучшений оптимизации](https://youtu.be/u1pcmZuZBTw).

## <a name="turn-on-this-feature-for-your-system"></a>Включите эту функцию для своей системы

Если ваша система еще не содержит функций, описанных в этом разделе, перейдите в [Управление функциями](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) и включите функцию *Спланированные производственные заказы для оптимизации планирования*.

## <a name="planned-production-orders"></a>Спланированные производственные заказы

Когда при сводном планировании создаются спланированные заказы для удовлетворения потребностей, тип заказа определяется значением поля **Тип спланированного заказа**. Если для поля **Тип спланированного заказа** установлено значение *Производство*, создаются спланированные производственные заказы. Эти спланированные производственные заказы включают информацию о активной спецификации и идентификатор маршрута из соответствующей настройки производства.

## <a name="requirements-from-boms"></a>Потребности из спецификаций

Информация из спецификации учитывается при сводном планировании. Выходные данные плана включают поставку материалов для покрытия соответствующей потребности в материалах для производства.

При сводном планировании используется текущая, активная спецификация для определения материалов, необходимых для производства. Этот шаг выполняется с использованием всех уровней структуры спецификаций, которые относятся к требуемому производственному заказу. Потребность в материалах выполняется путем использования доступных запасов в наличии, существующих поставок по заказу и утвержденных спланированных заказов. Если в любом месте требуется наличие дополнительных материалов, создается спланированный заказ, который охватывает потребность.

## <a name="scheduling-during-firming"></a>Планирование при утверждении

Спланированные производственные заказы включают код маршрута, который необходим для производственного планирования. Однако поддержка планирования во время выполнения планирования для спланированных заказов ожидается. Код маршрута используется для планирования спланированных производственных заказов в процессе утверждения. Таким образом, время упреждения спланированных заказов на производство может отличаться от времени упреждения связанных утвержденных запланированных производственных заказов, созданных из них, как описано здесь:

- **Спланированный производственный заказ** — время упреждения основано на статическом времени упреждения из выпущенного продукта.
- **Утвержденный производственный заказ** — время упреждения основано на планировании, в котором используются сведения о маршруте и соответствующие ограничения ресурсов.

Дополнительные сведения об ожидаемой доступности функции см. в разделе [Анализ соответствия оптимизации при планировании](planning-optimization-fit-analysis.md).

Если вы зависят от производственной функции, которая еще недоступна для оптимизации планирования, можно продолжать использовать встроенный механизм сводного планирования. Никакие исключения не требуются.

## <a name="delays"></a>Задержки

Если время упреждения для требуемого материала превышает период между сегодняшней датой и датой потребности в материале, спланированный заказ для требуемого материала и связанного производственного заказа будет задержан. Для спланированных заказов задержка (в днях) рассчитывается на основе времени упреждения выпущенного продукта. Сведения о задержке затем передаются через все уровни структуры спецификации. Следовательно, можно проследить влияние задержанного сырья полностью до заказа на продажу клиента.

## <a name="modifying-planned-orders"></a>Изменение спланированных заказов

При изменении информации в спланированном заказе вам отображается следующее сообщение: "Обратите внимание, что влияние внесенных вручную изменений на спланированные заказы не будут отражены в оставшейся части плана до следующего выполнения сводного планирования".

Если необходимо изменить сведения о спланированном заказе и увидеть влияние на связанные потребности в материалах, выполните следующие действия.

1. Обновите спланированный заказ.
2. Утвердите спланированный заказ.
3. Запустите сводное планирование.

При выполнении сводного планирования не следует использовать фильтры, если включены спланированные производственные заказы. Дополнительные сведения см. в разделе [Фильтры](#filters) далее в этой теме.

> [!NOTE]
> Если дата поставки спланированного заказа изменяется на более позднюю дату, потребность может быть привязана к новому спланированному заказу. Такое поведение наблюдается, когда новая дата поставки вызывает задержку для привязанного спроса, в соответствии с настройками времени упреждения задержки можно избежать.

## <a name="explosion-page"></a>Страница развертывания

Вы можете использовать страницу **Развертывание** для анализа потребности, необходимой для конкретного производственного заказа или спланированного производственного заказа, соответствующего покрытия и информации о привязке. Информация на странице **Развертывание** обновляется при сводном планировании. Невозможно обновить информацию непосредственно со страницы **Развертывание**.

## <a name="filters"></a><a name="filters"></a>Фильтры

Чтобы гарантировать, что оптимизация планирования имеет информацию, необходимую для расчета правильного результата, необходимо включить все продукты, которые имеют какое-либо отношение с продуктами в полной структуре спецификации спланированного заказа. Поэтому для сценариев планирования, включающих производство, рекомендуется избегать фильтрованных запусков сводного планирования.

Несмотря на то что зависимые дочерние номенклатуры автоматически обнаруживаются и включаются в выполнение сводного планирования, когда используется встроенный модуль сводного планирования, оптимизация планирования в настоящее время не выполняет это действие.

Например, если один болт из структуры спецификации продукта A также используется для производства продукта B, все продукты в структуре спецификаций продуктов A и B должны быть включены в фильтр. Так как это может быть сложно, чтобы гарантировать, что все продукты являются частью фильтра, рекомендуется избегать фильтрованного запуска сводного планирования, когда участвуют производственные заказы. В противном случае сводное планирование даст нежелательные результаты.

### <a name="reasons-to-avoid-filtered-master-planning-runs"></a>Причины избегать фильтрованных запусков сводного планирования

При выполнении фильтрованного сводного планирования для продукта оптимизация планирования (в отличие от встроенного механизма сводного планирования) не определяет все субпродукты и сырье в структуре спецификации этого продукта и, следовательно, не включает их в процесс сводного планирования. Даже если оптимизация планирования определяет первый уровень в структуре спецификации продукта, из базы данных не загружаются какие-либо настройки продукта (такие как тип заказа по умолчанию или покрытие номенклатуры).

При оптимизации планирования данные для выполнения загружаются заранее и применяются фильтры. Это означает, что если субпродукт или сырье, включенные в конкретный продукт, не входят в фильтр, сведения о нем не захватываются для запуска. Кроме того, если субпродукт или сырье также включено в другой продукт, то фильтрованный запуск, включающий только исходный продукт и его компоненты, приведет к удалению существующего запланированного спроса, созданного для этого другого продукта.

Эта логика может привести к тому, что выполнение фильтрованного сводного планирования будет давать неожиданные результаты. В следующих разделах приводятся примеры, иллюстрирующие непредсказуемые результаты, которые могут произойти.

### <a name="example-1"></a>Пример 1

Готовый продукт *FG* состоит из следующих компонентов:

- Сырье *R*
- Субпродукт *S1*, состоящий из субпродукта *S2*

Имеются запасы в наличии для сырья в *R*, а субпродукт *S1* отсутствует в запасах.

При выполнении фильтрованного сводного планирования для готового продукта *FG* будет создан спланированный заказ на производство для готового продукта *FG*, спланированный заказ на покупку для сырья *R* и спланированный заказ на покупку для субпродукта *S1*. Это нежелательный результат, поскольку оптимизация планирования игнорирует наличие существующего запаса сырья *R* и то, что субпродукт *S1* должен быть произведены с помощью *S2*, а не заказан непосредственно. Это произошло потому, что оптимизация планирования имеет только список компонентов для готового продукта *FG* без каких-либо связанных сведений, таких как существующие поставки его компонентов или параметры заказов по умолчанию.

### <a name="example-2"></a>Пример 2

Создание на предыдущем примере дополнительного готового продукта, *FG2*, также с использованием субпродукта *S1*. Для готового продукта *FG2* существует спланированный заказ, а для всех его компонентов, включая *S1*, существует спланированный спрос.

Вы решили преодолеть нежелательные результаты фильтрованного выполнения сводного планирования из предыдущего примера, добавив все субпродукты и сырье из структуры спецификации готового продукта *FG*, чтобы фильтровать, а затем выполнить полное повторное создание.

При выполнении полного повторного создания система удаляет все существующие результаты для всех включенных продуктов, затем заново создает результаты на основе новых вычислений. Это означает, что существующий запланированный спрос на продукт *S1* удаляется, а затем вновь создается, принимая во внимание только требования готового продукта *FG*, в то время как требования готового продукта *FG2* не учитываются. Это происходит потому, что при выполнении оптимизации планирования она не включает запланированный спрос других спланированных производственных заказов &mdash; только запланированный спрос, созданный во время выполнения.

> [!NOTE]
> Если существующий спланированный заказ для готового продукта *FG2* имеет статус *Утверждено*, утвержденный запланированный спрос будет включен, даже если родительский продукт не добавлен в фильтр.

Таким образом, если вы не добавили все компоненты готового продукта *FG*, готовый продукта *FG2* и все другие продукты, частью которых являются эти компоненты (вместе с их компонентами), отфильтрованный сводный план будет предоставлять нежелательные результаты.

Так как это может быть сложно, чтобы гарантировать, что все продукты являются частью фильтра, рекомендуется избегать фильтрованного запуска сводного планирования, когда участвуют производственные заказы.

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
