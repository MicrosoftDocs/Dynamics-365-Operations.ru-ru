---
title: Сводное планирование для продуктов с ограничением срока годности
description: В этой статье описывается настройка и использование функций планирования, в которых учитывается срок хранения продуктов с ограниченным сроком годности.
author: t-benebo
ms.date: 08/10/2022
ms.topic: article
ms.search.form: ReqPlanSched, CustTable, EcoResProductDetailsExtended, InventModelGroup
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: benebotg
ms.search.validFrom: 2020-08-10
ms.dyn365.ops.version: 10.0.28
ms.openlocfilehash: 95c905cbcc3c057dbccf2b7d6e894b1e99ddfba5
ms.sourcegitcommit: 203c8bc263f4ab238cc7534d4dd902fd996d2b0f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/23/2022
ms.locfileid: "9337160"
---
# <a name="master-planning-for-products-with-limited-shelf-life"></a>Сводное планирование для продуктов с ограничением срока годности

[!include [banner](../../includes/banner.md)]

Срок годности — это количество времени, в течение которого продукт может храниться до того момента, когда он больше не сможет использоваться или продаваться. Для продуктов, имеющих ограниченный срок хранения, вероятно, будет использоваться стратегия для склада «в порядке истечения срока годности» (FEFO), которая определяет приоритет потребления и продажи номенклатур на основе оставшегося срока хранения. Эта стратегия склада относится к еде, лекарствам и другим товарам, которые характеризуются коротким временем хранения. В соответствии с методом FEFO номенклатуры на складе хранятся как товары на полке супермаркета: продукты, имеющие долгий срок хранения, помещаются глубже на полках, чтобы продукты, имеющие более короткий оставшийся срок хранения, отгружались первыми.

## <a name="using-shelf-life-in-master-planning"></a>Использование срока хранения в сводном планировании

В этом разделе описывается, как сводное планирование предлагает поставки для номенклатур со сроком годности.

При выполнении сводного плана создаются предложенные спланированные заказы (поставка), которые будут удовлетворять спрос, а также снижать задержки. Если план включает номенклатуры, имеющие ограниченный срок хранения, расчеты планирования становятся более сложными, поскольку план не только минимизирует задержки, но и использует существующие поставки до того, как истечет срок их годности. План должен попытаться использовать поставки, которая ближе всего к дате истечения срока годности, до поставки с более поздним сроком истечения срока годности. Поэтому при сводном планировании ищутся следующие цели в следующем порядке:

1. Сократить сумму задержек.
1. Максимизировать сумму поставки FEFO.
1. Минимизировать пополнение запасов.

В некоторых случаях может возникнуть конфликт между двумя первыми целями, и необходимо выполнить следующие действия: отложить отгрузку или использовать поставки, срок действия которых истекает позже, вместо поставок с более близким сроком истечения срока годности? Для устранения этого конфликта во время сводного планирования система устанавливает более высокий приоритет минимизации задержек, чем полное использование поставок, у которых скоро истекает срок годности. В общем случае этот тип конфликта происходит, когда могут быть задержки и покрытие по периоду. Поэтому рекомендуется использовать период покрытия, который короче срока хранения номенклатуры. Другие типы покрытия (например, требование) вряд ли сталкиваются с подобным типом конфликтов.

## <a name="set-up-shelf-life"></a>Настройка срока хранения

### <a name="configure-each-master-plan-to-consider-shelf-life"></a>Настройка каждого сводного плана для учета срока хранения

По умолчанию сводный план не учитывает срок годности. Следующая процедура используется для включения расчета срока годности для каждого сводного плана, в котором он необходим.

1. Выберите **Сводное планирование \> Настройка \> Планы \> Сводные планы**.
1. Выберите существующий план на панели списка или создайте новый.
1. На экспресс-вкладке **Общие** задайте для параметра **Использовать даты срока хранения** значение *Да*.

### <a name="configure-tracking-dimension-groups-to-track-the-batch-dimension"></a>Настройка группы аналитик отслеживания для отслеживания аналитики партий

Срок хранения номенклатуры можно отслеживать только в том случае, если эта номенклатура отслеживается в аналитике партий. Другими словами, ссылка на партию и требуемые даты должны записываться при получении или производстве и в каждой складской проводке номенклатуры. Для управления этим параметром настройте одну или несколько групп аналитик отслеживания, чтобы выполнять требуемое отслеживание, затем назначьте соответствующие номенклатуры этим группам в соответствии с требованиями.

Для настройки группы аналитик отслеживания для отслеживания аналитики партий используется следующая процедура.

1. Откройте **Управление сведениями о продукте \> Настройка \> Группы аналитик и вариантов \> Группы аналитик отслеживания**.
1. Выполните одно из следующих действий.

    - На панели операций выберите **Создать** для создания новой группы аналитик отслеживания. Введите имя и описание, затем выберите **Сохранить** в области действий.
    - В области списка выберите существующую группу аналитик отслеживания, которую необходимо настроить для отслеживания аналитики партий.

1. На экспресс-вкладке **Аналитика отслеживания** в строке **Номер партии** установите флажки в столбцах **Активный** и **Физические запасы**.

### <a name="set-up-shelf-life-for-a-product"></a>Настройка срока хранения для продукта

Следующая процедура используется для настройки срока хранения для продукта.

1. Выберите **Управление сведениями о продукте \> Продукты \> Выпущенные продукты**.
1. Создайте или откройте продукт, который необходимо настроить.
1. Чтобы использовать параметры срока годности, на экспресс-вкладке **Общие** настройте поле **Группа аналитик отслеживания** для группы аналитик отслеживания, настроенной для отслеживания аналитики партий. Значение этого поля можно установить только при первоначальном создании продукта. Изменить значение для существующих продуктов нельзя.
1. На экспресс-вкладке **Управление запасами** задайте следующие поля:

    - **Период уведомления о сроке годности в днях** — укажите период (в днях), на который необходимо проверить партию продукта, чтобы убедиться в том, что она подходит для потребления или перепродажи. Значение этого поля добавляется к *дате производства* партии, чтобы определить *дату уведомления о сроке годности*. Можно настроить систему для создания заказов контроля качества, когда приближает дата уведомления о сроке годности партии.
    - **Длительность срока хранения в днях** — указывается число дней до истечения срока действия партии продукта. Это значение добавляется к *дате изготовления*, чтобы определить *дату истечения срока годности*. После этой даты партия считается непригодной для использования.
    - **Период "Желательно использовать до" в днях** — укажите период (в днях), по истечении которого партия данного продукта все еще может быть продана, но больше не сможет сохранить некоторые исходные свойства. Это значение добавляется к *дате изготовления*, чтобы определить *дату желательного использования*. Можно выполнять отчеты, чтобы определить складские запасы с датой "желательно использовать до". 

### <a name="set-a-sellable-days-rule-for-each-customer"></a>Задание правила для дней продажи для каждого клиента

Функция *Дни продажи* гарантирует, что продукты из партии, срок годности которых скоро истечет, не отправляются клиентам. Более того, это гарантирует, что при отправке продуктов клиенту соответствующее количество дней продажи останется после поставки.

Для использования функции дней продажи необходимо определить число дней продажи, которое применяется для каждого продукта (или группы продуктов) для каждого клиента. Этот процесс необходимо выполнить вручную, так как для него отсутствует сущность данных.

Следующая процедура используется для настройки дней продажи для каждого продукта для каждого клиента.

1. Перейдите в раздел **Продажи и маркетинг \> Клиенты \> Все клиенты**.
1. Найдите и выберите клиента, которого требуется настроить.
1. На панели операций на вкладке **Продажа** в группе **Настройка** выберите **Продажа \> Дни продажи**.
1. На странице **Дни продажи для клиента** в сетке перечислены существующие правила для дней продажи для каждого продукта или группы продуктов. С помощью кнопок области действий можно добавлять или изменять строки в сетке по мере необходимости. Имеется **Фильтр**, позволяющий находить существующие строки.
1. Для каждой строки заполните следующие поля:

    - **Код номенклатуры** — выберите одно из следующих значений, чтобы указать область номенклатур, которые будут затронуты:

        - *Таблица* — строка применяется к конкретной номенклатуре.
        - *Группа* — строка применяется только к конкретной группе номенклатур.
        - *Все* — строка применяется ко всем номенклатурам.

    - **Связь номенклатуры** — если в поле **Код номенклатуры** задано значение *Таблица*, выберите конкретную номенклатуру. Если в поле **Код номенклатуры** задано значение *Группа*, выберите группу номенклатур. Если в поле **Код номенклатуры** задано значение *Все*, это поле недоступно.
    - **Дни продажи** — введите минимальное количество дней, которое клиент должен иметь для продажи соответствующих продуктов до истечения срока годности партии. Значение дней продажи базируется на запрошенной дате прихода (или подтвержденной дате прихода, если она определена) для соответствующих продуктов в заказе на продажу.
    - *(Другие аналитики продукта)* — для дальнейшего ограничения области строки укажите другие значения аналитик (например **Размер** и **Цвет**), если необходимо. Чтобы управлять, какие аналитики отображаются в сетке, выберите **Отобразить аналитики** на панели операций.

### <a name="set-up-all-relevant-products-so-that-they-are-fefo-date-controlled"></a>Настройте все соответствующие продукты, чтобы они контролировались датой FEFO

Чтобы дни продажи работали, каждая соответствующая номенклатура должна относиться к группе номенклатурных моделей, в которой установлен флажок **Управление датой по принципу FEFO**.

Используйте следующую процедуру для настройки группы номенклатурных моделей, чтобы она поддерживала функциональность дней продажи.

1. Перейдите в раздел **Управление запасами \> Настройка \> Запасы \> Группы номенклатурных моделей**.
1. Либо выберите существующую группу в области списка или создайте новую, выбрав **Создать** в области действий.
1. На экспресс-вкладке **Политики запасов** установите флажок **Управление датой по принципу FEFO**.
1. Если необходимо, заполните другие поля для группы.

Следующая процедура используется для просмотра или задания группы моделей номенклатуры, к которой относится продукт.

1. Выберите **Управление сведениями о продукте \> Продукты \> Выпущенные продукты**.
1. Откройте продукт, который хотите проверить или изменить.
1. На экспресс-вкладке **Общие** задайте в поле **Группа номенклатурных моделей** группу, в которой установлен флажок **Управление датой по принципу FEFO**.

## <a name="example-1-simple-fefo-10-day-period-zero-days-of-lead-time"></a>Пример 1. Простой FEFO, 10-дневный период, ноль дней времени упреждения

В этом примере показан простой пример срока хранения, в котором определение источника потребности между заказами на поставку и спросом выполняется для удовлетворения следующих целей системы:

- Сократить сумму задержек.
- Максимизировать сумму поставки FEFO.
- Минимизировать пополнение запасов.

В системе имеются следующие параметры номенклатуры и сводного плана:

- **Код покрытия (стратегия пополнения):** Период 
- **Период покрытия:** 10 дней (равен сроку хранения)
- **Срок хранения:** 10 дней
- **Дни продажи:** 0 дней
- **Время упреждения:** 0 дней
- **Отрицательные дни:** 0 дней
- **Тип спланированного заказа (настройки заказа по умолчанию для номенклатуры):** Заказ на покупку

Следующие заказы на продажу для данной номенклатуры существуют в системе:

- **SO1:** Количество (кол-во) = 2, запрошенная дата поставки = сегодня + 1 день
- **SO2:** Кол-во = 1, запрошенная дата поставки = сегодня + 4 дня
- **SO3:** Кол-во = 1, запрошенная дата поставки = сегодня + 5 дней

Все эти заказы на продажу создают спрос на номенклатуру.

Для данной номенклатуры существует следующие поставки:

- **Запасы в наличии:** Кол-во = 1, дата истечения срока годности = сегодня + 5 дней
- **Заказ на покупку 1 (PO1):** Дата прихода = сегодня + 2 дня, кол-во = 1, дата истечения срока годности = сегодня + 4 дня

Система создает список поставок, которые могут покрыть этот спрос, и сортирует список по дате истечения срока годности (с помощью метода FEFO).

Сводное планирование создает требуемое определение источника потребности между спросом и поставками. Оно также создает необходимый спрос на основе списка поставок (с помощью метода FEFO) и учитывает дату доступности.

- SO1 может быть выполнен по количеству в наличии, но не может быть выполнено по PO1, так как дата доступности для PO1 на один день позже, чем требуется для SO1. Таким образом, SO1 создает спрос на одну единицу товаров.
- SO2 может покрываться PO1, так как PO1 прибудет в запрошенное время и дата окончания срока годности останется действительной. Таким образом, требование SO2 полностью покрывается PO1.
- SO3 не покрыт, так как ресурсы недоступны. Таким образом, SO3 создает спрос на одну единицу товаров.

Для покрытия всех оставшихся требований система должна создать следующий спланированный заказ на покупку:

- **PPO1:** Дата прихода = сегодня, кол-во = 2, дата истечения срока годности = сегодня + 10 дней

В приведенной ниже таблице представлена сводка результата.

| Спрос | Информация об источниках потребности |
|---|---|
| **SO1:** Дата поставки = сегодня + 1 день, кол-во = 2 | <p>**В наличии:** Кол-во = 1, дата истечения срока годности = сегодня + 5 дней</p><p>**PPO1:** Дата прихода = сегодня, кол-во = 1, дата истечения срока годности = сегодня + 10 дней</p> |
| **SO2:** Дата поставки = сегодня + 4 дня, кол-во = 1 | **PO1:** Дата прихода = сегодня + 2 дня, кол-во = 1, дата истечения срока годности = сегодня + 4 дня |
| **SO3:** Дата поставки = сегодня + 5 дней, кол-во = 1 | **PPO1:** Дата прихода = сегодня, кол-во = 2, дата истечения срока годности = сегодня + 10 дней |

На следующем рисунке показана временная шкала для этого примера.

![Пример 1. Простой FEFO, 10-дневный период, ноль дней времени упреждения.](media/fefo-example-1.png "Пример 1. Простой FEFO, 10-дневный период, ноль дней времени упреждения")

## <a name="example-2-simple-fefo-requirement-three-days-of-lead-time"></a>Пример 2. Простой FEFO, требование, три дня времени упреждения

В этом примере показано, как попытка системы минимизировать задержки в некоторых случаях может привести к возникновению избыточного заказа.

В системе имеются следующие параметры номенклатуры и сводного плана:

- **Код покрытия (стратегия пополнения):** Требование
- **Срок хранения:** 10 дней
- **Дни продажи:** 0 дней
- **Время упреждения:** установлено следующими торговыми соглашениями по поставщику:

    - **Коммерческое соглашение 1**: если кол-во = 1, время упреждения = 4
    - **Коммерческое соглашение 2**: если кол-во = 2, время упреждения = 3

- **Отрицательные дни:** 0 дней
- **Тип спланированного заказа (настройки заказа по умолчанию для номенклатуры):** Заказ на покупку

В системе имеется следующий заказ на продажу:

- **SO1:** Кол-во = 2, запрошенная дата поставки = сегодня + 3 дня

Этот спрос покрывается существующим наличием и подтвержденным заказом на покупку:

- **Запасы в наличии:** Доступно = сегодня, кол-во = 1, дата истечения срока годности = сегодня + 2 дня
- **PO1:** Дата прихода = сегодня + 3 дня, кол-во = 1, дата истечения срока годности = сегодня + 4 дня

SO1 невозможно обеспечить запасами в наличии, так как дата окончания срока действия предшествует дате отгрузки. PO1 может покрыть требования SO1 только в количестве 1. Таким образом, SO1 создает спрос на одну единицу товаров. Для покрытия этого требования система создает спланированный заказ на покупку (PPO1).

В системе имеется два коммерческих соглашения (одно для количества = 1, время упреждения = 4 дня, и одно для количества = 2, время упреждения = 3 дня). Таким образом, система пытается минимизировать задержки путем создания спланированного заказа на покупку (PPO1), который соответствует второму коммерческому соглашению. Результатом является избыточная поставка (количество = 2, дата истечения срока годности = сегодня + 10 дней).

В приведенной ниже таблице представлена сводка результата.

| Спрос | Информация об источниках потребности |
|---|---|
| **SO1:** Дата поставки = сегодня + 3 дня, кол-во = 2 | <p>**PO1:** Дата прихода = сегодня + 3 дня, кол-во = 1, дата истечения срока годности = сегодня + 4 дня</p><p>**PPO1:** Дата прихода = сегодня + 3 дня, кол-во = 1, дата истечения срока годности = сегодня + 10 дней</p> |

На следующем рисунке показана временная шкала для этого примера.

![Пример 2. Простой FEFO, требование, три дня времени упреждения.](media/fefo-example-2.png "Пример 2. Простой FEFO, требование, три дня времени упреждения")

## <a name="example-3-simple-fefo-requirement-three-days-of-lead-time-five-sellable-days"></a>Пример 3. Простой FEFO, требование, три дня времени упреждения, пять дней продажи

В этом примере показано, как работать со сроком годности при добавлении дней продажи для номенклатуры.

В системе имеются следующие параметры номенклатуры и сводного плана:

- **Код покрытия (стратегия пополнения):** Требование
- **Срок хранения:** 10 дней
- **Дни продажи:** 5 дней
- **Время упреждения:** 5 дней
- **Отрицательные дни:** 0 дней
- **Тип спланированного заказа (настройки заказа по умолчанию для номенклатуры):** Заказ на покупку

В системе имеются следующие заказы на продажу:

- **SO1:** Кол-во = 2, запрошенная дата поставки = сегодня + 2 дня
- **SO2:** Кол-во = 1, запрошенная дата поставки = сегодня + 3 дня
- **SO3:** Кол-во = 1, запрошенная дата поставки = сегодня + 5 дней

Этот спрос может быть покрыт существующим наличием и подтвержденным заказом на покупку:

- **Запасы в наличии:** Доступно = сегодня, кол-во = 1, дата истечения срока годности = сегодня + 6 дней
- **PO1:** Дата прихода = сегодня + 2 дня, кол-во = 3, дата истечения срока годности = сегодня + 10 дней

Система создает список кандидатов на определение источника потребности на основе списка поставок (FEFO) и дат доступности. Таким образом, заказ SO1 не может быть покрыт запасами в наличии, так как срок годности запасов заканчивается до окончания дней продажи, необходимых клиенту (требуемая дата получения + 5 дней). Заказ PO1 может покрыть потребность заказа SO1 на две единицы и потребность заказа SO2 на одну единицу. Таким образом, только заказ SO3 по-прежнему имеет непокрытый спрос на одну единицу товаров. Для покрытия этого требования система создает следующий спланированный заказ на покупку:

- **PP01:** Дата прихода = сегодня + 5 дней, кол-во = 1, дата истечения срока годности = сегодня + 10 дней

В приведенной ниже таблице представлена сводка результата.

| Спрос | Информация об источниках потребности |
|---|---|
| **SO1:** Дата поставки = сегодня + 2 дня, кол-во = 2 | **PO1:** Дата прихода = сегодня + 2 дня, кол-во = 2, дата истечения срока годности = сегодня + 10 дней |
| **SO2:** Дата поставки = сегодня + 3 дня, кол-во = 1 | **PO1:** Дата прихода = сегодня + 2 дня, кол-во = 1, дата истечения срока годности = сегодня + 10 дней |
| **SO3:** Дата поставки = сегодня + 5 дней, кол-во = 1 | **PPO1:** Дата прихода = сегодня + 5 дней, кол-во = 1, дата истечения срока годности = сегодня + 10 дней |

На следующем рисунке показана временная шкала для этого примера.

![Пример 3. Простой FEFO, требование, три дня времени упреждения, пять дней продажи.](media/fefo-example-3.png "Пример 3. Простой FEFO, требование, три дня времени упреждения, пять дней продажи")

## <a name="example-4-simple-fefo-period-lead-time-depends-on-the-quantity"></a>Пример 4. Простой FEFO, период, время упреждения зависит от количества

В этом примере показано, как попытка системы минимизировать задержки в некоторых случаях может привести к возникновению избыточного заказа.

В системе имеются следующие параметры номенклатуры и сводного плана:

- **Код покрытия (стратегия пополнения):** Период
- **Период покрытия:** 10 дней (равен сроку хранения)
- **Срок хранения:** 10 дней
- **Дни продажи:** 0 дней
- **Время упреждения:** установлено следующими торговыми соглашениями по поставщику:

    - **Коммерческое соглашение 1**: если кол-во = 1, время упреждения = 5
    - **Коммерческое соглашение 2**: если кол-во = 2, время упреждения = 0

- **Отрицательные дни:** 0 дней
- **Тип спланированного заказа (настройки заказа по умолчанию для номенклатуры):** Заказ на покупку

В системе имеются следующие заказы на продажу:

- **SO1:** Кол-во = 1, запрошенная дата поставки = сегодня
- **SO2:** Кол-во = 1, запрошенная дата поставки = сегодня + 6 дней

Этот спрос может быть частично покрыт существующими поставками из следующих подтвержденных заказов на покупку:

- **PO1:** Дата прихода = сегодня + 1 день, кол-во = 1, дата истечения срока годности = сегодня + 2 дня
- **PO2:** Дата прихода = сегодня + 3 дня, кол-во = 1, дата истечения срока годности = сегодня + 7 дней

В системе имеется два коммерческих соглашения (одно для количества = 1, время упреждения = 5 дня, и одно для количества = 2, время упреждения = 0 дня). Таким образом, система пытается минимизировать задержку путем создания следующего спланированного заказа на покупку, который соответствует второму коммерческому соглашению:

- **PP01:** Дата прихода = сегодня, кол-во = 2, дата истечения срока годности = сегодня + 10 дней

Заказ SO1 покрыт одной единицей из заказа PPO1. Заказ SO2 будет покрыт заказом PO2, так как срок годности заказа PO2 истекает раньше, чем у заказа PPO1.

В приведенной ниже таблице представлена сводка результата.

| Спрос | Информация об источниках потребности |
|---|---|
| **SO1:** Дата поставки = сегодня, кол-во = 1 | **PPO1:** Дата прихода = сегодня, кол-во = 1, дата истечения срока годности = сегодня + 10 дней |
| **SO2:** Дата поставки = сегодня + 6 дней, кол-во = 1 | **PO2:** Дата прихода = сегодня + 3 дня, кол-во = 1, дата истечения срока годности = сегодня + 7 дней |

> [!NOTE]
> Заказ PO1 не используется, так как он поступит слишком поздно для заказа S01, и срок его годности истечет до того, как будет доставлен заказ S02. Заказ PPO1 имеет превышение заказа на одну единицу, чтобы время ожидания было равно 0 (нулю) по коммерческому соглашению 2.

На следующем рисунке показана временная шкала для этого примера.

![Пример 4. Простой FEFO, период, время упреждения зависит от количества.](media/fefo-example-4.png "Пример 4. Простой FEFO, период, время упреждения зависит от количества")

## <a name="example-5-simple-fefo-requirement-10-negative-days"></a>Пример 5. Простой FEFO, потребность, 10 отрицательных дней

<!-- KFM: This is more of a negative days example than a shelf life example. We should point out more explicitly how shelf life affects this situation (or maybe otherwise remove this example). -->

В этом примере показано, как работать со сроком годности при добавлении для номенклатуры большого количества отрицательных дней. Отрицательные дни — это число дней, в течение которых вы готовы ожидать, прежде чем заказать пополнение номенклатуры в случае отрицательных запасов. Система не создает поставки, если количество отрицательных дней не превышает допустимое значение.

В системе имеются следующие параметры номенклатуры и сводного плана:

- **Код покрытия (стратегия пополнения):** Требование
- **Время упреждения:** 0 дней
- **Отрицательные дни:** 10 дней
- **Тип спланированного заказа (настройки заказа по умолчанию для номенклатуры):** Заказ на покупку

В системе имеется следующий заказ на продажу:

- **SO1:** Кол-во = 1, запрошенная дата поставки = сегодня

Этот спрос может быть покрыт существующими поставками из следующего подтвержденного заказа на покупку:

- **PO1:** Дата прихода = сегодня + 3 дня, кол-во = 1, дата истечения срока годности = сегодня + 5 дней

Поскольку в системе настроены 10 отрицательных дней, она покрывает спрос заказа SO1 с помощью заказа PO1, несмотря на то, что результатом будет задержка в три дня, так как заказ SO1 создает отрицательные запасы, пока не поступит заказ PO1. Спланированный заказ на покупку не создается, хотя время упреждения равно 0 (нулю), и создание спланированного заказа на покупку привело бы к уменьшению задержек.

В приведенной ниже таблице представлена сводка результата.

| Спрос | Информация об источниках потребности |
|---|---|
| **SO1:** Дата поставки = сегодня, кол-во = 1 | **PO1:** Дата прихода = сегодня + 3 дня, кол-во = 1, дата истечения срока годности = сегодня + 5 дней |

На следующем рисунке показана временная шкала для этого примера.

![Пример 5. Простой FEFO, потребность, 10 отрицательных дней.](media/fefo-example-5.png "Пример 5. Простой FEFO, потребность, 10 отрицательных дней")

## <a name="example-6-simple-fefo-requirement-five-negative-days"></a>Пример 6. Простой FEFO, потребность, пять отрицательных дней

В этом примере показано, как работать со сроком годности при добавлении для номенклатуры количества отрицательных дней, которое меньше периода срока хранения.

В системе имеются следующие параметры номенклатуры и сводного плана:

- **Код покрытия (стратегия пополнения):** Требование
- **Дни продажи:** 0 дней
- **Время упреждения:** 0 дней
- **Отрицательные дни:** 5 дней
- **Тип спланированного заказа (настройки заказа по умолчанию для номенклатуры):** Заказ на покупку

В системе имеется следующий заказ на продажу:

- **SO1:** Кол-во = 2, запрошенная дата поставки = сегодня

Этот спрос может быть покрыт существующими поставками из следующих подтвержденных заказов на покупку:

- **PO1:** Дата прихода = сегодня, кол-во = 1, дата истечения срока годности = сегодня + 1 день
- **PO2:** Дата прихода = сегодня + 2 дня, кол-во = 1, дата истечения срока годности = сегодня + 3 дня

Однако система должна учитывать ограничение, по которому не могут быть просрочены в момент отгрузки номенклатуры. Таким образом, заказы PO2 и PO1 не могут использоваться для заказа SO1, так как срок годности заказа PO1 истекает до поступления заказа PO2. Система создает следующий спланированный заказ на покупку для завершения покрытия спроса для заказа SO1:

- **PPO1:** Дата прихода = сегодня, кол-во = 1, дата истечения срока годности = сегодня + 10 дней

Система может использовать преимущества пяти отрицательных дней и использовать заказы PO2 и PPO1 для покрытия заказа SO1. Однако этот подход приведет к задержке доставки, пока не поступит заказ PO2, а срок годности заказа PO1 истечет до этого времени. Таким образом, система покрывает заказ SO1 с помощью заказов PPO1 и PO1.

В приведенной ниже таблице представлена сводка результата.

| Спрос | Информация об источниках потребности |
|---|---|
| **SO1:** Дата поставки = сегодня, кол-во = 2 | <p>**PO1:** Дата прихода = сегодня, кол-во = 1, дата истечения срока годности = сегодня + 1 день</p><p>**PPO1:** Дата прихода = сегодня, кол-во = 1, дата истечения срока годности = сегодня + 10 дней</p> |

На следующем рисунке показана временная шкала для этого примера.

![Пример 6. Простой FEFO, потребность, пять отрицательных дней.](media/fefo-example-6.png "Пример 6. Простой FEFO, потребность, пять отрицательных дней")
