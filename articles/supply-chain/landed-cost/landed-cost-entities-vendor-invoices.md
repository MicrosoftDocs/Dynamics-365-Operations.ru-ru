---
title: Объекты накладной поставщика
description: В этой статье приводятся сведения об объектах накладной поставщика, которые позволяют настроить коды типов затрат для внутренних затрат или для внешних производных затрат.
author: yufeihuang
ms.date: 05/27/2022
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: yufeihuang
ms.search.validFrom: 2022-05-27
ms.dyn365.ops.version: 10.0.28
ms.openlocfilehash: f0371cf9862afaf3bc43a44def725c420e9aaf56
ms.sourcegitcommit: 5b34b41ae74269ba639e2876bc5862ef468da1cc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2022
ms.locfileid: "9166754"
---
# <a name="vendor-invoice-entities"></a>Объекты накладной поставщика

[!include [banner](../includes/banner.md)]

Модуль **Стоимость на складе** позволяет настроить коды типов затрат для внутренних затрат или для внешних производных затрат. Если затраты являются внешними по отношению к бизнесу, накладная ожидается от поставщика услуг. Эта накладная обрабатывается как журнал накладных, который может быть связан с поездкой, и значение накладной может распределяться по одной или нескольким затратам на поездку.

Субъекты накладной поставщика позволяют распределять значение строки журнала по одной или нескольким затратам на поездку с совместно используемым кодом типа затрат.

Затраты могут распределяться только в том случае, если существуют строки заголовка журнала накладных и журнала накладных.

## <a name="vendor-voyage-cost-allocations-itmledgerjournalcostlinesvoyagesentity"></a>Распределение затрат по поездке поставщика (ITMLedgerJournalCostLinesVoyagesEntity)

Объект данных распределения стоимости поездки поставщика позволяет распределить строку накладной поставщика по одной или нескольким затратам, применяемым к области стоимости поездки. Эта функция поддерживается объектом `ITMLedgerJournalCostLinesVoyagesEntity`. В следующей таблице перечислены поля и сопоставления, которые составляют данный объект.

| Имя | Сопоставление | Тип данных | Ключ | Обязательная аналитика |
|---|---|---|---|---|
| Распределенная сумма | ITMLedgerJournalCostLines.Amount | Числовое значение(32, 6) | Нет | Нет |
| Номер строки проводки по затратам | ITMLedgerJournalCostLines.CostTransRefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Номер строки журнала | ITMLedgerJournalCostLines.RefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Номер журнала | ITMLedgerJournalCostLines.RefRecId | Nvarchar(20) | **Да** | Нет |
| Поездка | ITMLedgerJournalCostLines.CostTransRefRecId | Nvarchar(20) | **Да** | Нет |

## <a name="vendor-shipping-container-cost-allocations-itmledgerjournalcostlinescontainersentity"></a>Распределение затрат на грузовой контейнер поставщика (ITMLedgerJournalCostLinesContainersEntity)

Объект данных распределения стоимости грузового контейнера поставщика позволяет распределить строку накладной поставщика по одной или нескольким затратам, применяемым к области стоимости гурзового контейнера. Эта функция поддерживается объектом `ITMLedgerJournalCostLinesContainersEntity`. В следующей таблице перечислены поля и сопоставления, которые составляют данный объект.

| Имя | Сопоставление | Тип данных | Ключ | Обязательная аналитика |
|---|---|---|---|---|
| Распределенная сумма | ITMLedgerJournalCostLines.Amount | Числовое значение(32, 6) | Нет | Нет |
| Грузовой контейнер | ITMLedgerJournalCostLines.CostTransRefRecId | Nvarchar(20) | **Да** | Нет |
| Номер строки проводки по затратам | ITMLedgerJournalCostLines.CostTransRefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Номер строки журнала | ITMLedgerJournalCostLines.RefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Номер журнала | ITMLedgerJournalCostLines.RefRecId | Nvarchar(20) | **Да** | Нет |
| Поездка | ITMLedgerJournalCostLines.CostTransRefRecId | Nvarchar(20) | **Да** | Нет |

## <a name="vendor-folio-cost-allocations-itmledgerjournalcostlinesfoliosentity"></a>Распределение затрат по листам поставщика (ITMLedgerJournalCostLinesFoliosEntity)

Объект данных распределения стоимости листа поставщика позволяет распределить строку накладной поставщика по одной или нескольким затратам, применяемым к области стоимости листа. Эта функция поддерживается объектом `ITMLedgerJournalCostLinesFoliosEntity`. В следующей таблице перечислены поля и сопоставления, которые составляют данный объект.

| Имя | Сопоставление | Тип данных | Ключ | Обязательная аналитика |
|---|---|---|---|---|
| Распределенная сумма | ITMLedgerJournalCostLines.Amount | Числовое значение(32, 6) | Нет | Нет |
| Номер строки проводки по затратам | ITMLedgerJournalCostLines.CostTransRefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Лист | ITMLedgerJournalCostLines.CostTransRefRecId | Nvarchar(20) | **Да** | Нет |
| Номер строки журнала | ITMLedgerJournalCostLines.RefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Номер журнала | ITMLedgerJournalCostLines.RefRecId | Nvarchar(20) | **Да** | Нет |

## <a name="vendor-purchase-order-cost-allocations-itmledgerjournalcostlinespurchtableentity"></a>Распределение затрат по заказам на покупку для поставщика (ITMLedgerJournalCostLinesPurchTableEntity)

Объект данных распределения стоимости заказа на покупку поставщика позволяет распределить строку накладной поставщика по одной или нескольким затратам, применяемым к области стоимости заказа на покупку. Эта функция поддерживается объектом `ITMLedgerJournalCostLinesPurchTableEntity`. В следующей таблице перечислены поля и сопоставления, которые составляют данный объект.

| Имя | Сопоставление | Тип данных | Ключ | Обязательная аналитика |
|---|---|---|---|---|
| Распределенная сумма | ITMLedgerJournalCostLines.Amount | Числовое значение(32, 6) | Нет | Нет |
| Номер строки проводки по затратам | ITMLedgerJournalCostLines.CostTransRefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Номер строки журнала | ITMLedgerJournalCostLines.RefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Номер журнала | ITMLedgerJournalCostLines.RefRecId | Nvarchar(20) | **Да** | Нет |
| Заказ на покупку | ITMLedgerJournalCostLines.CostTransRefRecId | Nvarchar(20) | **Да** | Нет |

## <a name="vendor-item-cost-allocations-itmledgerjournalcostlinespurchlineentity"></a>Распределение затрат по номенклатуре поставщика (ITMLedgerJournalCostLinesPurchLineEntity)

Объект данных распределения стоимости номенклатуры поставщика позволяет распределить строку накладной поставщика по одной или нескольким затратам, применяемым к области стоимости номенклатуры. Область затрат номенклатуры охватывает затраты по строке заказа на покупку. Эта функция поддерживается объектом `ITMLedgerJournalCostLinesPurchLineEntity`. В следующей таблице перечислены поля и сопоставления, которые составляют данный объект.

| Имя | Сопоставление | Тип данных | Ключ | Обязательная аналитика |
|---|---|---|---|---|
| Распределенная сумма | ITMLedgerJournalCostLines.Amount | Числовое значение(32, 6) | Нет | Нет |
| Номер строки проводки по затратам | ITMLedgerJournalCostLines.CostTransRefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Номер строки журнала | ITMLedgerJournalCostLines.RefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Номер журнала | ITMLedgerJournalCostLines.RefRecId | Nvarchar(20) | **Да** | Нет |
| Заказ на покупку | ITMLedgerJournalCostLines.CostTransRefRecId | Nvarchar(20) | **Да** | Нет |
| Номер строки заказа на покупку | ITMLedgerJournalCostLines.CostTransRefRecId | Числовое значение(32, 16) | **Да** | Нет |

## <a name="vendor-transfer-order-line-cost-allocations-itmledgerjournalcostlinestransferlineentity"></a>Распределение затрат по строке заказа на перемещение поставщика (ITMLedgerJournalCostLinesTransferLineEntity)

Объект данных распределения стоимости строки заказа на перемещение поставщика позволяет распределить строку накладной поставщика по одной или нескольким затратам, применяемым к области стоимости строки перемещения. Эта функция поддерживается объектом `ITMLedgerJournalCostLinesTransferLineEntity`. В следующей таблице перечислены поля и сопоставления, которые составляют данный объект.

| Имя | Сопоставление | Тип данных | Ключ | Обязательная аналитика |
|---|---|---|---|---|
| Распределенная сумма | ITMLedgerJournalCostLines.Amount | Числовое значение(32, 6) | Нет | Нет |
| Номер строки проводки по затратам | ITMLedgerJournalCostLines.CostTransRefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Номер строки журнала | ITMLedgerJournalCostLines.RefRecId | Числовое значение(32, 16) | **Да** | Нет |
| Номер журнала | ITMLedgerJournalCostLines.RefRecId | Nvarchar(20) | **Да** | Нет |
| Заказ на перемещение | ITMLedgerJournalCostLines.CostTransRefRecId | Nvarchar(20) | **Да** | Нет |
| Номер строки заказа на перемещение | ITMLedgerJournalCostLines.CostTransRefRecId | Числовое значение(32, 16) | **Да** | Нет |

### <a name="reference-table"></a>Таблица ссылок

Строки затрат на поездку имеют прямую связь с записью проводки затрат. Эта запись включает значение **Идентификатора таблицы ссылок**. Это значение является уникальным для каждой области затрат (поездка, грузовой контейнер и т. д.) При обращении к специальным номерам таблиц для данных, созданных с помощью объектов данных, эти объекты разбиваются на основе значений **Идентификатора таблицы ссылок**.

Значения для таблицы ссылок (`RefTableId`) и типа транзакции (`TransType`) являются неявными в выборе либо для строки покупки по стоимости на складе, либо для объекта строки перемещения по стоимости на складе.

## <a name="vendor-invoice-journal-lines-vendorinvoicejournallineentity"></a>Строки журнала накладной поставщика (VendorInvoiceJournalLineEntity)

Прежде чем значение строки журнала может быть распределено в одну или несколько затрат в модуле **Стоимость на складе**, строка журнала должна быть связана с областью затрат. Для поддержки этой функции модуль **Стоимость на складе** добавляет некоторые новые поля в таблицу строк журнала (`LedgerJournalTrans`).

### <a name="fields-added-to-the-vendor-invoice-journal-line-entity"></a>Поля, добавленные в объект строки журнала накладных поставщиков

В следующей таблице перечислены поля, которые модуль **Стоимость на складе** добавляет к объекту строки журнала накладных поставщика (`VendorInvoiceJournalLineEntity`). Эти поля позволяют системе создавать строки журнала и распределять затраты по ним.

| Имя | Сопоставление | Тип данных | Ключ | Обязательная аналитика |
|---|---|---|---|---|
| Область затрат | LedgerJournalTrans.ITMCostArea | Int | Нет | Нет |
| Код типа затрат | LedgerJournalTrans.ITMCostTypeId | Nvarchar(20) | Нет | Нет |

### <a name="mainoffset-account"></a>Основной/корр. счет

Основной/корр. счет для строки журнала накладных, связанной со стоимостью на складе до выполнения, определяется кодом типа затрат. Если код типа затрат включен в строку журнала накладных, перерасчетный счет для этого кода будет использоваться в качестве либо основного счета, либо как корр. счета, в зависимости от сценария:

- **Однострочный журнал** — Если определен основной счет (иными словами, счет поставщика) и указан код типа затрат, значение клирингового счета для этого кода типа затрат будет введено на корр. счет.
- **Многострочный журнал** — Если основной счет не определен, но указан код вида затрат, значение перерасчетного счета для этого кода вида затрат будет введено в основной счет. Строка журнала, которая кредитует поставщика, не будет ссылаться на код типа затрат.

## <a name="sequencing"></a>Последовательность

Из-за зависимостей между таблицами журнала и строк журнала в первую очередь необходимо создать запись о поездке. Строки поездки можно создать только после создания поездки, грузового контейнера и листов.

Чтобы распределить накладную на поездку, система должна обработать объекты в следующем порядке:

1. Заголовок журнала накладных (`VendInvoiceJournalHeaderEntity`)
1. Строка журнала накладных (`VendInvoiceJournalLineEntity`)
1. Распределение стоимости на складе (`ITMLedgerJournalEntities`)
