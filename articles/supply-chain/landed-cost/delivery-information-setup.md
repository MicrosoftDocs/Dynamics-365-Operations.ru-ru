---
title: Настройка сведений о доставке
description: В этой теме описывается, как настроить информацию о доставке для модуля "Стоимость на складе".
author: sherry-zheng
ms.date: 12/09/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ITMPortTable, ITMLeadTimeTable, ITMLegTable
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: chuzheng
ms.search.validFrom: 2020-12-09
ms.dyn365.ops.version: Release 10.0.17
ms.openlocfilehash: c9e36bef0b4cf87fa3fbad5d191731b48221a41e9d92241733e1bc3edb2ca838
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "6747019"
---
# <a name="delivery-information-setup"></a>Настройка сведений о доставке

[!include [banner](../../includes/banner.md)]

В этой теме описывается, как настроить информацию о доставке для модуля **Стоимость на складе**.

## <a name="shipping-ports"></a>Порты отгрузки

Порты отгрузки определяют, откуда и куда отгружаются товары. Для каждого рейса задается порт "в" и порт "из" на основе пути, выбранного для судна рейса. Порты отгрузки используются для создания отрезков пусти, а также действий рейса. Обычно они определяются с помощью имени города и страны/региона, где расположен физический порт отгрузки.

Для работы с портами отгрузки перейдите **Стоимость на складе \> Настройка сведений о поставке \> Порты отгрузки**. Там можно просматривать, добавлять и удалять записи для портов отгрузки. В следующей таблице описываются поля, которые доступны для каждой записи.

| Поле | описание |
|---|---|
| Порт отгрузки | Введите уникальное идентификационное имя/номер для порта отгрузки. |
| описание | Введите описание для порта отгрузки. |

## <a name="tracking-control-center"></a><a name="tracking-control-center"></a>Центр управления отслеживанием

Используйте центр управления отслеживанием для настройки времени упреждения, обновлений статуса и потока сведений, связанных с рейсом по мере того, так как контейнеры отгрузки перемещаются из одного отрезка в следующий. При создании записи контроля отслеживания она связана с определенным отрезком пути для рейса. Когда рейс обновляет отрезок, связанная запись будет обновлена и заполнена, как указано. Сведения об отслеживании для отдельных отрезков можно обновить на странице **Все рейсы**.

Чтобы открыть центр управления отслеживанием, перейдите в **Стоимость на складе \> Настройка сведений о доставке \> Центр управления отслеживанием**.

Центр управления отслеживанием показывает одно из трех представлений страницы в зависимости от значения, выбранного в поле **Создать тип** в области списка: *Пустой*, *Время упреждения* или *Обновление статуса*. Каждый тип создания обновляет отдельный набор данных, связанный с ходом выполнения рейса с места происхождения до конечного пункта назначения.

### <a name="common-rule-settings"></a>Настройки общих правил

В следующей таблице показаны поля, доступные для всех трех типов создания в центре управления отслеживанием.

| Поле | описание |
|---|---|
| Таблица источника, поле источника | Эти поля определяют таблицу и поле источника в базе данных. Правило загрузит значение в поле, а затем будет использовать его в соответствии с другими настройками правила. |
| Целевая таблица, целевое поле | Эти поля определяют таблицу и поле назначения в базе данных. Правило загрузит значение в поле, а затем будет использовать его (или перезапишет) в соответствии с другими настройками правила. |
| Деятельность | Это поле определяет тип действия, которое должно быть применено к контейнеру отгрузки, совпадающему с правилом. |
| Соответствующие критерии | Это поле определяет, как система определяет соответствие для правила. В каждом экземпляре система анализирует данные в исходных и целевых таблицах, чтобы определить, следует ли обновлять поле в целевой таблице и когда это необходимо.<p>Например, исходная таблица — *Рейсы*, а в качестве целевой таблицы используется *Заголовок покупки* или *Строки покупки*. В таблице *Рейсы* есть значение **Исходный порт** *Далянь*, а в таблице *Заголовок покупка* есть значение **Порт назначения** *Шанхай*. После этого создается правило, где *Далянь* задан в качестве порта "из". В этом случае значения поля **Критерии соответствия** будут работать следующим образом:</p><ul><li>**Оба** — целевое поле не будет обновлено, так как один из двух портов не совпадает.</li><li>**Источник** — целевое поле будет обновлено, так как в исходной таблице порт "из" — *Далянь*.</li><li>**Цель** — целевое поле не обновляется, так как порт "из" в таблице цели — *Шанхай* (не *Далянь*).</li></ul> |
| Копировать действие | Возможные значения: *Копия* и *По умолчанию*. Выберите *Копировать*, чтобы скопировать значение из исходного поля в целевое поле. Выберите *По умолчанию*, чтобы задать статическое значение для поля назначения. |
| По умолчанию | Когда для поля **Копировать действие** установлено как *По умолчанию*, поле **По умолчанию** определяет значение по умолчанию для поля назначения. Например, если действие связано с обновлением порта, а поле **Копировать действие** задано как *По умолчанию*, поле **По умолчанию** определяет порт. |
| Участок пути | Это поле определяет отрезок пути, для которого выполняется указанное действие, например, для загрузки или таможенных процедур. |
| Поставщик услуг | Если какой-либо конкретный поставщик услуг используется для текущего обновления статуса или отрезка пути, это поле определяет поставщика услуг. Поставщики услуг определяются на счете поставщика. |

### <a name="lead-time-rules"></a>Правила времени упреждения

Время упреждения — это расчетное время, которое потребуется для рейса для выполнения определенного отрезка рейса. Время упреждения каждого отрезка используется для расчета ожидаемой даты поставки для рейса. Эта дата затем вводится в поле **Подтвержденная дата доставки** в каждой строке покупки в рейсе.

Правила времени упреждения используются для управления обновлениями дат. Действия создаются автоматически при использовании шаблона пути для рейса.

Чтобы добавить правило времени упреждения в центр управления отслеживанием, выполните следующие действия.

1. Выполните одно из следующих действий.

    - Перейдите **Стоимость на складе \> Настройка пути с несколькими отрезками \> Отрезки**. Выберите отрезок, для которого нужно настроить время упреждения, а затем в области действий выберите **Центр управления отслеживанием**. Центр управления отслеживанием предварительно загружается со сведениями о выбранном отрезке.
    - Перейдите **Стоимость на складе \> Настойка сведений о доставке \> Центр управления отслеживанием**. После этого необходимо вручную выбрать отрезок в пункте 4 этой процедуры.

1. В области списка задайте в поле **Создать тип** *Время упреждения*.
1. В области действий выберите **Создать**.
1. Если вы начала с центра управления отслеживанием с шага 1, задайте в поле **Отрезок** отрезок, для которого требуется создать правило времени упреждения. Если начать со страницы **Отрезки**, в поле **Отрезок** будет задан отрезок, ранее выбранный перед открытием центра управления отслеживанием.

    На основе значения поля **Отрезок** автоматически задаются несколько полей, как показано ниже:

    - **Таблица источника:** *Действия контейнера*
    - **Поле источника:** *Дата начала*
    - **Целевая таблица:** *Действия контейнера*
    - **Целевое поле:** *Ожидаемая дата окончания*

1. В поле **Действие** выберите действие, к которому должно применяться текущее правило.
1. В поле **Время упреждения** введите время упреждения (в днях), которое должно быть применено при запуске текущего правила.

### <a name="status-update-rules"></a>Правила обновления статуса

Записи, в которых в поле **Создать тип** выбрано значение *Обновление статуса*, обновляют статус строк заказа на покупку или на уровне рейса, контейнера отгрузки или листа. Статусы могут быть настроены независимо друг от друга. Их можно использовать для информирования пользователя или подразделения о стадии рейса (например, документы получены или товары в пути).

Когда для поля **Создать тип** установлено значение *Обновление статуса*, центр управления отслеживанием содержит экспресс-вкладку **Строки**, в которой можно определить область затрат и обновленный статус рейса. Например, есть строка, в которой поле **Область затрат** задано как *Контейнер*, а в поле **Статус рейса** указано значение *Товары в пути*. В этом случае, когда заказ завершает указанный отрезок, поле **Статус рейса** контейнера отгрузки будет обновлено на *Товары в пути*.

Обновления статуса обеспечивают статус рейса по всем строкам рейса и строкам заказа на покупку, связанным с этим рейсом. По мере перемещения рейса по пути из порта, в пути и таможенных процедур до склада назначения, поле **Статус рейса** в записи рейса обеспечивает быстрый просмотр этапа, в котором находятся номенклатуры.

Чтобы добавить правило обновления статуса в центр управления отслеживанием, выполните следующие действия.

1. Выполните одно из следующих действий.

    - Перейдите **Стоимость на складе \> Настройка пути с несколькими отрезками \> Отрезки**. Выберите отрезок, для которого нужно настроить обновление статуса, а затем в области действий выберите **Центр управления отслеживанием**. Центр управления отслеживанием предварительно загружается со сведениями о выбранном отрезке.
    - Перейдите **Стоимость на складе \> Настойка сведений о доставке \> Центр управления отслеживанием**. После этого необходимо вручную выбрать отрезок в пункте 4 этой процедуры.

1. В области списка задайте в поле **Создать тип** *Обновление статуса*.
1. В области действий выберите **Создать**.
1. Если вы начали с центра управления отслеживанием с шага 1, задайте в поле **Отрезок** отрезок, для которого требуется создать правило обновления статуса. Если начать со страницы **Отрезки**, в поле **Отрезок** будет задан отрезок, ранее выбранный перед открытием центра управления отслеживанием.

    На основе значения поля **Отрезок** автоматически задаются несколько полей, как показано ниже:

    - **Таблица источника:** *Действия контейнера*
    - **Поле источника:** *Фактическая дата окончания*
    - **Целевая таблица:** это поле оставлено пустым.
    - **Целевое поле:** это поле оставлено пустым.

1. В поле **Действие** выберите действие, к которому должно применяться ваше правило.
1. На экспресс-вкладке **Строки** введите обновления статуса для каждой области затрат.

### <a name="blank-type-rules"></a>Правила для пустых типов

Для переопределения или ввода значения поля используются записи со значением **Создать тип** *Пустой* на основе данных другого поля. Поле из стоимости на складе перезапишет данные в других областях Microsoft Dynamics 365 Supply Chain Management на основе правил, настроенных в центре управления отслеживанием.

1. Перейдите **Стоимость на складе \> Настойка сведений о доставке \> Центр управления отслеживанием**.
1. В области списка задайте в поле **Создать тип** *Пустой*.
1. В области действий выберите **Создать**.
1. Определите значения источника и назначения, критерии соответствия, действие копирования и другие необходимые параметры, необходимые для данного правила.

### <a name="required-tracking-control-setup"></a>Необходимая настройка управления отслеживанием

Для каждого шаблона пути в центре управления отслеживанием необходимо настроить две записи. У обеих записей есть значение **Создать тип** *Пустой* и они используются во всех реализациях стоимости на складе. Они помогают гарантировать, что подтвержденная дата покупки и ожидаемые даты товаров в пути обновляются для рейсов и в соответствующих строках заказа на покупку ожидаемым образом.

Первая запись требуется для обновления строк покупки. Ее параметры:

- **Таблица источника:** *Действия контейнера*
- **Исходное поле:** *Ожидаемая дата окончания*
- **Целевая таблица:** *Строки покупки*
- **Целевое поле:** *Подтвержденная дата или дата доставки*

Вторая запись требуется для обновления проводок товаров в пути. Ее параметры:

- **Таблица источника:** *Действия контейнера*
- **Исходное поле:** *Ожидаемая дата окончания*
- **Целевая таблица:** *Заказ товаров в пути*
- **Целевое поле:** *Ожидаемая дата*
