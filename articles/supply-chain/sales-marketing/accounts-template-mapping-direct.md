---
title: Синхронизация организаций непосредственно из Sales с клиентами в Supply Chain Management
description: В этой статье рассматриваются шаблоны и базовые задачи, которые используются для синхронизации организаций из Dynamics 365 Sales в Supply Chain Management.
author: Henrikan
ms.date: 10/25/2018
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: henrikan
ms.dyn365.ops.version: July 2017 update
ms.search.validFrom: 2017-07-8
ms.openlocfilehash: 8d415174f62c511626852b91f3591f907b4a85ea
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/03/2022
ms.locfileid: "8851575"
---
# <a name="synchronize-accounts-directly-from-sales-to-customers-in-supply-chain-management"></a>Синхронизация организаций непосредственно из Sales с клиентами в Supply Chain Management

[!include [banner](../includes/banner.md)]



> [!NOTE]
> Перед использованием решения "Перспективный клиент в наличные деньги" следует ознакомиться с разделом [Интеграция данных в Microsoft Dataverse для приложений](/powerapps/administrator/data-integrator).

В этой статье рассматриваются шаблоны и базовые задачи, которые используются для синхронизации организаций непосредственно из Dynamics 365 Sales в Dynamics 365 Supply Chain Management.

## <a name="data-flow-in-prospect-to-cash"></a>Поток данных в решение "Перспективный клиент в наличные деньги"

Решение "Перспективный клиент в наличные деньги" использует функцию интеграции данных для синхронизации данных между экземплярами Supply Chain Management и Sales.  Шаблоны "Перспективный клиент в наличные деньги", доступные в компоненте интеграции данных, обеспечивают движение данных об организациях, контактах, продуктах, предложениях по продажам, заказах на продажу и накладных по продажам между Supply Chain Management и Sales. На следующем рисунке показано, как данные синхронизируются между Supply Chain Management и Sales.

[![Поток данных в решение "Перспективный клиент в наличные деньги".](./media/prospect-to-cash-data-flow.png)](./media/prospect-to-cash-data-flow.png)

## <a name="templates-and-tasks"></a>Шаблоны и задачи

Чтобы получить доступ к доступным шаблонам, откройте [Центр администрирования Power Apps](https://preview.admin.powerapps.com/dataintegration). Выберите **Проекты**, затем в правом верхнем углу выберите **Создать проект**, чтобы выбрать общие шаблоны.

Следующий шаблон и базовая задача используется для синхронизации счетов из Sales с Supply Chain Management:

- **Имя шаблона в интеграции данных:** "Организации (из Sales в Fin and Ops) — напрямую"
- **Имя задачи в проекте:** Организации — Клиенты

Никакие задачи синхронизации не требуются до того, как можно будет выполнить синхронизацию организаций/клиентов.

## <a name="entity-set"></a>Набор объектов

| Прод.    | Управление цепочкой поставок |
|----------|------------------------|
| Счета | Клиенты V2           |

## <a name="entity-flow"></a>Поток объектов

Для управления организациями используется приложение Sales, из которого они синхронизируются с Supply Chain Management в качестве клиентов. Свойство **Управляется извне** этих клиентов имеет значение **Да** для отслеживания клиентов, которые происходят из Sales. Во время выставления накладных эта информация используется для фильтрации накладных, которые синхронизируются с Sales.

## <a name="prospect-to-cash-solution-for-sales"></a>Решение "Перспективный клиент в наличные деньги" для Sales

Столбец **Номер счета** доступен на странице **Счет**. Оно является естественным и уникальным ключом для поддержки интеграции. Функция естественного ключа решения управления взаимоотношениями с клиентами (CRM) могут повлиять на клиентов, уже использующих столбец **Номер счета**, но не использующих уникальные значения **Номер счета** для каждого счета. В настоящее время решение интеграции не поддерживает это.

При создании нового счета, если значение **Номер счета** еще не существует, оно создается автоматически с использованием номерной серии. Значение состоит из **ACC**, после чего следует увеличивающая номерная серия и суффикс из шести символов. Пример: **ACC-01000-BVRCPS**

При применении решения интеграции для Sales сценарий обновления задает значение в столбце **Номер счета** для существующих счетов в Sales. Если значения **Номер счета** не существуют, используется номерная серия, упомянутая выше.

## <a name="preconditions-and-mapping-setup"></a>Предварительные условия и настройка сопоставления

- Сопоставление **CustomerGroupId** необходимо обновить до допустимого значения в Supply Chain Management. Можно указать значение по умолчанию или задать значение, используя сопоставление значений.

    Значение шаблона по умолчанию — **10**.

- Добавляя следующие сопоставления, можно уменьшить число обновлений вручную, необходимых в Supply Chain Management. Можно использовать значение по умолчанию или сопоставление значений, например, из поля **Страна/регион** или **Город**.

    - **SiteId** — сайт необходим для создания предложений и строк заказов на продажу в Supply Chain Management. Сайт по умолчанию может использоваться из продукта или из клиента в заголовке заказа.

        Значение шаблона по умолчанию — **1**.

    - **WarehouseId** — склад необходим для обработки предложений и строк заказов на продажу в Supply Chain Management. Склад по умолчанию может использоваться из продукта или из клиента в заголовке заказа в Supply Chain Management.

        Значение шаблона по умолчанию — **13**.

    - **LanguageId** — язык необходим для создания предложений и заказов на продажу в Supply Chain Management. По умолчанию используется язык из заголовка заказа от клиента.

        Значение шаблона по умолчанию — **en-us**.

## <a name="template-mapping-in-data-integration"></a>Сопоставление шаблона в интеграции данных

> [!NOTE]
> Столбцы **Условия оплаты**, **Условия фрахта**, **Условия поставки**, **Способ доставки** и **Режим доставки** не включены в сопоставления по умолчанию. Чтобы сопоставить эти столбцы, необходимо настроить преобразование значений, характерное для данных в организациях, между которыми синхронизируется таблица.

На следующем рисунке показан пример сопоставления шаблона в интеграции данных. 

> [!NOTE]
> Сопоставление показывает, какие данные столбцов будут синхронизированы из Sales в Supply Chain Management.

![Сопоставление шаблона в интеграции данных.](./media/accounts-direct-template-mapping-data-integrator-1.png)

## <a name="related-articles"></a>Связанные статьи


[Продажа перспективному клиенту](prospect-to-cash.md)

[Синхронизация организаций непосредственно из Sales с клиентами в Supply Chain Management](accounts-template-mapping-direct.md)

[Синхронизация контактов непосредственно из Sales с контактами или клиентами в Supply Chain Management](contacts-template-mapping-direct.md)

[Синхронизация заказов на продажу напрямую между Sales и Supply Chain Management](sales-order-template-mapping-direct-two-ways.md)

[Синхронизация заголовков и строк накладной по продаже непосредственно из Supply Chain Management с Sales](sales-invoice-template-mapping-direct.md)



[!INCLUDE[footer-include](../../includes/footer-banner.md)]