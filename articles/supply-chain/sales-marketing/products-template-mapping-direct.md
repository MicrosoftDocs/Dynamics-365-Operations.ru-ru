---
title: Прямая синхронизация продуктов из Finance and Operations с продуктами в Sales
description: В этом разделе описываются шаблоны и базовые задачи, которые используются для синхронизации продуктов из Microsoft Dynamics 365 for Finance and Operations в Microsoft Dynamics 365 for Sales.
author: ChristianRytt
manager: AnnBe
ms.date: 10/25/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: crytt
ms.dyn365.ops.version: July 2017 update
ms.search.validFrom: 2017-07-8
ms.openlocfilehash: feb9fbc066162e2caa9fc5dbaeec2c063ae23060
ms.sourcegitcommit: 0f530e5f72a40f383868957a6b5cb0e446e4c795
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2019
ms.locfileid: "348258"
---
# <a name="synchronize-products-directly-from-finance-and-operations-to-products-in-sales"></a>Синхронизация продуктов непосредственно из Finance and Operations с продуктами в Sales

[!include [banner](../includes/banner.md)]

> [!NOTE]
> Перед использованием решения "Перспективный клиент в наличные деньги" следует ознакомиться с разделом [Интеграция данных в Common Data Service для приложений](https://docs.microsoft.com/en-us/powerapps/administrator/data-integrator).

В этом разделе описываются шаблоны и базовые задачи, которые используются для синхронизации продуктов непосредственно из Microsoft Dynamics 365 for Finance and Operations в Microsoft Dynamics 365 for Sales.

## <a name="data-flow-in-prospect-to-cash"></a>Поток данных в решение "Перспективный клиент в наличные деньги"

Решение "Перспективный клиент в наличные деньги" использует функцию интеграции данных для синхронизации данных между экземплярами Finance and Operations и Sales. Шаблоны "Перспективный клиент в наличные деньги", доступные в компоненте интеграции данных, обеспечивают движение данных об организациях, контактах, продуктах, предложениях по продажам, заказах на продажу и накладных по продажам между Finance and Operations и Sales. На следующем рисунке показано, как данные синхронизируются между Finance and Operations и Sales.

[![Поток данных в решение "Перспективный клиент в наличные деньги"](./media/prospect-to-cash-data-flow.png)](./media/prospect-to-cash-data-flow.png)

## <a name="templates-and-tasks"></a>Шаблоны и задачи

Чтобы получить доступ к доступным шаблонам, откройте [Центр администрирования PowerApps](https://preview.admin.powerapps.com/dataintegration). Выберите **Проекты**, затем в правом верхнем углу выберите **Создать проект**, чтобы выбрать общие шаблоны.

Следующий шаблон и базовые задачи используются для синхронизации продуктов Finance and Operations с Sales.

- **Имя шаблона в интеграции данных:** "Продукты (из Fin and Ops в Sales) - напрямую"
- **Имена задачи в проекте интеграции данных:** "Продукты"

Никакие задачи синхронизации не требуются до того, как можно будет выполнить синхронизацию продуктов.

## <a name="entity-set"></a>Набор объектов

| Finance and Operations     | Прод.    |
|----------------------------|----------|
| Запущенные в производство продукты продажи | Товары |

## <a name="entity-flow"></a>Поток объектов

Продукты управляются в Finance and Operations и синхронизируются с Sales. Информационный объект **Запущенные в производство продукты продажи** в Finance and Operations экспортирует только продукты, которые *могут продаваться*. Продукты, которые могут продаваться, — это продукты, имеющие информацию, необходимую для использования в заказе на продажу. Те же правила применяются при проверке продукта с помощью функции **Проверить** на странице **Выпущенный продукт**.

Номер продукта используется как ключ. Таким образом, при синхронизации вариантов продукта в Sales каждый вариант имеет отдельный код продукта.

## <a name="prospect-to-cash-solution-for-sales"></a>Решение "Перспективный клиент в наличные деньги" для Sales

В Sales для продуктов добавлено новое поле **Управляется извне** для указания того, что данный продукт управляется извне. По умолчанию при импорте в Sales задано значение **Да**. Доступны следующие значения:

- **Да** — продукта поступил из Finance and Operations и не может быть изменен в Sales.
- **Нет** — продукт был введен непосредственно в Sales.
- **(Пусто)** — продукт существовали в Sales до включения решения "Перспективный клиент в наличные деньги".

Поле **Управляется извне** помогает гарантировать, что предложения и заказы на продажу, имеющие управляемые извне продукты, будут синхронизироваться с Finance and Operations.

Управляемые извне продукты автоматически добавляются к первому допустимому прайс-листу с той же валютой. Прайс-листы упорядочены в алфавитном порядке по имени. Цена продажи продукта из Finance and Operations используется как цена в прайс-листе. Таким образом, должен быть прайс-лист в Sales для каждой валюты продажи продуктов в Finance and Operations. Валюта в запущенных в производство продуктах продажи задана как валюта учета в юридическом лице, из которого экспортируется продукт.

> [!NOTE]
> - Продукт не будет успешно синхронизирован при отсутствии прайс-листа в соответствующей валюте.
> - Вы можете управлять используемым прайс-листом с интеграцией путем соответствия pricelevelid.name [Прайс-лист по умолчанию (Имя)] в проекте интеграции данных. Ввод данных должен осуществляться буквами нижнего регистра. Например, для прайс-листа в Продажи с именем «Стандарт» будет стоять по умолчанию: поле назначения: pricelevelid.name [Прайс-лист по умолчанию (Имя)] и тип карты: [ { "transformType": "Default", "defaultValue": "standard" } ].

## <a name="preconditions-and-mapping-setup"></a>Предварительные условия и настройка сопоставления

- Перед первым выполнением синхронизации необходимо заполнить таблицу уникально идентифицируемого продукта для существующих продуктов в Finance and Operations. Существующие продукты не будут синхронизированы, пока не будет выполнено это задание.

    1. В Finance and Operations используйте поиск для поиска команды **Заполнить таблицу уникально идентифицируемых продуктов**.
    2. Выберите **Заполнить таблицу уникально идентифицируемых продуктов** для запуска задания. Это задание должно запускаться только один раз.

- Убедитесь, что требуемое соответствие значений для единицы измерения продажи между Finance and Operations и Sales существует в сопоставлении **SalesUnitSymbol** с **DefaultUnit (Имя)**.
- Обновите сопоставление значений для параметра **Группа единиц** (**defaultuomscheduleid.name**), чтобы оно соответствовало параметру **Группы единиц** в Sales.

    Значение шаблона по умолчанию — **Единица измерения по умолчанию**.

- Убедитесь, что единицы измерения при продаже для всех продуктов в Finance and Operations существуют в Sales.
- Убедитесь, что прайс-листы существуют Sales для каждой валюты продажи продуктов в Finance and Operations.
- При создании продуктов в Sales они могут иметь статус **Черновик** или **Активный**. Поведение контролируется параметром **Параметры** > **Администрирование** > **Настройки системы** > **Продажи** в Sales.

    Продукты, которые при создании имеют статус **Черновик**, должны быть активированы, прежде чем они могут быть добавлены в предложения или заказы на продажу.

## <a name="template-mapping-in-data-integration"></a>Сопоставление шаблона в интеграции данных

На следующем рисунке показан пример сопоставления шаблона в интеграции данных. 

> [!NOTE]
> Сопоставление показывает, какие данные полей будут синхронизированы из Sales в Finance and Operations.

![Сопоставление шаблона в интеграторе данных](./media/products-direct-template-mapping-data-integrator-1.png)


## <a name="related-topics"></a>Связанные разделы

[Решение "Перспективный клиент в наличные деньги"](prospect-to-cash.md)

[Синхронизация организаций непосредственно из Sales с клиентами в Finance and Operations](accounts-template-mapping-direct.md)

[Синхронизация контактов непосредственно из Sales с контактами и клиентами в Finance and Operations](contacts-template-mapping-direct.md)

[Синхронизация заголовков и строк заказов на продажу непосредственно из Finance and Operations с Sales](sales-order-template-mapping-direct-two-ways.md)

[Синхронизация заголовков и строк счетов продажи непосредственно из Finance and Operations в Sales](sales-invoice-template-mapping-direct.md)



