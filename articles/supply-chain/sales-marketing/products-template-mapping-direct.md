---
title: Синхронизация продуктов непосредственно из Supply Chain Management с продуктами в Sales
description: В этой теме рассматриваются шаблоны и базовые задачи, которые используются для синхронизации продуктов из Dynamics 365 Supply Chain Management в Dynamics 365 Sales.
author: ChristianRytt
manager: AnnBe
ms.date: 06/10/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: crytt
ms.dyn365.ops.version: July 2017 update
ms.search.validFrom: 2017-07-8
ms.openlocfilehash: 1a96fda4e7f7b6407c51ee4056088d05027462cf
ms.sourcegitcommit: 57bc7e17682e2edb5e1766496b7a22f4621819dd
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/18/2019
ms.locfileid: "2813255"
---
# <a name="synchronize-products-directly-from-supply-chain-management-to-products-in-sales"></a>Синхронизация продуктов непосредственно из Supply Chain Management с продуктами в Sales

[!include [banner](../includes/banner.md)]

> [!NOTE]
> Перед использованием решения "Перспективный клиент в наличные деньги" следует ознакомиться с разделом [Интеграция данных в Common Data Service для приложений](https://docs.microsoft.com/powerapps/administrator/data-integrator).

В этой теме рассматриваются шаблоны и базовые задачи, которые используются для синхронизации продуктов непосредственно из Dynamics 365 Supply Chain Management в Dynamics 365 Sales.

## <a name="data-flow-in-prospect-to-cash"></a>Поток данных в решение "Перспективный клиент в наличные деньги"

Решение "Перспективный клиент в наличные деньги" использует функцию интеграции данных для синхронизации данных между экземплярами Supply Chain Management и Sales. Шаблоны "Перспективный клиент в наличные деньги", доступные в компоненте интеграции данных, обеспечивают движение данных об организациях, контактах, продуктах, предложениях по продажам, заказах на продажу и накладных по продажам между Supply Chain Management и Sales. На следующем рисунке показано, как данные синхронизируются между Supply Chain Management и Sales.

[![Поток данных в решение "Перспективный клиент в наличные деньги"](./media/prospect-to-cash-data-flow.png)](./media/prospect-to-cash-data-flow.png)

## <a name="templates-and-tasks"></a>Шаблоны и задачи

Чтобы получить доступ к доступным шаблонам, откройте [Центр администрирования Power Apps](https://admin.powerapps.com/dataintegration). Выберите **Проекты**, затем в правом верхнем углу выберите **Создать проект**, чтобы выбрать общие шаблоны.

Следующий шаблон и базовые задачи используются для синхронизации продуктов из Supply Chain Management в Sales.

- **Имя шаблона в интеграции данных:** "Продукты (из Supply Chain Management в Sales) — напрямую"
- **Имена задачи в проекте интеграции данных:** "Продукты"

Никакие задачи синхронизации не требуются до того, как можно будет выполнить синхронизацию продуктов.

## <a name="entity-set"></a>Набор объектов

| Управление цепочкой поставок    | Прод.    |
|----------------------------|----------|
| Запущенные в производство продукты продажи | Товары |

## <a name="entity-flow"></a>Поток объектов

Для управления продуктами используется приложение Supply Chain Management, из которого они синхронизируются с Sales. Информационный объект **Запущенные в производство продукты продажи** в Supply Chain Management экспортирует только продукты, которые *могут продаваться*. Продукты, которые могут продаваться, — это продукты, имеющие информацию, необходимую для использования в заказе на продажу. Те же правила применяются при проверке продукта с помощью функции **Проверить** на странице **Выпущенный продукт**.

Номер продукта используется как ключ. Таким образом, при синхронизации вариантов продукта в Sales каждый вариант имеет отдельный код продукта.

## <a name="prospect-to-cash-solution-for-sales"></a>Решение "Перспективный клиент в наличные деньги" для Sales

В Sales для продуктов добавлено новое поле **Управляется извне** для указания того, что данный продукт управляется извне. По умолчанию при импорте в Sales задано значение **Да**. Доступны следующие значения:

- **Да** — продукта поступил из Supply Chain Management и не может быть изменен в Sales.
- **Нет** — продукт был введен непосредственно в Sales.
- **(Пусто)** — продукт существовали в Sales до включения решения "Перспективный клиент в наличные деньги".

Поле **Управляется извне** помогает обеспечить, что предложения и заказы на продажу, имеющие управляемые извне продукты, будут синхронизироваться с Supply Chain Management.

Управляемые извне продукты автоматически добавляются к первому допустимому прайс-листу с той же валютой. Прайс-листы упорядочены в алфавитном порядке по имени. Цена продажи продукта из Supply Chain Management используется как цена в прайс-листе. Таким образом, должен быть прайс-лист в Sales для каждой валюты продажи продуктов в Supply Chain Management. Валюта в запущенных в производство продуктах продажи задана как валюта учета в юридическом лице, из которого экспортируется продукт.

> [!NOTE]
> - Продукт не будет успешно синхронизирован при отсутствии прайс-листа в соответствующей валюте.
> - Вы можете управлять используемым прайс-листом с интеграцией путем соответствия pricelevelid.name [Прайс-лист по умолчанию (Имя)] в проекте интеграции данных. Ввод данных должен осуществляться буквами нижнего регистра. Например, для прайс-листа в Продажи с именем «Стандарт» будет стоять по умолчанию: поле назначения: pricelevelid.name [Прайс-лист по умолчанию (Имя)] и тип карты: [ { "transformType": "Default", "defaultValue": "standard" } ].

## <a name="preconditions-and-mapping-setup"></a>Предварительные условия и настройка сопоставления

- Перед первым выполнением синхронизации необходимо заполнить таблицу уникально идентифицируемого продукта для существующих продуктов в Supply Chain Management. Существующие продукты не будут синхронизированы, пока не будет выполнено это задание.

    1. В Supply Chain Management используйте поиск для поиска команды **Заполнить таблицу уникально идентифицируемых продуктов**.
    2. Выберите **Заполнить таблицу уникально идентифицируемых продуктов** для запуска задания. Это задание должно запускаться только один раз.

- Убедитесь, что требуемое соответствие значений для единицы измерения продажи между Supply Chain Management и Sales существует в сопоставлении **SalesUnitSymbol** с **DefaultUnit (Имя)**.
- Обновите сопоставление значений для параметра **Группа единиц** (**defaultuomscheduleid.name**), чтобы оно соответствовало параметру **Группы единиц** в Sales.

    Значение шаблона по умолчанию — **Единица измерения по умолчанию**.

- Убедитесь, что единицы измерения при продаже для всех продуктов в Supply Chain Management существуют в Sales.
- Убедитесь, что прайс-листы существуют Sales для каждой валюты продажи продуктов в Supply Chain Management.
- При создании продуктов в Sales они могут иметь статус **Черновик** или **Активный**. Поведение контролируется параметром **Параметры** > **Администрирование** > **Настройки системы** > **Продажи** в Sales.

    Продукты, которые при создании имеют статус **Черновик**, должны быть активированы, прежде чем они могут быть добавлены в предложения или заказы на продажу.

## <a name="template-mapping-in-data-integration"></a>Сопоставление шаблона в интеграции данных

На следующем рисунке показан пример сопоставления шаблона в интеграции данных. 

> [!NOTE]
> Сопоставление показывает, какие данные полей будут синхронизированы из Sales в Supply Chain Management.

![Сопоставление шаблона в интеграторе данных](./media/products-direct-template-mapping-data-integrator-1.png)


## <a name="related-topics"></a>Связанные разделы

[Продажа перспективному клиенту](prospect-to-cash.md)

[Синхронизация организаций непосредственно из Sales с клиентами в Supply Chain Management](accounts-template-mapping-direct.md)

[Синхронизация контактов непосредственно из Sales с контактами или клиентами в Supply Chain Management](contacts-template-mapping-direct.md)

[Синхронизация заказов на продажу напрямую между Sales и Supply Chain Management](sales-order-template-mapping-direct-two-ways.md)

[Синхронизация заголовков и строк накладной по продаже непосредственно из Supply Chain Management с Sales](sales-invoice-template-mapping-direct.md)



