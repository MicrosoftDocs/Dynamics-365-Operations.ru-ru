---
title: Устранение неполадок заказов на продажу
description: В этом разделе описывается устранение проблем, которые могут встретиться при работе с заказами на продажу.
author: SmithaNataraj
ms.date: 09/16/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: SalesTable, SalesTableListPage, SalesTableListPage_SalesCancelOrder
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: smnatara
ms.search.validFrom: 2020-9-16
ms.dyn365.ops.version: Release 10.0.14
ms.openlocfilehash: 8f4a28b0cf47ec1c2534fc97c4dee6790fa6c51637bddf64caa7147e9ce6d6db
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "6746120"
---
# <a name="troubleshoot-sales-orders"></a>Устранение неполадок заказов на продажу

В этом разделе описывается устранение проблем, которые могут встретиться при работе с заказами на продажу.

## <a name="the-tax-information-isnt-updated-if-i-change-the-location-on-a-sales-order-header"></a>При изменении местоположения в заголовке заказа на продажу налоговая информация не обновляется.

### <a name="issue-description"></a>Описание проблемы

Если сайт, склад или адрес доставки изменяется в заголовке заказа на продажу или на уровне строки, налоговая информация не обновляется автоматически для строк.

### <a name="issue-resolution"></a>Устранение проблемы

Такое поведение предусмотрено разработчиками. Проблема возникает потому, что адрес доставки, сайт и склад не изменяются автоматически на уровне строки. Их необходимо обновить вручную.

## <a name="if-there-are-two-trade-agreements-for-the-same-period-or-overlapping-periods-the-same-agreement-line-is-always-selected"></a>Если для одного периода или перекрывающихся периодов имеется два коммерческих соглашения, всегда выбирается одна и та же строка соглашения.

### <a name="issue-description"></a>Описание проблемы

Если для одного и того же периода или перекрывающихся периодов определены два коммерческих соглашения, то при создании строк заказа на продажу, содержащих эти номенклатуры, всегда выбирается одно и то же коммерческое соглашение.

### <a name="issue-resolution"></a>Устранение проблемы

Если для определенной даты имеется более одного коммерческого соглашения, всегда выбирается коммерческое соглашение с наименьшей ценой. Для получения дополнительных сведений загрузите следующий технический документ: [Коммерческие соглашения в Microsoft Dynamics AX 2012](https://www.axug.com/HigherLogic/System/DownloadDocumentFile.ashx?DocumentFileKey=3396a3a8-1f48-4d85-8cd6-5fa982f62e90).

## <a name="can-i-link-a-purchase-order-to-a-sales-order-to-fulfill-demand"></a>Можно ли связать заказ на покупку с заказом на продажу для удовлетворения спроса?

Можно создать заказ на покупку из заказа на продажу. Дополнительные сведения см. в разделе [Создание заказа на покупку из заказа на продажу](tasks/create-purchase-order-sales-order.md).

## <a name="i-cant-cancel-or-delete-a-return-order-or-a-sales-order"></a>Невозможно отменить или удалить заказ на возврат или заказ на продажу.

Можно отменить только заказы на продажу и заказы на возврат, которые находятся в состоянии *Создано*. Дополнительные сведения см. в разделе [Отмена заказов на возврат](../service-management/cancel-return-order.md).

## <a name="when-i-try-to-cancel-a-sales-order-i-receive-a-reservations-cannot-be-removed-because-there-is-work-created-which-relies-on-the-reservations-error"></a>При попытке отменить заказ на продажу я получаю ошибку "Не удается удалить резервирования в связи с наличием зависимой от них работы".

Код ошибки: WAX4661

Если работа связана с заказом на продажу, невозможно отменить заказ на продажу до отмены и сторнирования работы. Это требование применимо даже в том случае, если работа, связанная с заказом на продажу, закрыта.

Чтобы устранить эту проблему, выполните следующие действия.

1. Отмените работу и поместите запасы обратно в нужное место. Перейдите к соответствующей нагрузке заказа на продажу и выберите **Уменьшить скомплектованное количество** в строке загрузки или **Сторнировать работу** в области действий.

    Работа теперь имеет статус *Отменено*, и новая работа по перемещению запасов автоматически создается и обрабатывается для помещения запасов обратно в местоположение, которое было определено во время сторнирования.

2. Удалите загрузку. Отгрузка также удаляется.
3. Теперь вы сможете перейти к заказу на продажу и отменить его.

## <a name="i-cant-cancel-an-intercompany-purchase-order-that-is-linked-to-a-sales-order"></a>Невозможно отменить внутрихолдинговый заказ на покупку, связанный с заказом на продажу.

### <a name="issue-description"></a>Описание проблемы

При попытке отменить внутрихолдинговый заказ на покупку, связанный с заказом на продажу, может быть выведено следующее сообщение об ошибке: "Количество не может быть сокращено, поскольку это повлечет смену знака остатка".

### <a name="issue-resolution"></a>Устранение проблемы

Эта проблема была исправлена в Microsoft Dynamics 365 Supply Chain Management версии 10.0.13. В этой версии и более поздних версиях теперь можно отменить внутрихолдинговый заказ на покупку, связанный с заказом на продажу.

## <a name="can-i-restore-an-invoiced-sales-order-that-was-deleted"></a>Можно ли восстановить удаленный заказ на продажу, по которому выставлена накладная?

### <a name="issue-description"></a>Описание проблемы

Заказ на продажу, по которому выставлена накладная, был удален по ошибке, и необходимо восстановить его или просмотреть сведения о нем.

### <a name="issue-resolution"></a>Устранение проблемы

Если для удаленного заказа на продажу уже была выставлена накладная, перейдите к разделу **Счет клиента \> Проводки \> Исходный документ \> Просмотр сведений**. Найдите накладную, которую вы ищете, и выберите ее для просмотра подробных сведений. Эти сведения включают ссылку на заказ на продажу. Кроме того, с этой страницы должна иметься возможность доступа к сведениям о заказах на продажу.

## <a name="the-deadline-of-a-sales-order-header-cant-be-found-in-the-salesorderheaderv2entity-data-entity"></a>Крайний срок заголовка заказа на продажу не найден в информационном объекте SalesOrderHeaderV2Entity.

Поле крайнего срока не существует для сущности *SalesOrderHeaderV2Entity*.

## <a name="i-must-delete-orphaned-sales-order-records"></a>Мне необходимо удалить потерянные записи заказов на продажу.

Чтобы удалить потерянные записи заказов на продажу, запустите периодическое задание *Удаление заказа на продажу*, перейдите к одному из следующих мест:

- Продажи и маркетинг \> Периодические задачи \> Очистка \> Удалить заказы на продажу
- Розничная торговля и коммерция \> ИТ розничной торговли и коммерции \> Очистка \> Удалить заказы на продажу

## <a name="is-there-a-way-to-calculate-commissions-on-invoices-that-have-already-been-posted"></a>Существует ли способ расчета комиссий по накладным, которые уже были разнесены?

Supply Chain Management в настоящее время не поддерживает расчет комиссий для разнесенных накладных.

## <a name="a-bundle-item-isnt-supported-in-an-intercompany-process"></a>Номенклатура набора не поддерживается во внутрихолдинговом процессе.

Номенклатура набора недоступна для заказа на покупку, поскольку, если исследовать строки заказа на продажу для номенклатуры набора, вы увидите, что количество равно *0* (нулю) и статус *Отменено*. Такое поведение предусмотрено разработчиками. Заказ на продажу покупает только компоненты номенклатуры набора. Он не покупает саму номенклатуру набора.

Если необходимо купить набор, подумайте, следует ли помечать его как номенклатуру набора, так как эта функция разработана для сценариев распознавания выручки. Дополнительные сведения о номенклатурах наборов см. в разделе [Наборы](../../finance/accounts-receivable/revenue-recognition-setup.md#bundles).


[!INCLUDE[footer-include](../../includes/footer-banner.md)]