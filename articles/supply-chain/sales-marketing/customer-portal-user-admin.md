---
title: Создание пользователей клиентского портала и управление ими
description: В этой теме объясняется, как создавать учетные записи пользователей клиентского портала и задавать для них разрешения.
author: dasani-madipalli
manager: tfehr
ms.date: 07/31/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: damadipa
ms.search.validFrom: 2020-04-22
ms.dyn365.ops.version: Release 10.0.13
ms.openlocfilehash: 0fd390e5e0054ff301c18c2507c600f954e6ce89
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2021
ms.locfileid: "4996784"
---
# <a name="create-and-manage-customer-portal-users"></a><span data-ttu-id="bc4bf-103">Создание пользователей клиентского портала и управление ими</span><span class="sxs-lookup"><span data-stu-id="bc4bf-103">Create and manage Customer portal users</span></span>

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

<span data-ttu-id="bc4bf-104">При использовании готовой реализации пользователи не могут самостоятельно регистрироваться для сайтов, созданных с помощью клиентского портала.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-104">In the out-of-box implementation, there is no way for users to self-register for websites that are created by using the Customer portal.</span></span> <span data-ttu-id="bc4bf-105">Чтобы войти в систему и использовать сайт, пользователи должны быть приглашены администратором. Корпорация Майкрософт преднамеренно запретила пользователям выполнять самостоятельную регистрацию.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-105">To sign in and use a website, users must be invited by the admin. Microsoft has intentionally blocked the ability of users to self-register.</span></span>

<span data-ttu-id="bc4bf-106">Прежде чем пользователь сможет использовать веб-сайт, необходимо создать запись контакта для этого пользователя.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-106">Before a user can use a website, a contact record must be created for that user.</span></span> <span data-ttu-id="bc4bf-107">В этой записи указан счет клиента и юридическое лицо, к которому относится пользователь.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-107">This record indicates which customer account and legal entity the user belongs to.</span></span> <span data-ttu-id="bc4bf-108">Эта информация важна для обеспечения возможности создания и просмотра пользователем заказов на продажу.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-108">This information is essential for ensuring that the user can create and view sales orders.</span></span>

<span data-ttu-id="bc4bf-109">При самостоятельной регистрации пользователей для них автоматически создаются записи контактов.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-109">When users self-register, contact records are automatically created for them.</span></span> <span data-ttu-id="bc4bf-110">Поэтому нельзя гарантировать, что пользователь выбрал правильный счет клиента и юридическое лицо.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-110">Therefore, you can't ensure that a user selects the correct customer account and legal entity.</span></span> <span data-ttu-id="bc4bf-111">С другой стороны, процесс приглашения позволяет администратору назначить для записи контакта правильный счет клиента и юридическое лицо перед отправкой приглашения.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-111">On the other hand, the invitation process lets an admin assign the correct customer account and legal entity to the contact record before an invitation is sent.</span></span> <span data-ttu-id="bc4bf-112">Если вы думаете о настройке решения, чтобы пользователи могли самостоятельно регистрироваться, примите во внимание возможные последствия.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-112">If you're thinking about customizing the solution so that users can self-register, be sure to consider the possible consequences.</span></span>

## <a name="video"></a><span data-ttu-id="bc4bf-113">Видео</span><span class="sxs-lookup"><span data-stu-id="bc4bf-113">Video</span></span>
> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RE4ADkI]

<span data-ttu-id="bc4bf-114">Видео [Приглашение клиентов для регистрации и использование портала клиента](https://youtu.be/drGUYHX9QIQ) (см. выше) включено в [список воспроизведения Finance and Operations](https://www.youtube.com/playlist?list=PLcakwueIHoT_SYfIaPGoOhloFoCXiUSyW), доступный в YouTube.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-114">The [Invite customers to register and use your customer portal](https://youtu.be/drGUYHX9QIQ) video (shown above) is included in the [Finance and Operations playlist](https://www.youtube.com/playlist?list=PLcakwueIHoT_SYfIaPGoOhloFoCXiUSyW) available on YouTube.</span></span>

## <a name="prerequisite-setup"></a><span data-ttu-id="bc4bf-115">Необходимые условия настройки</span><span class="sxs-lookup"><span data-stu-id="bc4bf-115">Prerequisite setup</span></span>

<span data-ttu-id="bc4bf-116">Контакты на порталах Power Apps хранятся в виде записей в таблице **Контакты** в Microsoft Dataverse.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-116">Contacts in Power Apps portals are stored as records in the **Contacts** table in Microsoft Dataverse.</span></span> <span data-ttu-id="bc4bf-117">Затем двойная запись синхронизирует эти записи в Microsoft Dynamics 365 Supply Chain Management в соответствии с требованиями.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-117">Dual-write then syncs these records to Microsoft Dynamics 365 Supply Chain Management as required.</span></span>

<span data-ttu-id="bc4bf-118">![Диаграмма системы для контактов клиентского портала](media/customer-portal-contacts.png "Диаграмма системы для контактов клиентского портала")</span><span class="sxs-lookup"><span data-stu-id="bc4bf-118">![System diagram for Customer portal contacts](media/customer-portal-contacts.png "System diagram for Customer portal contacts")</span></span>

<span data-ttu-id="bc4bf-119">Прежде чем приступить к приглашению новых клиентов, убедитесь, что вы включили сопоставление таблицы **Контакт** в двойной записи.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-119">Before you start to invite new customers, make sure that you've enabled the **Contact** table mapping in dual-write.</span></span>

## <a name="the-invitation-process"></a><span data-ttu-id="bc4bf-120">Процесс приглашения</span><span class="sxs-lookup"><span data-stu-id="bc4bf-120">The invitation process</span></span>

<span data-ttu-id="bc4bf-121">Чтобы пригласить существующего контакта на клиентский портал, выполните шаги, указанные в разделе [Приглашение контактов на свои порталы](https://docs.microsoft.com/powerapps/maker/portals/configure/invite-contacts) в документации по порталам Power Apps.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-121">To invite an existing contact to the Customer portal, follow the steps in [Invite contacts to your portals](https://docs.microsoft.com/powerapps/maker/portals/configure/invite-contacts) in the Power Apps portals documentation.</span></span>

<span data-ttu-id="bc4bf-122">Прежде чем пригласить клиента на присоединение к клиентскому порталу, убедитесь, что [запись контакта](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-contacts) клиента доступна и настроена следующим образом:</span><span class="sxs-lookup"><span data-stu-id="bc4bf-122">Before you invite a customer to join the Customer portal, make sure that the customer's [contact record](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-contacts) is available and set up in the following way:</span></span>

1. <span data-ttu-id="bc4bf-123">В поле **Компания** укажите юридическое лицо, к которому должен относиться клиент в Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-123">Set the **Company** field to the legal entity that you want the customer to belong to in Supply Chain Management.</span></span>
2. <span data-ttu-id="bc4bf-124">В поле **Счет клиента** укажите номер счета клиента в Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-124">Set the **Account Number** field to the customer account number that you want the user to have in Supply Chain Management.</span></span>

<span data-ttu-id="bc4bf-125">После создания контакта его можно просмотреть в Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-125">After a contact is created, you should be able to see it in Supply Chain Management.</span></span>

<span data-ttu-id="bc4bf-126">Дополнительные сведения см. в разделе [Настройка контакта для использования на портале](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-contacts) в документации по порталам Power Apps.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-126">For more information, see [Configure a contact for use on a portal](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-contacts) in the Power Apps portals documentation.</span></span>

## <a name="out-of-box-web-roles-and-table-permissions"></a><span data-ttu-id="bc4bf-127">Готовые веб-роли и разрешения таблиц</span><span class="sxs-lookup"><span data-stu-id="bc4bf-127">Out-of-box web roles and table permissions</span></span>

<span data-ttu-id="bc4bf-128">Роли пользователей на порталах Power Apps определяются [веб-ролями](https://docs.microsoft.com/powerapps/maker/portals/configure/create-web-roles) и [разрешениями таблиц](https://docs.microsoft.com/powerapps/maker/portals/configure/assign-entity-permissions).</span><span class="sxs-lookup"><span data-stu-id="bc4bf-128">User roles in Power Apps portals are defined by [web roles](https://docs.microsoft.com/powerapps/maker/portals/configure/create-web-roles) and [table permissions](https://docs.microsoft.com/powerapps/maker/portals/configure/assign-entity-permissions).</span></span> <span data-ttu-id="bc4bf-129">Клиентский портал содержит несколько готовых веб-ролей.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-129">A few roles are defined for the Customer portal out of the box.</span></span> <span data-ttu-id="bc4bf-130">Можно создавать новые роли, а также изменять или удалять существующие роли.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-130">You can create new roles, and you can modify or remove existing roles.</span></span>

### <a name="out-of-box-web-roles"></a><span data-ttu-id="bc4bf-131">Готовые веб-роли</span><span class="sxs-lookup"><span data-stu-id="bc4bf-131">Out-of-box web roles</span></span>

<span data-ttu-id="bc4bf-132">В этом разделе описываются веб-роли, обеспечиваемые с помощью клиентского портала.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-132">This section describes the web roles that are delivered with the Customer portal.</span></span>

<span data-ttu-id="bc4bf-133">Дополнительные сведения об изменении готовых пользовательских ролей см. в разделе [Создание веб-ролей для порталов](https://docs.microsoft.com/powerapps/maker/portals/configure/create-web-roles) и [Добавление безопасности на основе записей с помощью разрешений таблиц для порталов](https://docs.microsoft.com/powerapps/maker/portals/configure/assign-entity-permissions) в документации по порталам Power Apps.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-133">For more information about how to modify the out-of-box user roles, see [Create web roles for portals](https://docs.microsoft.com/powerapps/maker/portals/configure/create-web-roles) and [Add record-based security by using table permissions for portals](https://docs.microsoft.com/powerapps/maker/portals/configure/assign-entity-permissions) in the Power Apps portals documentation.</span></span>

#### <a name="administrator"></a><span data-ttu-id="bc4bf-134">Администратор</span><span class="sxs-lookup"><span data-stu-id="bc4bf-134">Administrator</span></span>

<span data-ttu-id="bc4bf-135">Администратор контролирует и поддерживает веб-сайт.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-135">The administrator oversees and maintains the website.</span></span> <span data-ttu-id="bc4bf-136">Этот сотрудник выполнит подготовку и настройку клиентского портала.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-136">This person will provision and set up the Customer portal.</span></span> <span data-ttu-id="bc4bf-137">Администратор поддерживает системы ИТ и безопасности портала и гарантирует бесперебойную работу всего процесса.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-137">The administrator maintains the IT and security aspects of the portal, and makes sure that everything runs smoothly.</span></span> <span data-ttu-id="bc4bf-138">Администратор может также настраивать и/или изменять портал путем добавления новых функций, создания новых ролей и т. д.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-138">The administrator might also customize and/or change the portal by adding new functionalities, creating new roles, and more.</span></span>

#### <a name="customer-representative"></a><span data-ttu-id="bc4bf-139">Представитель клиента</span><span class="sxs-lookup"><span data-stu-id="bc4bf-139">Customer representative</span></span>

<span data-ttu-id="bc4bf-140">Представитель клиента работает на компанию клиента и отвечает за управление заказами, размещаемыми компанией.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-140">A customer representative works for a customer company and is responsible for managing the orders that the company places.</span></span> <span data-ttu-id="bc4bf-141">Представитель клиента может просматривать все заказы, которые были размещены для компании, и пользователей, которые их разместили.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-141">The customer representative can see all the orders that have been placed for the company and the users who placed them.</span></span> <span data-ttu-id="bc4bf-142">Кроме того, представитель клиента может просматривать сведения об общем счете и о том, какие контакты могут размещать заказы от имени этого счета.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-142">Additionally, the customer representative can see information about the overall account and which contacts can place orders on behalf of that account.</span></span>

#### <a name="authorized-users"></a><span data-ttu-id="bc4bf-143">Авторизованные пользователи</span><span class="sxs-lookup"><span data-stu-id="bc4bf-143">Authorized users</span></span>

<span data-ttu-id="bc4bf-144">Авторизованные пользователи могут размещать заказы и просматривать статус заказов, которые они разместили.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-144">Authorized users can place orders and view the status of the orders that they have placed.</span></span> <span data-ttu-id="bc4bf-145">Однако они не могут просматривать статус заказов, размещенных другими пользователями компании.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-145">However, they can't view the status of orders that other users in their company have placed.</span></span>

#### <a name="unauthorized-users"></a><span data-ttu-id="bc4bf-146">Неавторизованный пользователь</span><span class="sxs-lookup"><span data-stu-id="bc4bf-146">Unauthorized users</span></span>

<span data-ttu-id="bc4bf-147">Неавторизованные пользователи не могут просматривать какие-либо данные.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-147">Unauthorized users can't view any data.</span></span> <span data-ttu-id="bc4bf-148">Они могут просматривать только общие (публичные) сведения, такие как условия и положения, сведения о компании, где работает клиентский портал.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-148">They can see only public information, such as terms and conditions, and details about the company that is running the Customer portal.</span></span>

#### <a name="example"></a><span data-ttu-id="bc4bf-149">Пример</span><span class="sxs-lookup"><span data-stu-id="bc4bf-149">Example</span></span>

<span data-ttu-id="bc4bf-150">В следующей таблице показано, какие заказы на продажу могут просматривать пользователи каждой веб-роли в системе.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-150">The following table shows which sales orders the users in each web role can see in the system.</span></span>

| <span data-ttu-id="bc4bf-151">Заказ на продажу</span><span class="sxs-lookup"><span data-stu-id="bc4bf-151">Sales order</span></span> | <span data-ttu-id="bc4bf-152">Администратор</span><span class="sxs-lookup"><span data-stu-id="bc4bf-152">Administrator</span></span> | <span data-ttu-id="bc4bf-153">Представитель клиента для клиента&nbsp;X</span><span class="sxs-lookup"><span data-stu-id="bc4bf-153">Customer representative for customer&nbsp;X</span></span> | <span data-ttu-id="bc4bf-154">Авторизованный пользователь: Jane</span><span class="sxs-lookup"><span data-stu-id="bc4bf-154">Authorized user: Jane</span></span> | <span data-ttu-id="bc4bf-155">Авторизованный пользователь: Sam</span><span class="sxs-lookup"><span data-stu-id="bc4bf-155">Authorized user: Sam</span></span> | <span data-ttu-id="bc4bf-156">Неавторизованный пользователь: May</span><span class="sxs-lookup"><span data-stu-id="bc4bf-156">Unauthorized user: May</span></span> |
|---|---|---|---|---|---|
| <span data-ttu-id="bc4bf-157">Клиент&nbsp;X Приемщик заказа:&nbsp;Jane</span><span class="sxs-lookup"><span data-stu-id="bc4bf-157">Customer&nbsp;X Orderer:&nbsp;Jane</span></span> | <span data-ttu-id="bc4bf-158">Да</span><span class="sxs-lookup"><span data-stu-id="bc4bf-158">Yes</span></span> | <span data-ttu-id="bc4bf-159">Да</span><span class="sxs-lookup"><span data-stu-id="bc4bf-159">Yes</span></span> | <span data-ttu-id="bc4bf-160">Да</span><span class="sxs-lookup"><span data-stu-id="bc4bf-160">Yes</span></span> | <span data-ttu-id="bc4bf-161">Нет</span><span class="sxs-lookup"><span data-stu-id="bc4bf-161">No</span></span> | <span data-ttu-id="bc4bf-162">Нет</span><span class="sxs-lookup"><span data-stu-id="bc4bf-162">No</span></span> |
| <span data-ttu-id="bc4bf-163">Клиент&nbsp;X Приемщик заказа:&nbsp;Sam</span><span class="sxs-lookup"><span data-stu-id="bc4bf-163">Customer&nbsp;X Orderer:&nbsp;Sam</span></span> | <span data-ttu-id="bc4bf-164">Да</span><span class="sxs-lookup"><span data-stu-id="bc4bf-164">Yes</span></span> | <span data-ttu-id="bc4bf-165">Да</span><span class="sxs-lookup"><span data-stu-id="bc4bf-165">Yes</span></span> | <span data-ttu-id="bc4bf-166">Нет</span><span class="sxs-lookup"><span data-stu-id="bc4bf-166">No</span></span> | <span data-ttu-id="bc4bf-167">Да</span><span class="sxs-lookup"><span data-stu-id="bc4bf-167">Yes</span></span> | <span data-ttu-id="bc4bf-168">Нет</span><span class="sxs-lookup"><span data-stu-id="bc4bf-168">No</span></span> |
| <span data-ttu-id="bc4bf-169">Клиент&nbsp;Y Приемщик заказа:&nbsp;May</span><span class="sxs-lookup"><span data-stu-id="bc4bf-169">Customer&nbsp;Y Orderer:&nbsp;May</span></span> | <span data-ttu-id="bc4bf-170">Да</span><span class="sxs-lookup"><span data-stu-id="bc4bf-170">Yes</span></span> | <span data-ttu-id="bc4bf-171">Нет</span><span class="sxs-lookup"><span data-stu-id="bc4bf-171">No</span></span> | <span data-ttu-id="bc4bf-172">Нет</span><span class="sxs-lookup"><span data-stu-id="bc4bf-172">No</span></span> | <span data-ttu-id="bc4bf-173">Нет</span><span class="sxs-lookup"><span data-stu-id="bc4bf-173">No</span></span> | <span data-ttu-id="bc4bf-174">Нет</span><span class="sxs-lookup"><span data-stu-id="bc4bf-174">No</span></span> |

> [!NOTE]
> <span data-ttu-id="bc4bf-175">Даже если Sam и Jane являются контактами, работающими у клиента X, они могут видеть только те заказы, которые разместили они, и ничего другого.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-175">Even though both Sam and Jane are contacts who work for customer X, they can see only the orders that they themselves have placed and nothing else.</span></span> <span data-ttu-id="bc4bf-176">Хотя у May в системе может быть заказ, она не видит этот заказ на клиентском портале, поскольку она является неавторизованным пользователем.</span><span class="sxs-lookup"><span data-stu-id="bc4bf-176">Although May has an order in the system, she can't see that order in the Customer portal, because she is an unauthorized user.</span></span> <span data-ttu-id="bc4bf-177">(Кроме того, ей необходимо разместить заказ через другой канал, отличный от клиентского портала.)</span><span class="sxs-lookup"><span data-stu-id="bc4bf-177">(Additionally, she must have placed the order through some channel other than the Customer portal.)</span></span>
