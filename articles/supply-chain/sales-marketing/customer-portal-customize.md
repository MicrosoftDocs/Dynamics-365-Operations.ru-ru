---
title: Настройка и использование клиентского портала
description: В этой теме объясняется, как настроить клиентский портал после его добавления в систему.
author: dasani-madipalli
manager: tfehr
ms.date: 04/22/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: damadipa
ms.search.validFrom: 2020-04-22
ms.dyn365.ops.version: Release 10.0.13
ms.openlocfilehash: 7849f354817f189bf7c844bbe2944f94c8fffe83
ms.sourcegitcommit: e89bb3e5420a6ece84f4e80c11e360b4a042f59d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/17/2020
ms.locfileid: "4527371"
---
# <a name="customize-and-use-the-customer-portal"></a>Настройка и использование клиентского портала

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

В этом разделе описываются отдельные страницы, доступные на готовом клиентском портале. Даны объяснения, что представляют собой страницы и как их можно настраивать.

Клиентский портал содержит несколько готовых веб-страниц и действий. На следующей карте сайта дан обзор таких веб-страниц и действий, а также ролей, которые могут выполнять эти действия.

![Карта сайта клиентского портала](media/customer-portal-site-map.png "Карта сайта клиентского портала")

## <a name="typical-customizations"></a>Типичные настройки

Следующие темы содержат общие сведения о порталах Power Apps и способах настройки порталов:

- [Работа с шаблонами](https://docs.microsoft.com/powerapps/maker/portals/work-with-templates) — в этой теме представлен общий обзор принципа работы порталов Power Apps и способов выполнения простых настроек порталов.
- [Управление содержимым портала](https://docs.microsoft.com/dynamics365/portals/manage-portal-content) — в этой теме объясняется, как управлять и настраивать содержимое портала.
- [Правка CSS](https://docs.microsoft.com/powerapps/maker/portals/edit-css) — в этой теме указано, как выполнить более сложную настройку пользовательского интерфейса (UI) портала.
- [Создать тему для своего портала](https://docs.microsoft.com/dynamics365/portals/create-theme) — эта тема поможет создать тему пользовательского интерфейса для своего портала.
- [Простое создание и представление содержимого портала](https://docs.microsoft.com/dynamics365/portals/create-expose-portal-content) — эта тема поможет управлять основными данными и объектами, используемыми для портала.
- [Настройка контакта для использования на портале](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-contacts) — в этой теме объясняется, как создавать и настраивать роли пользователей и как работают безопасность и аутентификация на порталах Power Apps.
- [Настройка примечаний для форм объектов и веб-форм на порталах](https://docs.microsoft.com/powerapps/maker/portals/configure-notes) — в этой теме объясняется, как добавлять документы и дополнительные хранилища на свой портал.
- [Обработка ошибок для веб-сайта портала](https://docs.microsoft.com/powerapps/maker/portals/admin/view-portal-error-log) — в этой теме объясняется, как просмотреть журналы ошибок портала и сохранить их в учетной записи хранилища BLOB-объектов Microsoft Azure.

## <a name="customize-the-order-creation-process"></a>Настройка процесса создания заказов

Когда пользователь отправляет заказ с помощью клиентского портала, заказ автоматически синхронизируется с соответствующей средой Dynamics 365 Supply Chain Management. Так как пользователь является внешним клиентом, некоторые требуемые сведения преднамеренно скрыты от него. Эти сведения будут автоматически заполнены при отправке формы.

В этом разделе показано, как настроить контакты, чтобы избежать ошибок. В нем объясняются автоматически задаваемые поля и способ изменения значений этих полей, если это необходимо.

### <a name="the-out-of-box-order-creation-process"></a>Готовый процесс создания заказов

Ниже приведены стандартные шаги для отправки заказа с клиентского портала.

1. На домашней странице выберите плитку **Создать заказ**, чтобы открыть мастер **Создать заказ**.
1. На странице **Информация о заказе** задайте следующие поля:

    - **Запрошенная дата поступления** — укажите дату поставки.
    - **Адрес поставки** — введите адрес, по которому должен быть поставлен заказ.
    - **Компания** — выберите название компании клиента. Это поле автоматически задается для пользователей, не являющихся администраторами.
    - **Номер заявки** — введите номер заявки для заказа. Это поле необязательно для заполнения.
    - **Поставка в страну/регион** — введите страну или регион, в которые будут поставлены номенклатуры. Это поле автоматически задается для пользователей, не являющихся администраторами.

    ![Страница информации о заказе](media/customer-portal-order-information.png "Страница информации о заказе")

1. Выберите **Далее**.
1. На странице **Номенклатуры** выберите **Добавить номенклатуру**.

    ![Страница номенклатур](media/customer-portal-items.png "Страница номенклатур")

1. В диалоговом окне **Сведения о номенклатуре** задайте следующие поля:

    - **Название продукта** — найдите и выберите продукт, который требуется добавить в заказ.
    - **Количество** — введите количество выбранного продукта.
    - **Единица измерения** — укажите единицу измерения (например, **шт.**, **кг** или **коробка**).
    - **Расчетная чистая сумма** — значение рассчитывается как расчетная цена номенклатуры × количество выбранной единицы измерения.

    ![Диалоговое окно информации о номенклатуре](media/customer-portal-item-information.png "Диалоговое окно информации о номенклатуре")

1. Выберите **Отправить**, чтобы добавить номенклатуру в заказ.
1. Повторяйте шаги с 4 по 6 до тех пор, пока не будут добавлены все номенклатуры, которые требуется заказать.
1. После завершения добавления номенклатур нажмите **Далее** на странице **Номенклатуры**.
1. На странице **Информация о заказе** дана сводка по заказу. Изучите содержимое заказа и сведения о поставке. Если все выглядит правильно, нажмите **Отправить**, чтобы отправить заказ.

    ![Страница информации о заказе](media/customer-portal-order-submit.png "Страница информации о заказе")

### <a name="standard-data-setup"></a>Настройка стандартных данных

Чтобы обеспечить удобное взаимодействие с пользователем, клиентский портал автоматически заполняет значения для нескольких обязательных полей. Эти значения основаны на информации в записи контакта клиента, отправляющего заказ.

Для каждой [записи контакта](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-contacts), принадлежащей клиенту, который будет использовать клиентский портал для отправки заказов, необходимо указать значения для следующих обязательных полей. В противном случае произойдет ошибка.

- **Компания** — юридическое лицо, к которому относится заказ
- **Потенциальный клиент** — счет клиента, связанный с заказом
- **Прайс-лист** — настраиваемый прайс-лист для клиента
- **Валюта** — валюта для цены
- **Поставка в страну/регион** — страна или регион, в которые будут поставлены номенклатуры

Для объекта "заказ на продажу" автоматически устанавливаются следующие поля:

- **Язык** — язык заказа (по умолчанию значение берется из записи контакта).
- **Поставка в страну/регион** — страна или регион, куда должны быть поставлены номенклатуры (по умолчанию значение берется из записи контакта).
- **Контактное лицо** — пользователь, с которым можно связаться для получения сведений о заказе (по умолчанию значение берется из записи контакта).
- **Компания** — юридическое лицо, к которому относится заказ (по умолчанию значение берется из записи контакта).
- **Потенциальный клиент** — счет клиента, связанный с заказом (по умолчанию значение берется из записи контакта).
- **Клиент по накладной** — организация для выставления счетов, связанная с заказом (по умолчанию это потенциальный клиент из записи контакта).
- **Наименование заказа на продажу** — наименование заказа на продажу (значение по умолчанию — **заказ на продажу**).
- **Валюта** — валюта цены (по умолчанию значение берется из записи контакта).
- **Прайс-лист** — настраиваемый прайс-лист для клиента (по умолчанию значение берется из записи контакта).
- **Описание адреса поставки** — адрес поставки заказа на продажу (значение по умолчанию — **описание адреса поставки**).

### <a name="modify-the-order-creation-process"></a>Изменение процесса создания заказов

Можно свободно изменять внешний вид и пользовательский интерфейс клиентского портала, если основной процесс создания заказов не изменяется. Если необходимо изменить процесс создания заказа, необходимо иметь в виду несколько моментов.

Не удаляйте следующие поля из объекта "заказ на продажу" в Common Data Service, поскольку они необходимы для создания заказа на продажу в двойной записи:

- **Компания** — юридическое лицо, к которому относится заказ
- **Имя** — наименование заказа на продажу
- **Валюта** — валюта для цены
- **Прайс-лист** — настраиваемый прайс-лист для клиента
- **Поставка в страну/регион** — страна или регион, в которые будут поставлены номенклатуры
- **Потенциальный клиент** — счет клиента, связанный с заказом
- **Язык** — язык заказа (обычно этот язык является языком потенциального клиента).
- **Описание адреса поставки** — адрес поставки заказа на продажу

Для номенклатур требуются следующие поля:

- **Продукт** — продукт для заказа
- **Количество** — количество выбранного продукта
- **Единица измерения** — единица измерения (например, **шт.**, **кг** или **коробка**)
- **Поставка в страну/регион** — страна или регион поставки
- **Описание адреса поставки** — адрес поставки заказа

Необходимо обеспечить, чтобы ваш клиентский портал каким-либо образом отправил значения для всех этих полей.

Если требуется добавить поля на страницу или удалить поля, см. раздел [Быстрое создание или изменение форм для упрощения ввода данных](https://docs.microsoft.com/dynamics365/customerengagement/on-premises/customize/create-edit-quick-create-forms).

Если необходимо изменить способ предустановки полей и способ задания значений при сохранении страницы, см. следующие сведения в документации по порталам Power Apps:

- [Предварительное заполнение полей](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-web-form-metadata#prepopulate-field)
- [Задание значения при сохранении](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-web-form-metadata#set-value-on-save)

## <a name="customize-the-home-page"></a>Настройка домашней страницы

Все элементы управления на клиентском портале являются встроенными элементами управления портала Power Apps. Их можно настроить, следуя шагам в разделе [Создание страницы](https://docs.microsoft.com/powerapps/maker/portals/compose-page) в документации по порталам Power Apps.

Для создания плиток на домашней странице используется единственный настраиваемый элемент управления, включенный в шаблон клиентского портала.

![Плитки на домашней странице](media/customer-portal-home-page-tiles.png "Плитки на домашней странице")

Для изменения плиток выполните следующие действия.

1. Откройте [Приложение управления порталом](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-portal).
1. В области перехода слева выберите **Шаблоны страницы**.

    ![Область перехода управления порталом](media/customer-portal-nav.png "Область перехода управления порталом")

1. Выберите шаблон страницы под названием **Домашняя страница**.
1. В поле **Веб-шаблон** выберите ссылку **Домашняя страница**, чтобы открыть исходный код для этой страницы.

    ![Поле веб-шаблона](media/customer-portal-web-template.png "Поле веб-шаблона")

1. Теперь будет показан весь исходный код для домашней страницы, измените его нужным образом.

## <a name="resources"></a>Ресурсы

Для получения дополнительных сведений о настройке клиентского портала см. следующие ресурсы:

- [Документация по порталам Power Apps](https://docs.microsoft.com/powerapps/maker/portals/overview)
- [Документация по двойной записи](../../fin-ops-core/dev-itpro/data-entities/dual-write/dual-write-home-page.md)
- [О жизненном цикле портала](https://docs.microsoft.com/powerapps/maker/portals/admin/portal-lifecycle)
- [Обновление портала](https://docs.microsoft.com/powerapps/maker/portals/admin/upgrade-portal)
- [Миграция конфигурации портала](https://docs.microsoft.com/powerapps/maker/portals/admin/migrate-portal-configuration)
- [Управление жизненным циклом решения: Dynamics 365 для приложений Customer Engagement](https://www.microsoft.com/download/details.aspx?id=57777)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]