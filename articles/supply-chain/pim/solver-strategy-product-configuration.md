---
title: "Стратегия поиска решения для конфигурации продукта"
description: "В этом разделе описывается, как можно использовать стратегию поиска решения для повышения производительности конфигурации продукта."
author: cvocph
manager: AnnBe
ms.date: 01/02/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: PCCreateProductConfigurationModel, PCProductConfigurationModelListPage
audience: Application User
ms.reviewer: yuyus
ms.search.scope: Core, Operations
ms.custom: 
ms.assetid: 
ms.search.region: Global
ms.search.industry: 
ms.author: conradv
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: efcb77ff883b29a4bbaba27551e02311742afbbd
ms.openlocfilehash: 957dea7a37720a8f28ea5aa0568bf1f233574a8a
ms.contentlocale: ru-ru
ms.lasthandoff: 05/08/2018

---

# <a name="solver-strategy-for-product-configuration"></a><span data-ttu-id="4c2df-103">Стратегия поиска решения для конфигурации продукта</span><span class="sxs-lookup"><span data-stu-id="4c2df-103">Solver strategy for product configuration</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="4c2df-104">В этом разделе описывается, как можно использовать стратегию поиска решения для повышения производительности конфигурации продукта.</span><span class="sxs-lookup"><span data-stu-id="4c2df-104">This topic describes how you can use the solver strategy to improve the performance of product configuration.</span></span>

<span data-ttu-id="4c2df-105">Понятие стратегий поиска решения была введена в накопительном обновлении 7 (CU7) для Microsoft Dynamics AX 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="4c2df-105">The concept of solver strategies was first introduced in Cumulative update 7 (CU7) for Microsoft Dynamics AX 2012 R2.</span></span> <span data-ttu-id="4c2df-106">Она была расширена в накопительном обновлении 8 (CU8) для Microsoft Dynamics AX 2012 R3 и Microsoft Dynamics 365 for Finance and Operations, Enterprise Edition 7.3.</span><span class="sxs-lookup"><span data-stu-id="4c2df-106">It was extended in Cumulative update 8 (CU8) for Microsoft Dynamics AX 2012 R3 and Microsoft Dynamics 365 for Finance and Operations, Enterprise edition 7.3.</span></span>

<span data-ttu-id="4c2df-107">Понятие стратегии поиска решения теперь состоит из следующих стратегий:</span><span class="sxs-lookup"><span data-stu-id="4c2df-107">The solver strategy concept now consists of the following strategies:</span></span>

- <span data-ttu-id="4c2df-108">По умолчанию</span><span class="sxs-lookup"><span data-stu-id="4c2df-108">Default</span></span>
- <span data-ttu-id="4c2df-109">Сначала минимальные домены</span><span class="sxs-lookup"><span data-stu-id="4c2df-109">Minimal domains first</span></span>
- <span data-ttu-id="4c2df-110">Сверху вниз</span><span class="sxs-lookup"><span data-stu-id="4c2df-110">Top-down</span></span>
- <span data-ttu-id="4c2df-111">Z3</span><span class="sxs-lookup"><span data-stu-id="4c2df-111">Z3</span></span>

## <a name="solver-strategy"></a><span data-ttu-id="4c2df-112">Стратегия решателя</span><span class="sxs-lookup"><span data-stu-id="4c2df-112">Solver strategy</span></span> 

<span data-ttu-id="4c2df-113">Модель конфигурации продукта может быть сформулирована в виде [проблемы удовлетворения ограничений (CSP)](http://aima.cs.berkeley.edu/2nd-ed/newchap05.pdf).</span><span class="sxs-lookup"><span data-stu-id="4c2df-113">A product configuration model can be formulated as a [constraint satisfaction problem (CSP)](http://aima.cs.berkeley.edu/2nd-ed/newchap05.pdf).</span></span> <span data-ttu-id="4c2df-114">Платформа Microsoft Solver Foundation (MSF) предоставляет два типа стратегий поиска решения для решения задач CSP, которые могут использоваться в моделях конфигурации продуктов.</span><span class="sxs-lookup"><span data-stu-id="4c2df-114">Microsoft Solver Foundation (MSF) provides two types of solver strategies to solve the CSPs that can be used from product configuration models.</span></span> <span data-ttu-id="4c2df-115">Эти стратегии поиска решения основаны на [эвристике](https://techterms.com/definition/heuristic), которая используется, чтобы определить порядок, в котором переменные из CSP учитываются при решении проблемы.</span><span class="sxs-lookup"><span data-stu-id="4c2df-115">These solver strategies rely on [heuristics](https://techterms.com/definition/heuristic), which are used to determine the order that the variables of the CSPs are considered in when the problem is being solved.</span></span> <span data-ttu-id="4c2df-116">Эвристика может значительно повлиять на производительность при решении проблемы или класса проблем.</span><span class="sxs-lookup"><span data-stu-id="4c2df-116">Heuristics can significantly affect performance when a problem or class of problems is being solved.</span></span>

<span data-ttu-id="4c2df-117">В Finance and Operations стратегия поиска решения для моделей конфигурации продуктов определяет, какое средство поиска решения используется с эвристикой.</span><span class="sxs-lookup"><span data-stu-id="4c2df-117">In Finance and Operations, the solver strategy for product configuration models determines which solver is used with heuristics.</span></span> <span data-ttu-id="4c2df-118">В стратегиях **По умолчанию**, **Сначала минимальные домены** и **Сверху вниз** используются два средства поиска решений из MSF, а в стратегии **Z3** используется средство поиска решения Z3.</span><span class="sxs-lookup"><span data-stu-id="4c2df-118">The **Default**, **Minimal domains first**, and **Top-down** strategies use the two solvers from MSF, whereas the **Z3** strategy uses the Z3 solver.</span></span> 

<span data-ttu-id="4c2df-119">Исследования реальных пользовательских реализаций показали, что изменение в стратегии поиска решения для модели конфигурации продукта может снизить время отклика с минут до миллисекунд.</span><span class="sxs-lookup"><span data-stu-id="4c2df-119">Real customer implementation studies have shown that a change in the solver strategy for a product configuration model can reduce the response time from minutes to milliseconds.</span></span> <span data-ttu-id="4c2df-120">Поэтому рекомендуется попробовать различные стратегии поиска решения, чтобы определить наиболее эффективную стратегию для вашей модели конфигурации продукта.</span><span class="sxs-lookup"><span data-stu-id="4c2df-120">Therefore, it's worth the effort to try different solver strategies to find the most efficient strategy for your product configuration model.</span></span>

## <a name="change-the-settings-for-the-solver-strategy"></a><span data-ttu-id="4c2df-121">Изменение параметров для стратегии поиска решения</span><span class="sxs-lookup"><span data-stu-id="4c2df-121">Change the settings for the solver strategy</span></span>

<span data-ttu-id="4c2df-122">Чтобы изменить стратегию поиска решения, на странице **Модели конфигурации продуктов** на панели действий выберите **Свойства модели**.</span><span class="sxs-lookup"><span data-stu-id="4c2df-122">To change the solver strategy, on the **Product configuration models** page, on the Action Pane, select **Model properties**.</span></span> <span data-ttu-id="4c2df-123">Затем в диалоговом окне **Изменить сведения о модели** выберите стратегию поиска решения.</span><span class="sxs-lookup"><span data-stu-id="4c2df-123">Then, in the **Edit the model details** dialog box, select a solver strategy.</span></span>

<span data-ttu-id="4c2df-124">[![Изменение стратегии поиска решения](./media/solver-strategy.png)](./media/solver-strategy.png)</span><span class="sxs-lookup"><span data-stu-id="4c2df-124">[![Changing the solver strategy](./media/solver-strategy.png)](./media/solver-strategy.png)</span></span>

<span data-ttu-id="4c2df-125">В настоящее время не предусмотрена логика, которая автоматически определяет, какая стратегия поиска решения будет самой эффективной стратегией для конфигурации продукта на основе ограничений.</span><span class="sxs-lookup"><span data-stu-id="4c2df-125">Currently, there is no logic that automatically detects which solver strategy will be the most efficient strategy for constraint-based product configuration.</span></span> <span data-ttu-id="4c2df-126">Поэтому необходимо попробовать стратегии поиска решения по очереди.</span><span class="sxs-lookup"><span data-stu-id="4c2df-126">Therefore, you must try the solver strategies one by one.</span></span>

<span data-ttu-id="4c2df-127">В следующей таблице приведены рекомендации по стратегии поиска решения, которую следует использовать в различных сценариях.</span><span class="sxs-lookup"><span data-stu-id="4c2df-127">The following table provides recommendations about the solver strategy to use in various scenarios.</span></span>

| <span data-ttu-id="4c2df-128">Стратегия решателя</span><span class="sxs-lookup"><span data-stu-id="4c2df-128">Solver strategy</span></span>      | <span data-ttu-id="4c2df-129">Используйте эту стратегию в следующем сценарии</span><span class="sxs-lookup"><span data-stu-id="4c2df-129">Use the strategy in this scenario</span></span> |
|----------------------|-----------------------------------|
| <span data-ttu-id="4c2df-130">По умолчанию</span><span class="sxs-lookup"><span data-stu-id="4c2df-130">Default</span></span>              | <span data-ttu-id="4c2df-131">Стратегия **По умолчанию** оптимизирована для решения моделей, которые основаны на ограничениях таблиц.</span><span class="sxs-lookup"><span data-stu-id="4c2df-131">The **Default** strategy has been optimized to solve models that rely on table constraints.</span></span> <span data-ttu-id="4c2df-132">Исследования реализаций клиентов показали, что эта стратегия является самой эффективной стратегией в сценариях, где широко используются ограничения таблиц.</span><span class="sxs-lookup"><span data-stu-id="4c2df-132">Customer implementation studies have shown that this strategy is the most efficient strategy in scenarios where table constraints are used extensively.</span></span> |
| <span data-ttu-id="4c2df-133">Сначала минимальные домены</span><span class="sxs-lookup"><span data-stu-id="4c2df-133">Minimal domain first</span></span> | <span data-ttu-id="4c2df-134">Стратегии **Сначала минимальные домены** и **Сверху вниз** тесно взаимосвязаны.</span><span class="sxs-lookup"><span data-stu-id="4c2df-134">The **Minimal domain first** and **Top-down** strategies are closely related.</span></span> <span data-ttu-id="4c2df-135">Исследования реализаций клиентов показали, что стратегия **Сверху вниз**, которая была введена в CU8, эффективнее стратегии **Сначала минимальные домены**.</span><span class="sxs-lookup"><span data-stu-id="4c2df-135">Customer implementation studies have shown that the **Top-down** strategy, which was introduced in CU8, outperforms the **Minimal domain first** strategy.</span></span> <span data-ttu-id="4c2df-136">Тем не менее стратегия **Сначала минимальные домены** сохранена в продукте для обеспечения обратной совместимости.</span><span class="sxs-lookup"><span data-stu-id="4c2df-136">However, the **Minimal domain first** strategy is kept in the product for backward compatibility.</span></span> <span data-ttu-id="4c2df-137">Показано, что обе эти стратегии поиска решения более эффективны при решении моделей, которые содержат несколько арифметических выражений, в которых не используются ограничения таблиц.</span><span class="sxs-lookup"><span data-stu-id="4c2df-137">Both these solver strategies have been shown to be more efficient at solving models that contain several arithmetic expressions where no table constraints are used.</span></span> <span data-ttu-id="4c2df-138">Однако в некоторых случаях стратегия **По умолчанию** оказывается эффективнее этих двух стратегий.</span><span class="sxs-lookup"><span data-stu-id="4c2df-138">However, in some cases, the **Default** strategy outperforms these two strategies.</span></span> <span data-ttu-id="4c2df-139">Поэтому обязательно попробуйте каждую стратегию.</span><span class="sxs-lookup"><span data-stu-id="4c2df-139">Therefore, remember to try each strategy.</span></span> |
| <span data-ttu-id="4c2df-140">Сверху вниз</span><span class="sxs-lookup"><span data-stu-id="4c2df-140">Top-down</span></span>             | <span data-ttu-id="4c2df-141">Стратегии **Сначала минимальные домены** и **Сверху вниз** тесно взаимосвязаны.</span><span class="sxs-lookup"><span data-stu-id="4c2df-141">The **Minimal domain first** and **Top-down** strategies are closely related.</span></span> <span data-ttu-id="4c2df-142">Исследования реализаций клиентов показали, что стратегия **Сверху вниз**, которая была введена в CU8, эффективнее стратегии **Сначала минимальные домены**.</span><span class="sxs-lookup"><span data-stu-id="4c2df-142">Customer implementation studies have shown that the **Top-down** strategy, which was introduced in CU8, outperforms the **Minimal domain first** strategy.</span></span> <span data-ttu-id="4c2df-143">Тем не менее стратегия **Сначала минимальные домены** сохранена в продукте для обеспечения обратной совместимости.</span><span class="sxs-lookup"><span data-stu-id="4c2df-143">However, the **Minimal domain first** strategy is kept in the product for backward compatibility.</span></span> <span data-ttu-id="4c2df-144">Показано, что обе эти стратегии поиска решения более эффективны при решении моделей, которые содержат несколько арифметических выражений, в которых не используются ограничения таблиц.</span><span class="sxs-lookup"><span data-stu-id="4c2df-144">Both these solver strategies have been shown to be more efficient at solving models that contain several arithmetic expressions where no table constraints are used.</span></span> <span data-ttu-id="4c2df-145">Однако в некоторых случаях стратегия **По умолчанию** оказывается эффективнее этих двух стратегий.</span><span class="sxs-lookup"><span data-stu-id="4c2df-145">However, in some cases, the **Default** strategy outperforms these two strategies.</span></span> <span data-ttu-id="4c2df-146">Поэтому обязательно попробуйте каждую стратегию.</span><span class="sxs-lookup"><span data-stu-id="4c2df-146">Therefore, remember to try each strategy.</span></span> |
| <span data-ttu-id="4c2df-147">Z3</span><span class="sxs-lookup"><span data-stu-id="4c2df-147">Z3</span></span>                   | <span data-ttu-id="4c2df-148">Рекомендуется использовать стратегию **Z3** как стратегию поиска решения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="4c2df-148">We recommend that you use the **Z3** strategy as the default solver strategy.</span></span> <span data-ttu-id="4c2df-149">Если у вас вызывает озабоченность производительность и масштабируемость, можно оценить другие стратегии.</span><span class="sxs-lookup"><span data-stu-id="4c2df-149">If you're concerned about performance and scalability, you can evaluate the other strategies.</span></span> |

## <a name="additional-resources"></a><span data-ttu-id="4c2df-150">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="4c2df-150">Additional resources</span></span>

[<span data-ttu-id="4c2df-151">Создание модели конфигурации продукта</span><span class="sxs-lookup"><span data-stu-id="4c2df-151">Build product configuration model</span></span>](build-product-configuration-model.md)

[<span data-ttu-id="4c2df-152">Эвристика</span><span class="sxs-lookup"><span data-stu-id="4c2df-152">Heuristics</span></span>](https://techterms.com/definition/heuristic)

[<span data-ttu-id="4c2df-153">Проблема удовлетворения ограничений</span><span class="sxs-lookup"><span data-stu-id="4c2df-153">Constraint Satisfaction Problem</span></span>](http://aima.cs.berkeley.edu/2nd-ed/newchap05.pdf)

