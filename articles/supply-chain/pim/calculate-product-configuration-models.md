---
title: "Часто задаваемые вопросы по расчетам моделей конфигураций продуктов"
description: "В этой статье описываются расчеты для моделей конфигурации продуктов и объясняется, как использовать расчеты вместе с ограничениями."
author: cvocph
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: PCConstraintEditor, PCProductConfigurationModelDetails, PCRuntimeConfigurator
audience: Application User
ms.reviewer: YuyuScheller
ms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations
ms.custom: 19191
ms.assetid: 8993f9a1-d1c0-49f5-afd3-5e1077ded0fe
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: yuyus
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: 7e0a5d044133b917a3eb9386773205218e5c1b40
ms.openlocfilehash: fea4e139d32c780769bafe08d603b828d366550c
ms.contentlocale: ru-ru
ms.lasthandoff: 09/29/2017

---

# <a name="calculations-for-product-configuration-models-faq"></a>Часто задаваемые вопросы по расчетам моделей конфигураций продуктов

[!include[banner](../includes/banner.md)]


В этой статье описываются расчеты для моделей конфигурации продуктов и объясняется, как использовать расчеты вместе с ограничениями.

Вычисления можно использовать для арифметических или логически операций. Они дополняют ограничения по выражениям в моделях конфигурации продукта. Вы можете определить вычисления на странице **Сведения о модели конфигурации продукта на основе ограничений** и после этого построить выражения для вычислений в редакторе выражений. Дополнительные сведения см. в разделе "Создать расчеты".

## <a name="what-is-a-calculation"></a>Что такое расчет?
Расчет — это элемент, который можно использовать в модели конфигурации продукта. Расчеты дополняют ограничения, давая возможность рассчитывать значения с помощью десятичных чисел при настройке продукта. Кроме того, расчеты имеют более широкий набор доступных операторов по сравнению с ограничениями.  

Как и ограничения, расчеты связаны с определенным компонентом в модели конфигурации продукта, и их нельзя использовать повторно или совместно с другим компонентом. Одна важная разница между вычислениями и ограничениями заключается в том, что вычисления императивны (однонаправленные), тогда как ограничения декларативны (двухнаправленные). Дополнительные сведения об ограничениях см. в разделе [Ограничения выражения и ограничения таблицы](expression-constraints-table-constraints-product-configuration-models.md).  

Расчет состоит из целевого атрибута и выражения расчета.

## <a name="what-is-a-target-attribute"></a>Что такое целевой атрибут?
Целевой атрибут — это атрибут, который будет получать результат расчета в выражении.  

В следующем выражении целевой атрибут является размером скатерти:  

**Выражение:** If\[decimalAttribute1 &lt;= decimalAttribute2, True, False\]  

**decimalAttribute1** — длина стола, а **decimalAttribute2** — длина скатерти. Выражение возвращает целевому атрибуту значение **True**, если значение **decimalAttribute2** больше или равно **decimalAttribute1**. В противном случае выражение возвращает значение **False**. Поэтому размер скатерти приемлем, если длина скатерти равна длине стола или превышает ее.

## <a name="what-attribute-types-can-be-set-to-target-attributes"></a>Какие типы атрибутов можно устанавливать в качестве целевых атрибутов?
Все типы атрибутов, поддерживаемых конфигуратором продукции, можно установить в качестве целевых атрибутов, за исключением текста без фиксированного списка.

## <a name="can-the-value-of-a-target-attribute-restrict-the-values-of-the-input-attributes-in-a-calculation"></a>Может ли значение целевого атрибута ограничивать значения входных атрибутов в расчете?
Нет, значение целевого атрибута не может ограничивать значения входных атрибутов, поскольку расчеты однонаправленны. Поэтому значение целевого атрибута устанавливается на основе изменений в значении входных атрибутов, но изменение значения целевого атрибута не влияет на значение входных атрибутов. Это поведение отличается от поведения для ограничений. Ограничения происходят в обоих направлениях.

### <a name="example"></a>Пример

В следующем выражении целью для расчета является длина шнура питания, а входное значение задает цвет.  

**Выражение:** \[If Color == "Green", 1.5, 1.0\]  

При настройке номенклатуры для длины шнура питания задается значение **1,5**, если выбрано значение атрибута цвета **Green**. Если указать любой другой цвет, длина будет равна **1,0**. Однако поскольку расчеты однонаправленны, расчет не устанавливает атрибут цвета равным **Green** при указании длины **1,5**.

## <a name="what-happens-if-a-calculation-has-a-target-attribute-of-the-integer-type-but-a-calculation-generates-a-decimal-number"></a>Что происходит, если расчет имеет целевой атрибут в виде целого числа, а расчет возвращает десятичное число?
Если целевой атрибут имеет целый тип, а при расчете получается десятичное число, возвращается только целая часть высчитанного результата. Десятичная часть удаляется, а результат не округляется. Например, результат 12,70 отображается как 12.

## <a name="when-do-calculations-occur"></a>Когда выполняются расчеты?
Расчеты выполняются, когда значения предоставлены для всех входных атрибутов.

## <a name="can-i-overwrite-the-value-that-is-calculated-for-the-target-attribute"></a>Можно ли перезаписать значение, которое рассчитывается для целевого атрибута?
Можно переопределить значение, которое рассчитывается для целевого атрибута, если только целевой атрибут не задан как скрытый или доступный только для чтения.

## <a name="how-do-i-set-a-target-attribute-as-hidden-or-readonly"></a>Как установить целевой атрибут в качестве скрытого или доступного только для чтения?
Чтобы настроить атрибут как скрытый или доступный только для чтения, выполните следующие действия.

1.  Щелкните **Управление сведениями о продукте** &gt; **Общее** &gt; **Модели конфигурации продукта**.
2.  Выберите модель конфигурации продукта, затем на панели действий нажмите **Правка**.
3.  На странице **Сведения о модели конфигурации продукта на основе ограничений** выберите атрибут для использования как целевой атрибут.
4.  На экспресс-вкладке **Атрибуты** выберите **Скрыто** или **Только для чтения**.

## <a name="can-a-calculation-overwrite-the-values-that-i-set"></a>Может ли расчет перезаписать установленные пользователем значения?
Нет. Используются значения, которые задаются при настройке продукта. Расчет, которые происходит при изменении входные значения не может переопределить значения, введенные для определенного атрибута пользователем.

## <a name="what-happens-if-i-remove-an-input-value-in-a-calculation"></a>Что происходит, если я удалить входное значение из расчета?
При удалении входного значения из расчета значение целевого атрибута также удаляется.

## <a name="why-do-i-receive-an-error-message-that-says-that-my-model-is-in-contradiction"></a>Почему появляется сообщение об ошибке, которое показывает, что модель не согласована?
Это сообщение отображается, когда расчет содержит ошибку или когда имеется рассогласованность с одним или несколькими ограничениями. Дополнительные сведения о противоречиях в ограничениях см. в разделе [Ограничения выражения и ограничения таблицы](expression-constraints-table-constraints-product-configuration-models.md). Вот некоторые ситуации, в которых в расчетах могут произойти ошибки:

-   Значение делится на 0 (нуль).
-   Имеется конфликт между следующими двумя элементами:
    -   Значения, доступные для атрибута и ограниченные ограничением
    -   Значение, которое создается при расчете
-   Значения, которые возвращаются расчетом находятся за пределами домена атрибута. Пример целого числа из \[1..10\], которое вычисляется как 0.

## <a name="why-do-i-receive-an-error-message-even-though-i-successfully-validated-my-product-model"></a>Почему появляется сообщение об ошибке, даже если модель продукта успешно прошла проверку?
Расчеты не включаются в проверку. Необходимо проверить модель конфигурации продукта, чтобы найти ошибки в расчетах. Чтобы проверить модель конфигурации продукта, выполните следующие шаги.

1.  Щелкните **Управление сведениями о продукте** &gt; **Общее** &gt; **Модели конфигурации продукта**.
2.  Выберите модель конфигурации продукта, затем на панели действий в группе **Выполнить** нажмите **Тест**.





