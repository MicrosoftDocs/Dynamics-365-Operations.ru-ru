---
title: Поиск продуктов и вариантов продуктов во время ввода заказа
description: Используйте поле **Код номенклатуры** для поиска продуктов и вариантов продуктов при создании строки заказа на продажу или заказа на покупку вручную. Это позволяет быстро найти варианты продукта, когда имеется только строка конфигурации или доступна только одна из аналитик продукта.
author: cvocph
manager: tfehr
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: MCRFullTextIndexField, MCRFullTextParameters, PurchTable, PurchTablePart, SalesTable
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 248534
ms.assetid: 99dd5ce1-0029-4f06-90e7-865e6d46d86e
ms.search.region: global
ms.search.industry: Manufacturing
ms.author: kamaybac
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.openlocfilehash: 532f437bee490743847cf5617579c579f9202b71
ms.sourcegitcommit: 827d77c638555396b32d36af5d22d1b61dafb0e8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2020
ms.locfileid: "4436443"
---
# <a name="search-for-products-and-product-variants-during-order-entry"></a><span data-ttu-id="4babd-104">Поиск продуктов и вариантов продуктов во время ввода заказа</span><span class="sxs-lookup"><span data-stu-id="4babd-104">Search for products and product variants during order entry</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="4babd-105">Используйте поле **Код номенклатуры** для поиска продуктов и вариантов продуктов при создании строки заказа на продажу или заказа на покупку вручную.</span><span class="sxs-lookup"><span data-stu-id="4babd-105">Use the **Item number** field to search for products and product variants when you manually create a sales order line or a purchase order line.</span></span>  <span data-ttu-id="4babd-106">Это позволяет быстро найти варианты продукта, когда имеется только строка конфигурации или доступна только одна из аналитик продукта.</span><span class="sxs-lookup"><span data-stu-id="4babd-106">This lets you quickly find product variants when you only have the configuration string or one of the product dimensions available.</span></span>

<span data-ttu-id="4babd-107">Иногда слишком много чего-то — это не лучший вариант, и это особенно верно, если вы продаете несколько аналогичных продуктов и пытаетесь запомнить коды номенклатуры или краткие наименования продуктов для поиска правильного продукта, который требуется поместить в заказ на продажу.</span><span class="sxs-lookup"><span data-stu-id="4babd-107">Sometimes, having too much of something is not the best situation to be in, and this is especially true if you sell a number of products that are similar, and you are trying to remember item numbers or product search names in order to find the right product to put on a sales order.</span></span><span data-ttu-id="4babd-108"> Можно использовать поле **Код номенклатуры** в строке заказа на продажу или в строке заказа на покупку как поле поиска.</span><span class="sxs-lookup"><span data-stu-id="4babd-108"> You can use the **Item number** field on a sales order line or a purchase order line as a search field.</span></span> <span data-ttu-id="4babd-109">Можно ввести любую часть наименования продукта, кода или аналитики и получить результаты поиска, отображающие все номенклатуры, которые соответствуют искомому ключевому слову.</span><span class="sxs-lookup"><span data-stu-id="4babd-109">You can enter any part of a product name, number, or dimension and get a lookup that displays all the items that match the search word.</span></span>

## <a name="how-searchworks"></a><span data-ttu-id="4babd-110">Как работает поиск</span><span class="sxs-lookup"><span data-stu-id="4babd-110">How search works</span></span>
<span data-ttu-id="4babd-111">При поиске продуктов или вариантов продукта важно понимать, как функция поиска находит продукты, которые соответствуют введенному тексту.</span><span class="sxs-lookup"><span data-stu-id="4babd-111">When you search for products or product variants, it is important to understand how the search feature finds the products that match the text that you enter.</span></span> <span data-ttu-id="4babd-112">Правила ключа поиска при выдаче результатов поиска:</span><span class="sxs-lookup"><span data-stu-id="4babd-112">The key search rules in delivering search results are:</span></span>

-   <span data-ttu-id="4babd-113">В результатах поиска будут возвращаться любую соответствующие записи, независимо от поля, в которое введен искомый текст.</span><span class="sxs-lookup"><span data-stu-id="4babd-113">Search results will return any matching record, disregarding the field that the search text is entered in.</span></span>
-   <span data-ttu-id="4babd-114">Текст поиска должен полностью присутствовать в соответствующей записи.</span><span class="sxs-lookup"><span data-stu-id="4babd-114">The search text needs to be present in the matching record in its full length.</span></span>
-   <span data-ttu-id="4babd-115">Сопоставление выполняется, даже если текст поиска находится в середине текстовой строки в соответствующий записи.</span><span class="sxs-lookup"><span data-stu-id="4babd-115">A match will occur even if the search text is found in the middle of a text string in the matching record.</span></span> <span data-ttu-id="4babd-116">Он не обязательно должен находиться в начале текстовой строки.</span><span class="sxs-lookup"><span data-stu-id="4babd-116">It does not have to appear in the beginning of a text string.</span></span>
-   <span data-ttu-id="4babd-117">Текст поиска рассматриваются как одна текстовая строка, даже если он содержит пробел.</span><span class="sxs-lookup"><span data-stu-id="4babd-117">The search text is treated as a single text string even if it contains white space.</span></span>

### <a name="examples"></a><span data-ttu-id="4babd-118">Примеры</span><span class="sxs-lookup"><span data-stu-id="4babd-118">Examples</span></span>

<span data-ttu-id="4babd-119">Ниже приведены примеры использования продуктов и вариантов продукта, демонстрирующие, как поиск производится в различных сценариях.</span><span class="sxs-lookup"><span data-stu-id="4babd-119">The following examples use products and product variants to illustrate how search is handled in various scenarios.</span></span> <span data-ttu-id="4babd-120">**Предварительное условие:** в разделе **Продажи и маркетинг &gt; Настройка &gt; Поиск &gt; Параметры поиска &gt; Тип поиска**, выберите параметр **Полное соответствие**.</span><span class="sxs-lookup"><span data-stu-id="4babd-120">**Prerequisite:** Under **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters &gt; Search type**, select the **Full match** option.</span></span>

| <span data-ttu-id="4babd-121">Тип продукта</span><span class="sxs-lookup"><span data-stu-id="4babd-121">Product type</span></span>     | <span data-ttu-id="4babd-122">Наименование продукта</span><span class="sxs-lookup"><span data-stu-id="4babd-122">Product name</span></span>    | <span data-ttu-id="4babd-123">Отображаемый номер продукта</span><span class="sxs-lookup"><span data-stu-id="4babd-123">Display product number</span></span> | <span data-ttu-id="4babd-124">Код номенклатуры</span><span class="sxs-lookup"><span data-stu-id="4babd-124">Item number</span></span> | <span data-ttu-id="4babd-125">Конфигурация</span><span class="sxs-lookup"><span data-stu-id="4babd-125">Configuration</span></span> |
|------------------|-----------------|------------------------|-------------|---------------|
| <span data-ttu-id="4babd-126">Уникально идентифицируемый продукт</span><span class="sxs-lookup"><span data-stu-id="4babd-126">Distinct product</span></span> | <span data-ttu-id="4babd-127">SpeakerMidRange</span><span class="sxs-lookup"><span data-stu-id="4babd-127">SpeakerMidRange</span></span> | <span data-ttu-id="4babd-128">D0001</span><span class="sxs-lookup"><span data-stu-id="4babd-128">D0001</span></span>                  | <span data-ttu-id="4babd-129">D0001</span><span class="sxs-lookup"><span data-stu-id="4babd-129">D0001</span></span>       | <span data-ttu-id="4babd-130">Неприменимо</span><span class="sxs-lookup"><span data-stu-id="4babd-130">NA</span></span>            |
| <span data-ttu-id="4babd-131">Вариант продукта</span><span class="sxs-lookup"><span data-stu-id="4babd-131">Product variant</span></span>  | <span data-ttu-id="4babd-132">Активный динамик</span><span class="sxs-lookup"><span data-stu-id="4babd-132">Active speaker</span></span>  | <span data-ttu-id="4babd-133">D0010:::Черный:</span><span class="sxs-lookup"><span data-stu-id="4babd-133">D0010:::Black:</span></span>         | <span data-ttu-id="4babd-134">D0010</span><span class="sxs-lookup"><span data-stu-id="4babd-134">D0010</span></span>       | <span data-ttu-id="4babd-135">000005</span><span class="sxs-lookup"><span data-stu-id="4babd-135">000005</span></span>        |
| <span data-ttu-id="4babd-136">Вариант продукта</span><span class="sxs-lookup"><span data-stu-id="4babd-136">Product variant</span></span>  | <span data-ttu-id="4babd-137">Активный динамик</span><span class="sxs-lookup"><span data-stu-id="4babd-137">Active speaker</span></span>  | <span data-ttu-id="4babd-138">D0010:::Белый:</span><span class="sxs-lookup"><span data-stu-id="4babd-138">D0010:::White:</span></span>         | <span data-ttu-id="4babd-139">D0010</span><span class="sxs-lookup"><span data-stu-id="4babd-139">D0010</span></span>       | <span data-ttu-id="4babd-140">Белый</span><span class="sxs-lookup"><span data-stu-id="4babd-140">White</span></span>         |

<span data-ttu-id="4babd-141">Если ввести "динам" в поле **Код номенклатуры**, вы получите все приведенные выше продукты в результатах поиска.</span><span class="sxs-lookup"><span data-stu-id="4babd-141">If you type 'speak' in the **Item number** field, you will get all the products above as a result in the lookup.</span></span> <span data-ttu-id="4babd-142">Если ввести "черный" в поле **Код номенклатуры**, вы в качестве результата получите второй продукт, поскольку он содержит текст "черный" в отображаемом номере продукта.</span><span class="sxs-lookup"><span data-stu-id="4babd-142">If you type 'black' in the **Item number** field, you will get the second product as a result, because it has the text 'black' in the display product number.</span></span> <span data-ttu-id="4babd-143">Эти два примера иллюстрируют, что поиск выполняется не только в начале поля, совпадение возникнет, даже если текста поиска находится в середине текстовой строки в соответствующей записи.</span><span class="sxs-lookup"><span data-stu-id="4babd-143">These two examples illustrate that the search is not only at the beginning of the field, a match will occur even if the search text is found in the middle of a text string in the matching record.</span></span>  

<span data-ttu-id="4babd-144">Если ввести "05", вы получите только второй вариант продукта в результате, поскольку он имеет значение "05" в конфигурации.</span><span class="sxs-lookup"><span data-stu-id="4babd-144">If you type '05' you will only get the second product variant as a result, because it has '05' in the configuration.</span></span> <span data-ttu-id="4babd-145">Это показывает, что поиск выполняется по всем разрешенным полям на странице **Критерии поиска**.</span><span class="sxs-lookup"><span data-stu-id="4babd-145">This illustrates that the search is across all the enabled fields on the **Search criteria** page.</span></span>  

<span data-ttu-id="4babd-146">Если ввести "динам 05", вы не получите никаких результатов.</span><span class="sxs-lookup"><span data-stu-id="4babd-146">If you type 'speak 05' you will not get any results.</span></span> <span data-ttu-id="4babd-147">Это связано с тем, что поиск ищет полный введенный текст.</span><span class="sxs-lookup"><span data-stu-id="4babd-147">This is because the search looks for the full text that is entered.</span></span> <span data-ttu-id="4babd-148">Поиск не попытается выполнить поиск "динам", а затем уточнить результаты путем поиска "05".</span><span class="sxs-lookup"><span data-stu-id="4babd-148">The search will not try to find 'speak' and then narrow the results to those containing '05'.</span></span>  

<span data-ttu-id="4babd-149">Можно ограничить количество результатов поиска, используя поле **Количество результатов** на странице **Продажи и маркетинг &gt; Настройка &gt; Поиск &gt; Параметры поиска**. </span><span class="sxs-lookup"><span data-stu-id="4babd-149">You can limit the number of search results by using the **Number of results** field on the **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters** page.</span></span> <span data-ttu-id="4babd-150">Если задать в этом поле значение 0, все результаты поиска будут возвращены.</span><span class="sxs-lookup"><span data-stu-id="4babd-150">If you set this field to 0, all search results will be returned.</span></span> <span data-ttu-id="4babd-151">Если задать для него значение 10, например, возвращается не более 10 результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="4babd-151">If you set it to 10, for example, it will return a maximum 10 search results.</span></span>

## <a name="configure-the-productsearch"></a><span data-ttu-id="4babd-152">Настройка поиска продуктов</span><span class="sxs-lookup"><span data-stu-id="4babd-152">Configure the product search</span></span>
<span data-ttu-id="4babd-153">Прежде чем можно будет использовать функцию поиска продуктов и вариантов продукта, выполните следующие действия, чтобы настроить поиск продуктов.</span><span class="sxs-lookup"><span data-stu-id="4babd-153">Before you can use the product and product variant search feature, follow these steps to configure the product search.</span></span> <span data-ttu-id="4babd-154">[![3 шага для настройки поиска продукта\_AXAppFall](./media/3-steps-to-configure-product-search_axappfall.png)](./media/3-steps-to-configure-product-search_axappfall.png)</span><span class="sxs-lookup"><span data-stu-id="4babd-154">[![3 steps to configure product search\_AXAppFall](./media/3-steps-to-configure-product-search_axappfall.png)](./media/3-steps-to-configure-product-search_axappfall.png)</span></span>

### <a name="step-1include-all-the-relevant-product-and-product-variant-identifiers-and-dimensions-in-the-search-criteria"></a><span data-ttu-id="4babd-155">Шаг 1. Включите все соответствующие коды и аналитики продуктов и вариантов продукта в критерии поиска</span><span class="sxs-lookup"><span data-stu-id="4babd-155">Step 1: Include all the relevant product and product variant identifiers and dimensions in the search criteria</span></span>

<span data-ttu-id="4babd-156">Примеры кодов и аналитик продуктов и вариантов продукта, по которым можно производить поиск, это  **Наименование продукта, Код номенклатуры**, **Отображаемый номер продукта, Конфигурация, Цвет, Размер, Стиль, Краткое наименование и т. д.**</span><span class="sxs-lookup"><span data-stu-id="4babd-156">Examples of product and product variant identifiers and dimensions that you can search by are  **Product name, Item number**, **Display product number, Configuration, Color, Size, Style, Search name, etc**.</span></span>  

<span data-ttu-id="4babd-157">Перейдите на страницу **Продажи и маркетинг &gt; Настройка &gt; Поиск &gt; Критерии поиска**.</span><span class="sxs-lookup"><span data-stu-id="4babd-157">Go to **Sales and marketing &gt; Setup &gt; Search &gt; Search criteria** page.</span></span> <span data-ttu-id="4babd-158">Страница **Критерии поиска** позволяет определить критерии для клиента, перспективного клиента и поиска продукта.</span><span class="sxs-lookup"><span data-stu-id="4babd-158">The **Search criteria** page allows you to define criteria for customer, prospect, and product search.</span></span> <span data-ttu-id="4babd-159">Убедитесь, что фильтрация страницы производится с помощью критериев поиска продукта.</span><span class="sxs-lookup"><span data-stu-id="4babd-159">Make sure you filter the page by using product search criteria.</span></span> <span data-ttu-id="4babd-160">Для этого можно переключиться на **Продукт** в меню страницы.</span><span class="sxs-lookup"><span data-stu-id="4babd-160">You can do this by switching to **Product** in the page's menu.</span></span>  

<span data-ttu-id="4babd-161">Для добавления отображаемого номера продукта в критерии поиска нажмите **Создать** в меню страницы.</span><span class="sxs-lookup"><span data-stu-id="4babd-161">To add the display product number to the search criteria, click **New** in the page's menu.</span></span> <span data-ttu-id="4babd-162">При этом будет добавлена новая запись в сетке **Критерии поиска**.</span><span class="sxs-lookup"><span data-stu-id="4babd-162">This will add a new record in the **Search criteria** grid.</span></span> <span data-ttu-id="4babd-163">Откройте поиск столбца **Имя поля** и выберите **DisplayProductNumber**.</span><span class="sxs-lookup"><span data-stu-id="4babd-163">Open the **Field name** column lookup and chose **DisplayProductNumber**.</span></span> <span data-ttu-id="4babd-164">Для добавления конфигурации продукта в критерии поиска создайте новую запись в сетке **Критерии поиска** и выберите **configId** в столбце **Имя поля**.</span><span class="sxs-lookup"><span data-stu-id="4babd-164">To add the product's configuration to the search criteria, create a new record in the **Search criteria** grid and chose **configId** in the **Field name** column.</span></span> <span data-ttu-id="4babd-165">Аналогичным образом создайте запись, в которой поле **Имя поля** содержит **InventColorId** для аналитики цвета, **InventSizeId** для аналитики размера и **InventStyleId** для аналитики стиля.</span><span class="sxs-lookup"><span data-stu-id="4babd-165">In the same manner, create a record with **Field name** **InventColorId** for the color dimension, **InventSizeId** for the size dimension, and **InventStyleId** for the style dimension.</span></span>

### <a name="step-2-populate-the-database-table-that-is-used-for-product-search"></a><span data-ttu-id="4babd-166">Шаг 2. Заполните таблицу базы данных, используемую для поиска продукта</span><span class="sxs-lookup"><span data-stu-id="4babd-166">Step 2: Populate the database table that is used for product search</span></span>

<span data-ttu-id="4babd-167">На странице **Критерии поиска** нажмите кнопку **Обновить данные поиска**.</span><span class="sxs-lookup"><span data-stu-id="4babd-167">In the **Search criteria** page, click the **Update search data** button.</span></span> <span data-ttu-id="4babd-168">В диалоговом окне **Обновить данные поиска** убедитесь, что для параметра  **Источник** задано значение **Продукт**, затем нажмите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="4babd-168">In the **Update search data** dialog box, make sure that  **Source** is set to **Product**, and then click **OK**.</span></span> <span data-ttu-id="4babd-169">Система соберет в одной таблице все выбранные критерии поиска, указанные в шаге 1.</span><span class="sxs-lookup"><span data-stu-id="4babd-169">The system will aggregate in one table all the selected search criteria specified in step 1.</span></span> <span data-ttu-id="4babd-170">Если существует много продуктов и вариантов продуктов, эта операция может занимать довольно много времени, и вы можете получить предупреждение.</span><span class="sxs-lookup"><span data-stu-id="4babd-170">If you have a lot of products and product variants, this operation can be quite lengthy and you may receive a warning.</span></span> <span data-ttu-id="4babd-171">Рекомендуется планировать заполнение таблицы поиска на сервере обработки пакетных заданий на время, когда сервер не сильно занят.</span><span class="sxs-lookup"><span data-stu-id="4babd-171">We recommend that you schedule the search table population on the batch server at a time when the server is not too busy.</span></span>  

<span data-ttu-id="4babd-172">До тех пор, пока таблица не будет заполнена, поиск продукта не будет давать правильные результаты.</span><span class="sxs-lookup"><span data-stu-id="4babd-172">Until the table is populated, product search will not provide the correct results.</span></span> <span data-ttu-id="4babd-173">Если вы не получаете никаких результатов поиска, убедитесь, что эта таблица заполнена.</span><span class="sxs-lookup"><span data-stu-id="4babd-173">If you do not get any search results, make sure that this table is populated.</span></span>  

<span data-ttu-id="4babd-174">Таблица должна заполняться только при изменении критериев поиска.</span><span class="sxs-lookup"><span data-stu-id="4babd-174">The table only has to be populated when the search criteria is modified.</span></span> <span data-ttu-id="4babd-175">Вновь выпущенные продукты и варианты автоматически добавляются в таблицу.</span><span class="sxs-lookup"><span data-stu-id="4babd-175">Newly released products and variants are automatically added to the table.</span></span> <span data-ttu-id="4babd-176">Удаленные продукты и варианты автоматически удаляются из таблицы.</span><span class="sxs-lookup"><span data-stu-id="4babd-176">Deleted products and variants are automatically removed from the table.</span></span>

### <a name="step-3-enable-the-lookup-for-product-search-on-sales-and-purchase-order-lines"></a><span data-ttu-id="4babd-177">Шаг 3. Включите поиск продуктов в строках заказов на продажу и на покупку</span><span class="sxs-lookup"><span data-stu-id="4babd-177">Step 3: Enable the lookup for product search on sales and purchase order lines</span></span>

<span data-ttu-id="4babd-178">Можно включить эту функцию, выбрав **Продажи и маркетинг &gt; Настройка &gt; Поиск &gt; Параметры поиска** и задав для параметра **Включить поиск для поиска продуктов** значение **Да** на вкладке **Общие**.</span><span class="sxs-lookup"><span data-stu-id="4babd-178">You can enable this functionality by going to **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters** and setting **Enable lookup for search** to **Yes** on the **General** tab.</span></span>  

<span data-ttu-id="4babd-179">Для записи строки заказа на продажу поведение по умолчанию — это открыть страницу **Поиск продукта**, когда пользователь начинает печатать в поле **Код номенклатуры**, а затем нажимает клавишу **Tab**.</span><span class="sxs-lookup"><span data-stu-id="4babd-179">For sales order line entry, the default behavior is to open the **Product search** page when you start typing in the **Item number** field, and then press the **Tab** key.</span></span> <span data-ttu-id="4babd-180">Страница **Поиск продукта** изменяет контекст во время создания строк заказа и может рассматриваться как слишком навязчивая.</span><span class="sxs-lookup"><span data-stu-id="4babd-180">The **Product search** page changes the context during order line creation and may be considered unnecessarily intrusive.</span></span> <span data-ttu-id="4babd-181">Если вы предпочитаете получать результаты поиска в поиске без потери контекст при вводе строки заказа, вместо этого можно использовать результаты поиска.</span><span class="sxs-lookup"><span data-stu-id="4babd-181">If you prefer to get the search results in a lookup and not lose context during order line entry, you can use the search lookup instead.</span></span> <span data-ttu-id="4babd-182">Если вы ищете продукт или вариант продукта, но не выбрали ничего в поиске и нажали клавишу **Tab**, открывается страница **Поиск продукта**.</span><span class="sxs-lookup"><span data-stu-id="4babd-182">If you search for a product or product variant, but you don't select anything in the lookup and press the **Tab** key, the **Product search** page will display.</span></span>



