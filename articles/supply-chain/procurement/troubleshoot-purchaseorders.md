---
title: Устранение неполадок заказов на покупку
description: В этом разделе описывается устранение проблем, которые могут встретиться при работе с заказами на покупку.
author: SmithaNataraj
manager: tfehr
ms.date: 09/16/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: PurchTable
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: smnatara
ms.search.validFrom: 2020-9-16
ms.dyn365.ops.version: Release 10.0.14
ms.openlocfilehash: e55974f65577170880e60095f1ba74ea7366e592
ms.sourcegitcommit: 91e101d7a51a8b63bd196ec80e9224e5e6e6fc95
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/22/2020
ms.locfileid: "3834416"
---
# <a name="troubleshoot-purchase-orders"></a>Устранение неполадок заказов на покупку

В этом разделе описывается устранение проблем, которые могут встретиться при работе с заказами на покупку.

## <a name="an-action-can-be-completed-only-after-the-line-number-is-fully-distributed"></a>Действие может быть выполнено только после полного распределения номера строки.

Эта проблема может возникнуть из-за несогласованности в распределениях заказов на покупку.

Чтобы разблокировать эту проблему и сбросить заказ на покупку в состояние *Черновик*, перейдите в раздел **Закупки и источники \> Периодические задачи \> Очистка \> Сброс распределения заказов на покупку**. Дополнительные сведения см. в следующей записи блога: [Устранение ошибок распределения заказов на покупку в Dynamics 365 Supply Chain Management](https://cloudblogs.microsoft.com/dynamics365/it/2020/08/12/resolve-po-distribution-errors-in-dynamics-365-supply-chain-management/).

## <a name="when-purchase-orders-are-imported-through-data-management-purchase-order-line-numbers-dont-follow-the-increment-that-defined-in-system-parameters"></a>При импорте заказов на покупку с помощью управления данными номера строк заказа на покупку не будут следовать шагу, определенному в параметрах системы.

### <a name="issue-description"></a>Описание проблемы

По умолчанию автоматически формируемые номера строк для строк заказа на покупку, импортируемых через информационный объект *Строки заказа на покупку V2*, не используют увеличение номера системной строки, указанное в параметрах системы. Если вручную создать заказ на покупку и добавить строки через пользовательский интерфейс, номера строк увеличиваются правильно. Однако если используется структура управления данными (DMF), они не увеличиваются должным образом.

Эта проблема происходит из-за того, что если при импорте строк через DMF номера строк еще не назначены в импортированной сущности, система использует метод DMF для их назначения. Этот метод всегда увеличивает номера строк на единицу.

### <a name="issue-workaround"></a>Временное решение проблемы

Убедитесь, что требуемые номера строк уже заданы в полях номера строки информационного объекта при импорте строк заказа на покупку. В этом случае DMF не перезапишет номера строк.

## <a name="a-default-tax-group-and-a-default-cash-discount-arent-filled-in-from-the-invoice-account"></a>Налоговая группа по умолчанию и скидка по оплате по умолчанию не заполняются из счета в накладной.

При использовании счета в накладной, отличающегося от счета клиента, налоговая группа по умолчанию и используемая по умолчанию скидка по оплате не заполняется из счета по накладной при создании заказа на покупку.

Такое поведение предусмотрено разработчиками. Значения по умолчанию для налоговой группы, скидок по оплате и другой ценовой информации основываются на счете клиента, а не на счете в накладной.

## <a name="i-receive-an-object-reference-not-set-error-during-purchase-order-confirmation-or-an-exception-has-been-thrown-by-the-target-of-an-invocation-exception-occurs-during-vendor-invoice-posting"></a>Во время подтверждения заказа на покупку я получаю ошибку "Ссылка на объект не указывает" или при разноске накладной поставщика возникает исключение "Адресат вызова создал исключение".

Эта проблема может возникнуть из-за несогласованности в распределениях заказов на покупку.

Чтобы разблокировать эту проблему и сбросить заказ на покупку в состояние *Черновик*, перейдите в раздел **Закупки и источники \> Периодические задачи \> Очистка \> Сброс распределения заказов на покупку**. Дополнительные сведения см. в следующей записи блога: [Устранение ошибок распределения заказов на покупку в Dynamics 365 Supply Chain Management](https://cloudblogs.microsoft.com/dynamics365/it/2020/08/12/resolve-po-distribution-errors-in-dynamics-365-supply-chain-management/).

## <a name="one-or-more-accounting-distributions-are-either-over-distributed-or-under-distributed"></a>Одно или несколько распределений по бухгалтерским счетам выполнены с чрезмерным или недостаточным распределением.

### <a name="issue-description"></a>Описание проблемы

Вы получаете следующее ошибку: "Одно или несколько распределений по бухгалтерским счетам выполнены с чрезмерным или недостаточным распределением."

### <a name="issue-resolution"></a>Устранение проблемы

Эта проблема может возникнуть из-за несогласованности в распределениях заказов на покупку.

Чтобы разблокировать эту проблему и сбросить заказ на покупку в состояние *Черновик*, перейдите в раздел **Закупки и источники \> Периодические задачи \> Очистка \> Сброс распределения заказов на покупку**. Дополнительные сведения см. в следующей записи блога: [Устранение ошибок распределения заказов на покупку в Dynamics 365 Supply Chain Management](https://cloudblogs.microsoft.com/dynamics365/it/2020/08/12/resolve-po-distribution-errors-in-dynamics-365-supply-chain-management/).

## <a name="can-i-show-only-purchase-orders-that-i-created"></a>Можно ли отобразить только заказы на покупку, созданные мной?

В настоящее время эта функциональная возможность недоступна.

## <a name="can-i-reserve-inventory-and-create-transactions-against-registered-inventory-on-a-purchase-order"></a>Можно ли резервировать запасы и создавать проводки по зарегистрированным запасам в заказе на покупку?

### <a name="issue-description"></a>Описание проблемы

Даже если номенклатуры находятся в состоянии *Зарегистрировано* в заказе на покупку, по-прежнему можно зарезервировать запасы. Другими словами, можно создать проводки по зарегистрированным запасам.

### <a name="reproduce-the-issue"></a>Воспроизведение проблемы

Следующая процедура показывает один из способов воспроизведения проблемы.

1. Создание заказа на покупку.
2. Зарегистрируйте строку заказа на покупку.
3. Обратите внимание, что можно создавать резервирования или проводки по зарегистрированным запасам.

### <a name="issue-resolution"></a>Устранение проблемы

Такое поведение предусмотрено разработчиками. Ожидание заключается в том, что зарегистрированные номенклатуры физически поступили на склад или в запасы, и поэтому они доступны для резервирования.

## <a name="purchase-orders-dont-reflect-the-language-settings-of-the-legal-entity"></a>Заказы на покупку не отображают языковые настройки юридического лица.

### <a name="issue-description"></a>Описание проблемы

Название продукта в заказе на покупку отображается на системном языке, а не на языке, указанном для юридического лица, в котором был создан заказ на покупку.

### <a name="reproduce-the-issue"></a>Воспроизведение проблемы

Следующая процедура показывает один из способов воспроизведения проблемы.

1. Установите для системного языка значение *EN-US* (Английский США).
1. Убедитесь, что имеется продукт, в котором поддерживаются языки *EN-US* и *DE* (немецкий) для переводов названия продукта.
1. Измените язык юридического лица на *DE*.
1. В юридическом лице, в котором установлен язык *DE*, создайте заказ на покупку, включающий этот продукт.
1. Обратите внимание, что название продукта все равно отображается на английском языке (США) (язык системы).

### <a name="issue-resolution"></a>Устранение проблемы

Такое поведение предусмотрено разработчиками. В заказах на покупку продукт всегда отображается на системном языке. Язык заказов на покупку используется при создании журнала подтверждения.

## <a name="the-approved-vendor-list-by-product-entity-doesnt-allow-the-effective-date-to-be-changed"></a>Сущность списка утвержденных поставщиков по продуктам не допускает изменения даты вступления в силу.

### <a name="issue-description"></a>Описание проблемы

У продукта имеется утвержденный поставщик, который, например, имеет дату вступления в силу 11 января 2018 года (*01/11/2018*) и дату окончания срока действия *Никогда*. При попытке изменить дату вступления в силу на 10 января 2018 года (*01/10/2018*) или 12 января 2018 года (*01/12/2018*) появляется следующее сообщение об ошибке:

> Не удается создать запись в списке утвержденных поставщиков (PdsApproveVendorList). Значение "Дата окончания срока действия" должно быть больше или равно значению "Дата вступления в силу".

### <a name="issue-resolution"></a>Устранение проблемы

Можно расширить только период, для которого утвержден поставщик. Применяются следующие правила:

- Чтобы изменить дату вступления в силу, чтобы она была раньше, чем любые существующие записи (периоды) для поставщика номенклатуры, дата окончания нового периода должна предшествовать всем датам истечения срока действия в существующих записях.
- Чтобы изменить дату истечения срока действия, чтобы она была позднее любого из существующих периодов, дата вступления в силу должна быть позже последней даты окончания срока действия в любой существующей записи.
- Чтобы уменьшить общий период, на который утверждается поставщик, необходимо удалить или изменить существующие записи. В качестве альтернативы можно использовать ключ **усечение** при импорте. Этот ключ удаляет все существующие записи в таблице для утвержденных поставщиков по номенклатуре.

Для примера сценария, описанного в описании проблемы, в котором запись имеет дату вступления в силу *01/11/2018* и дату истечения срока действия *Никогда*, можно импортировать новую запись с датой вступления в силу *01/10/2018* и датой истечения срока действия *Никогда*. Однако нельзя уменьшить период, чтобы дата вступления в силу обновлялась до *01/12/2018* через управление данными. Это изменение необходимо выполнить с помощью пользовательского интерфейса.

## <a name="after-i-change-the-delivery-address-on-a-purchase-order-header-the-delivery-nameisnt-synced"></a>После изменения адреса поставки в заголовке заказа на покупку имя доставки не синхронизируется.

### <a name="issue-description"></a>Описание проблемы

Адрес в заголовке заказа на покупку обновляется до адреса, который не является адресом доставки. Хотя адрес обновляется в заказе на покупку, имя доставки не обновляется на основе обновленного адреса.

### <a name="issue-resolution"></a>Устранение проблемы

Такое поведение предусмотрено разработчиками. Выбранный адрес должен классифицироваться как адрес доставки. В противном случае имя доставки не обновляется в соответствии с выбранным адресом.

## <a name="can-i-find-the-user-who-canceled-a-purchase-order"></a>Можно ли найти пользователя, который отменил заказ на покупку?

Эта информация отслеживается только в том случае, если заказ на покупку подлежит управлению изменениями. При использовании управления изменениями можно видеть, кто отправил изменение (отмену) и кто его утвердил.
