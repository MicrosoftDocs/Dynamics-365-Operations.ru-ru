---
title: Гибкая политика резервирования аналитик на уровне склада
description: В этой теме описывается политика резервирования запасов, которая позволяет компаниям продавать продукты с отслеживанием партий и выполнять логистику в качестве конкретных партий резервирования операций с WMS для заказов на продажу клиентов, даже если иерархия резервирования, связанная с продуктами, запрещает резервирование конкретных партий.
author: perlynne
manager: tfehr
ms.date: 07/31/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSReservationHierarchy, WHSWorkTrans, WHSWorkInventTrans, WHSInventTableReservationHierarchy, WHSReservationHierarchyCreate, WHSInventTableReservationHierarchy
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2020-01-15
ms.dyn365.ops.version: 10.0.13
ms.openlocfilehash: bf50b0b8da2859caab4db2394f2d56f7b76793ca
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2021
ms.locfileid: "5004810"
---
# <a name="flexible-warehouse-level-dimension-reservation-policy"></a>Гибкая политика резервирования аналитик на уровне склада

[!include [banner](../includes/banner.md)]

Когда иерархия резервирования запасов типа "партия-ниже\[местоположение\]" связана с продуктами, компании, которые продают продукты с отслеживанием партий и выполняют свою логистику в качестве операций, включенных для системы управления складом Microsoft Dynamics 365 (WMS), не могут резервировать отдельные партии этих продуктов для заказов на продажу для клиентов.

Аналогичным образом, отдельные грузоместа не могут резервироваться для продуктов в заказах на продажу, когда эти продукты связаны с иерархией резервирования по умолчанию.

В этой теме описывается политика резервирования запасов, которая позволяет этим компаниям резервировать отдельные партии или грузоместа, даже если продукты связаны с иерархией резервирования "партия-ниже\[местоположение\]".

## <a name="inventory-reservation-hierarchy"></a>Иерархия резервирования запасов

В этом разделе содержится сводная информация о существующей иерархии резервирования запасов.

Иерархия резервирования запасов указывает, по мере отношения к аналитиками хранения, как заказ на спрос переносит обязательные аналитики сайта, склада и статус запасов, в то время как логика склада отвечает за назначение местоположения запрошенным количествам и резервирование местоположения. Другими словами, во взаимодействии между заказом спроса и складскими операциями должен быть заказ спроса, чтобы указать, откуда заказ должен быть отгружен (то есть, какой сайт и склад). Склад затем полагается на логику для поиска требуемого количества на локальном складе.

Однако, чтобы отразить операционную модель бизнеса, аналитики отслеживания (номера партии и серийные номера) должно обладать большей гибкостью. Иерархия резервирования запасов может соответствовать сценариям, в которых действуют следующие условия:

- Деловые операции основаны на складских операциях для управления комплектацией количеств, которые содержат партии или серийные номера после того, как количества найдены в складских пространствах хранения. Эта модель часто называется *партия-ниже\[местоположение\]*. Она обычно используется, когда идентификация партии или серийного номера продукта не важна для клиентов, которые размещают запрос для компании, осуществляющей продажу.
- Если партии или серийные номера являются частью спецификации заказа клиента и они записаны в заказе на спрос, складские операции, которые находят количества на складе, ограничиваются указанными запрошенными номерами и не могут изменять их. Эта модель часто называется *партия-выше\[местоположение\]*.

В этих сценариях задача состоит в том, чтобы только одна иерархия резервирования запасов была назначена одному выпущенному продукту. Таким образом, чтобы WMS обрабатывала отслеживаемые номенклатуры, после того, как назначение иерархии определяет, когда должны быть зарезервированы номер партии или серийный номер (когда используется заказ на спрос или в ходе комплектации по отгрузочной накладной), это время не может быть изменено специальным образом.

## <a name="flexible-reservation-for-batch-tracked-items"></a>Гибкое резервирование для номенклатур, отслеживаемых партиями

### <a name="business-scenario"></a>Бизнес-сценарий

В этом сценарии компания использует стратегию запасов, когда готовые товары отслеживаются по номерам партий. Эта компания также использует рабочую нагрузку WMS. Поскольку в этой рабочей нагрузке используется хорошо подготовленная логика для планирования и выполнения операций комплектации и отгрузки склада для номенклатур с поддержкой партий, большая часть готовых номенклатур связана с иерархией резервирования запасов склада "партия-ниже\[расположение\]". Преимуществом этого типа настройки операций является то, что решения (которые являются эффективными решениями резервирования) о том, какие партии необходимо скомплектовать, и где их поместить на склад, откладываются до начала операции комплектации склада. Они не выполняются при размещении заказа клиента.

Несмотря на то что иерархия резервирования "партия-ниже\[местоположение\]" хорошо подходит для бизнес-целей компании, многие из привычных клиентов компании требуют наличия той же партии, которую они ранее купили, при повторном заказе. Таким образом, компания ищет гибкость в способе обработки правил резервирования партии, чтобы в зависимости от запроса клиента на одну и ту же номенклатуру, выполняются следующие варианты:

- Номер партии может записываться и резервироваться, когда заказ извлекается с помощью обработчика продаж, и его нельзя изменить во время складских операций и/или передать к другой запрос. Это позволяет гарантировать отгрузку заказанного номера партии клиенту.
- Если номер партии неважен для клиента, складские операции могут определить номер партии во время комплектации, после того как регистрация и резервирование заказа на продажу выполнены.

### <a name="allowing-reservation-of-a-specific-batch-on-the-sales-order"></a>Разрешение резервирования определенной партии по заказу на продажу

Для обеспечения необходимой гибкости в поведении резервирования партий номенклатур, связанных с иерархией резервирования запасов "партия-ниже\[местоположение\]", менеджеры по складу должны установить флажок **Разрешить резервирование заказа по заказу на спрос** для уровня **Номер партии** на странице **Иерархии резервирования запасов**.

![Обеспечение гибкости иерархии резервирования запасов](media/Flexible-inventory-reservation-hierarchy.png)

Когда выбран уровень **Номер партии** в иерархии, будут автоматически выбраны все аналитики выше этого уровня и до уровня **Местоположение**. (По умолчанию выбираются все аналитики выше уровня **Местоположение**.) Это поведение отражает логику, в которой все аналитики в диапазоне между номером партии и местоположением также автоматически резервируются после резервирования определенного номера партии в строке заказа.

> [!NOTE]
> Флажок **Разрешить резервирование заказа по заказу на спрос** применяется только для уровней иерархии резервирования, расположенных ниже аналитики местоположения склада.
>
> **Номер партии** и **Грузоместо** — это единственные уровни в иерархии, открытые для политики гибкого резервирования. Другими словами, невозможно установить флажок **Разрешить резервирование заказа по заказу на спрос** для уровня **Местоположение** или **Серийный номер**.
>
> Если иерархия резервирования включает аналитику серийного номера (которая должна быть ниже уровня **Номер партии**) и если для номера партии включено резервирование определенной партии, система будет продолжать обрабатывать резервирование серийных номеров и операции комплектации на основе правил, которые применяются к политике резервирования "серийный-ниже\[местоположение\]".

В любой момент можно разрешить резервирование для существующей иерархии резервирования "партия-ниже\[местоположение\]" в вашем развертывании. Это изменение не повлияет на резервирования и открытые складские работы, которые были созданы до того, как было внесено изменение. Однако флажок **Разрешить резервирование заказа по заказу на спрос** не может быть снят, если для одной или нескольких номенклатур, связанных с этой иерархией резервирования, существуют проводки по запасам с типом выпуска **Зарезервировано в заказанных**, **Физически зарезервировано** или **Заказно**.

> [!NOTE]
> Если существующая иерархия резервирования номенклатуры не разрешает спецификацию партии в заказе, ее можно переназначить в иерархию резервирования, которая поддерживает спецификацию партии при условии, что структура уровня иерархии одинакова в обеих иерархиях. Для выполнения повторного назначения используется функция **Изменить иерархию резервирований для номенклатур**. Это изменение может быть уместным, если необходимо защитить гибкое резервирование партии для подмножества номенклатур с отслеживанием партий, но разрешить для оставшейся части портфеля продуктов.

Независимо от того, установлен ли флажок **Разрешить резервирование заказа по заказу на спрос**, если не требуется зарезервировать конкретный номер партии для номенклатуры в строке заказа, будет применяться логика складских операций по умолчанию, которая является действительной для иерархии резервирования "партия-ниже\[местоположение\]".

### <a name="reserve-a-specific-batch-number-for-a-customer-order"></a>Резервирование конкретного номера партии для заказа клиента

После того, как иерархия резервирования запасов "партия-ниже\[местоположение\]" номенклатуры с отслеживаемой партией, настроена на разрешение резервирования конкретных номеров партий по заказам на продажу, обработчики заказов на продажу могут взять заказы клиентов для одной и той же номенклатуры одним из следующих способов, в зависимости от запроса клиента:

- **Ввод сведений о заказе без указания номера партии** — этот подход должен использоваться, когда спецификация партии продукта не имеет важности для клиента. Все существующие процессы, связанные с обработкой заказа этого типа, не изменятся в системе. При этом не требуются никаких дополнительных действий для части пользователей.
- **Ввод сведений о заказе и резервирование определенного номера партии** — этот подход должен использоваться, когда клиент запрашивает конкретную партию. Обычно клиенты запрашивают конкретную партию, когда они повторно заказывают ранее приобретенный продукт. Этот тип резервирования с учетом партии называется *резервированием с подтверждением по заказу*.

Следующий набор правил допустим, когда количества обработаны, а номер партии фиксируется в конкретном заказе:

- Чтобы разрешить резервирование определенного номера партии для номенклатуры в политике резервирования "партия-ниже\[местоположение\]", система должна зарезервировать все аналитики вплоть до местоположения. Этот диапазон обычно включает в себя аналитику грузоместа.
- Директивы местоположения не используются при создании операций комплектации для строки продаж, использующей резервирование с подтверждением по заказу.
- Во время обработки на складе работ для партий с подтверждением по заказу, ни пользователь, ни система не смогут изменить номер партии. (Эта обработка включает обработку исключений.)

В следующем примере показан сквозной поток.

## <a name="example-scenario-batch-number-allocation"></a>Пример сценария: распределение номера партии

Для этого примера необходимо установить демонстрационные данные, а также необходимо использовать компанию **USMF** с демонстрационными данными.

### <a name="set-up-an-inventory-reservation-hierarchy-to-allow-batch-specific-reservation"></a><a name="Example-batch-allocation"></a>Настройка иерархии резервирования запасов для разрешения резервирования с учетом партии

1. Перейдите **Управление складом** \> **Настройка** \> **Запасы \> Иерархия резервирования**.
2. Выберите **Создать**.
3. В поле **Имя** введите имя (например, **BatchFlex**).
4. В поле **Описание** введите описание (например, **партия-ниже, гибкая**).
5. В поле **Выбрано** выберите **Серийный номер** и **Владелец**, а затем нажмите кнопку со стрелкой влево, чтобы переместить их поле **Доступно**.
6. Нажмите **ОК**.
7. В строке уровня аналитики **Номер партии** установите флажок **Разрешить резервирование заказа по заказу на спрос**. Уровни **Грузоместо** и **Местонахождение** выбираются автоматически, и снять флажки для них нельзя.
8. Нажмите **Сохранить**.

### <a name="create-a-new-released-product"></a>Создание нового выпущенного продукта

1. Задайте три основных параметра данных продукта, используя следующие значения:

    - В поле **Группа аналитик хранения** выберите **Ware**.
    - В поле **Группа аналитик отслеживания** выберите **Batch-Phy**.
    - В форме **Иерархия резервирования** выберите **BatchFlex**.

2. Создайте два номера партии, например **B11** и **B22**.
3. Добавьте количество номенклатур в запасы в наличии с использованием следующих значений:

    | Склад | Номер пачки | Местоположение | Грузоместо | Количество |
    |-----------|--------------|----------|---------------|----------|
    | 24        | B11          | BULK-001 | Нет          | 10       |
    | 24        | B11          | FL-001   | LP11          | 10       |
    | 24        | B22          | FL-002   | LP22          | 10       |

### <a name="enter-sales-order-details"></a><a name="sales-order-details"></a>Ввод сведений о заказах на продажу

1. Перейдите в раздел **Продажи и маркетинг** \> **Заказы на продажу** \> **Все заказы на продажу**.
2. Выберите **Создать**.
3. В заголовке заказа на продажу в поле **Счет клиента** введите **US-003**.
4. Добавьте строку для новой номенклатуры и введите **10** в качестве количества. Убедитесь, что в поле **Склад** задано значение **24**.
5. На экспресс-вкладке **Строки заказа на продажу** выберите **Запасы**, а затем в группе **Поддержка** выберите **Резервирование партии**. На странице **Резервирование партии** отображается список партий, доступных для резервирования для данной строки заказа. В данном примере отображается количество **20** для номера партии **B11** и количество **10** для номера партии **B22**. Обратите внимание, что страница **Резервирование партии** не может быть доступна из строки, если номенклатура в этой строке связана с иерархией резервирования "партия-ниже\[местоположение\]", если только она не настроена для разрешения резервирования с учетом партии.

    > [!NOTE]
    > Чтобы зарезервировать конкретную партию для заказа на продажу, необходимо использовать страницу **Резервирование партии**.
    >
    > Если номер партии вводится непосредственно в строку заказа на продажу, система ведет себя так, как будто вы ввели конкретное значение для номенклатуры, в соответствии с политикой резервирования "партия-ниже\[местоположение\]". При сохранении строки вы получите предупреждающее сообщение. Если вы подтверждаете, что номер партии должен быть указан непосредственно в строке заказа, эта строка не будет обрабатываться обычной логикой управления складом.
    >
    > Если количество резервируется со страницы **Резервирование**, никакая специальная партия не будет зарезервирована, и выполнение складских операций для этой строки будет соответствовать правилам, которые применимы к политике резервирования "партия-ниже\[местоположение\]".

    Как правило, эта страница работает и взаимодействует так же, как с номенклатурами со связанной иерархией резервирования типа "партия-ниже\[местоположение\]". Однако применяются следующие исключения:

    - На экспресс-вкладке **Номера партий, связанные со строкой источника** показаны номера партий, зарезервированные для данной строки заказа. Значения партии в сетке будут отображаться в рамках цикла выполнения строки заказа, включая этапы обработки склада. Напротив, на экспресс-вкладке **Обзор** регулярное резервирование строки заказа (то есть резервирование, выполняемое для аналитик выше уровня **Местоположение**) отображается в сетке вплоть до момента создания складских работ. После этого рабочий объект занимает резервирование строки, и резервирование строки больше не отображается на странице. Экспресс-вкладка **Номера партий, связанные со строкой источника** гарантирует, что обработчик заказов на продажу сможет просматривать номера партий, которые были зафиксированы в заказе клиента в любой момент во время его жизненного цикла вплоть до выставления накладной.
    - В дополнение к резервированию определенной партии пользователь может вручную выбрать конкретное местоположение и грузоместо для партии вместо того, чтобы дать системе выбрать их автоматически. Эта возможность связана с разработкой механизма резервирования партий с подтверждением по заказу. Как уже было сказано, чтобы разрешить резервирование определенного номера партии для номенклатуры в политике резервирования "партия-ниже\[местоположение\]", система должна зарезервировать все аналитики вплоть до местоположения. Таким образом, работа склада будет выполнять те же аналитики хранения, которые были зарезервированы пользователями, работавшими с заказами, и она не всегда должна представлять удобное или даже возможное место хранения номенклатуры для операций комплектации. Если обработчики заказов знают об ограничениях склада, они могут захотеть вручную выбрать определенные местоположения и грузоместа при резервировании партии. В этом случае пользователь должен использовать функцию **Отобразить аналитики** в заголовке страницы и добавить в сетку местоположение и грузоместо на экспресс-вкладке **Обзор**.

6. На странице **Резервирование партии** выберите строку для партии **B11**, а затем выберите **Зарезервировать строку**. Не определена логика для назначения местоположений и грузомест во время автоматического резервирования. Количество можно ввести вручную в поле **Резервирование**. Обратите внимание, что на экспресс-вкладке **Номера партий, связанные со строкой источника** партия **B11** отображается как **Подтверждено**.

    ![Подтверждение определенного номера партии в строке заказа на продажу на странице резервирования партии](media/Batch-reservation-form-with-order-committed-reservation.png)

    > [!NOTE]
    > Резервирование количества по строке заказа на продажу может выполняться в нескольких партиях. Аналогично, резервирование одной и той же партии может быть выполнено по отношению к нескольким местоположениям и грузоместам (если для этих местоположений включены грузоместа).
    >
    > Резервирование определенной партии для количества, указанного в строке заказа на продажу, также может быть частичным. Например, общее количество единиц измерения 100 может быть зарезервировано таким образом, чтобы конкретная партия составила 20 единиц, в то время как единицы измерения 80 зарезервированы на уровне сайта и склада для любой доступной партии. В этом случае WMS будет обрабатывать операции комплектации, используя две отдельные строки работы.

7. Щелкните **Управление сведениями о продукте** \> **Продукты** \> **Выпущенные продукты**. Выберите номенклатуру, а затем выберите **Управление складскими запасами** \> **Вид** \> **Проводки**.

    ![Резервирование с повреждением по заказу в качестве типа складской проводки](media/Inventory-transactions-for-order-committed-reservation.png)

8. Просмотрите складские проводки по номенклатуре, которые связаны с резервированием строки заказа на продажу.

    - Проводка, в которой поле **Ссылка** задано как **Заказ на продажу**, а поле **Выдача** имеет значение **Физически зарезервировано**, представляет резервирование строки заказа для складских аналитик выше уровня **Местоположение**. В соответствии с иерархией резервирования запасов по номенклатуре эти аналитики являются сайтом, складом и статусом запасов.
    - Проводка, в которой поле **Ссылка** задано как **Резервирование с повреждением по заказу**, а поле **Выдача** имеет значение **Физически зарезервировано**, представляет резервирование строки заказа для конкретной партии и всех складских аналитик выше ее уровня. В соответствии с иерархией резервирования запасов по номенклатуре эти аналитики являются номером партии и местоположением. В этом примере местоположение — **Bulk-001**.

9. В заголовке заказа на продажу выберите **Склад** \> **Действия** \> **Запуск на склад**. Строка заказа теперь исключена и будут созданы загрузка и работа.

### <a name="review-and-process-warehouse-work-that-has-order-committed-batch-numbers"></a>Просмотрите и обработайте складские работы, для которых есть номера партий с подтверждением по заказу

1. На экспресс-вкладке **Строки заказа на продажу** выберите **Склад** \> **Сведения о работе**.

    Работа, обрабатывающая операцию комплектации для количеств партий, которые подтверждены в строке заказа на продажу, имеет следующие характеристики:

    - Для создания работы система использует шаблоны работы, но не директивы местоположения. Все стандартные настройки, определенные для шаблонов работы, такие как максимальное число строк комплектации или определенная единица измерения, будут применяться для определения времени, когда создать новую работу. Однако правила, связанные с директивами местоположения для местоположений комплектации, не рассматриваются, так как резервирование по заказу уже содержит все складские аналитики. Эти складские аналитики включают аналитики на уровне складского хранилища. Таким образом, работа наследует эти аналитики без необходимости обращаться к директивам местоположения.
    - Номер партии не отображается в строке комплектации (как в случае для строки работы, созданной для номенклатуры, которая связана с иерархией резервирования "партия-ниже\[местоположение\]"). Вместо этого номер партии "с номера партии" и все остальные аналитики хранения отображаются в складской проводке проводки по строкам работы, на которую имеется ссылка из соответствующих складских проводок.

        ![Складская проводка склада для работы, созданная на основе реферирования с подтвержденным заказом](media/Work-inventory-transactions-for-order-committed-reservation.png)

    - После создания работы складская проводка номенклатуры, в которой поле **Ссылка** задано как **Резервирование с повреждением по заказу** удаляется. Складская проводка, в которой поле **Ссылка** настроено как **Работа**, теперь содержит физическое резервирование для всех складских аналитик данного количества.

        Складские операции могут продолжать обработку выполнения работы обычным способом. Однако инструкции на мобильном устройстве будут давать указание сотруднику на комплектацию определенного номера партии. В складских средах, где местоположения являются контролируемыми по грузоместу, после того как сотрудник достигнет места, в котором одна и та же партия хранится в нескольких грузоместах, он может скомплектовать из любого грузоместа, которое еще не было зарезервирована (например, другим резервированием с подтверждением по заказу или работой, созданной на основе резервирования этого типа).

        Если кажется непрактичным комплектовать из местоположения, указанного в строке работы, операторы склада могут использовать одно из следующих действий для перенаправления комплектации определенной партии из более удобного местоположения:

        - Стандартное действие **Переопределение местонахождения** на мобильном устройстве (при условии, что для работника склада разрешена настройка **Разрешить переопределение местонахождения отгрузки**)
        - Действие **Изменить местонахождение** на странице **Сведения о списке работ**. 

2. На мобильном устройстве завершите комплектацию и поместите работу.

    Количество **10** для номера партии **B11** теперь скомплектовано для строки заказа на продажу и помещено местоположение **Baydoor**. На этом этапе оно готово к погрузке на грузовик и доставке по адресу клиента.

## <a name="flexible-license-plate-reservation"></a>Гибкое резервирование грузомест

### <a name="business-scenario"></a>Бизнес-сценарий

В этом сценарии в компании используются управление складом и обработка работы, а также планирование нагрузки на уровне отдельных палет/контейнеров вне Supply Chain Management до создания работы. Эти контейнеры представлены в складских аналитиках в виде грузомест. Таким образом, при таком подходе только определенные грузоместа должны быть предварительно назначены строкам заказа на продажу перед выполнением операции комплектации. Компании нужна гибкость в способе обработки правил резервирования грузомест, поэтому происходит следующее:

- Грузоместо может записываться и резервироваться, когда заказ извлекается с помощью обработчика продаж, и его нельзя изменить другими запросами. Это позволяет гарантировать отгрузку запланированного грузоместа клиенту.
- Если грузоместо не было назначена для строки заказа на продажу, персонал склада может выбрать грузоместо в процессе комплектации, после того как регистрация и резервирование заказа на продажу завершены.

### <a name="turn-on-flexible-license-plate-reservation"></a>Включение гибкого резервирования грузомест

Прежде чем использовать гибкое резервирование грузомест, должны быть включены две функции в системе. Администраторы могут использовать параметры [управления компонентами](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса этих функций и их включения, если это требуется. Необходимо включить функции в следующем порядке:

1. **Название функции:** *Гибкое резервирование аналитик на уровне склада*
1. **Название функции:** *Гибкое резервирование грузоместа с подтверждением по заказу*

### <a name="reserve-a-specific-license-plate-on-the-sales-order"></a>Резервирование конкретного грузоместа для заказа на продажу

Чтобы включить резервирование грузоместа для заказа, необходимо установить флажок **Разрешить резервирование заказа по заказу на спрос** на уровне **Грузоместо** на странице **Иерархии резервирования запасов**, связанной с соответствующей номенклатурой.

![Страница иерархии резервирования запасов для иерархии гибкого резервирования грузомест](media/Flexible-LP-reservation-hierarchy.png)

В любой момент развертывания можно включить резервирование грузомест для данного заказа. Это изменение не повлияет на резервирования и открытые складские работы, которые были созданы до того, как было внесено изменение. Однако флажок **Разрешить резервирование заказа по заказу на спрос** не может быть снят, если для одной или нескольких номенклатур, связанных с этой иерархией резервирования, существуют открытые исходящие проводки по запасам с типом выпуска *В заказе*, *Зарезервировано в заказанных*, *Физически зарезервировано*.

Даже если установлен флажок **Разрешить резервирование заказа по заказу на спрос** для уровня **Грузоместо**, все равно *невозможно* зарезервировать конкретное грузоместо для данного заказа. В этом случае применяется логика складской операции по умолчанию, которая является действительной для иерархии резервирования.

Чтобы зарезервировать конкретное грузоместо, следует использовать процесс [Open Data Protocol (OData)](../../fin-ops-core/dev-itpro/data-entities/odata.md). В приложении можно выполнить это резервирование непосредственно из заказа на продажу, используя параметр **Резервирования с подтверждением по заказу для грузоместа** в команде **Открыть в Excel**. В данных сущности, открываемых в надстройке Excel, необходимо ввести следующие данные, связанные с резервированием, а затем выбрать команду **Опубликовать**, чтобы отправить данные обратно в Supply Chain Management:

- Ссылка (Поддерживается только значение *Заказ на продажу*.)
- Номер заказа (значение может быть получено из лота.)
- Номер лота
- Грузоместо
- Количество

Если необходимо зарезервировать конкретное грузоместо для номенклатуры, отслеживаемой партиями, используйте страницу **Резервирование партии**, как описано в разделе [Ввод сведений о заказах на продажу](#sales-order-details).

Если строка заказа на продажу, использующая резервирование грузоместа с подтверждением по заказу, обрабатывается складской операцией, директивы местоположения не используются.

Если рабочий элемент склада состоит из строк, которые равны полной палете и зафиксированным количествам по грузоместу, можно оптимизировать процесс комплектации с помощью пункта меню мобильного устройства, в котором для параметра **Обрабатывать по грузоместу** задано значение *Да*. Работник склада может затем проверить грузоместо, чтобы выполнить комплектацию вместо того, чтобы отсканировать номенклатуры по одной.

![Пункт меню мобильного устройства, где параметр "Обрабатывать по грузоместу" имеет значение "Да"](media/Handle-by-LP-menu-item.png)

Так как функция **Обрабатывать по грузоместу** не поддерживается работой, охватывающей несколько палет, лучше использовать отдельный рабочий элемент для разных грузомест. Чтобы использовать такой подход, добавьте поле **Код грузоместа с подтверждением по заказу** как разрыв заголовка работы на странице **Шаблон работы**.

> [!NOTE]
> Для процесса создания работ с подтверждением по заказу значение "аналитика запасов с подтверждением по заказу" будет назначено строкам работы комплектации, и будет невозможно непосредственно просмотреть значение грузоместа. Только процесс *Под управлением пользователя* поддерживается при настройке пункта меню мобильного устройства.

## <a name="example-scenario-set-up-and-process-an-order-committed-license-plate-reservation"></a>Пример сценария: Настройка и обработка резервирования грузоместа с подтверждением по заказу

В этом сценарии показаны настройка и обработка резервирования грузоместа с подтверждением по заказу.

### <a name="make-demo-data-available"></a>Сделать демонстрационные данные доступными

Этот сценарий ссылается на значения и записи, включенные в стандартные демонстрационные данные, предоставляемые в Supply Chain Management. Для работы с этим сценарием с помощью значений, представленных здесь, следует работать со средой, в которой установлены стандартные демонстрационные данные. Дополнительно перед началом необходимо выбрать юридическое лицо **USMF**.

### <a name="create-an-inventory-reservation-hierarchy-that-allows-for-license-plate-reservation"></a>Создание иерархии резервирования запасов, позволяющей выполнять резервирование грузомест

1. Перейдите **Управление складом \> Настройка \> Запасы \> Иерархия резервирования**.
1. Выберите **Создать**.
1. В поле **Имя** введите значение (например, *FlexibleLP*).
1. В поле **Описание** введите значение (например, *Гибкое резервирование грузомест*).
1. В списке **Выбранное** выберите **Номер партии**, **Серийный номер** и **Владелец**.
1. Выберите кнопку **Удалить** ![Стрелка назад](media/backward-button.png), чтобы переместить выбранные записи в список **Доступно**.
1. Нажмите **ОК**.
1. В строке уровня аналитики **Грузоместо** установите флажок **Разрешить резервирование заказа по заказу на спрос**. Уровень **Грузоместо** выбирается автоматически, и снять флажок для него нельзя.
1. Нажмите **Сохранить**.

### <a name="create-two-released-products"></a>Создание двух выпущенных продуктов

1. Выберите **Управление сведениями о продукте \> Продукты \> Выпущенные продукты**.
1. В области действий выберите **Создать**.
1. В диалоговом окне **Новый запущенный в производство продукт** задайте следующие значения:

    - **Номер продукта:** *Item1*
    - **Код номенклатуры:** *Item1*
    - **Группа номенклатурных моделей:** *FIFO*
    - **Номенклатурная группа:** *Аудио*
    - **Группа аналитик хранения:** *Товары*
    - **Группа аналитик отслеживания:** *Нет*
    - **Иерархия резервирования:** *FlexibleLP*

1. Выберите **ОК**, чтобы создать продукт и закрыть диалоговое окно.
1. Открывается новый продукт. На экспресс-вкладке **Склад** в поле **Код группы упорядочения единиц** введите *шт.*
1. Повторите предыдущие шаги, чтобы создать второй продукт с одинаковыми настройками, но установите для полей **Номер продукта** и **Код номенклатуры** значение *Item2*.
1. На панели действий на вкладке **Управление складскими запасами** в группе **Вид** выберите **Запасы в наличии**. Затем выберите **Корректировка количества**.
1. Скорректируйте запасы в наличии для новых номенклатур, как указано в следующей таблице.

    | Элемент  | Склад | Местоположение | Грузоместо | Количество |
    |-------|-----------|----------|---------------|----------|
    | Item1 | 24        | FL-010   | LP01          | 10       |
    | Item1 | 24        | FL-011   | LP02          | 10       |
    | Item2 | 24        | FL-010   | LP01          | 5        |
    | Item2 | 24        | FL-011   | LP02          | 5        |

    > [!NOTE]
    > Необходимо создать два грузоместа и использовать местоположения, допускающие использование смешанных элементов, например *FL-010* и *FL-011*.

### <a name="create-a-sales-order-and-reserve-a-specific-license-plate"></a>Создание заказа на продажу и резервирование конкретного грузоместа

1. Перейдите в раздел **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу**.
1. Выберите **Создать**.
1. В диалоговом окне **Создание заказа на продажу** установите следующие значения:

    - **Счет клиента:** *US-001*
    - **Склад:** *24*

1. Выберите **ОК**, чтобы закрыть диалоговое окно **Создание заказа на продажу** и открыть новый заказ на продажу.
1. На экспресс-вкладке **Строки заказа на продажу** добавьте строку со следующими параметрами:

    - **Код номенклатуры:** *Item1*
    - **Количество:** *10*

1. Добавьте вторую строку заказа на продажу со следующими параметрами:

    - **Код номенклатуры:** *Item2*
    - **Количество:** *5*

1. Нажмите **Сохранить**.
1. На экспресс-вкладке **Сведения по строке** на вкладке **Настройка** запишите значение **Номер лота** для каждой строки. Эти значения потребуется при резервировании определённых грузомест.

    > [!NOTE]
    > Чтобы зарезервировать конкретное грузоместо, необходимо использовать сущность данных **Резервирования с подтверждением по заказу для грузоместа**. Чтобы зарезервировать конкретное грузоместо для номенклатуры, отслеживаемой партиями, используйте страницу **Резервирование партии**, как описано в разделе [Ввод сведений о заказах на продажу](#sales-order-details).
    >
    > Если вы вводите грузоместо непосредственно в строке заказа на продажу и подтверждаете в системе, обработка управления складом для данной строки использоваться не будет.

1. Выберите **Открыть в Microsoft Office**, выберите **Резервирования с подтверждением по заказу для грузоместа** и загрузите файл.
1. Откройте загруженный файл в Excel и выберите **Разрешить редактирование**, чтобы разрешить запуск надстройки Excel.
1. Если вы используете надстройку Excel в первый раз, выберите **Доверять этой надстройке**.
1. Если появится запрос на вход, выберите **Войти** и войдите в систему, используя те же учетные данные, которые используются для входа в Supply Chain Management.
1. Чтобы зарезервировать номенклатуру для конкретного грузоместа, в надстройке Excel выберите **Создать**, чтобы добавить строку резервирования, а затем установите следующие значения:

    - **Номер лота:** введите значение **Номера лота**, найденное для строки заказа на продажу для *Item1*.
    - **Грузоместо:** *LP02*
    - **ReservedInventoryQuantity:** *10*

1. Выберите **Создать**, чтобы добавить еще одну строку резервирования, и установите следующие значения:

    - **Номер лота:** введите значение **Номера лота**, найденное для строки заказа на продажу для *Item2*.
    - **Грузоместо:** *LP02*
    - **ReservedInventoryQuantity:** *5*

1. В надстройке Excel выберите **Опубликовать**, чтобы отправить данные обратно в Supply Chain Management.

    > [!NOTE]
    > Строка резервирования будет отображаться в системе только в том случае, если публикация завершена без ошибок.

1. Вернитесь в Supply Chain Management. 
1. Чтобы просмотреть резервирование номенклатуры, на экспресс-вкладке **Строки заказа на продажу** в меню **Запасы** выберите **Поддержка \> Резервирование**. Обратите внимание, что для строки заказа на продажу для элемента *Item1* запасы *10* резервируется, и для строки заказа на продажу для *Item2* резервируется запас *5*.
1. Чтобы просмотреть складские проводки, которые относятся к резервированию строки заказа на продажу, на экспресс-вкладке **Строки заказа на продажу** в меню **Запасы** выберите **Вид \> Проводки**. Обратите внимание, что существуют две проводки, которые связаны с резервированием: одна, где поле **Ссылка** имеет значение *Заказ на продажу*, а другая, где поле **Ссылка** имеет значение *Резервирование с подтверждением по заказу*.

    > [!NOTE]
    > Проводка, в которой поле **Ссылка** задано как *Заказ на продажу*, представляет резервирование строки заказа для складских аналитик выше уровня **Местоположение** (сайт, склад и состояние запасов). Проводка, в которой поле **Ссылка** настроено на *Резервирование с подтверждением по заказу*, представляет резервирование строки заказа для конкретного грузоместа и местоположения.

1. Чтобы выпустить заказ на продажу на панели операций на вкладке **Склад** выберите группу **Действия**, выберите **Запуск на склад**.

### <a name="review-and-process-warehouse-work-with-order-committed-license-plates-assigned"></a>Просмотрите и обработайте складские работы с назначенными грузоместами с подтверждением по заказу

1. На экспресс-вкладке **Строки заказа на продажу** в меню **Склад** над сеткой выберите **Сведения о работе**.

    Как и при выполнении резервирования для конкретного пакета, система не использует директивы местоположения при создании работы для заказа на продажу, который использует резервирование грузомест. Поскольку резервирование с подтверждением по заказу определяет все складские аналитики, включая местоположение, директивы местоположения необязательно должны использоваться, так как эти складские аналитики только что были введены в работу. Они отображаются в разделе **Из складских аналитик** на странице **Проводки запасов работы**.

    > [!NOTE]
    > После создания работы складская проводка номенклатуры, в которой поле **Ссылка** задано как *Резервирование с повреждением по заказу* удаляется. Складская проводка, в которой поле **Ссылка** настроено как *Работа*, теперь содержит физическое резервирование для всех складских аналитик данного количества.

1. На мобильном устройстве завершите комплектацию и размещение работы, используя пункт меню, в котором установлен флажок **Обрабатывать по грузоместу**.

    > [!NOTE]
    > Функция **Обрабатывать по грузоместу** помогает обрабатывать все грузоместо. Если необходимо обработать часть грузоместа, эту функцию использовать нельзя.
    >
    > Рекомендуется использовать отдельную работу, созданную для каждого грузоместа. Для достижения этого результата используйте функцию **Разрывы заголовка работы** на странице **Шаблон работы**.

    Грузоместо *LP02* теперь скомплектовано для строк заказов на продажу и помещено в местоположение *Поднимающаяся дверь*. На этом этапе оно готово к погрузке и доставке клиенту.

## <a name="exception-handling-of-warehouse-work-that-has-order-committed-batch-numbers"></a>Обработка исключений складской работы, для которой есть номера партий с подтверждением по заказу

Складская работа для комплектации номеров партий с подтверждением по заказу подлежит той же стандартной обработке исключений склада и действий, что и обычная работа. В общем случае можно отменить открытую работу или строку работы, поскольку она может быть прервана из-за того, что местоположение пользователя заполнено, можно скомплектовать недостающее количество номенклатуры из нескольких мест и можно обновить из-за перемещения. Аналогично, скомплектованное количество работы, которое уже было завершено, может быть уменьшено, или работа может быть отменена.

Следующее ключевое правило применяется ко всем этим действиям по обработке исключений: номер партии, зарезервированный для клиента, никогда не может быть заменен на другой номер партии, но его аналитики хранения (местоположение и грузоместо) можно изменить с помощью обновления вручную пользователем или автоматического обновления системой. Автоматическое обновление основано на том же случайном назначении аналитик хранения, которое применяется, когда конкретная партия была автоматически зарезервирована, но аналитики хранения не были указаны.

### <a name="example-scenario"></a>Пример сценария

Примером такого сценария является ситуация, когда ранее завершенная работа разукомплектована с помощью функции **Уменьшить скомплектованное количество**. В этом примере предполагается, что уже выполнены все шаги, описанные в [Пример сценария: распределение номера партии](#Example-batch-allocation). Работа продолжается из этого примера.

1. Выберите **Управление складом** \> **Загрузки** \> **Активные загрузки**.
2. Выбор загрузки, которая была создана в связи с отгрузкой заказа на продажу.
3. На экспресс-вкладке **Строки заказа на загрузку** выберите **Уменьшить скомплектованное количество**.
4. На странице **Уменьшить скомплектованное количество** в поле **Переместить в местоположение** выберите **FL-001**.
5. В поле **Перейти к грузоместу** выберите **LP33**.
6. В сетке в поле количество **Количество запасов для разукомплектования** введите **10**.
7. Нажмите **ОК**.

Результаты действия по разукомплектованию:

- Статус ранее закрытой работы устанавливается как **Отменено**.
- Новая работа типа **Перемещение запасов** создается для разукомплектованного количества **10** для номера партии **B11**. Эта работа представляет собой перемещение из местоположения **Baydoor** в грузоместо **LP33** в местоположении **FL-001**. Статус задается как **Закрыто**.
- Система повторно резервирует номер партии, который был изначально заказан, и назначает коды местоположения и грузоместа. (Этот процесс аналогичен выполнению функции **Резервировать строку** для строки заказа для указанного номера партии). В результате партия **B11** отображается как подтвержденная на экспресс-вкладке **Номера партий, связанные со строкой источника** на странице **Резервирование партии**, а поле **Резервирование** содержит количество **10** для номера партии **B11**. Кроме того, в поле **Местонахождение** указано значение **FL-001**, а в поле **Грузоместо** — значение **LP11**. (Если эти поля не видны, их можно добавить в сетку.)

В следующих таблицах представлен обзор, показывающий, как система обрабатывает резервирование с подтверждением по заказу для определенных складских действий. Чтобы интерпретировать содержание в таблицах, предположим, что каждое действие склада выполняется в контексте существующего складской работы, которая происходит из резервирования партии с подтверждением по заказу, или что выполнение каждого складского действия оказывает влияние на работу этого типа.

> [!NOTE]
> В этих таблицах в столбце "Доступное количество партий" указывается, доступно ли количество партии в дополнение к количеству, которое уже зарезервировано для текущего резервирования с подтверждением по заказу или уже зарезервировано для складской работы, которая создается из резервирований данного типа.

#### <a name="override-the-pick-location-on-the-open-work"></a>Переопределение местоположения комплектации для открытой работы

<table>
<thead>
<tr>
<th>Параметр настройки ключа</th>
<th>Доступное количество партий</th>
<th>Основные шаги пользователя</th>
<th>Работа склада</th>
<th>Резервирование партии с подтверждением по заказу</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan='2'>Параметр <strong>Разрешить переопределение местонахождения отгрузки</strong> включается для сотрудника.</td>
<td>Да</td>
<td>
<ol>
<li>Выберите пункт меню <strong>Переопределение местонахождения</strong> в приложении склада, когда начинаете работу комплектации.</li>
<li>Выберите <strong>Предложить</strong>.</li>
<li>Подтвердите предлагаемое новое местоположение на основе доступного количества в партии.</li>
</ol>
</td>
<td>В текущей работе произойдут следующие действия:
<ul>
<li>Местоположение в строке комплектации обновляется на новое местоположение. (Если местоположение контролируется грузоместом, для складской проводки работы назначается произвольное грузоместо и работник может выбрать любое грузоместо с доступным количеством.)</li>
<li>Если количество найдено в нескольких грузоместах в новом местоположении, первоначальная строка комплектации разделяется на несколько строк, чтобы соответствовать каждому из грузомест.</li>
</ul>
</td>
<td>Неприменимо</td>
</tr>
<tr>
<td>Нет</td>
<td>
<ol>
<li>Выберите пункт меню <strong>Переопределение местонахождения</strong> в приложении склада, когда начинаете работу комплектации.</li>
<li>Введите местоположение вручную.</li>
</ol>
</td>
<td>Действие <strong>Переопределение местонахождения</strong> невозможно. Произойдет сбой, и будет выдано сообщение об ошибке.</td>
<td>Неприменимо</td>
</tr>
</tbody>
</table>

#### <a name="full-button--split-a-work-line-because-of-overflow-on-the-user-location"></a>Полная кнопка — разбиение строки работы из-за переполнения в местоположении пользователя

<table>
<thead>
<tr>
<th>Параметр настройки ключа</th>
<th>Доступное количество партий</th>
<th>Основные шаги пользователя</th>
<th>Работа склада</th>
<th>Резервирование партии с подтверждением по заказу</th>
</tr>
</thead>
<tbody>
<tr>
<td>Параметр <strong>Разрешить разделение работы</strong> включен в пункте меню мобильного устройства.</td>
<td>Неприменимо</td>
<td>
<ol>
<li>Выберите пункт меню <strong>Полный</strong> в приложении склада, когда начинаете обработку работы комплектации.</li>
<li>В поле <strong>Скомплектовать количество</strong> введите частичное количество требуемой комплектации, чтобы указать полную мощность.</li>
</ol>
</td>
<td>
<ul>
<li>В текущей работе количество обновляется на остающееся количество, которое необходимо скомплектовать.</li>
<li>Новая работа для скомплектованного количества создается и закрывается.</li>
</ul></td>
<td>Неприменимо</td>
</tr>
</tbody>
</table>

#### <a name="reduce-the-picked-quantity-of-completed-work-from-a-load"></a>Уменьшение скомплектованного количества выполненной работы (с момента загрузки)

<table>
<thead>
<tr>
<th>Параметр настройки ключа</th>
<th>Доступное количество партий</th>
<th>Основные шаги пользователя</th>
<th>Работа склада</th>
<th>Резервирование партии с подтверждением по заказу</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan='2'>Неприменимо</td>
<td>Да</td>
<td>
<ol>
<li>Откройте страницу <strong>Уменьшить скомплектованное количество</strong> из строки загрузки.</li>
<li>Введите полное количество для разукомплектования.</li>
<li>Выберите "переместить в" местоположение/грузоместо.</li>
</ol>
</td>
<td>
<ul> 
<li>Работа, которая связана со строкой загрузки, отменяется.</li>
<li>Новая работа для перемещения запасов создается и закрывается.</li>
</ul>
</td>
<td>Количество повторно резервируется для той же партии. Система случайным образом назначает местоположение и грузоместо (если местоположение управляется по грузоместу), где количество доступно.</td>
</tr>
<tr>
<td>Нет</td>
<td>См. предыдущую строку.</td>
<td>См. предыдущую строку.</td>
<td>Количество повторно резервируется для той же партии и для одного и того же местоположения и грузоместа (если местоположение управляется по грузоместу), введенных во время разукомплектования.</td>
</tr>
</tbody>
</table>

#### <a name="move-an-item-within-a-warehouse"></a>Перемещение номенклатуры на складе

> [!NOTE]
> Это складское действие применимо только для перемещения типа **Процесс создания работы**, а не для перемещения по шаблону.

<table>
<thead>
<tr>
<th>Параметр настройки ключа</th>
<th>Доступное количество партий</th>
<th>Основные шаги пользователя</th>
<th>Работа склада</th>
<th>Резервирование партии с подтверждением по заказу</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan='2'>Параметр <strong>Разрешить перемещение запасов со связанной работой работника</strong> включен для работника.</td>
<td>Да</td>
<td>
<ol>
<li>Начните перемещение в приложении склада.</li>
<li>Введите местоположения "из" и "в".</li>
</ol></td>
<td>
<ul>
<li>Для всей существующей работе, на которую влияет перемещение, местоположение комплектации обновляется на новое местоположение — "в".</li>
<li>Новая работа для перемещения запасов создается и закрывается.</li>
</ul>
</td>
<td>Все существующие резервирования, затрагиваемые перемещением количества из данного местоположения, повторно резервируются для той же партии. Система случайным образом назначает местоположение и грузоместо (если местоположение управляется по грузоместу), где количество доступно.</td>
</tr>
<tr>
<td>Нет</td>
<td>См. предыдущую строку.</td>
<td>См. предыдущую строку.</td>
<td>Все существующие резервирования, затрагиваемые перемещением количества из данного местоположения, зарезервированы повторно для той же партии и для нового местоположения "в" и для грузоместа (если местоположение управляется по грузоместу).</td>
</tr>
</tbody>
</table>

#### <a name="reverse-the-picked-quantity-of-completed-work-from-a-load-or-a-wave"></a>Реверсирование скомплектованного количества выполненной работы (с момента загрузки или волны)

<table>
<thead>
<tr>
<th>Параметр настройки ключа</th>
<th>Доступное количество партий</th>
<th>Основные шаги пользователя</th>
<th>Работа склада</th>
<th>Резервирование партии с подтверждением по заказу</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan='6'>Неприменимо</td>
<td>Да</td>
<td>
<ol>
<li>Откройте страницу <strong>Изменить работу</strong>.</li>
<li>На странице запроса выберите параметр <strong>Оставить номенклатуры в текущем местонахождении</strong>.</li>
</ol>
</td>
<td>Вся работа, которая связана с загрузкой, отменяется.</td>
<td>Количество повторно резервируется для той же партии. Система случайным образом назначает местоположение и грузоместо (если местоположение управляется по грузоместу), где количество доступно.</td>
</tr>
<tr>
<td>Нет</td>
<td>См. предыдущую строку.</td>
<td>См. предыдущую строку.</td>
<td>Количество повторно резервируется для той же партии и для местоположения и грузоместа, когда количество было отправлено в реверсирование.</td>
</tr>
<tr>
<td>Да</td>
<td>
<ol>
<li>Откройте страницу <strong>Изменить работу</strong>.</li>
<li>На странице запроса выберите параметр <strong>Назначить номенклатуры этому местонахождению</strong>.</li>
</ol>
</td>
<td>
<ul>
<li>Текущая работа отменена.</li>
<li>Новая работа для перемещения запасов создается и закрывается.</li>
</ul>
</td>
<td>Количество повторно резервируется для той же партии. Система случайным образом назначает местоположение и грузоместо (если местоположение управляется по грузоместу), где количество доступно.</td>
</tr>
<tr>
<td>Нет</td>
<td>См. предыдущую строку.</td>
<td>См. предыдущую строку.</td>
<td>Количество повторно резервируется для той же партии и для местоположения и грузоместа, когда количество было назначено в реверсирование.</td>
</tr>
<tr>
<td>Да/Нет</td>
<td>
<ol>
<li>Откройте страницу <strong>Изменить работу</strong>.</li>
<li>На странице запроса выберите параметр <strong>Переместить номенклатуры в это местонахождение</strong>.</li>
</ol>
</td>
<td>Реверсирование не поддерживается.</td>
<td>Неприменимо</td>
</tr>
<tr>
<td>Да/Нет</td>
<td>
<ol>
<li>Откройте страницу <strong>Изменить работу</strong>.</li>
<li>На странице запроса выберите параметр <strong>Перемещать номенклатуры согласно директивам местонахождений</strong>.</li>
</ol>
</td>
<td>Реверсирование не поддерживается. </td>
<td>Неприменимо</td>
</tr>
</tbody>
</table>

#### <a name="short-pick-a-quantity--register-the-quantity-as-physically-not-found-at-the-locationlicense-plate-while-you-perform-picking-work"></a>Комплектация недостающего количества — регистрация количества, физически не найденного в местоположении/грузоместе при выполнении работы комплектации

<table>
<thead>
<tr>
<th>Параметр настройки ключа</th>
<th>Доступное количество партий</th>
<th>Основные шаги пользователя</th>
<th>Работа склада</th>
<th>Резервирование партии с подтверждением по заказу</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan='2'>Настраивается рабочее исключение для типа <strong>Комплектация недостающего количества</strong>, где <strong>Перераспределение номенклатур</strong> = <strong>Нет</strong>, <strong>Корректировка складских запасов</strong> = <strong>Да</strong> и <strong>Удалить резервирования</strong> = <strong>Нет</strong>.</td>
<td>Да</td>
<td>
<ol>
<li>Выберите пункт меню <strong>Недоукомплектованность</strong> в приложении склада, когда начинаете работу по комплектации.</li>
<li>В поле <strong>Скомплектовать количество</strong> введите <strong>0</strong> (ноль).</li>
<li>В поле <strong>Причина</strong> введите <strong>Без перераспределения</strong>.</li>
</ol>
</td>
<td>
<ul>
<li>Текущая работа закрывается, и скомплектованное количество равно 0 (нулю).</li>
<li>Для представления корректировки создается складская проводка с типом выдачи <strong>Инвентаризация</strong> и <strong>Продано</strong>.</li>
</ul>
</td>
<td>Количество повторно резервируется для той же партии. Система случайным образом назначает местоположение и грузоместо (если местоположение управляется по грузоместу), где количество доступно.</td>
</tr>
<tr>
<td>Нет</td>
<td>См. предыдущую строку.</td>
<td>
<ul>
<li>Действие недоукомплектованности завершилось с ошибкой; будет выдано сообщение об ошибке.</li>
<li>Текущая работа остается открытой.</li>
</ul>
</td>
<td>Неприменимо</td>
</tr>
<tr>
<td rowspan='2'>Настраивается рабочее исключение для типа <strong>Комплектация недостающего количества</strong>, где <strong>Перераспределение номенклатур</strong> = <strong>Нет</strong>, <strong>Корректировка складских запасов</strong> = <strong>Да</strong> и <strong>Удалить резервирования</strong> = <strong>Да</strong>.</td>
<td>Да</td>
<td>
<ol>
<li>Выберите пункт меню <strong>Недоукомплектованность</strong> в приложении склада, когда начинаете работу по комплектации.</li>
<li>В поле <strong>Скомплектовать количество</strong> введите <strong>0</strong> (ноль).</li>
<li>В поле <strong>Причина</strong> введите <strong>Без перераспределения</strong>.</li>
</ol>
</td>
<td>
<ul>
<li>Текущая работа закрывается, и скомплектованное количество равно 0 (нулю).</li>
<li>Для представления корректировки создается складская проводка с типом выдачи <strong>Инвентаризация</strong> и <strong>Продано</strong>.</li>
</ul>
</td>
<td>Все существующие резервирования, затрагиваемые корректировкой количества в местоположении недоукомплектованности, повторно резервируются для той же партии. Система случайным образом назначает местоположение и грузоместо (если местоположение управляется по грузоместу), где количество доступно.</td>
</tr>
<tr>
<td>Нет</td>
<td>См. предыдущую строку.</td>
<td>См. предыдущую строку.</td>
<td>Все существующие резервирования, затрагиваемые корректировкой количества в местоположении недоукомплектованности, удаляются.</td>
</tr>
<tr>
<td>Настраивается рабочее исключение для типа <strong>Комплектация недостающего количества</strong>, где <strong>Перераспределение номенклатур</strong> = <strong>Вручную</strong>, <strong>Корректировка складских запасов</strong> = <strong>Да</strong> и <strong>Удалить резервирования</strong> = <strong>Нет/Да</strong>. Кроме того, параметр <strong>Разрешить перераспределение номенклатур вручную</strong> включён вручную для сотрудника.</td>
<td>Да</td>
<td>
<ol>
<li>Выберите пункт меню <strong>Недоукомплектованность</strong> в приложении склада, когда начинаете работу по комплектации.</li>
<li>В поле <strong>Количество недоукомплектованности</strong> введите <strong>0</strong> (ноль).</li>
<li>В поле <strong>Причина</strong> выберите <strong>Недоукомплектованность с перераспределением вручную</strong>.</li>
<li>Выберите местонахождение/грузоместо в списке.</li>
</ol>
</td>
<td>
<ul>
<li>В текущей работе произойдут следующие действия:
<ul>
<li>Строка работы закрывается, и скомплектованное количество равно 0 (нулю).</li>
<li>Строка размещения отменена.</li>
<li>Создается новая строка комплектации. В ней используется местоположение/грузоместо, которые выбрал пользователь.</li>
<li>Создается новая строка размещения.</li>
</ul>
</li>
<li>Для представления корректировки создается складская проводка с типом выдачи <strong>Инвентаризация</strong> и <strong>Продано</strong>.</li>
</ul>
</td>
<td>Неприменимо</td>
</tr>
<tr>
<td>Настраивается рабочее исключение для типа <strong>Комплектация недостающего количества</strong>, где <strong>Перераспределение номенклатур</strong> = <strong>Вручную</strong>, <strong>Корректировка складских запасов</strong> = <strong>Да</strong> и <strong>Удалить резервирования</strong> = <strong>Нет</strong>. Кроме того, параметр <strong>Разрешить перераспределение номенклатур вручную</strong> включён вручную для сотрудника.</td>
<td>Нет</td>
<td>
<ol>
<li>Выберите пункт меню <strong>Недоукомплектованность</strong> в приложении склада, когда начинаете работу по комплектации.</li>
<li>В поле <strong>Количество недоукомплектованности</strong> введите <strong>0</strong> (ноль).</li>
<li>В поле <strong>Причина</strong> выберите <strong>Недоукомплектованность с перераспределением вручную</strong>.</li>
</ol>
</td>
<td>Действие недоукомплектованности завершилось с ошибкой; будет выдано сообщение об ошибке.</td>
<td>Неприменимо</td>
</tr>
<tr>
<td>Настраивается рабочее исключение для типа <strong>Комплектация недостающего количества</strong>, где <strong>Перераспределение номенклатур</strong> = <strong>Вручную</strong>, <strong>Корректировка складских запасов</strong> = <strong>Да</strong> и <strong>Удалить резервирования</strong> = <strong>Да</strong>. Кроме того, параметр <strong>Разрешить перераспределение номенклатур вручную</strong> включён вручную для сотрудника.</td>
<td>Нет</td>
<td>
<ol>
<li>Выберите пункт меню <strong>Недоукомплектованность</strong> в приложении склада, когда начинаете работу по комплектации.</li>
<li>В поле <strong>Количество недоукомплектованности</strong> введите <strong>0</strong> (ноль).</li>
<li>В поле <strong>Причина</strong> выберите <strong>Недоукомплектованность с перераспределением вручную</strong>.</li>
<li>Выберите местонахождение/грузоместо в списке.</li>
</ol>
</td>
<td>
<ul>
<li>В текущей работе произойдут следующие действия:
<ul>
<li>Строка работы закрывается, и скомплектованное количество равно 0 (нулю).</li>
<li>Строка размещения отменена.</li>
</ul>
</li>
<li>Для представления корректировки создается складская проводка с типом выдачи <strong>Инвентаризация</strong> и <strong>Продано</strong>.</li>
</ul>
</td>
<td>Все существующие резервирования, затрагиваемые корректировкой количества в местоположении/грузоместе недоукомплектованности, удаляются.</td>
</tr>
<tr>
<td>Настраивается рабочее исключение для типа <strong>Комплектация недостающего количества</strong>, где <strong>Перераспределение номенклатур</strong> = <strong>Автоматически</strong>, <strong>Корректировка складских запасов</strong> = <strong>Да/Нет</strong> и <strong>Удалить резервирования</strong> = <strong>Да/Нет</strong>.</td>
<td>Неприменимо</td>
<td>
<ol>
<li>Выберите пункт меню <strong>Недоукомплектованность</strong> в приложении склада, когда начинаете работу по комплектации.</li>
<li>В поле <strong>Количество недоукомплектованности</strong> введите <strong>0</strong> (ноль).</li>
<li>В поле <strong>Причина</strong> выберите <strong>Недоукомплектованность с автоматическим перераспределением</strong>.</li>
</ol>
</td>
<td>Недоукомплектованность, которая включает автоматическое перераспределение, не поддерживается.</td>
<td>Недоукомплектованность, которая включает автоматическое перераспределение, не поддерживается.</td>
</tr>
</tbody>
</table>

#### <a name="change-the-inventory-status"></a>Изменить статус запасов

> [!NOTE]
> Это складское действие может быть выполнено из нескольких точек входа. Показанный здесь пример использует действие **Изменение статуса запасов** на странице **В наличии по местонахождению**.

<table>
<thead>
<tr>
<th>Параметр настройки ключа</th>
<th>Доступное количество партий</th>
<th>Основные шаги пользователя</th>
<th>Работа склада</th>
<th>Резервирование партии с подтверждением по заказу</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan='2'>На вкладке <strong>Склад</strong> в записи <strong>Склад</strong> для поля <strong>Удалить резервирования и маркировки</strong> задано значение <strong>Резервирования</strong> или <strong>Маркировка и резервирования</strong>.</td>
<td>Да</td>
<td>
<ol>
<li>Выберите конкретное местонахождение.</li>
<li>Выберите строку, имеющую определенную номенклатуру, местоположение и грузоместо (если местоположение управляется по грузоместу).</li>
<li>Выберите <strong>Изменение статуса запасов</strong>.</li>
<li>Установите для поля <strong>Статус запасов</strong> значение <strong>Блокировка</strong>.</li>
</ol>
</td>
<td>Изменения статуса запасов не допускаются для количеств, зарезервированных для работы.</td>
<td>
<ul>
<li>Количество повторно резервируется для той же партии. Система случайным образом назначает местоположение и грузоместо (если местоположение управляется по грузоместу), где количество доступно.</li>
<li>Создаются две складские проводки типа <strong>Изменение статуса запасов</strong>, представляющие изменение в аналитике статуса запасов.</li>
<li>Создается складская проводка типа выдачи <strong>Блокировка запасов</strong> и <strong>Физически зарезервировано</strong>, которая представляет резервирование заблокированного количества.</li>
</ul>
</td>
</tr>
<tr>
<td>Нет</td>
<td>См. предыдущую строку.</td>
<td>Изменения статуса запасов не допускаются для количеств, зарезервированных для работы.</td>
<td>
<ul>
<li>Резервирование удаляется.</li>
<li>Создаются две складские проводки типа <strong>Изменение статуса запасов</strong>, представляющие изменение в аналитике статуса запасов.</li>
<li>Создается складская проводка типа выдачи <strong>Блокировка запасов</strong> и <strong>Физически зарезервировано</strong>, которая представляет резервирование заблокированного количества.</li>
</ul>
</td>
</tr>
<tr>
<td rowspan='2'>На вкладке <strong>Склад</strong> в записи <strong>Склад</strong> для поля <strong>Удалить резервирования и маркировки</strong> задано значение <strong>Нет</strong>.</td>
<td>Да</td>
<td>
<ol>
<li>Выберите конкретное местонахождение.</li>
<li>Выберите строку, имеющую определенную номенклатуру, местоположение и грузоместо (если местоположение управляется по грузоместу).</li>
<li>Выберите <strong>Изменение статуса запасов</strong>.</li>
<li>Установите для поля <strong>Статус запасов</strong> значение <strong>Блокировка</strong>.</li>
</ol>
</td>
<td>Изменения статуса запасов не допускаются для количеств, зарезервированных для работы.</td>
<td>Количество повторно резервируется для той же партии. Система случайным образом назначает местоположение и грузоместо (если местоположение управляется по грузоместу), где количество доступно.</td>
</tr>
<tr>
<td>Нет</td>
<td>См. предыдущую строку.</td>
<td>Изменения статуса запасов не допускаются для количеств, зарезервированных для работы.</td>
<td>Изменения статуса запасов не допускаются.</td>
</tr>
</tbody>
</table>

## <a name="limitations"></a>Ограничения

- Функциональные возможности резервирования аналитики уровня склада не поддерживает следующие функции:

    - Управление учетом в двух единицах измерения
    - Физический отрицательный запас
    - Резервирование по заказанной поставке
    - Заказы на перемещение и комплектация сырья

- Правило консолидации контейнера для комплектации по единице директивы имеет ограничения. Для резервирований с подтверждением по заказу не рекомендуется использовать шаблоны построения контейнеров, в которых включено поле **Упаковывать по единице директивы**. В текущей реализации директивы местоположения не используются при создании складских работ. Таким образом, на этапе волны контейнеров применяется только наименьшая единица в группе упорядочения единиц (единица измерения складского учета).
