---
title: Штрих-коды GS1
description: В этой теме описывается, как настроить штрих-коды GS1 и QR-коды, чтобы этикетки можно было просканировать на складе.
author: Mirzaab
ms.date: 03/21/2022
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-08-02
ms.dyn365.ops.version: 10.0.25
ms.openlocfilehash: ea928bc8a020035adb36ae2e7873c656e8c3985d
ms.sourcegitcommit: 1050e58e621d9a0454895ed07c286936f8c03320
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2022
ms.locfileid: "8625288"
---
# <a name="gs1-bar-codes"></a>Штрих-коды GS1

[!include [banner](../includes/banner.md)]

Работники складов часто должны выполнить несколько задач, когда они используют сканер мобильного устройства для регистрации передвижений номенклатуры, поддона или контейнера. Эти задачи могут включать как сканирование штрих-кода, так и ввод данных вручную на мобильном устройстве. Штрих-коды используют формат, определяемый компанией, и управление ими осуществляется с помощью Microsoft Dynamics 365 Supply Chain Management.

Штрих-коды GS1 для этикеток отгрузки разработаны, чтобы предоставить общий стандарт обмена данными между компаниями. Они доступны в линейных (1D) символах (форматы штрих-кодов), таких как GS1-128, и в двухмерных (2D) символах, таких как GS1 DataMatrix и QR-коды GS1. Штрих-коды GS1 не только кодируют данные, но и позволяют использовать готовый список *идентификаторов приложений* для определения смысла этих данных. Стандарт GS1 определяет формат данных и различные типы данных, которые могут быть использованы для кодирования. В отличие от более старых стандартов штрих-кодов, штрих-коды GS1 могут иметь несколько элементов данных. Таким образом, при сканировании одного штрих-кода могут быть записаны несколько типов сведений о продуктах, например, партия и дата окончания срока действия.

Поддержка GS1 в Supply Chain Management значительно упрощает процесс сканирования на складах, где метки и контейнеры помечаются с помощью штрих-кодов в формате GS1. Работники склада могут извлечь все необходимые сведения при однократном сканировании GS1 штрих-кода. Исключив необходимость выполнения нескольких проверок или ввода данных вручную, GS1 штрих-коды позволяют сократить время, связанное с задачами. В то же время они также помогают улучшить точность.

Менеджеры логистики должны настроить обязательный список идентификаторов приложений и связать каждый из них с соответствующими пунктами меню мобильных устройств. Коды приложений могут затем использоваться на складах в качестве глобальных настроек для целей перемещения и упаковки. Поэтому все этикетки отгрузки будут иметь унифицированную форму.

Если не указано иное, в этой теме используется термин *штрих-код*, который означает как линейные (1D) штрих-коды и двухмерные (2D) штрих-коды.

## <a name="the-gs1-bar-code-format"></a>Формат штрих-кода GS1

Общие спецификации GS1 определяют, какие символы могут использоваться для штрих-кодов GS1, и как кодировать данные в штрих-коде. В этом разделе представлено краткое введение в тему. Полные сведения см. в разделе [Общие спецификации GS1](https://www.gs1.org/docs/barcodes/GS1_General_Specifications.pdf), которые публикуются GS1. Документ спецификаций GS1 регулярно обновляется, и предоставляемая им информация содержит последние общие спецификации GS1 выпуска 22.0.

Штрих-коды GS1 используют следующие символы:

- **Линейные или одномерные (1D) штрих-коды** — GS1-128 и GS1 DataBar
- **Двумерные (2D) штрих-коды** — GS1 DataMatrix, QR-код GS1 и GS1 Dotcode

Обратите внимание, что существуют особые упоминания GS1 в GS1-128, что является особым случаем обычного линейного штрих-кода Code-128, GS1 DataMatrix и QR-кода GS1. Различие между версией GS1 и версией, отличной от GS1, заключается в наличии специального знака (FNC1) в качестве первого символа в данных штрих-кода. Наличие символа FNC1указывает на то, что данные в штрих-коде интерпретируются согласно спецификации GS1.

Данные в самом штрих-коде состоят из нескольких элементов данных, каждый из которых определяется кодом приложения в начале поля. Обычно данные также представляются под штрих-кодом в удобочитаемом формате, где идентификатор приложения отображается в скобках. Рассмотрим пример: `(01) 09521101530001 (17) 210119 (10) AB-123`. Этот штрих-код содержит три элемента:

- **Код приложения 01** — глобальный торговый код номенклатуры (GTIN) GS1 для номенклатуры.
- **Код приложения 17** — дата окончания срока действия.
- **Код приложения 10** — номер партии.

Для каждого элемента данные могут иметь либо заранее определенную, либо переменную длину. Имеется фиксированный список идентификаторов приложений, имеющих заранее определенные значения длины. Все другие идентификаторы приложений имеют переменную длину, и список идентификаторов приложений GS1 определяет максимальную длину и формат данных. Например, идентификатор приложения 01 имеет предварительно определенную длину 16 символов (два для самого идентификатора приложения, а затем 14 для GTIN), а идентификатор приложения 17 имеет предварительно определенную длину восьми символов (два для самого идентификатора приложения, а затем шесть для даты). Однако идентификатор приложения 10 имеет два числа для самого идентификатора приложения, а затем до 20 буквенно-цифровых символов.

Когда элементы помещены вместе, то если после элемента следует элемент переменной длины, должен использоваться символ разделителя. Этот разделитель может быть либо специальным символом FNC1, либо разделителем групп (непечатаемый символ с кодом ASCII 29 и шестнадцатеричным кодом 1D). Разделитель не должен использоваться после последнего элемента. Хотя разделитель также не должен использоваться после элементов, имеющих заранее определенную длину, его присутствие не является критической ошибкой.

В данных штрих-кода из предыдущего примера штрих-кода, который содержит идентификаторы приложения 01, 17 и 10, данные в символе Code-128, QR-коде или DataMatrix кодируются как `<FNC1>`**`01`**`09521101530001`**`17`**`210119`**`10`**`AB-123` (коды приложений отображаются полужирным шрифтом). Рекомендуется помещать все элементы, имеющие переменную длину, в конец, чтобы избежать необходимости использования дополнительного знака разделения групп. Однако штрих-код может также иметь различный порядок элементов, в котором разделитель является обязательным. Вот пример: `<FNC1>`**`01`**`09521101530001`**`10`**`AB-123<GS>`**`17`**`210119`.

### <a name="dates-and-decimal-numbers"></a>Даты и десятичные числа

Даты всегда представлены в формате *ГГММДД*, где столетие года определяется спецификациями GS1. Могут быть представлены только даты от 49 лет в прошлом до 50 лет в будущем (относительно текущего года).

Некоторые элементы данных содержат десятичные числа. Например, идентификаторы приложений 3100, 3101, ... 3105 представляют чистый вес в килограммах. Так как эти идентификаторы приложений имеют предварительно определенную длину 10, для количества доступно только шесть цифр. Позиция десятичного разделителя определяется последним числом идентификатора приложения. Таким образом, это семейство идентификаторов приложений также может быть представлено как *310n*. Так как стандарт GS1 указывает, что всегда должно быть хотя бы одно число слева от десятичного разделителя, допустимо не более пяти знаков после десятичного разделителя.

Ниже приводится несколько примеров, демонстрирующих интерпретацию числа *123456* по разным идентификаторам приложений (выделены полужирным шрифтом):

- **`3100`**`123456` &rarr; 123456 (целое число)
- **`3101`**`123456` &rarr; 12345,6 (один десятичный разряд)
- **`3102`**`123456` &rarr; 1234,56 (два десятичных разряда)
- **`3103`**`123456` &rarr; 123,456 (три десятичных разряда)
- **`3104`**`123456` &rarr; 12,3456 (четыре десятичных разряда)
- **`3105`**`123456` &rarr; 1,23456 (пять десятичных разрядов)

## <a name="scanning-gs1-bar-codes-in-supply-chain-management"></a>Сканирование штрих-кодов GS1 в Supply Chain Management

Для сканирования штрих-кодов GS1 сотрудники склада используют сканеры, встроенные в мобильное устройство или подключенные к нему. Затем сканер передает отсканированный штрих-код мобильному приложению Warehouse Management в виде последовательности событий клавиатуры. Этот режим работы также называется *электронный соединитель клавиатуры* или *электронный соединитель*. Затем мобильное приложение отправляет полученный текст как есть в Supply Chain Management. Когда система получает входные данные, сначала определяется, начинаются ли данные с одного из настроенных префиксов, которые показывают, что данные фактически являются штрих-кодами GS1 (см. раздел [Настройка глобальных параметров GS1](#set-gs1-options)). Если отсканированные данные начинаются с одного из этих префиксов, система использует анализатор GS1 для разбора данных и извлечения отдельных элементов данных в соответствии с их кодами приложения. После разбора данных текущее поле ввода данных или несколько полей заполняются отсканированными данными.

### <a name="configuration-of-bar-code-scanner-hardware-and-software"></a>Конфигурация оборудования и программного обеспечения сканера штрих-кода

Для того, чтобы приложение Supply Chain Management правильно распознавало и декодировало штрих-коды GS1, аппаратный сканер или поддерживающее программное обеспечение должно быть настроено на выполнение следующих действий:

- Добавление префикса к отсканированным штрих-кодам, чтобы система могла распознать штрих-код GS1.
- Преобразование непечатаемого знака разделителя групп ASCII (код ASCII 29 или шестнадцатеричный код 1D) в печатный символ, например тильда (~).

Хотя к отсканированному штрих-коду можно добавить любой префикс, одним из вариантов является добавление идентификатора символов ISO/IEC 15424, называемого также *идентификатором AIM*. Этот трехсимвольный идентификатор начинается с `]`, затем содержит один символ, идентифицирующий используемые символы, а затем число, используемое в качестве дополнительного модификатора. Например, идентификатор AIM `]C1` указывает штрих-код Code 128 (из-за символа `C`), а модификатор `1` указывает, что в первой позиции данных имеется символ FNC1. С другой стороны `]C0` это штрих-код Code 128 с любым другим знаком в качестве первого символа данных.

Следующие пять идентификаторов символов соответствуют штрих-кодам GS1, имеющим элементы идентификатора приложения:

- `]C1` — Код Code 128 (`C`) с символом FNC1 в первой позиции (`1`), также известный как GS1-128.
- `]e0` — GS1 DataBar.
- `]d2` — DataMatrix (`d`) с кодом коррекции ошибок ECC 200 и FNC1 в первой позиции (`2`), также известный как GS1 DataMatrix.
- `]Q3` — символ QR-кода (`Q`) модели 2 с FNC1 в первой позиции (`3`), также известный как QR-код GS1.
- `]J1` — GS1 DotCode.

При использовании этих кодов совместимость со штрих-кодами GS1 требует, чтобы сканеры или программное обеспечение сканирования были настроены на удаление всех идентификаторов, не соответствующих идентификаторам GS1. Например, при сканировании "обычного" штрих-кода Code 39 будет добавлен префикс `]A0`. Поскольку система не распознает этот префикс как один из префиксов GS1, она будет интерпретировать его как данные, что приведет к непредсказуемым результатам.

> [!NOTE]
> Для удобства мобильное приложение Warehouse Management версии 2.0.17.0 и новее будет удалять все префиксы AIM, не включенные в предыдущий список. Это поведение поддерживает случаи, в которых можно настроить сканер, чтобы добавить префикс AIM, но не удалять ненужные префиксы.

### <a name="single-and-multiple-field-scanning"></a>Сканирование одного и нескольких полей

После синтаксического анализа данных из штрих-кода они будут подаваться в элементы управления потоком мобильных устройств. Есть два метода, которые будут обработаны в свою очередь:

- **Сканирование одного поля** — этот метод заполняет только поле, в которое был отсканирован штрих-код. Например, при сканировании штрих-кода `<FNC1>`**`01`**`09521101530001`**`17`**`210119`**`10`**`AB-123`, когда курсор находится в поле **Номенклатура**, GTIN `09521101530001` из штрих-кода будет введен в это поле. При сканировании этого же штрих-кода, когда курсор находится в поле **Код партии**, номер партии `AB-123` из штрих-кода будет введен в это поле. Этот режим работает для всех полей во всех потоках и требует задания только универсальной настройки GS1. Если штрих-код содержит несколько элементов, его все равно необходимо отсканировать несколько раз, поскольку в поток мобильного устройства будет введен только один фрагмент штрих-кода. Это поведение управляется универсальной настройкой GS1, как описано в разделе [Создание универсальной настройки GS1](#generic-gs1-setup).
- **Сканирование нескольких полей** — этот метод заполняет несколько полей при сканировании одного штрих-кода, помещая дополнительные данные в состояние потока мобильного устройства. Например, политика настраивается на передачу идентификатора приложения 01 в элемент управления `ItemId` и идентификатора приложения 10 в поле `InventBatchId`. В этом случае, если сканируется штрих-код `<FNC1>`**`01`**`09521101530001`**`17`**`210119`**`10`**`AB-123`, данные для обеих переменных будут помещаться в одно и то же время. Таким образом, система не выводит запрос для номенклатуры и/или номера партии в потоке. Это поведение управляется политиками GS1, которые связаны с пунктами меню, как описано в разделе [Настройка политик GS1 для пунктов меню мобильного устройства](#policies-for-menus).

> [!WARNING]
> Политики GS1 по умолчанию были протестированы для работы без непредвиденных действий. Однако настройка политик GS1, связанных с пунктами меню, может привести к непредсказуемому поведению, так как поток может не ожидать, что некоторые данные будут доступны в определенный момент времени.

## <a name="turn-on-the-gs1-feature"></a>Включение функции GS1

Прежде чем использовать эту функцию, ее необходимо включить в системе. Администраторы могут использовать параметры [управления компонентами](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса функции и ее включения. В рабочей области **Управление функциями** эта функция перечисляется следующими способами:

- **Модуль:** *Управление складом*
- **Название функции:** *Сканирование штрих-кодов GS1*

### <a name="turn-on-the-enhanced-parser-for-gs1-barcodes-feature"></a>Включение расширенного синтаксического анализатора для функции штрих-кодов GS1

При использовании штрих-кодов GS1 рекомендуется также включить функцию *Расширенный синтаксический анализатор для штрихкодов GS1*. Эта функция обеспечивает улучшенную реализацию средства синтаксического анализа штрих-кода GS1. Добавлены следующие усовершенствования:

- Она соответствует алгоритму общих спецификаций GS1 для синтаксического анализа символьных данных и проверяет, что данные в символе действительны согласно спецификации.
- Она не требует настройки значения **Максимальная длина идентификатора** и использует сопоставление самого длинного префикса из настроенных идентификаторов приложений.
- Она позволяет упростить настройку десятичных идентификаторов приложения, используя букву *n*, чтобы установить соответствие любому числу. Например, можно настроить только один идентификатор приложения (*310n*) вместо отдельных идентификаторов приложений (*3101*, *3102*, *3103* и т. д.).
- Она устраняет проблему, в которой неверно закодированные данные интерпретируются как данные поля.
- Она используется в качестве отдельного класса, который может быть повторно использован в других контекстах, и позволяет использовать точку расширения для работы с отсканированными данными перед заполнением полей потока.

## <a name="set-up-global-gs1-options"></a><a name="set-gs1-options"></a>Настройка глобальных параметров GS1

Страница **Параметры управления складом** содержит несколько настроек для определения глобальных параметров GS1.

Чтобы настроить глобальные параметры GS1, сделайте следующее.

1. Перейдите в раздел **Управление складом \> Настройка \> Параметры управления складом**.
1. На экспресс-вкладке **Штрих-коды** задайте следующие поля:

    - **Символ FNC1**, **Символ Datamatrix** и **Символ QR-кода** — укажите символы, которые должны интерпретироваться как префикс для каждого типа штрих-кода GS1.
    - **Разделитель групп** — укажите символ, который заменит символ разделения групп ASCII.
    - **Максимальная длина идентификатора** — указывает максимальное количество символов, разрешенных для идентификатора приложения. Это поле не является обязательным, если в системе включена функция *Расширенный синтаксический анализатор для штрихкодов GS1*.

> [!NOTE]
> Префиксы сообщают системе, что штрих-код закодирован в соответствии со стандартом GS1. До трех префиксов (**символ FNC1**, **символ матрицы данных** и **символ QR-кода**) могут использоваться одновременно и для различных целей.

## <a name="gs1-application-identifiers"></a>Идентификаторы приложений GS1

Форматы GS1 не только кодируют данные, но и позволяют использовать готовый список идентификаторов приложений для определения смысла и значения данных. Менеджеры логистики должны настроить обязательный список идентификаторов приложений и связать каждый из них с соответствующими пунктами меню мобильных устройств. Идентификаторы могут затем использоваться на складах в качестве глобальных настроек для целей перемещения и упаковки. Поэтому все этикетки отгрузки будут иметь унифицированную форму.

Система использует данные, особенно предопределенные идентификаторы приложений, чтобы определить правила, которые должны быть применены к соответствующему фрагменту сканированной информации.

Каждый идентификатор приложения сообщает системе, что последующие символы отсканированного штрих-кода должны рассматриваться как блоки зашифрованных данных. Настройка идентификаторов приложений определяет, как система должна интерпретировать штрих-код и сохранять его в качестве значения в системе.

Руководители логистики могут использовать стандартные идентификаторы международных приложений и/или создавать свои собственные коды.

### <a name="load-the-standard-application-identifiers"></a>Загрузка кодов стандартных приложений

Чтобы быстро начать работу, можно загрузить список общих международных идентификаторов приложений. Впоследствии этот список можно будет расширить или отредактировать, как требуется.

Чтобы загрузить стандартные коды приложений, выполните следующие действия.

1. Перейдите **Управление складом \> Настройка \> GS1 \> Идентификаторы приложений GS1**.
1. В панели операций выберите **Создать настройку по умолчанию**.

> [!WARNING]
> Команда **Создать настройку по умолчанию** удаляет все определенные в данный момент идентификаторы приложений и заменяет их стандартным списком. Однако после загрузки настройки по умолчанию можно настроить список, как требуется.

### <a name="set-up-custom-application-identifiers"></a>Настройка пользовательских идентификаторов приложения

Если некоторые или все идентификаторы приложений, используемые компанией, отличаются от стандартного набора, можно создать собственные коды с нуля или настроить стандартный набор по мере необходимости.

Чтобы настроить собственные коды приложений GS1, выполните следующие действия.

1. Перейдите **Управление складом \> Настройка \> GS1 \> Идентификаторы приложений GS1**.
1. Выполните одно из следующих действий.

    - Чтобы создать новый идентификатор, на панели операций выберите **Создать**.
    - Чтобы изменить существующий идентификатор, выберите его, а затем на панели операций выберите **Правка**.

1. Задайте следующие поля для нового или выбранного идентификатора:

    - **Идентификатор приложения** — введите идентификационный код для идентификатора приложения. Обычно этот код — целое число из двух цифр, но он может быть длиннее. Для десятичных значений — последняя цифра, обозначающая число десятичных знаков. Для получения дополнительных сведений см. флажок **Десятичное число** далее в этом списке. Если включена функция *Расширенный синтаксический анализатор для штрихкодов GS1*, можно создать единый идентификатор приложения для всех вариантов десятичных знаков после запятой, используя букву *n* как и последний символ в идентификаторе приложения. Например, можно настроить только один идентификатор приложения (*310n*) вместо отдельного идентификатора приложения для каждого числа десятичных разрядов (*3101*, *3102*, *3103* и т. д.).
    - **Описание** — введите краткое описание идентификатора.
    - **Фиксированная длина** — установите этот флажок, если значения, которые проверяются с помощью этого идентификатора приложения, имеют фиксированное число символов. Снимите этот флажок, если длина значений является переменной. В этом случае следует указать конец значения, используя символ разделения группы, указанный на странице **Параметры управления складом**.
    - **Длина** — введите максимальное число символов, которые могут отображаться в проверяемых значениях с использованием этого идентификатора приложения. Если установлен флажок **Фиксированная длина**, то предполагается, что количество знаков в точности равно этому числу.
    - **Тип** — выберите тип проверяемого значения, используя этот код приложения (*числовой*, *буквенно-цифровой* или *Дата*). Для получения дополнительных сведений о том, как даты и числа представлены в данных штрих-кода, см. раздел [Даты и десятичные числа](#dates-and-decimal-numbers).
    - **Десятичное число** — этот флажок устанавливается, если значение содержит подразумеваемую десятичную точку. Если этот флажок установлен, система будет использовать последнюю цифру идентификатора приложения для определения количества десятичных знаков. Для получения дополнительных сведений о том, как даты и числа представлены в данных штрих-кода, см. раздел [Даты и десятичные числа](#dates-and-decimal-numbers).

> [!WARNING]
> Хотя система позволяет установить флажок **Фиксированная длина** для любого идентификатора приложения, он должен использоваться только для подмножества идентификаторов приложений, имеющих заранее определенную длину в общих спецификациях GS1. Расширенный синтаксический анализатор GS1 уже содержит список всех идентификаторов приложений, имеющих предварительно определенные значения длины.

> [!NOTE]
> Значение **Разделитель групп**, указанное на странице **Параметры управления складом**, является необязательным, если значение, за которым следует код приложения, имеет фиксированную длину.

## <a name="establish-the-generic-gs1-setup"></a><a name="generic-gs1-setup"></a>Настройка универсальных GS1

Настройка универсальных GS1 определяет коллекцию общих сопоставлений. Эти сопоставления соответствуют каждому соответствующему полю ввода в мобильном приложении для идентификатора приложения, которое управляет тем, как значения из отсканированных штрих-кодов должны быть интерпретированы и сохранены в этом поле. По умолчанию эти параметры применяются ко всем проверкам для всех элементов меню мобильного устройства. Однако они могут быть переписаны для одного или нескольких определенных полей с помощью политики GS1, назначенной конкретному пункту меню.

Настройка универсальных GS1 позволяет сканировать только одно значение за один раз. Таким образом, если требуется загрузить несколько значений полей из одного сканирования, необходимо настроить политику GS1для соответствующих пунктов меню.

Дополнительные сведения о политиках GS1 см. в следующем разделе.

### <a name="load-the-standard-generic-gs1-setup"></a>Загрузка стандартной настройки универсальных GS1

Страница **Настройка универсальных GS1** позволяет загрузить стандартный набор сопоставлений между полями мобильного устройства и стандартными кодами приложений, которые создаются при настройке по умолчанию.

Чтобы задать настройку универсальных GS1, перейдите в **Управление складом \> Настройка \> GS1 \> Настройка универсальных GS1**. Затем выберите **Создать настройку по умолчанию**, чтобы автоматически назначить подходящий идентификатор приложения для каждого поля, которое обычно используется элементами меню для мобильных устройств.

> [!WARNING]
> Если уже существует настройка универсальных GS1, команда **Создать настройку по умолчанию** полностью удаляет ее и загружает стандартную настройку.

### <a name="customize-the-standard-generic-gs1-setup"></a>Персонализация стандартной настройки универсальных GS1

Чтобы персонализировать настройку универсальных GS1, выполните следующие действия.

1. Перейдите **Управление складом \> Настройка \> GS1 \> Настройка универсальных GS1**.
1. Выполните одно из следующих действий.

    - Для создания нового сопоставления: на панели операций выберите **Создать**.
    - Чтобы изменить существующее сопоставление, выберите сопоставление, а затем на панели операций выберите **Правка**.

1. Задайте следующие поля для нового или выбранного сопоставления:

    - **Поле** — выберите или введите поле ввода мобильного приложения, которому должно быть назначено входящее значение. Это значение не является отображаемым именем, которое видят работники. Вместо этого — это имя ключа, которое назначено полю в основном коде. Настройка по умолчанию представляет собой коллекцию полей, которые, вероятно, будут полезны, и включает интуитивно понятные имена ключей для каждого поля и соответствующие программируемые функции. Однако, возможно, придется поговорить с партнерами по разработке, чтобы найти правильный выбор для вашей реализации.
    - **Идентификатор приложения** — выберите применимый идентификатор приложения, как определено на странице **Идентификаторы приложения GS1**. Идентификатор определяет, как штрих-код будет интерпретирован и сохранен как значение для именованного поля. После выбора идентификатора приложения в поле **Описание** отображается его описание.

## <a name="set-up-gs1-policies-to-be-to-mobile-device-menu-items"></a><a name="policies-for-menus"></a>Настройка политик GS1 для элементов меню мобильных устройств

Целью стандарта GS1 является разрешение сотрудникам загружать несколько значений при однократном сканировании одного штрих-кода. Для достижения этой цели менеджеры логистики должны настроить политики GS1, которые указывают системе, как интерпретировать штрих-коды с несколькими значениями. Позже политики можно назначить пунктам меню мобильного устройства для управления тем, как штрих-код будет интерпретироваться при сканировании сотрудниками, когда они используют конкретный пункт меню.

Если ни одна из политик GS1 не назначена пункту меню, система может получить только одно значение. Это значение применяется к вводу мобильного приложения, который выбирается, когда работник делает сканирование, как указано в настройке универсальных GS1. Если политика GS1 назначена пункту меню, система все равно использует настройку универсальных GS1, чтобы сопоставить первое значение штрих-кода выбранному полю. Однако она может получать дополнительные значения полей, как указано в применимой политике.

### <a name="load-the-standard-specific-gs1-policies"></a>Загрузка стандартных политик специальных GS1

Чтобы быстро приступить к работе, можно загрузить набор политик GS1. Впоследствии политики можно будет расширить или отредактировать, как требуется.

Чтобы загрузить стандартные коды приложений, выполните следующие действия.

1. Откройте **Управление складом \> Настройка \> GS1 \> Политика GS1**.
1. В панели операций выберите **Создать настройку по умолчанию**.

> [!WARNING]
> Команда **Создать настройку по умолчанию** удаляет все определенные в данный момент политики и заменяет их стандартным набором политик. Однако после загрузки настройки по умолчанию можно настроить политики, как требуется.

### <a name="set-up-custom-specific-gs1-policies"></a>Настройка пользовательских специальных политик GS1

> [!WARNING]
> Некоторые политики GS1 могут не работать с каждым используемым мобильным потоком. При настройке пользовательских политик GS1 необходимо протестировать поток мобильных устройств, используя различные фрагменты информации, которые сканируются в различных точках потока. Таким образом можно определить, будет ли поток вести себя так, как ожидается.

Чтобы настроить политики GS1, выполните следующие действия.

1. Откройте **Управление складом \> Настройка \> GS1 \> Политика GS1**.
1. Выполните одно из следующих действий.

    - Для создания новой политики: на панели операций выберите **Создать**.
    - Чтобы изменить существующую политику, выберите политику на панели списка.

1. В заголовке новой или выбранной политики задайте следующие поля:

    - **Имя политики** — введите имя политики.
    - **Описание** — введите краткое описание политики.

1. На экспресс-вкладке под заголовком сопоставьте имена полей с идентификаторами приложений, которые необходимы для текущей политики. Следующие кнопки на панели инструментов используются для добавления и удаления строк, как требуется. Для каждой строки заполните следующие поля:

    - **Поле** — выберите или введите поле ввода мобильного приложения, которому должно быть назначено входящее значение. Это значение не является отображаемым именем, которое видят работники. Вместо этого — это имя ключа, которое назначено полю в основном коде. Настройка по умолчанию представляет собой коллекцию полей, которые, вероятно, будут полезны, и включает интуитивно понятные имена ключей для каждого поля и соответствующие программируемые функции. Однако, возможно, придется поговорить с партнерами по разработке, чтобы найти правильный выбор для вашей реализации.
    - **Идентификатор приложения** — выберите применимый идентификатор приложения, как определено на странице **Идентификаторы приложения GS1**. Идентификатор определяет, как штрих-код будет интерпретирован и сохранен как значение для именованного поля. После выбора идентификатора приложения в поле **Описание** отображается его описание.
    - **Сортировка** — каждый штрих-код с несколькими значениями содержит ряд идентификаторов приложений, каждый из которых сопровождается значением. Применимая политика GS1 определяет, какой идентификатор приложения сопоставляется с каждым полем базы данных. Однако, если штрих-код использует один и тот же идентификатор приложения несколько раз, система использует порядок, в котором коды приложений отображаются в коде, чтобы сопоставить с полями. Для строк, использующих код приложения с одной или несколькими другими строками, следует использовать это поле для задания порядка обработки соответствующих строк. Сначала будет обработана строка с наименьшим значением сортировки.

> [!NOTE]
> Для штрих-кодов, содержащих более одного идентичного идентификатора приложения, *необходимо* использовать поле **Сортировка** для задания порядка полей.

## <a name="assign-gs1-policies-to-mobile-device-menu-items"></a>Назначение политик GS1 для элементов меню мобильных устройств

По умолчанию все элементы меню мобильного устройства содержат поля ввода, в которых работники могут сканировать одно значение в соответствии с настройкой универсальных GS1. Если требуется, чтобы работники могли сканировать несколько значений поля в одном сканировании любого пункта меню мобильного устройства, необходимо назначить политику GS1, выполнив следующие действия.

1. Перейдите в раздел **Управление складом \> Настройка \> Мобильное устройство \> Пункты меню мобильного устройства**.
1. Создание или открытие пункта меню.
1. На экспресс-вкладке **Общие** задайте в поле **Политика GS1** политику, которая применяется к пункту меню.

## <a name="gs1-setup-example"></a>Пример настройки GS1

Этот пример применяется к системе, в которой настройки параметров GS1 выполняются следующим образом:

- На странице **Параметры управления складом** устанавливаются следующие глобальные параметры:

    - **Символ FNC1:** *\]C1*
    - **Разделитель групп:** *\~*

- На странице **Идентификаторы приложений GS1** следующие идентификаторы приложений относятся к этому примеру.

    | Идентификатор приложения | описание | Фиксированная длина | Длина | Вид | Десятичное |
    |---|---|---|---|---|---|
    | 01 | Код GTIN | Выбрано | 14 | Числовое значение | Проверено |
    | 10 | Номер пачки | Проверено | 20 | Буквы и цифры | Проверено |
    | 17 | Дата окончания | Выбрано | 6 | Дата | Проверено |
    | 30 | Количество получения | Проверено | 8 | Числовое значение | Проверено |

- На странице **Настройка универсальных GS1** следующие параметры политики универсальных GS1 являются актуальными для данного примера.

    | Поле | Идентификатор приложения | описание |
    |---|---|---|
    | ItemId | 01 | Код GTIN |

- На странице **Политика GS1** есть политика, в которой для поля **Имя политики** указано значение *Получение покупки*. В эту политику входят следующие строки.

    | Поле | Идентификатор приложения | описание | Сортировка |
    |---|---|---|---|
    | ExpDate | 17 | Дата окончания | 0 |
    | InventBatchId | 10 | Номер пачки | 0 |
    | Кол-во | 30 | Количество получения | 0 |

- На странице **Пункты меню мобильного устройства** есть пункт меню, называемый *Получение покупки*. Для его поля **Политика GS1** установлено значение *Получение покупки*.

После прибытия товаров для заказа на покупку на склад, работник выполняет следующие шаги:

1. На мобильном устройстве выбирает пункт меню **Получение покупки**.
1. Вводит номер заказа на покупку.
1. Выберите поле **Номенклатура** и отсканируйте следующий штрих-код: `]C10100000012345678~3030~10b1~17220215`.

Из-за настроек, установленных для данного примера, система выполняет анализ отсканированного штрих-кода следующим образом:

| Ключ поля | ИД приложения | значение | Примечание |
|---|---|---|---|
| ItemId | 01 | 00000012345678 | Поскольку сотрудник сканирует поле **Номенклатура**, первое значение штрих-кода сопоставляется с этим полем. Сопоставление берется из настройки универсальных GS1. |
| Кол-во | 30 | 30 | Так как несколько значений полей записываются при одном сканировании, это сопоставление и все оставшиеся сопоставления берутся из политики GS1, назначенной пункту меню **Получение покупки**. Это значение — количество, которое было получено. |
| InventBatchId | 10 | b1 | Это значение является идентификатором партии. |
| ExpDate | 17 | 220215 | Формат даты — ГГММДД. Таким образом, дата истечения срока годности составляет 15 февраля 2022. |

Поступление регистрируется, и соответствующие значения базы данных вводятся после однократного сканирования.
