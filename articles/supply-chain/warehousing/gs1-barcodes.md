---
title: Штрих-коды и QR-коды GS1
description: В этой теме описывается, как настроить штрих-коды GS1 и QR-коды, чтобы этикетки можно было просканировать на складе.
author: Mirzaab
ms.date: 08/02/2021
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-08-02
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: 8f438e18356a6c16cc75bb59153ae7353d984a5a
ms.sourcegitcommit: ecd4c148287892dcd45656f273401315adb2805e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/18/2021
ms.locfileid: "7500338"
---
# <a name="gs1-bar-codes-and-qr-codes"></a>Штрих-коды и QR-коды GS1

[!include [banner](../includes/banner.md)]

Работники складов часто должны выполнить несколько задач, когда они используют сканер мобильного устройства для регистрации передвижений номенклатуры, поддона или контейнера. Эти задачи могут включать как сканирование штрих-кода, так и ввод данных вручную на мобильном устройстве. Штрих-коды используют формат, определяемый компанией, и управление ими осуществляется с помощью Microsoft Dynamics 365 Supply Chain Management.

Форматы штрих-кода GS1 и QR-кодов для этикеток отгрузки разработаны, чтобы предоставить общий стандарт обмена данными между компаниями. Форматы GS1 не только кодируют данные, но и позволяют использовать готовый список *идентификаторов приложений* для определения смысла и значения данных. Стандарт GS1 определяет формат данных и различные типы данных, которые могут быть использованы для кодирования. В отличие от старых штрих-кодов, штрих-коды GS1 могут иметь несколько элементов данных. Таким образом, при сканировании одного штрих-кода могут быть записаны несколько типов сведений о продуктах, например, партия и дата окончания срока действия.

Поддержка GS1 в Supply Chain Management значительно упрощает процесс сканирования на складах, где метки и контейнеры помечаются с помощью кодов в формате GS1. Работники склада могут извлечь все необходимые сведения при однократном сканировании GS1 штрих-кода. Исключив необходимость выполнения нескольких проверок или ввода данных вручную, GS1 штрих-коды позволяют сократить время, связанное с задачами. В то же время они также помогают улучшить точность.

Менеджеры логистики должны настроить обязательный список идентификаторов приложений и связать каждый из них с соответствующими пунктами меню мобильных устройств. Коды приложений могут затем использоваться на складах в качестве глобальных настроек для целей перемещения и упаковки. Поэтому все этикетки отгрузки будут иметь унифицированную форму.

Если не указано иное, в этой теме используется термин *штрих-код*, который означает штрих-коды и QR-коды.

## <a name="turn-on-the-gs1-feature"></a>Включение функции GS1

Прежде чем использовать эту функцию, она должна быть включена в системе. Администраторы могут использовать параметры [управления компонентами](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса функции и ее включения. В рабочей области **Управление функциями** эта функция перечисляется следующими способами:

- **Модуль:** *Управление складом*
- **Название функции:** *Сканирование штрих-кодов GS1*

## <a name="set-up-global-gs1-options"></a>Настройка глобальных параметров GS1

Страница **Параметры управления складом** содержит несколько настроек для определения глобальных параметров GS1.

Чтобы настроить глобальные параметры GS1, сделайте следующее.

1. Перейдите в раздел **Управление складом \> Настройка \> Параметры управления складом**.
1. На экспресс-вкладке **Штрих-коды** задайте следующие поля:

    - **Символ FNC1** — указывает символы, которые должны интерпретироваться как префикс при анализе штрих-кода.
    - **Символ матрицы данных** — указывает символы, которые должны интерпретироваться как префикс при анализе матрицы данных.
    - **Символ QR-кода** — указывает символы, которые должны интерпретироваться как префикс при анализе QR-кода.
    - **Разделитель групп** — укажите символ, который определяет отдельные части штрих-кода или QR-кода.
    - **Максимальная длина идентификатора** — указывает максимальное количество символов, разрешенных для идентификатора приложения.

> [!NOTE]
> Префиксы сообщают системе, что штрих-код шифруется в соответствии со стандартом GS1. До трех префиксов (**символ FNC1**, **символ матрицы данных** и **символ QR-кода**) могут использоваться одновременно и для различных целей.

## <a name="gs1-application-identifiers"></a>Идентификаторы приложений GS1

Форматы GS1 не только кодируют данные, но и позволяют использовать готовый список идентификаторов приложений для определения смысла и значения данных. Менеджеры логистики должны настроить обязательный список идентификаторов приложений и связать каждый из них с соответствующими пунктами меню мобильных устройств. Идентификаторы могут затем использоваться на складах в качестве глобальных настроек для целей перемещения и упаковки. Поэтому все этикетки отгрузки будут иметь унифицированную форму.

Система использует данные, особенно предопределенные идентификаторы приложений, чтобы определить правила, которые должны быть применены к соответствующему фрагменту сканированной информации.

Каждый идентификатор приложения сообщает системе, что последующие символы отсканированного штрих-кода должны рассматриваться как блоки зашифрованных данных. Настройка идентификаторов приложений определяет, как система должна интерпретировать штрих-код и сохранять его в качестве значения в системе.

Руководители логистики могут использовать стандартные идентификаторы международных приложений и/или создавать свои собственные коды.

### <a name="load-the-standard-application-identifiers"></a>Загрузка кодов стандартных приложений

Чтобы быстро начать работу, можно загрузить список общих международных идентификаторов приложений. Впоследствии этот список можно будет расширить или отредактировать, как требуется.

Чтобы загрузить стандартные коды приложений, выполните следующие действия.

1. Перейдите **Управление складом \> Настройка \> GS1 \> Идентификаторы приложений GS1**.
1. В панели операций выберите **Создать настройку по умолчанию**.

> [!WARNING]
> Команда **Создать настройку по умолчанию** удаляет все определенные в данный момент идентификаторы приложений и заменяет их стандартным списком. Однако после загрузки настройки по умолчанию можно настроить список, как требуется.

### <a name="set-up-custom-application-identifiers"></a>Настройка пользовательских идентификаторов приложения

Если некоторые или все идентификаторы приложений, используемые компанией, отличаются от стандартного набора, можно создать собственные коды с нуля или настроить стандартный набор по мере необходимости.

Чтобы настроить собственные коды приложений GS1, выполните следующие действия.

1. Перейдите **Управление складом \> Настройка \> GS1 \> Идентификаторы приложений GS1**.
1. Выполните одно из следующих действий.

    - Чтобы создать новый идентификатор, на панели операций выберите **Создать**.
    - Чтобы изменить существующий идентификатор, выберите его, а затем на панели операций выберите **Правка**.

1. Задайте следующие поля для нового или выбранного идентификатора:

    - **Идентификатор приложения** — введите идентификационный код для идентификатора приложения. Обычно этот код — целое число из двух цифр, но он может быть длиннее. Для десятичных значений — последняя цифра, обозначающая число десятичных знаков. Для получения дополнительных сведений см. флажок **Десятичное число** далее в этом списке.
    - **Описание** — введите краткое описание идентификатора.
    - **Фиксированная длина** — установите этот флажок, если значения, которые проверяются с помощью этого идентификатора приложения, имеют фиксированное число символов. Снимите этот флажок, если длина значений является переменной. В этом случае следует указать конец значения, используя символ разделения группы, указанный на странице **Параметры управления складом**.
    - **Длина** — введите максимальное число символов, которые могут отображаться в проверяемых значениях с использованием этого идентификатора приложения. Если установлен флажок **Фиксированная длина**, то предполагается, что количество знаков в точности равно этому числу.
    - **Тип** — выберите тип проверяемого значения, используя этот код приложения (*числовой*, *буквенно-цифровой* или *Дата*). Для дат ожидаемый формат — ГГММДД (без пробелов и дефисов).
    - **Десятичное число** — этот флажок устанавливается, если значение содержит подразумеваемую десятичную точку. Если этот флажок установлен, система будет использовать последнюю цифру идентификатора приложения для определения количества десятичных знаков. Например, если идентификатор приложения — *3205*, справа пять цифр значения интерпретируются как поступающие после десятичной запятой.

> [!NOTE]
> Разделитель групп, указанный на странице **Параметры управления складом**, необязателен, если код приложения имеет фиксированную длину или если его длина максимально увеличивается (то есть, если длина равна значению **Длина**, заданному для идентификатора приложения).

## <a name="establish-the-generic-gs1-setup"></a>Настройка универсальных GS1

Настройка универсальных GS1 определяет коллекцию общих сопоставлений. Эти сопоставления соответствуют каждому соответствующему полю ввода в мобильном приложении для идентификатора приложения, которое управляет тем, как значения из отсканированных штрих-кодов должны быть интерпретированы и сохранены в этом поле. По умолчанию эти параметры применяются ко всем проверкам для всех элементов меню мобильного устройства. Однако они могут быть переписаны для одного или нескольких определенных полей с помощью политики GS1, назначенной конкретному пункту меню.

Настройка универсальных GS1 позволяет сканировать только одно значение за один раз. Таким образом, если требуется загрузить несколько значений полей из одного сканирования, необходимо настроить политику GS1для соответствующих пунктов меню.

Дополнительные сведения о политиках GS1 см. в следующем разделе.

### <a name="load-the-standard-generic-gs1-setup"></a>Загрузка стандартной настройки универсальных GS1

Страница **Настройка универсальных GS1** позволяет загрузить стандартный набор сопоставлений между полями мобильного устройства и стандартными кодами приложений, которые создаются при настройке по умолчанию.

Чтобы задать настройку универсальных GS1, перейдите в **Управление складом \> Настройка \> GS1 \> Настройка универсальных GS1**. Затем выберите **Создать настройку по умолчанию**, чтобы автоматически назначить подходящий идентификатор приложения для каждого поля, которое обычно используется элементами меню для мобильных устройств.

> [!WARNING]
> Если уже существует настройка универсальных GS1, команда **Создать настройку по умолчанию** полностью удаляет ее и загружает стандартную настройку.

### <a name="customize-the-standard-generic-gs1-setup"></a>Персонализация стандартной настройки универсальных GS1

Чтобы персонализировать настройку универсальных GS1, выполните следующие действия.

1. Перейдите **Управление складом \> Настройка \> GS1 \> Настройка универсальных GS1**.
1. Выполните одно из следующих действий.

    - Для создания нового сопоставления: на панели операций выберите **Создать**.
    - Чтобы изменить существующее сопоставление, выберите сопоставление, а затем на панели операций выберите **Правка**.

1. Задайте следующие поля для нового или выбранного сопоставления:

    - **Поле** — выберите или введите поле ввода мобильного приложения, которому должно быть назначено входящее значение. Это значение не является отображаемым именем, которое видят работники. Вместо этого — это имя ключа, которое назначено полю в основном коде. Настройка по умолчанию представляет собой коллекцию полей, которые, вероятно, будут полезны, и включает интуитивно понятные имена ключей для каждого поля и соответствующие программируемые функции. Однако, возможно, придется поговорить с партнерами по разработке, чтобы найти правильный выбор для вашей реализации.
    - **Идентификатор приложения** — выберите применимый идентификатор приложения, как определено на странице **Идентификаторы приложения GS1**. Идентификатор определяет, как штрих-код будет интерпретирован и сохранен как значение для именованного поля. После выбора идентификатора приложения в поле **Описание** отображается его описание.

## <a name="set-up-gs1-policies-that-you-can-assign-to-mobile-device-menu-items"></a>Настройка политик GS1, которые можно назначить пунктам меню мобильных устройств

Целью стандарта GS1 является разрешение сотрудникам загружать несколько значений при однократном сканировании одного штрих-кода. Для достижения этой цели менеджеры логистики должны настроить политики GS1, которые указывают системе, как интерпретировать штрих-коды с несколькими значениями. Позже политики можно назначить пунктам меню мобильного устройства для управления тем, как штрих-код будет интерпретироваться при сканировании сотрудниками, когда они используют конкретный пункт меню.

Если ни одна из политик GS1 не назначена пункту меню, система может получить только одно значение. Это значение применяется к вводу мобильного приложения, который выбирается, когда работник делает сканирование, как указано в настройке универсальных GS1. Если политика GS1 назначена пункту меню, система все равно использует настройку универсальных GS1, чтобы сопоставить первое значение штрих-кода выбранному полю. Однако она может получать дополнительные значения полей, как указано в применимой политике.

### <a name="load-the-standard-specific-gs1-policies"></a>Загрузка стандартных политик специальных GS1

Чтобы быстро приступить к работе, можно загрузить набор политик GS1. Впоследствии политики можно будет расширить или отредактировать, как требуется.

Чтобы загрузить стандартные коды приложений, выполните следующие действия.

1. Откройте **Управление складом \> Настройка \> GS1 \> Политика GS1**.
1. В панели операций выберите **Создать настройку по умолчанию**.

> [!WARNING]
> Команда **Создать настройку по умолчанию** удаляет все определенные в данный момент политики и заменяет их стандартным набором политик. Однако после загрузки настройки по умолчанию можно настроить политики, как требуется.

### <a name="set-up-custom-specific-gs1-policies"></a>Настройка пользовательских специальных политик GS1

Чтобы настроить политики GS1, выполните следующие действия.

1. Откройте **Управление складом \> Настройка \> GS1 \> Политика GS1**.
1. Выполните одно из следующих действий.

    - Для создания новой политики: на панели операций выберите **Создать**.
    - Чтобы изменить существующую политику, выберите политику на панели списка.

1. В заголовке новой или выбранной политики задайте следующие поля:

    - **Имя политики** — введите имя политики.
    - **Описание** — введите краткое описание политики.

1. На экспресс-вкладке под заголовком сопоставьте имена полей с идентификаторами приложений, которые необходимы для текущей политики. Следующие кнопки на панели инструментов используются для добавления и удаления строк, как требуется. Для каждой строки заполните следующие поля:

    - **Поле** — выберите или введите поле ввода мобильного приложения, которому должно быть назначено входящее значение. Это значение не является отображаемым именем, которое видят работники. Вместо этого — это имя ключа, которое назначено полю в основном коде. Настройка по умолчанию представляет собой коллекцию полей, которые, вероятно, будут полезны, и включает интуитивно понятные имена ключей для каждого поля и соответствующие программируемые функции. Однако, возможно, придется поговорить с партнерами по разработке, чтобы найти правильный выбор для вашей реализации.
    - **Идентификатор приложения** — выберите применимый идентификатор приложения, как определено на странице **Идентификаторы приложения GS1**. Идентификатор определяет, как штрих-код будет интерпретирован и сохранен как значение для именованного поля. После выбора идентификатора приложения в поле **Описание** отображается его описание.
    - **Сортировка** — каждый штрих-код с несколькими значениями содержит ряд идентификаторов приложений, каждый из которых сопровождается значением. Применимая политика GS1 определяет, какой идентификатор приложения сопоставляется с каждым полем базы данных. Однако, если штрих-код использует один и тот же идентификатор приложения несколько раз, система использует порядок, в котором коды приложений отображаются в коде, чтобы сопоставить с полями. Для строк, использующих код приложения с одной или несколькими другими строками, следует использовать это поле для задания порядка обработки соответствующих строк. Сначала будет обработана строка с наименьшим значением сортировки.

> [!NOTE]
> Для штрих-кодов, содержащих более одного идентичного идентификатора приложения, *необходимо* использовать поле **Сортировка** для задания порядка полей.

## <a name="assign-gs1-policies-to-mobile-device-menu-items"></a>Назначение политик GS1 для элементов меню мобильных устройств

По умолчанию все элементы меню мобильного устройства содержат поля ввода, в которых работники могут сканировать одно значение в соответствии с настройкой универсальных GS1. Если требуется, чтобы работники могли сканировать несколько значений поля в одном сканировании любого пункта меню мобильного устройства, необходимо назначить политику GS1, выполнив следующие действия.

1. Перейдите в раздел **Управление складом \> Настройка \> Мобильное устройство \> Пункты меню мобильного устройства**.
1. Создание или открытие пункта меню.
1. На экспресс-вкладке **Общие** задайте в поле **Политика GS1** политику, которая применяется к пункту меню.

## <a name="gs1-setup-example"></a>Пример настройки GS1

Этот пример применяется к системе, в которой настройки параметров GS1 выполняются следующим образом:

- На странице **Параметры управления складом** устанавливаются следующие глобальные параметры:

  - **Символ FNC1:** *\]C1*
  - **Разделитель групп:** *\~*

- На странице **Идентификаторы приложений GS1** следующие идентификаторы приложений относятся к этому примеру.

    | Идентификатор приложения | описание | Фиксированная длина | Длина | Вид | Десятичное |
    |---|---|---|---|---|---|
    | 01 | Код GTIN | Выбрано | 14 | Числовое значение | Проверено |
    | 10 | Номер пачки | Проверено | 20 | Буквы и цифры | Проверено |
    | 17 | Дата окончания | Выбрано | 6 | Дата | Проверено |
    | 30 | Количество получения | Проверено | 8 | Числовое значение | Проверено |

- На странице **Настройка универсальных GS1** следующие параметры политики универсальных GS1 являются актуальными для данного примера.

    | Поле | Идентификатор приложения | описание |
    |---|---|---|
    | ItemId | 01 | Код GTIN |

- На странице **Политика GS1** есть политика, в которой для поля **Имя политики** указано значение *Получение покупки*. В эту политику входят следующие строки.

    | Поле | Идентификатор приложения | описание | Сортировка |
    |---|---|---|---|
    | ExpDate | 17 | Дата окончания | 0 |
    | InventBatchId | 10 | Номер пачки | 0 |
    | Кол-во | 30 | Количество получения | 0 |

- На странице **Пункты меню мобильного устройства** есть пункт меню, называемый *Получение покупки*. Для его поля **Политика GS1** установлено значение *Получение покупки*.

После прибытия товаров для заказа на покупку на склад, работник выполняет следующие шаги:

1. На мобильном устройстве выбирает пункт меню **Получение покупки**.
1. Вводит номер заказа на покупку.
1. Выберите поле **Номенклатура** и сканирует следующий штрих-код: *\]C10100000012345678\~3030\~10b1\~17220215*.

Из-за настроек, установленных для данного примера, система выполняет анализ отсканированного штрих-кода следующим образом:

| Ключ поля | ИД приложения | значение | Примечание |
|---|---|---|---|
| ItemId | 01 | 00000012345678 | Поскольку сотрудник сканирует поле **Номенклатура**, первое значение штрих-кода сопоставляется с этим полем. Сопоставление берется из настройки универсальных GS1. |
| Кол-во | 30 | 30 | Так как несколько значений полей записываются при одном сканировании, это сопоставление и все оставшиеся сопоставления берутся из политики GS1, назначенной пункту меню **Получение покупки**. Это значение — количество, которое было получено. |
| InventBatchId | 10 | b1 | Это значение является идентификатором партии. |
| ExpDate | 17 | 220215 | Формат даты — ГГММДД. Таким образом, дата истечения срока годности составляет 15 февраля 2022. |

Поступление регистрируется, и соответствующие значения базы данных вводятся после однократного сканирования.
