---
title: Распределение по срокам комплектации запасов директивы местонахождения
description: В этой теме объясняется, как использовать в процессе комплектации стратегии директив местонахождения ФИФО (первым пришел, первым ушел) и ЛИФО (последним пришел, первым ушел).
author: mirzaab
ms.date: 07/15/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSLocationProfile,WHSWorkTable,WHSWaveTableListPage
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-15
ms.dyn365.ops.version: 10.0.8
ms.openlocfilehash: 83f73052d1d9d8a29a80ce3cf1035a259cd92c17
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/29/2021
ms.locfileid: "7578592"
---
# <a name="location-directive-inventory-picking-aging"></a>Распределение по срокам комплектации запасов директивы местонахождения

[!include [banner](../includes/banner.md)]

В этой теме объясняется, как использовать в процессе комплектации стратегии директив местонахождения ФИФО (первым пришел, первым ушел) и ЛИФО (последним пришел, первым ушел). Эти стратегии работают в сочетании с датами распределения по срокам, которые записываются для местоположений, когда запасы впервые поступили на склад. В функции *Распределение по срокам комплектации запасов директивы местонахождения* используется дата, указанную в местоположении, чтобы определить распределение по срокам. Функция *Статус места хранения на складе* обновляет дату в местонахождении на основе даты, указанной в грузоместе.

Можно использовать стратегии ФИФО и ЛИФО для отгрузки как номенклатур с отслеживанием партий, так и номенклатур без отслеживания партий, на основе даты, когда запасы поступили на склад. Эта возможность особенно полезна для запасов без отслеживания партий, когда дата истечения срока недоступна для использования при сортировке.

При первом получении или создании запасов на складе система обновляет соответствующее грузоместо, чтобы текущая дата отображалась в качестве даты распределения по срокам. Эта дата затем используется с помощью стратегий директив местоположения, чтобы определить самые старые или самые новые запасы на складе. Если запасы перемещаются в местоположение, которое не отслеживается с помощью грузоместа, само местоположение обновляется в соответствии со сведениями о распределении по срокам, и эта информация будет использоваться стратегиями.

## <a name="turn-on-the-feature"></a>Включение функции

Чтобы эта функция была доступна, включите следующие функции в [управлении функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md), в указанном порядке:

1. Статус местонахождения на складе
1. Распределение по срокам комплектации запасов директивы местонахождения

## <a name="feature-requirements"></a>Требования к функциям

Для использования этой функции необходимо установить для параметра **Включить статус местонахождения** значение *Да* для каждого [профиля местонахождения](tasks/create-location-profile.md), используемого для хранения запасов. Чтобы настроить этот параметр для профиля местоположения, перейдите в раздел **Управление складом \> Настройка \> Склад \> Профили местонахождения** и выберите профиль местонахождения. Этот параметр можно найти на экспресс-вкладке **Общие**.

## <a name="feature-scenarios"></a>Сценарии использования функции

В этом разделе приводятся примеры, демонстрирующие способы настройки и использования стратегий ФИФО и ЛИФО.

> [!TIP]
> В этом разделе представлено два сценария, один для ФИФО, а другой для ЛИФО. В представленных процедурах предполагается, что оба сценария выполняются по порядку. Рекомендуется выполнить оба сценария, чтобы можно было ознакомиться с различиями между этими двумя стратегиями.

### <a name="make-sample-data-available"></a>Сделать образцы данных доступными

Для работы с этими сценариями с помощью образцов записей и значений, указанных здесь, необходимо использовать систему, в которой установлены стандартные [демонстрационные данные](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md). Дополнительно перед началом необходимо выбрать юридическое лицо **USMF**.

Эти сценарии можно также использовать в качестве руководства по использованию этой функции в производственной системе. Однако в этом случае необходимо подставить собственные значения для каждого из описанных здесь параметров.

### <a name="set-up-the-scenarios"></a><a name="demo-set-up"></a>Настройка сценариев

Демонстрационные данные требуют настройки и корректировки запасов для поддержки сценариев. Выполните следующие действия, чтобы создать данные запасов, необходимые для работы со сценариями ФИФО и ЛИФО.

1. Войдите в систему, в которой установлены демонстрационные данные, и выберите юридическое лицо **USMF**.
1. Перейдите в раздел **Управление складом \> Настройка \> Склад \> Профили местонахождения**.
1. На панели операций выберите **Правка**.
1. В списке профилей местоположения выберите **ЭТАЖ-05**.
1. На экспресс-вкладке **Общие** задайте для параметра **Включить статус места хранения** значение *Да*.
1. Нажмите **Сохранить**.
1. Перейдите в раздел **Управление складом \> Настройка \> Директивы местонахождения**.
1. В списке директив местоположения выберите **63 Контейнеризация комплектации**.
1. Выберите **Правка**, чтобы перевести страницу в режим редактирования.
1. На экспресс-вкладке **Действия директивы для места хранения** найдите строку, для которой в поле **Порядковый номер** установлено значение *1*, и выполните одно из следующих действий:

    - Если выполняется настройка сценария ФИФО, измените значение поля **Стратегия** на *Распределение по срокам местонахождения ФИФО*.
    - Если выполняется настройка сценария ЛИФО, измените значение поля **Стратегия** на *Распределение по срокам местонахождения ЛИФО*.

1. На экспресс-вкладке **Действия директивы для места хранения** выберите **Изменить запрос**.
1. В диалоговом окне запрос на вкладке **Диапазон** выберите **Добавить**, чтобы добавить строку, затем установите следующие значения:

    - **Таблица:** *Местонахождения*
    - **Производная таблица:** *Местонахождения*
    - **Поле:** *Код зоны*
    - **Критерии:** *Этаж*

1. Выберите **ОК**, чтобы применить настройки и закрыть диалоговое окно запроса.
1. Для сохранения изменений в директиве местонахождения выберите **Сохранить**.
1. На мобильном устройстве или в приложении *Dynamics 365 for Finance and Operations - Warehousing* на компьютере выполните следующие действия, чтобы удалить существующие запасы из местоположения на складе для поддержки сценариев:

    1. Выполните вход на склад *63*, используя соответствующие идентификатор пользователя и пароль.
    1. В главном меню выберите **Качество**.
    1. В меню **Управление качеством** выберите **Отходы**.
    1. На странице **Отходы** выберите поле **МЕСТОНАХОЖДЕНИЕ/ГРУЗОМЕСТО**, затем введите *63\_1*.
    1. Выберите **Ввод** или **ОК**.
    1. Проверьте сведения **Отходы** для **Исходящая корректировка**, выбрав **ВВОД** или **ОК**.

    При исходящей корректировке запасов грузоместа вы получаете сообщение "Работа завершена".

    Эти шаги оставляют запасы в двух местах в демонстрационных данных. Каждое местонахождение имеет различную дату распределения по срокам. Местонахождение *FL-001* имеет дату распределения по срокам 15 апреля 2017, а местонахождение *FL-002* имеет дату распределения по срокам 29 января 2017. Оба местоположения содержат номенклатуру *A0001*.

    Для просмотра этих данных перейдите к пункту **Управление запасами \> Запросы и отчеты \> Список количества в наличии**, затем выполните фильтрацию по складу *63* и номенклатуре *A0001*. В строках, где в поле **Местонахождение** указано значение *FL-001* или *FL-002*, выберите строку, имеющую положительное значение **Физические запасы**, затем на панели операций выберите **Проводки**. В поле **Физическая дата** отображается дата, соответствующая одной из ранее указанных дат распределения по срокам.

### <a name="scenario-1-set-up-and-use-fifo-location-aging"></a><a name="fifo-demo"></a>Сценарий 1. Настройка и использование распределения по срокам для местонахождения ФИФО

Стратегия ФИФО находит местоположение, которое содержит самую старую дату распределения по срокам, и распределяет комплектацию на основе этой даты распределения по срокам.

1. Если вы этого еще не сделали, [подготовьте образцы данных](#demo-set-up), необходимые для этого сценария.
1. Перейдите в раздел **Продажи и маркетинг \> Заказ на продажу \> Все заказы на продажу**.
1. Выберите **Создать**.
1. В диалоговом окне **Создание заказа на продажу** установите следующие значения:

    - На экспресс-вкладке **Клиент** задайте для поля **Счет клиента** значение *US-001*.
    - На экспресс-вкладке **Общее** задайте в поле **Склад** значение *63*.

1. Выберите **ОК**, чтобы создать заказ на продажу и закрыть диалоговое окно.
1. Открывается новый заказ на продажу. Он включает новую пустую строку в сетке на экспресс-вкладке **Строки заказа на продажу**. Для этой строки заказа задайте в поле **Код номенклатуры** значение *A0001*, а в поле **Количество** — значение *1*.
1. В меню **Запасы** над сеткой выберите **Резервирование**.
1. На странице **Резервирование** выберите **Резервирование лота**, чтобы зарезервировать заказанное количество этой номенклатуры на выбранном складе.
1. Закройте страницу **Резервирование**.
1. На странице **Заказ на продажу** на панели операций на вкладке **Склад** выберите группу **Действия**, выберите **Запуск на склад**. Вы получаете информационные сообщения. Система создает отгрузку, добавляет ее в новую загрузку и создает требуемую работу.
1. На экспресс-вкладке **Строки заказа на продажу** в меню **Склад** выберите пункт **Сведения о работе**, чтобы открыть работу, созданную для этого заказа на продажу. Обратите внимание на то, что строка, в которой значение **Тип работ** равно *Комплектация*, а в поле **Местонахождение** отображается значение *FL-002*. В этом местонахождении имеется грузоместо, имеющее самую старую дату распределения по срокам (ФИФО).
1. Выберите **Склад \> Сведения об отгрузке**.
1. На экспресс-вкладке **Общие** запишите код волны, чтобы использовать его в сценарии 2.

### <a name="scenario-2-set-up-and-use-lifo-location-aging"></a>Сценарий 2. Настройка и использование распределения по срокам для местонахождения ЛИФО

Стратегия ЛИФО находит местоположение, которое содержит самую новую дату распределения по срокам, и распределяет комплектацию на основе этой даты распределения по срокам. В сценарии 2 будет изменена настройка для сценария 1 (ФИФО), и будет снова использоваться заказ на продажу и волна, созданные в ходе этого сценария.

1. Перед началом выполнения этого сценария настройте и выполните полный сценарий ФИФО, как описано в [предыдущем разделе](#fifo-demo). В этом сценарии будет снова использоваться волна и большая часть настройки, которые были созданы для того сценария.
1. Измените директиву расположения **63 Контейнеризация комплектации** так, чтобы она использовала стратегию *Распределение по срокам местонахождения ЛИФО*, как описано в первой части процедуры [Настройка сценариев](#demo-set-up).

    Далее будет изменена волна, которая была создана для заказа на продажу в сценарии 1, так, чтобы она использовала стратегию *Распределение по срокам местонахождения ЛИФО*.

1. Перейдите в раздел **Управление складом \> Исходящие волны \> Волны отгрузок \> Все волны**.
1. Выберите и откройте волну, которая содержит заказ, созданный для сценария ФИФО.
1. На панели операций на вкладке **Работа** выберите **Отмена**, чтобы отменить работу, созданную для сценария ФИФО.
1. В области действий на вкладке **Волна** в группе **Волна** выберите **Обработать**.
1. После завершения обработки в области действий на вкладке **Волна** в группе **Связанные сведения** выберите **Работа** для открытия работы, созданной для этой волны.
1. На странице **Работа** на вкладке **Обзор** должно быть две строки. Выберите строку, в которой в поле **Статус работы** указано значение *Открыто*.
1. Обратите внимание на то, что строка, в которой значение **Тип работ** равно *Комплектация*, а в поле **Местонахождение** отображается значение *FL-001*. В этом местонахождении имеется грузоместо, имеющее самую новую дату распределения по срокам (ЛИФО).

В этих сценариях показано, как стратегия распределения по срокам местоположения направляет работу в местоположение запасов, которое имеет самый старые запасы или самый новые запасы, в зависимости от выбранной стратегии.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]