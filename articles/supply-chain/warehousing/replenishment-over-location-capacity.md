---
title: Пополнение сверх объема местонахождения
description: В этом разделе приводятся сведения о функции пополнения сверх объема местонахождения. Эта функция позволяет выполнять все операции пополнения, которые необходимы для создания дня, управлять доступом к работе пополнения, чтобы гарантировать, что ячейка комплектации не будет относиться к складским запасам и не получит больше объема.
author: mirzaab
manager: tfehr
ms.date: 07/16/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSReplenishmentTemplates, WHSLocationLimit
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-16
ms.dyn365.ops.version: Release 10.0.7
ms.openlocfilehash: 8e9ae16fea892d1d6b6a6b5d06137576623e7f5b
ms.sourcegitcommit: 827d77c638555396b32d36af5d22d1b61dafb0e8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2020
ms.locfileid: "4436428"
---
# <a name="replenishment-over-location-capacity"></a>Пополнение сверх объема местонахождения

[!include [banner](../includes/banner.md)]

В некоторых складских запасах с ограничением объема или места должно быть отгружено большее количество номенклатуры за день, чем помещается в ячейку комплектации. Функция *Пополнение сверх объема местонахождения* позволяет выполнять все операции пополнения, которые необходимы для создания дня, управлять доступом к работе пополнения, чтобы гарантировать, что ячейка комплектации не будет относиться к складским запасам и не получит больше объема.

Эта функция позволяет создавать большее количество операций пополнения, чем помещается в ячейке, и блокировать работу по пополнению в случае завершения, когда местоположение заполнено. Так как запасы в ячейке комплектации становятся ниже настраиваемого порогового значения, становится доступно большее количество операций пополнения.

## <a name="turn-on-the-replenishment-over-location-capacity-feature"></a>Включите функцию пополнения сверх объема местонахождения

Чтобы эта функция была доступна, включите следующие функции в [управлении функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) (в указанном порядке):

1. Блокировка работы для всей организации
1. Пополнение сверх объема местонахождения

## <a name="set-up-the-feature-for-the-example-scenario"></a>Настройка функции для примера сценария

В этом разделе приводятся инструкции и пример, в котором показано, как настроить эту функцию и подготовить примеры данных для сценария, приведенного ниже в этом разделе.

### <a name="enable-sample-data"></a>Включение демонстрационных данных

Для работы с этими [примером сценария](#example-scenario) с помощью образцов записей и значений, указанных здесь, необходимо использовать систему, в которой установлены стандартные [демонстрационные данные](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md). Дополнительно перед началом необходимо выбрать юридическое лицо **USMF**.

### <a name="location-profile"></a>Профиль местонахождения

Включите функцию пополнения сверх объема местонахождения в профиле местоположения.

1. Перейдите в раздел **Управление складом \> Настройка \> Склад \> Профили местоположения**.
1. В левой области выберите **PICK-06**.
1. На панели операций выберите **Правка**.
1. На экспресс-вкладке **Пополнение** установите следующие значения:

    - **Превышать объем местоположения:** *Да*

        Если включено, работе пополнения будет разрешено превышать максимальную вместимость ячейки. При этом также активируется возможность включения других полей на экспресс-вкладке **Пополнение**.

    - **Тип порогового значения доступности работы:** *Количество*

        Это поле определяет метод, который используется, чтобы определить, когда должно быть запущено большее количество работы. Можно выпускать по количеству или проценту:

        - *Процент* — выберите этот параметр для использования объема по проценту на основе ограничений на складе или по объему. Выбор этого параметра включает поле **Процент переполнения** и отключает два поля, имеющих отношение к количеству, **Избыточное количество** и **Единица переполнения**.

            Этот параметр можно использовать, если ячейки комплектации используют объемные показатели.

            Если выбран этот параметр, установите в поле **Процент переполнения** значение в процентах, в течение которого будет доступно большее количество операций пополнения.

        - *Количество* — выберите этот параметр, чтобы использовать конкретное значение количества. Выбор этого параметра отключает поле **Процент переполнения** и включает два поля **Избыточное количество** и **Единица переполнения**.

            Используйте этот параметр, если вы не используете объемные показатели для складов, для которых выполняется пополнение, или при наличии стабильных количеств, на которые требуется поместить дополнительные запасы в местоположение.

           Если выбран этот параметр, укажите в полях **Избыточное количество** и **Единица переполнения** количество и единицу измерения, в которых будет доступно больше работы по пополнению запасов.

    - **Количество переполнения:** *0,65*

        Это поле определяет количество, в котором переполняется местоположение.

        Работа будет доступна, когда сумма количества в наличии в местоположении и количество работы меньше этого значения. Работа пополнения, превышающая это значение, будет блокироваться, и ее нужно будет разблокировать вручную.

        Пределы складских запасов учитываются при расчете количества работы.

    - **Единица переполнения:** *PL*

        Это поле определяет единицу измерения, связанную с количеством переполнения.

        В этом случае будет доступно большее количество операций пополнения, если ячейка имеет значение до 0,65 палеты (PL).

    - **Процент переполнения**

        Это поле определяет процент, в котором переполняется местоположение.

        Работа будет доступна, когда сумма количества в наличии в местоположении и количество работы меньше этого процента. Процент количества работы пополнения, превышающий это значение, будет блокироваться, и его нужно будет разблокировать вручную.

        Пределы складских запасов учитываются при расчете процента количества работы. Если лимиты хранения местонахождения не заданы, процент количества работы будет рассчитываться по объему, если в профиле местонахождения заданы ограничения по объему.

> [!IMPORTANT]
> Если используются демонстрационные данные для юридического лица **USMF** и ранее была включена функция *Позиционирование грузоместа в местонахождении*, необходимо отключить параметр **Включить позиционирование грузоместа** для профиля местоположения **BULK-06** для выполнения шагов мобильных устройств в примере сценария.

### <a name="wave-step-code"></a>Код шага волны

> [!NOTE]
> Для настройки кода этапа волны, как здесь описано здесь, можно сначала использовать [Управление функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md), чтобы включить функцию с названием *Код этапа волны для всей организации:*.

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Коды этапов волны**.
1. Выберите **Создать**, задайте следующие значения:

    - **Код шага волны:** *Пополнение*
    - **Описание этапа волны:** *Пополнение*
    - **Тип этапа волны:** *Пополнение*

1. Нажмите **Сохранить**.

### <a name="replenishment-template"></a>Шаблон пополнения

Шаблоны пополнения — это набор правил, определяющих когда и как пополняются местонахождения.

1. Перейдите в раздел **Управление складом \> Настройка \> Пополнение \> Шаблоны пополнения**.
1. На панели операций выберите **Правка**.
1. В разделе **Обзор** выберите строку, в которой в поле **Шаблон пополнения** задано как значение *Пополнение для спроса*.
1. Задайте следующие значения:

    - **Код шага волны:** *Пополнение*
    - **Разрешить волне спроса использовать незарезервированные количества:** *Да*

1. Нажмите **Сохранить**.

### <a name="wave-template"></a>Шаблон волны

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Шаблоны волны**.
1. В левой панели задайте в поле **Тип шаблона волн** значение *Отгрузка*.
1. В списке выберите **61 Отгрузка**.
1. На панели операций выберите **Правка**.
1. На экспресс-вкладке **Общие** установите для параметра **Автоматизировать выпуск работы пополнения** значение *Да*.

    Установите этот параметр как *Да*, чтобы создать работу пополнения на основе запроса и автоматически запустить ее в производство. Необходимо добавить метод волны пополнения в шаблон волны и создать шаблон пополнения типа **Спрос волны**. Настройте шаблон пополнения на странице **Шаблоны пополнения**. Для настройки шаблона пополнения необходимо добавить метод пополнения в шаблон волны.

1. На экспресс-вкладке **Методы** в столбце **Выбранные методы** найдите следующую строку:

    - **Имя метода:** *пополнение*
    - **Имя:** *Пополнение*

1. Задайте в поле **Код этапа волны** для этой строки значение *Пополнение*.
1. Нажмите **Сохранить**.

## <a name="example-scenario"></a>Пример сценария

После того как вы сделали все ранее описанные образцы данных доступными и настроили их, вы можете работать с этим сценарием, чтобы попробовать функцию *Пополнение сверх объема местонахождения*. Значения, показанные в этом сценарии, предполагают, что вы работаете с использованием стандартных демонстрационных данных, выбрано юридическое лицо **USMF** и подготовлены примеры записей, которые описаны ранее в этом разделе. Этот сценарий также служит в качестве примера, показывающего, как функция может использоваться в производственном параметре.

### <a name="create-replenishment-work"></a>Создать работу пополнения

#### <a name="create-sales-order-1"></a>Создание заказа на продажу 1

1. Перейдите в раздел **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу**.
1. На панели операций выберите **Создать**, чтобы открыть диалоговое окно создания заказа на продажу.
1. В диалоговом окне задайте следующие значения:

    - **Счет клиента:** *US-007*
    - **Склад:** *61*

1. Выберите **ОК**, чтобы создать заказ на продажу и закрыть диалоговое окно.
1. Открывается новый заказ на продажу. Он включает новую пустую строку на экспресс-вкладке **Строки заказа на продажу**. В этой строке установите следующие значения:

    - **Код номенклатуры:** *T0100*
    - **Количество:** *40*

1. На экспресс-вкладке **Строки заказа на продажу** выберите **Запасы \> Резервирование**.
1. На странице **Резервирование** выберите **Зарезервировать лот**.
1. Закройте страницу.
1. На панели операций на вкладке **Склад** выберите вариант **Выпустить на склад**.

    Вы получаете информационные сообщения, которые показывают код волны и код отгрузки, которые были созданы. Также создается волна пополнения.

    Кроме того, появится предупреждающее сообщение, в котором говорится, что "Код работы XXXX не может быть разблокирован, поскольку у него есть незаконченная работу по пополнению".

#### <a name="create-sales-order-2"></a>Создание заказа на продажу 2

1. На странице **Все заказы на продажу** на панели операций выберите **Создать**, чтобы открыть диалоговое окно создания заказа на продажу.
1. В диалоговом окне задайте следующее значение:

    - **Счет клиента:** *US-001*
    - **Склад:** *61*

1. Выберите **ОК**, чтобы создать заказ на продажу и закрыть диалоговое окно.
1. Открывается новый заказ на продажу. Он включает новую пустую строку на экспресс-вкладке **Строки заказа на продажу**. В этой строке установите следующие значения:

    - **Код номенклатуры:** *T0100*
    - **Количество:** *60*

1. На экспресс-вкладке **Строки заказа на продажу** выберите **Запасы \> Резервирование**.
1. На странице **Резервирование** выберите **Зарезервировать лот**.
1. Закройте страницу.
1. На панели операций на вкладке **Склад** выберите вариант **Выпустить на склад**.

    Вы получаете информационные сообщения, которые показывают код волны и код отгрузки, которые были созданы. Также создается волна пополнения.

    Кроме того, появится предупреждающее сообщение, в котором говорится, что "Код работы XXXX не может быть разблокирован, поскольку у него есть незаконченная работу по пополнению".

#### <a name="create-sales-order-3"></a>Создание заказа на продажу 3

1. На странице **Все заказы на продажу** на панели операций выберите **Создать**, чтобы открыть диалоговое окно создания заказа на продажу.
1. В диалоговом окне задайте следующие значения:

    - **Счет клиента:** *US-004*
    - **Склад:** *61*

1. Выберите **ОК**, чтобы создать заказ на продажу и закрыть диалоговое окно.
1. Открывается новый заказ на продажу. Он включает новую пустую строку на экспресс-вкладке **Строки заказа на продажу**. В этой строке установите следующие значения:

    - **Код номенклатуры:** *T0100*
    - **Количество:** *30*

1. На экспресс-вкладке **Строки заказа на продажу** выберите **Запасы \> Резервирование**.
1. На странице **Резервирование** выберите **Зарезервировать лот**.
1. Закройте страницу.
1. На панели операций на вкладке **Склад** выберите вариант **Выпустить на склад**.

    Вы получаете информационные сообщения, которые показывают код волны и код отгрузки, которые были созданы. Также создается волна пополнения.

    Кроме того, появится предупреждающее сообщение, в котором говорится, что "Код работы XXXX не может быть разблокирован, поскольку у него есть незаконченная работу по пополнению".

#### <a name="view-work-details"></a>Просмотр сведений о работе

1. Перейдите в раздел **Управление складом \> Работа \> Сведения о работе**.
1. В разделе **Обзор** отфильтруйте столбец **Склад** для склада *61*.
1. Следует понять, что семь рабочих кодов были созданы для трех заказов на продажу по спросу.

    - У трех из семи кодов работы значение **Тип заказа на работу** *Пополнение*, а у четырех — значение **Тип заказа на продажу** *Заказы на продажу*.
    - У всех трех кодов работы со значением **Тип заказа на работу** *Пополнение* одинаковые местоположения *Комплектация* и *Размещение* в разделе **Строки**:

        - **Комплектация:** *02A01R5S1B*
        - **Размещение:** *06A01R2S1B*

    - Для заказа на продажу 1 были созданы два кода работы.

1. Запишите коды работы для заказов на продажу.

В зависимости от количества в наличии создаваемые количества работы могут слегка отличаться друг от друга. Однако в целом, создаваемые заголовки работы должны соответствовать этому примеру сценария.

#### <a name="on-hand-inventory-license-plate-id"></a>Код грузоместа запасов в наличии

Далее в этом сценарии будет использоваться приложение склада (или эмулятор), где необходимо определить грузоместо для выполнения сценариев комплектации и пополнения.

Чтобы найти коды грузомест, которые понадобятся позднее, выполните следующие действия.

1. Перейдите в раздел **Управление запасами \> Запросы и отчеты \> Список количества в наличии**.
1. Нажмите кнопку **Показать фильтры**, чтобы открыть панель фильтра.
1. Введите следующие критерии фильтрации, чтобы получить грузоместа для сценария. Используйте фильтр *Начинается с*.

    - **Код номенклатуры:** *T0100*
    - **Склад:** *61*

1. Выберите **Применить**.
1. В области действий выберите **Аналитики**.
1. В диалоговом окне **Отображение аналитик** в разделе **Аналитики хранения** выберите все значения.
1. В разделе **Проводки** выберите **Код номенклатуры** и **Количество \<\> 0**.
1. После завершения нажмите кнопку **ОК**, чтобы закрыть диалоговое окно.
1. Сетка **В наличии** отображает номера грузомест для номенклатуры *T0100* в каждом местоположении. Обратите внимание на грузоместа в каждом местоположении, так как эти сведения понадобятся позже.
1. Закройте страницу.

### <a name="process-steps"></a>Шаги процесса

Вы выполняете пополнение местоположения склада для первых двух кодов работы. Работа с третьим пополнением будет блокирована, пока уровень запасов в ячейке комплектации не станет ниже порогового значения.

#### <a name="replenishment"></a>Пополнение

1. Выполните вход в приложение склада как пользователь на складе *61*. (Введите *61* в качестве ИД пользователя и *1* в качестве пароля.)
1. Перейдите к пункту **Запасы \> Пополнение**.

    Вам будет предложено выполнить первую работу по пополнению запасов. Отображаются код номенклатуры, количество и местоположение комплектации.

1. В поле **LP** введите номер грузоместа для номенклатуры в указанном местоположении.
1. Нажмите кнопку **ОК** (символ галочки).

    Система создает номер целевого грузоместа для нового грузоместа для скомплектованной номенклатуры.

1. Выберите **ОК**, чтобы подтвердить значение.

    Отображается работа размещения, как которая просит пользователя поместить целевое грузоместо в местоположение пополнения. Местоположение *Размещение* должно быть **06A01R2S1B**.

1. Подтвердите сведения о размещении и нажмите **ОК**.

    Вы получаете сообщение "Работа завершена", и сведения о следующей задаче комплектации пополнения будут показаны: код номенклатуры, количество и местоположение, из которого будет осуществляться комплектация. Ячейка комплектации будет совпадать с местоположением первого пополнения. Таким образом, у грузоместа будет один и тот же код грузоместа, который использовался для первой задачи пополнения.

1. Повторите предыдущие шаги, чтобы завершить работу по пополнению для второй рабочей задачи. Количество и целевое грузоместо должно отличаться от количества и целевого грузоместа для первой рабочей задачи.

После завершения работы второго пополнения будет получено сообщение "Работа завершена". Мобильное устройство также информирует пользователя о недоступности работы, даже если остается только одна работа по пополнению. Это происходит из-за того, что работа пополнения имеет статус *На удержании* и поэтому помечается как **Заблокировано**.

Статус *На удержании* был присвоен, так как профиль местоположения для местоположения комплектации, которому назначена работа, имеет значение **Избыточное количество** *0,65 PL*. Две задачи предыдущего пополнения заполнили местоположение почти до предельного размера переполнения для номенклатуры *T0100*. (Пересчет единиц измерения для номенклатуры — *1 PL = 100 шт*.) Таким образом, оставшаяся работа по пополнению приведет к превышению пределов переполнения ячейки.

До тех пор, пока не будет выбрано достаточное количество запасов, чтобы перевести его ниже порогового значения для работы в меню мобильного устройства, эта работа по пополнению останется заблокированной.

#### <a name="sales-order-pick"></a>Комплектация заказа на продажу

Прежде чем можно будет завершить остающуюся работу по пополнению, ячейка комплектации должна быть исчерпана на том уровне, на котором может быть разблокирована оставшаяся работа по пополнению запасов. Иными словами, сумма количества запасов в наличии в местоположении и количество пополнения не может превышать значение **Избыточное количество**. Если сумма меньше, чем количество переполнения, будет разблокирована оставшаяся работа по пополнению.

1. Выполните вход в приложение склада как пользователь на складе *61*. (Введите *61* в качестве ИД пользователя и *1* в качестве пароля.)
1. Выберите **Исходящие \> Комплектация продаж**.
1. Введите код первой работы для заказа на продажу 1.

    См. коды работ для заказов на продажу, которые ранее были записаны на странице **Сведения о работе**. Введенный здесь код работ создаст работу комплектации для количества 10 шт. из двух отдельных местоположений.

1. Нажмите **ОК**.

    На странице **Заказы на продажу: размещение** отображается код номенклатуры, количество и местоположение для комплектации для первого местоположения.

1. В поле **LP** введите номер грузоместа для номенклатуры в указанном местоположении.
1. Нажмите кнопку **ОК** (символ галочки).

    На странице **Заказы на продажу: размещение** отображается код номенклатуры, количество и местоположение для комплектации для следующего местоположения.

1. В поле **LP** введите номер грузоместа для номенклатуры в указанном местоположении.
1. Нажмите кнопку **ОК** (символ галочки).

    Страница **Заказы на продажу: размещение** инструктирует о размещении завершенных работ комплектации в исходящее местоположение промежуточного хранения.

1. Нажмите **ОК**.

    Вы получите сообщение "Работа завершена".

1. Введите код второй работы для заказа на продажу 1.

    Для этого кода работы имеется только одна задача комплектации.

1. Нажмите **ОК**.

    На странице **Заказы на продажу: размещение** отображается код номенклатуры, количество и местоположение для комплектации.

1. В поле **LP** введите номер грузоместа для номенклатуры в указанном местоположении.

    Указанное грузоместо будет являться одним из созданных системой грузомест из задач работы пополнения. Чтобы убедиться в том, что вы записали правильный код грузоместа, проверьте запасы на странице **Список количества в наличии** для номенклатуры, местоположения и количества.

1. Нажмите кнопку **ОК** (символ галочки).
1. Подтвердите инструкции для задачи размещения в исходящее местоположение промежуточного хранения.
1. Нажмите **ОК**.

    Вы получите сообщение "Работа завершена".

Заказ на продажу 2 заблокирован для комплектации, поскольку задача пополнения, с которой он связан, не выполнена. В настоящее время в ячейке комплектации по-прежнему есть 30 шт., а количество пополнения для заказа на продажу 2 — 60 шт. Сумма запасов в наличии и запасов на пополнение (90 шт.) превышает избыточное количество 0,65 PL (или 65 шт.). Прежде чем можно будет выполнить работу по пополнению, необходимо скомплектовать заказ на продажу 3.

1. Введите код работы для заказа на продажу 3.

    Для этого кода работы имеется только одна задача комплектации.

1. Нажмите **ОК**.

    На странице **Заказы на продажу: размещение** отображается код номенклатуры, количество и местоположение для комплектации.

1. В поле **LP** введите номер грузоместа для номенклатуры в указанном местоположении.

    Указанное грузоместо будет являться одним из созданных системой грузомест из задач работы пополнения. Чтобы убедиться в том, что вы записали правильный код грузоместа, проверьте запасы на странице **Список количества в наличии** для номенклатуры, местоположения и количества.

1. Нажмите кнопку **ОК** (символ галочки).
1. Подтвердите инструкции для задачи размещения в исходящее местоположение промежуточного хранения.
1. Нажмите **ОК**.

    Вы получите сообщение "Работа завершена".

Как только сумма количества в наличии в местоположении комплектации и количество пополнения будет ниже порогового значения, можно будет выполнить обработку оставшейся работы по пополнению.

Вернитесь на страницу **Сведения о работе** и обратите внимание на то, что доступность для пополнения готовой части пополнения (для заказа на продажу 2) *Открыто*, поскольку в ячейке есть достаточно свободного места, чтобы принять пополнение.

Теперь можно обработать работу по пополнению, используя мобильное устройство.

1. Перейдите к пункту **Запасы \> Пополнение**.

    Вам будет предложено выполнить оставшуюся работу по пополнению запасов. Отображаются код номенклатуры, количество и местоположение комплектации.

1. В поле **LP** введите номер грузоместа для номенклатуры в указанном местоположении.
1. Нажмите кнопку **ОК** (символ галочки).

    Система создает номер целевого грузоместа для нового грузоместа для скомплектованной номенклатуры.

1. Выберите **ОК**, чтобы подтвердить значение.

    Отображается работа размещения, как которая просит пользователя поместить целевое грузоместо в местоположение пополнения. Местоположение *Размещение* должно быть **06A01R2S1B**.

1. Подтвердите сведения о размещении и нажмите **ОК**.

    Вы получаете сообщения "Работа завершена" и "Нет работы".

Теперь можно скомплектовать заказ на продажу 2. Он был разблокирован после выполнения работы по пополнению, связанной с заказом на продажу.

1. Введите код работы для заказа на продажу 2.

    Для этого кода работы имеется только одна задача комплектации.

1. Нажмите **ОК**.

    На странице **Заказы на продажу: размещение** отображается код номенклатуры, количество и местоположение для комплектации.

1. В поле **LP** введите номер грузоместа для номенклатуры в указанном местоположении.

    Указанное грузоместо будет являться созданным системой грузоместом из задачи работы пополнения. Чтобы убедиться в том, что вы записали правильный код грузоместа, проверьте запасы на странице **Список количества в наличии** для номенклатуры, местоположения и количества.

1. Нажмите кнопку **ОК** (символ галочки).
1. Подтвердите инструкции для задачи размещения в исходящее местоположение промежуточного хранения.
1. Нажмите **ОК**.

    Вы получите сообщение "Работа завершена".

## <a name="notes-and-tips"></a>Примечания и советы

- Эта функция применима для всех типов пополнения: спрос волны, мин/макс, спрос загрузки и слоттинг.
- При необходимости можно вручную переопределить доступность для пополнения для каждого заголовка работ на странице **Сведения о работе**.
- Когда система устанавливает доступность по пополнению запасов, она учитывает все складские запасы, которые уже находятся в местоположении до завершения любой работы.
- Каждая часть работы с заказами на продажу связана с определенной работой по пополнению запасов. Нет соответствующих функций для работы с продажами.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]