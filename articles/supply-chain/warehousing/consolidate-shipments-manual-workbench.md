---
title: Консолидируйте отгрузки, используя рабочее место консолидации отгрузок
description: В этом разделе представлен сценарий, в котором несколько заказов запущены на склад, а затем консолидируются в отгрузки с помощью рабочее место консолидации отгрузок.
author: Mirzaab
ms.date: 05/12/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSShipConsolidationPolicy, WHSShipConsolidationWorkbench, WHSShipConsolidationSetShipment
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-05-01
ms.dyn365.ops.version: 10.0.6
ms.openlocfilehash: 43669bc302ac0d5dd9e6f161e17dde1155aae0f6
ms.sourcegitcommit: 9166e531ae5773f5bc3bd02501b67331cf216da4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2022
ms.locfileid: "8673336"
---
# <a name="consolidate-shipments-by-using-the-shipment-consolidation-workbench"></a>Консолидируйте отгрузки, используя рабочее место консолидации отгрузок

[!include [banner](../includes/banner.md)]

В этом разделе представлен сценарий, в котором несколько заказов запущены на склад, а затем консолидируются в отгрузки с помощью рабочее место консолидации отгрузок.

## <a name="make-demo-data-available"></a>Сделать демонстрационные данные доступными

Сценарий в этом разделе ссылается на значения и записи, включенные в стандартные демонстрационные данные, предоставляемые в Microsoft Dynamics 365 Supply Chain Management. Если вы хотите использовать значения, указанные здесь, в ходе выполнения упражнений, убедитесь, что вы работаете в среде, в которой установлены демонстрационные данные, и настройте юридическое лицо на **USMF** перед началом работы.

## <a name="set-up-shipment-consolidation-policies-and-product-filters"></a>Настройка политик консолидации отгрузок и фильтров продуктов

Описанный здесь сценарий предполагает, что функция уже включена, выполнены упражнения в разделе [Настройка политик консолидации отгрузок](configure-shipment-consolidation-policies.md), а также создаются политики и другие записи, которые описаны здесь. Обязательно выполните эти упражнения перед выполнением этого сценария.

## <a name="turn-on-the-manual-shipment-consolidation-feature"></a>Включение функции консолидации отгрузок вручную

Прежде чем можно будет использовать функцию *Консолидация отгрузок вручную*, необходимо включить ее в вашей системе. Администраторы могут использовать параметры [управления компонентами](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса функции и ее включения. В рабочей области **Управление функциями** эта функция перечисляется следующими способами:

- **Модуль:** *Управление складом*
- **Имя функции:** *консолидация отгрузок вручную*

Как указано в разделе [Настройка политик консолидации отгрузок](configure-shipment-consolidation-policies.md), необходимо также включить функцию *Консолидация отгрузок*, прежде чем можно будет создавать политики. Однако этот шаг уже должен быть завершен.

## <a name="create-the-sales-orders-for-this-scenario"></a>Создание заказов на продажу для этого сценария

Начнем с создания набора заказов на продажу, с которыми можно работать. Необходимо работать со складом, для которого разрешены расширенные складские процессы (WMS). За исключением случаев, когда явно упоминается отдельный склад, этот же склад должен использоваться для каждого из следующих наборов заказов.

Перейти к **Расчеты с клиентами \> заказы \> все заказы на продажу** и создать коллекцию заказов на продажу, в которых имеются параметры, описанные в следующих подразделах.

### <a name="create-order-set-1"></a>Создать набор заказов 1

#### <a name="sales-orders-1-1-and-1-2"></a>Заказы на продажу 1-1 и 1-2

1. Создайте два одинаковых заказа на продажу со следующими параметрами:

    - **Счет клиента:** *US-001*
    - **Способ поставки:** *Airwa-Air*

1. Добавьте строку заказа со следующими параметрами:

    - **Код номенклатуры:** *A0001* (номенклатура, для которой не назначен фильтр **код 4**)
    - **Количество:** *1.00*

1. Выберите **Запасы \> Резервирование**, а затем на панели операций выберите **резервирование лота** для резервирования строки заказа.

#### <a name="sales-order-1-3"></a>Заказ на продажу 1-3

1. Создайте заказ на продажу со следующими параметрами:

    - **Счет клиента:** *US-001*
    - **Способ поставки:** *10*

1. Добавьте строку заказа со следующими параметрами:

    - **Код номенклатуры:** *A0001* (номенклатура, для которой не назначен фильтр **код 4**)
    - **Количество:** *1.00*

1. Выберите **Запасы \> Резервирование**, а затем на панели операций выберите **резервирование лота** для резервирования строки заказа.
1. Добавьте вторую строку заказа со следующими параметрами:

    - **Код номенклатуры:** *A0002* (номенклатура, для которой не назначен фильтр **код 4**)
    - **Количество:** *1.00*
    - **Способ поставки:** *Airwa-Air*

1. Выберите **Запасы \> Резервирование**, а затем на панели операций выберите **резервирование лота** для резервирования второй строки заказа.

### <a name="create-order-set-2"></a>Создать набор заказов 2

#### <a name="sales-orders-2-1-and-2-2"></a>Заказы на продажу 2-1 и 2-2

1. Создайте два одинаковых заказа на продажу со следующими параметрами:

    - **Счет клиента:** *US-002*
    - **Способ поставки:** *Airwa-Air*

1. Добавьте строку заказа со следующими параметрами:

    - **Код номенклатуры:** *M9200* (номенклатура, в которой фильтр **код 4** имеет значение *Воспламеняющиеся*)
    - **Количество:** *1.00*

1. Выберите **Запасы \> Резервирование**, а затем на панели операций выберите **резервирование лота** для резервирования строки заказа.
1. Добавьте вторую строку заказа со следующими параметрами:

    - **Код номенклатуры:** *M9201* (номенклатура, в которой фильтр **код 4** имеет значение *Взрывоопасные*)
    - **Количество:** *1.00*
    - **Способ поставки:** *Airwa-Air*

1. Выберите **Запасы \> Резервирование**, а затем на панели операций выберите **резервирование лота** для резервирования второй строки заказа.

### <a name="create-order-set-3"></a>Создать набор заказов 3

#### <a name="sales-orders-3-1-and-3-2"></a>Заказы на продажу 3-1 и 3-2

1. Создайте два одинаковых заказа на продажу со следующими параметрами:

    - **Счет клиента:** *US-001*
    - **Заявка клиента:** *1*

1. Добавьте строку заказа со следующими параметрами:

    - **Код номенклатуры:** *A0001* (номенклатура, для которой не назначен фильтр **код 4**)
    - **Количество:** *1.00*

1. Выберите **Запасы \> Резервирование**, а затем на панели операций выберите **резервирование лота** для резервирования строки заказа.

#### <a name="sales-orders-3-3-and-3-4"></a>Заказы на продажу 3-3 и 3-4

1. Создайте два одинаковых заказа на продажу со следующими параметрами:

    - **Счет клиента:** *US-001*
    - **Заявка клиента:** *2*

1. Добавьте строку заказа со следующими параметрами:

    - **Код номенклатуры:** *A0001* (номенклатура, для которой не назначен фильтр **код 4**)
    - **Количество:** *1.00*

1. Выберите **Запасы \> Резервирование**, а затем на панели операций выберите **резервирование лота** для резервирования строки заказа.

### <a name="create-order-set-4"></a>Создать набор заказов 4

#### <a name="sales-orders-4-1-and-4-2"></a>Заказы на продажу 4-1 и 4-2

1. Создайте два одинаковых заказа на продажу со следующими параметрами:

    - **Счет клиента:** *US-003*

1. Добавьте строку заказа со следующими параметрами:

    - **Код номенклатуры:** *A0001* (номенклатура, для которой не назначен фильтр **код 4**)
    - **Количество:** *1.00*

1. Выберите **Запасы \> Резервирование**, а затем на панели операций выберите **резервирование лота** для резервирования строки заказа.

#### <a name="sales-orders-4-3-and-4-4"></a>Заказы на продажу 4-3 и 4-4

1. Создайте два одинаковых заказа на продажу со следующими параметрами:

    - **Счет клиента:** *US-004*

1. Добавьте строку заказа со следующими параметрами:

    - **Код номенклатуры:** *A0001* (номенклатура, для которой не назначен фильтр **код 4**)
    - **Количество:** *1.00*

1. Выберите **Запасы \> Резервирование**, а затем на панели операций выберите **резервирование лота** для резервирования строки заказа.

#### <a name="sales-orders-4-5-and-4-6"></a>Заказы на продажу 4-5 и 4-6

1. Создайте два одинаковых заказа на продажу со следующими параметрами:

    - **Счет клиента:** *US-007*
    - **Сайт:** *6*
    - **Склад:** *61*
    - **Кластер:** *ShipCons*

1. Добавьте строку заказа со следующими параметрами:

    - **Код номенклатуры:** *A0001* (номенклатура, для которой не назначен фильтр **код 4**)
    - **Количество:** *1.00*

1. Выберите **Запасы \> Резервирование**, а затем на панели операций выберите **резервирование лота** для резервирования строки заказа.

#### <a name="sales-orders-4-7-and-4-8"></a>Заказы на продажу 4-7 и 4-8

1. Создайте два одинаковых заказа на продажу со следующими параметрами:

    - **Счет клиента:** *US-007*
    - **Сайт:** *6*
    - **Склад:** *61*
    - **Кластер:** Оставьте это поле пустым.

1. Добавьте строку заказа со следующими параметрами:

    - **Код номенклатуры:** *A0001* (номенклатура, для которой не назначен фильтр **код 4**)
    - **Количество:** *1.00*

1. Выберите **Запасы \> Резервирование**, а затем на панели операций выберите **резервирование лота** для резервирования строки заказа.

## <a name="release-the-orders-to-the-warehouse"></a>Запуск заказов на склад

Выполните следующие действия, чтобы запустить каждый заказ на продажу, созданный для этого сценария, на склад.

1. Перейдите в раздел **Расчеты с клиентами \> Заказы \> Все заказы на продажу**.
1. Найдите и выберите заказ на продажу, который требуется запустить.
1. На панели операций на вкладке **Склад** выберите вариант **Действия \> Запуск на склад**, чтобы запустить выбранный заказ на продажу.
1. Повторите эту процедуру для других заказов на продажу, созданных для данного сценария.

## <a name="consolidate-the-shipments-by-using-the-shipment-consolidation-workbench"></a>Консолидируйте отгрузки, используя рабочее место консолидации отгрузок

1. Перейдите на страницу **Управление складом \> Запуск на склад \> Рабочее место консолидации отгрузок**.
1. На панели операций выберите **Изменить запрос**.
1. В диалоговое окно редактора запросов на вкладке **Диапазон** выберите **Добавить**, чтобы добавить строку со следующими настройками в сетку:

    - **Таблица:** *Заказы на продажу*
    - **Поля** — *заказ на продажу*
    - **Критерий:** Введите список номеров заказов на продажу с разделителями-запятыми для каждого набора заказов, созданного для данного сценария.

1. Выберите **OK**, чтобы сохранить ваш запрос и закрыть это диалоговое окно.
1. На панели операций выберите **Консолидация отгрузок**.
1. Выберите все отгрузки, затем на панели операций выберите **Консолидировать**.

## <a name="verify-the-shipments"></a>Проверка отгрузок

Следующая процедура позволяет проверить отгрузки, которые были созданы или обновлены в результате консолидации отгрузок. Используйте его для просмотра каждого набора заказов, созданного для данного сценария, а затем просмотрите подразделы, которые следуют за тем, чтобы убедиться, что получены ожидаемые результаты.

1. Выберите **Управление складом \> Отгрузки \> Все отгрузки**.
1. Найдите и выберите нужную отгрузку.
1. Если при создании или обновлении отгрузки была использована политика консолидации, ее можно увидеть в поле **Политика консолидации отгрузок**.

### <a name="related-shipments-for-order-set-1"></a>Соответствующие отгрузки для набора заказов 1

Должны быть созданы две отгрузки:

- Первая отгрузка содержит три строки и была создана с помощью политики консолидации отгрузок *CustomerMode*.
- Вторая отгрузка, которая не использует режим транспортировки *Airways* поставки, была создана с помощью политики консолидации отгрузок *CustomerOrderNo*.

### <a name="related-shipments-for-order-set-2"></a>Соответствующие отгрузки для набора заказов 2

Должны быть созданы три отгрузки:

- Первая отгрузка содержит номенклатуры *Воспламеняющиеся*.
- Каждая из двух других отгрузок содержит одну строку, которая имеет номенклатуру *Взрывоопасные*.

### <a name="related-shipments-for-order-set-3"></a>Соответствующие отгрузки для набора заказов 3

Должны быть созданы две отгрузки:

- Первая отгрузка содержит строки заказа из заказа на продажу, для которого в поле **Заявка клиента** указано значение *1*.
- Вторая отгрузка содержит строки заказа из заказа на продажу, для которого в поле **Заявка клиента** указано значение *2*.

### <a name="related-shipments-for-order-set-4"></a>Соответствующие отгрузки для набора заказов 4

Должны быть созданы четыре отгрузки:

- Строки из двух заказов для клиента *US-003* сгруппированы в одну отгрузку, используя политику консолидации отгрузок *Кластер заказов*.
- Строки из двух заказов для клиента *US-004* сгруппированы в одну отгрузку, используя политику консолидации отгрузок *Кластер заказов*.
- Строки из заказов на продажу 4-5 и 4-6 для клиента *US-007* сгруппированы в одну отгрузку, используя политику консолидации отгрузок *Кластер заказов*.
- Строки из заказов на продажу 4-7 и 4-8 для клиента *US-007* сгруппированы в одну отгрузку, используя политику консолидации отгрузок *CrossOrder*.

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Политики консолидации отгрузок](about-shipment-consolidation-policies.md)
- [Настройка политик консолидации отгрузок](configure-shipment-consolidation-policies.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]