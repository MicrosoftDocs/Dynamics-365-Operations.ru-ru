---
title: Отложенная обработка перемещения запасов вручную
description: В этом разделе описывается, как использовать отложенную обработку перемещения запасов вручную в Microsoft Dynamics 365 Supply Chain Management.
author: Mirzaab
ms.date: 04/27/2021
ms.topic: article
ms.search.form: WHSWorkProcessingPolicy, WHSWorkDeferredPutProcessingTask
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: Mirzaab
ms.search.validFrom: 2021-04-27
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: 54a202b7e6728bc83022851c901d3c5db17510bf
ms.sourcegitcommit: 8362f3bd32ce8b9a5af93c8e57daef732a93b19e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2021
ms.locfileid: "5956799"
---
# <a name="deferred-processing-of-manual-inventory-movement"></a><span data-ttu-id="8221e-103">Отложенная обработка перемещения запасов вручную</span><span class="sxs-lookup"><span data-stu-id="8221e-103">Deferred processing of manual inventory movement</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="8221e-104">В этом разделе описывается, как использовать отложенную обработку перемещения запасов вручную в Microsoft Dynamics 365 Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="8221e-104">This topic describes how to use deferred processing of manual inventory movement in Microsoft Dynamics 365 Supply Chain Management.</span></span>

<span data-ttu-id="8221e-105">Отложенная обработки позволяет работникам склада продолжать выполнять другую работу, пока операция размещения обрабатывается в фоновом режиме.</span><span class="sxs-lookup"><span data-stu-id="8221e-105">Deferred processing lets warehouse workers continue to do other work while a put operation is processed in the background.</span></span> <span data-ttu-id="8221e-106">Отложенная обработка также полезна, когда сервер может иметь случайное или незапланированное увеличение времени обработки, и увеличение времени обработки может повлиять на производительность работника.</span><span class="sxs-lookup"><span data-stu-id="8221e-106">Deferred processing is useful when the server can have occasional or unplanned increases in processing time, and the increased processing time might affect worker productivity.</span></span> <span data-ttu-id="8221e-107">Тип работы *Перемещение запасов* теперь добавлен в набор типов работы, который поддерживает эта функция.</span><span class="sxs-lookup"><span data-stu-id="8221e-107">The *Inventory movement* work type has now been added to the set of work types that this feature supports.</span></span>

<span data-ttu-id="8221e-108">Фоновую обработку можно включить, используя функцию [Обработка событий приложения склада](warehouse-app-events.md).</span><span class="sxs-lookup"><span data-stu-id="8221e-108">Background processing is achieved by using the [Process warehouse app events feature](warehouse-app-events.md).</span></span>

## <a name="turn-on-this-feature-for-your-system"></a><span data-ttu-id="8221e-109">Включите эту функцию для своей системы</span><span class="sxs-lookup"><span data-stu-id="8221e-109">Turn on this feature for your system</span></span>

<span data-ttu-id="8221e-110">Чтобы эти функции были доступны, включите следующую функцию в [управлении функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md).</span><span class="sxs-lookup"><span data-stu-id="8221e-110">To make this feature available, turn on the following features in [feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md).</span></span> <span data-ttu-id="8221e-111">Необходимо включить их в следующем порядке:</span><span class="sxs-lookup"><span data-stu-id="8221e-111">You must turn them on in this order:</span></span>

1. <span data-ttu-id="8221e-112">Блокировка работы для всей организации</span><span class="sxs-lookup"><span data-stu-id="8221e-112">Organization-wide work blocking</span></span>
1. <span data-ttu-id="8221e-113">Обработка событий приложения склада</span><span class="sxs-lookup"><span data-stu-id="8221e-113">Process warehouse app events</span></span>
1. <span data-ttu-id="8221e-114">Отложенные операции складирования</span><span class="sxs-lookup"><span data-stu-id="8221e-114">Deferred put operations</span></span>
1. <span data-ttu-id="8221e-115">Отложенная обработка операции перемещения запасов вручную</span><span class="sxs-lookup"><span data-stu-id="8221e-115">Deferred processing of manual inventory movement operation</span></span>

## <a name="configure-the-work-processing-policies"></a><span data-ttu-id="8221e-116">Настройка политик обработки работ</span><span class="sxs-lookup"><span data-stu-id="8221e-116">Configure the work processing policies</span></span>

<span data-ttu-id="8221e-117">Чтобы использовать отложенную обработку, необходимо настроить и использовать политику обработки работ.</span><span class="sxs-lookup"><span data-stu-id="8221e-117">To use deferred processing, you must set up and use a work processing policy.</span></span> <span data-ttu-id="8221e-118">Для отложенной обработки размещения функция [Отложенная обработка работ склада](deferred-put.md) поддерживает следующие типы работ: *заказ на продажу*, *выдача по заказу на перемещение* и *пополнение*.</span><span class="sxs-lookup"><span data-stu-id="8221e-118">For deferred put processing, the [Deferred processing of warehouse work feature](deferred-put.md) supports the following work types: *Sales order*, *Transfer order issue*, and *Replenishment*.</span></span> <span data-ttu-id="8221e-119">Функция *Отложенная обработка операции перемещения запасов вручную* добавляет новый тип работы: *Перемещение запасов*.</span><span class="sxs-lookup"><span data-stu-id="8221e-119">The *Deferred processing of manual inventory movement operation* features adds a new work type: *Inventory movement*.</span></span>

<span data-ttu-id="8221e-120">Для политики обработки работ выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="8221e-120">To set up a work processing policy, follow these steps.</span></span>

1. <span data-ttu-id="8221e-121">Перейдите в раздел **Управление складом \> Настройка \> Работа \> Политики обработки работы**.</span><span class="sxs-lookup"><span data-stu-id="8221e-121">Go to **Warehouse management \> Setup \> Work \> Work processing policies**.</span></span>
1. <span data-ttu-id="8221e-122">Либо выберите существующую политику в списке, либо создайте новую политику, выбрав **Создать** в области действий.</span><span class="sxs-lookup"><span data-stu-id="8221e-122">Either select an existing policy in the list, or create a new policy by selecting **New** on the Action Pane.</span></span> <span data-ttu-id="8221e-123">Заголовок каждой из политик имеет следующие поля:</span><span class="sxs-lookup"><span data-stu-id="8221e-123">The header of every policy has the following fields:</span></span>

    - <span data-ttu-id="8221e-124">**Имя политики обработки работы** — имя политики обработки работы.</span><span class="sxs-lookup"><span data-stu-id="8221e-124">**Work processing policy name** – The name of the work processing policy.</span></span>
    - <span data-ttu-id="8221e-125">**Описание** — описание политики обработки работы.</span><span class="sxs-lookup"><span data-stu-id="8221e-125">**Description** – A description of the work processing policy.</span></span>

1. <span data-ttu-id="8221e-126">На экспресс-вкладке **Правила обработки** настройте коллекцию правил, которые будут применяться политикой.</span><span class="sxs-lookup"><span data-stu-id="8221e-126">On the **Processing rules** FastTab, set up the collection of rules that the policy will apply.</span></span> <span data-ttu-id="8221e-127">Следующие кнопки на панели инструментов используются для добавления и удаления правил, как требуется.</span><span class="sxs-lookup"><span data-stu-id="8221e-127">Use the buttons on the toolbar to add or remove rules as you require.</span></span> <span data-ttu-id="8221e-128">Для каждого правила установите следующие поля:</span><span class="sxs-lookup"><span data-stu-id="8221e-128">For each rule, set the following fields:</span></span>

    - <span data-ttu-id="8221e-129">**Тип заказа на работу** — выберите тип работы, к которой применяется политика.</span><span class="sxs-lookup"><span data-stu-id="8221e-129">**Work order type** – Select the work type that the policy applies to.</span></span>
    - <span data-ttu-id="8221e-130">**Операция** — выберите операцию, используемую политикой для обработки.</span><span class="sxs-lookup"><span data-stu-id="8221e-130">**Operation** – Select the operation that the policy is used to process.</span></span> <span data-ttu-id="8221e-131">Если выбрано *Перемещение запасов* в поле **Тип заказа на работу**, нет необходимости задавать это поле, так как операции комплектации и операции размещения обрабатываются как одно событие.</span><span class="sxs-lookup"><span data-stu-id="8221e-131">If you selected *Inventory movement* in the **Work order type** field, you don't have to set this field, because both pick operations and put operations are processed as a single event.</span></span>
    - <span data-ttu-id="8221e-132">**Метод обработки работ** — выберите метод, используемый для обработки строки работ.</span><span class="sxs-lookup"><span data-stu-id="8221e-132">**Work processing method** – Select the method that is used to process the work line.</span></span> <span data-ttu-id="8221e-133">Если выбрано *Немедленно*, поведение напоминает поведение, когда для обработки строки не используются никакие политики обработки работ.</span><span class="sxs-lookup"><span data-stu-id="8221e-133">If you select *Immediate*, the behavior resembles the behavior when no work processing policies are used to process the line.</span></span> <span data-ttu-id="8221e-134">Если выбрано *Отложено*, система применяет отложенную обработку, использующую платформу пакетной обработки.</span><span class="sxs-lookup"><span data-stu-id="8221e-134">If you select *Deferred*, the system will apply deferred processing that uses the batch framework.</span></span>
    - <span data-ttu-id="8221e-135">**Порог отложенной обработки** — если для этого поля установлено значение *0* (ноль), пороговое значение отсутствует.</span><span class="sxs-lookup"><span data-stu-id="8221e-135">**Deferred processing threshold** – If you set this field to *0* (zero), there is no threshold.</span></span> <span data-ttu-id="8221e-136">В этом случае используется метод обработки *Отложено*, если возможно.</span><span class="sxs-lookup"><span data-stu-id="8221e-136">In this case, the *Deferred* processing method is used if possible.</span></span> <span data-ttu-id="8221e-137">Если расчет конкретного порога ниже порога, используется метод *Немедленно*.</span><span class="sxs-lookup"><span data-stu-id="8221e-137">If the specific threshold calculation is below the threshold, the *Immediate* method is used.</span></span> <span data-ttu-id="8221e-138">В противном случае используется метод *Отложено*, если возможно.</span><span class="sxs-lookup"><span data-stu-id="8221e-138">Otherwise, the *Deferred* method is used if possible.</span></span> <span data-ttu-id="8221e-139">Для работ, связанных с продажами и перемещениями, порог рассчитывается как количество связанных строк исходной нагрузки, которые обрабатываются для работы.</span><span class="sxs-lookup"><span data-stu-id="8221e-139">For sales and transfer-related work, the threshold is calculated as the number of associated source load lines that are being processed for the work.</span></span> <span data-ttu-id="8221e-140">Для работы по пополнению порог рассчитывается как количество строк работ, которые пополняются работой.</span><span class="sxs-lookup"><span data-stu-id="8221e-140">For replenishment work, the threshold is calculated as the number of work lines that are being replenished by the work.</span></span> <span data-ttu-id="8221e-141">Устанавливая порог, например, *5* для продаж, вы гарантируете, что меньшие работы, которые имеют менее пяти начальных строк исходной загрузки, не будут использовать отложенную обработку, но более крупные работы будут использовать ее.</span><span class="sxs-lookup"><span data-stu-id="8221e-141">By setting a threshold of, for example, *5* for sales, you ensure that smaller works that have fewer than five initial source load lines won't use deferred processing, but larger works will use it.</span></span> <span data-ttu-id="8221e-142">Порог действует только в том случае, если поле **Метод обработки работы** задан как *Отложено*.</span><span class="sxs-lookup"><span data-stu-id="8221e-142">The threshold has an effect only if the **Work processing method** field is set to *Deferred*.</span></span>
    - <span data-ttu-id="8221e-143">**Пакетная группа отложенной обработки** — укажите пакетную группу, используемую для обработки.</span><span class="sxs-lookup"><span data-stu-id="8221e-143">**Deferred processing batch group** – Specify the batch group that is used for processing.</span></span> <span data-ttu-id="8221e-144">Если выбрано *Перемещение запасов* в поле **Тип заказа на работу**, это поле задавать не нужно, поскольку пакетная группа выбрана в диалоговом окне **Обработка событий приложения склада**.</span><span class="sxs-lookup"><span data-stu-id="8221e-144">If you selected *Inventory movement* in the **Work order type** field, you don't have to set this field, because the batch group is selected in the **Process warehouse app events** dialog box.</span></span>

## <a name="assign-the-work-creation-policy"></a><span data-ttu-id="8221e-145">Назначение политики создания работ</span><span class="sxs-lookup"><span data-stu-id="8221e-145">Assign the work creation policy</span></span>

<span data-ttu-id="8221e-146">Сведения о назначении политики создания работ см. в разделе [Отложенная обработка работ склада](deferred-put.md).</span><span class="sxs-lookup"><span data-stu-id="8221e-146">For details about how to assign a work creation policy, see [Deferred processing of warehouse work](deferred-put.md).</span></span>

## <a name="set-up-a-batch-job-to-process-warehouse-app-events"></a><span data-ttu-id="8221e-147">Настройка пакетного задания для обработки событий приложения склада</span><span class="sxs-lookup"><span data-stu-id="8221e-147">Set up a batch job to process warehouse app events</span></span>

<span data-ttu-id="8221e-148">Для использования процесса *Отложенная обработка операции перемещения запасов вручную* необходимо настроить запланированное пакетное задание.</span><span class="sxs-lookup"><span data-stu-id="8221e-148">To use the *Deferred processing of manual inventory movement operation* process, set up a scheduled batch job.</span></span>

1. <span data-ttu-id="8221e-149">Перейдите **Управление складом \> Периодические задачи \> Обработка событий приложения склада**.</span><span class="sxs-lookup"><span data-stu-id="8221e-149">Go to **Warehouse management \> Periodic tasks \> Process warehouse app events**.</span></span>
1. <span data-ttu-id="8221e-150">В диалоговом окне **Обработка событий приложения склада** на экспресс-вкладке **Выполнять в фоновом режиме** установите для параметра **Пакетная обработка** значение *Да*.</span><span class="sxs-lookup"><span data-stu-id="8221e-150">In the **Process warehouse app events** dialog box, on the **Run in background** FastTab, set the **Batch processing** option to *Yes*.</span></span>
1. <span data-ttu-id="8221e-151">Выберите **Повторение** и настройте расписание выполнения, удовлетворяющее требованиям бизнеса.</span><span class="sxs-lookup"><span data-stu-id="8221e-151">Select **Recurrence**, and set up a run schedule that meets the requirements of your business.</span></span>
1. <span data-ttu-id="8221e-152">В каждом диалоговом окне выберите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="8221e-152">Select **OK** in each dialog box.</span></span>

## <a name="inquire-about-the-warehouse-app-events"></a><span data-ttu-id="8221e-153">Запрос событий приложения склада</span><span class="sxs-lookup"><span data-stu-id="8221e-153">Inquire about the warehouse app events</span></span>

<span data-ttu-id="8221e-154">Можно просмотреть очередь событий и сообщения о событиях, созданные приложением склада, перейдя в раздел **Управление складом \> Запросы и отчеты \> Журналы мобильных устройств \> События приложения склада**.</span><span class="sxs-lookup"><span data-stu-id="8221e-154">You can view the event queue and event messages that the warehouse app generates by going to **Warehouse management \> Inquiries and reports \> Mobile device logs \> Warehouse app events**.</span></span>

<span data-ttu-id="8221e-155">Сообщения о событиях *Перемещение запасов* будут иметь статус *В очереди* при их первоначальном создании.</span><span class="sxs-lookup"><span data-stu-id="8221e-155">The *Inventory movement* event messages will have a status of *Queued* when they are first created.</span></span> <span data-ttu-id="8221e-156">Этот статус означает, что пакетное задание **Обработка событий приложения склада** будет собирать сообщения событий и обрабатывать их.</span><span class="sxs-lookup"><span data-stu-id="8221e-156">This status indicates that the **Process warehouse app events** batch job will pick up the event messages and process them.</span></span> <span data-ttu-id="8221e-157">Когда статус обновляется до значения *Завершено*, из очереди удаляются все соответствующие события.</span><span class="sxs-lookup"><span data-stu-id="8221e-157">When the status is updated to *Completed*, all the related events are deleted from the queue.</span></span>

<span data-ttu-id="8221e-158">Все события *Перемещение запасов* суммируются в одной коллекции по типу событий и складу.</span><span class="sxs-lookup"><span data-stu-id="8221e-158">All the *Inventory movement* events are accumulated under one collection per event type and warehouse.</span></span>

<span data-ttu-id="8221e-159">Пакетное задание будет обрабатывать события приложения склада в соответствии с повторением, настроенным в диалоговом окне **Обработка событий приложения склада**.</span><span class="sxs-lookup"><span data-stu-id="8221e-159">The batch job will process the warehouse app events according to the recurrence that is set up in the **Process warehouse app events** dialog box.</span></span> <span data-ttu-id="8221e-160">Таким образом, до тех пор, пока не будет обработано какое-либо сообщение, код склада можно найти в поле **Идентификатор**.</span><span class="sxs-lookup"><span data-stu-id="8221e-160">Therefore, until a message is processed, you can find the warehouse ID by looking in the **Identifier** field.</span></span>

<span data-ttu-id="8221e-161">Подробные сведения о сообщении содержат сведения о перемещении (например, местоположения "из" и "в").</span><span class="sxs-lookup"><span data-stu-id="8221e-161">The details of the message contain the details of the movement (for example, the "from" and "to" locations).</span></span>

<span data-ttu-id="8221e-162">Дополнительные сведения см. в разделе [Обработка событий приложения склада](warehouse-app-events.md).</span><span class="sxs-lookup"><span data-stu-id="8221e-162">For more information, see [Warehouse app event processing](warehouse-app-events.md).</span></span>

## <a name="configure-the-mobile-device-menu-to-skip-the-deferred-processing-policy"></a><span data-ttu-id="8221e-163">Настройка меню мобильного устройства для пропуска политики отложенной обработки</span><span class="sxs-lookup"><span data-stu-id="8221e-163">Configure the mobile device menu to skip the deferred processing policy</span></span>

<span data-ttu-id="8221e-164">Сведения о настройке меню мобильного устройства, чтобы пропустить политику отложенной обработки, см. в разделе [Отложенная обработка работ склада](deferred-put.md).</span><span class="sxs-lookup"><span data-stu-id="8221e-164">For details about how to configure the mobile device menu to skip the deferred processing policy, see [Deferred processing of warehouse work](deferred-put.md).</span></span>

## <a name="impact-on-closed-work-dates"></a><span data-ttu-id="8221e-165">Влияние на даты закрытия работ</span><span class="sxs-lookup"><span data-stu-id="8221e-165">Impact on closed work dates</span></span>

<span data-ttu-id="8221e-166">Подробные сведения о влиянии на даты закрытия работ см. в разделе [Отложенная обработка работ склада](deferred-put.md).</span><span class="sxs-lookup"><span data-stu-id="8221e-166">For details about the impact on closed work dates, see [Deferred processing of warehouse work](deferred-put.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="8221e-167">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="8221e-167">Additional resources</span></span>

- [<span data-ttu-id="8221e-168">Отложенная обработка работ склада</span><span class="sxs-lookup"><span data-stu-id="8221e-168">Deferred processing of warehouse work</span></span>](deferred-put.md)
- [<span data-ttu-id="8221e-169">Обработка событий приложения склада</span><span class="sxs-lookup"><span data-stu-id="8221e-169">Warehouse app event processing</span></span>](warehouse-app-events.md)
- [<span data-ttu-id="8221e-170">Настройка мобильных устройств для работы склада</span><span class="sxs-lookup"><span data-stu-id="8221e-170">Set up mobile devices for warehouse work</span></span>](configure-mobile-devices-warehouse.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
