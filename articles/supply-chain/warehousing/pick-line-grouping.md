---
title: Группировка строк комплектации
description: В этом разделе содержится обзор группировки строк комплектации.
author: Mirzaab
ms.date: 12/15/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSRFMenuItem,WHSWorkTemplateTable
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2019-12-31
ms.dyn365.ops.version: 10.0.1
ms.openlocfilehash: fe0e63ef742b7bfd09684a94d273a1841d24599c
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2021
ms.locfileid: "5828282"
---
# <a name="pick-line-grouping"></a>Группировка строк комплектации

[!include [banner](../includes/banner.md)]

Группировка строк комплектации позволяет несколько строк работы с одной и той же номенклатурой и местоположением объединить в единую комплектацию, которая представлена пользователю на мобильном устройстве. Таким образом, работники склада могут получить наиболее эффективные инструкции, но необходимое разделение строк работы (для разных контейнеров, заказов и т. д.) все равно может поддерживаться в системе.

## <a name="turn-on-the-pick-line-grouping-feature"></a>Включение функции группирования строк комплектации

Прежде чем использовать эту функцию, она должна быть включена в системе. Администраторы могут использовать рабочую область [управления компонентами](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса этой функции и ее включения, если это требуется. В этом случае функция указана следующим образом:

- **Модуль:** *Управление складом*
- **Название компонента:** *Группировка строк комплектации*

## <a name="set-up-pick-line-grouping"></a>Настройка группировки строк комплектации

### <a name="create-a-mobile-device-menu-item"></a>Создание элемента меню мобильного устройства

1. Перейдите в раздел **Управление складом \> Настройка \> Мобильное устройство \> Пункты меню мобильного устройства**.
1. В области действий выберите **Создать**.
1. В поле **Наименование пункта меню** введите *Комплектация строк группы продаж*.
1. В поле **Название** введите *Комплектация строк группы продаж*. Этот заголовок будет отображаться в меню мобильного устройства.
1. В поле **Режим** выберите *Работа*.
1. Укажите для **Использовать существующую работу** вариант *Да*.
1. На экспресс-вкладке **Общие** установите следующие значения.

    - В поле **Кем управляется** выберите *Управляется пользователем*.
    - Установите параметр **Создать грузоместо** как *Да*.
    - Для параметра **Групповая комплектация** выберите значение *Да*.
    - Примите значения по умолчанию для остальных параметров.

1. Выполните следующие действия, чтобы настроить допустимые классы работы для пункта меню мобильного устройства:

    1. На экспресс-вкладке **Классы работы** выберите **Создать**.
    2. В поле **Код класса работы** можно выбрать *Продажи* или *Комплектация SO* в зависимости от склада, который вы будете использовать. Для этого сценария выберите *Комплектация SO*.

        В поле **Тип заказа на работу** автоматически задается значение *Заказы на продажу*.

### <a name="set-up-a-mobile-device-menu"></a>Настройка меню мобильного устройства

Выполните следующие действия, чтобы добавить только что созданный пункт меню в меню **Исходящие**.

1. Перейдите в раздел **Управление складом \> Настройка \> Мобильное устройство \> Меню мобильного устройства**.
1. На панели операций выберите **Правка**.
1. В области списка отображаются все существующие меню мобильного устройства. Выберите *Исходящие* в списке.
1. В списке **Доступные меню и пункты меню** найдите и выберите только что созданный пункт меню *Комплектация строк группы продаж*.
1. Нажмите кнопку со стрелкой вправо, чтобы переместить пункт меню *Комплектация строк группы продаж* в список **Структура меню**.
1. Используйте кнопки со стрелкой вверх и вниз для перемещения пункта меню в нужную позицию в структуре меню.
1. На панели операций выберите **Сохранить**.

### <a name="set-up-a-work-template"></a>Настройка шаблона работы

1. Перейдите в раздел **Управление складом \> Настройка \> Работа \> Шаблоны работ**.
1. В поле **Тип заказа на работу** выберите *Заказы на продажу*.
1. В сетке **Обзора** найдите и выберите рабочий шаблон, который должен использоваться с этой функцией. Для этого сценария выберите шаблон *51 Скомплектовать для стадии*.
1. На панели операций выберите **Изменить запрос**.
1. В диалоговом окне редактора запросов на вкладке **Сортировка** выберите **Добавить**,, затем установите следующие значения для новой строки:

    - В столбце **Таблица** выберите *Временные проводки работы*.
    - В столбце **Производная таблица** выберите *Временные проводки работы*.
    - В столбце **Поле** выберите *Код номенклатуры*.
    - В столбце **Направление поиска** выберите *Восходящее*.

1. Выберите **ОК**, чтобы закрыть диалоговое окно и сохранить ваш выбор.
1. Появится следующее сообщение: "Группирование будет сброшено, продолжить?" Выберите **Да** для продолжения.

> [!IMPORTANT]
> Для работы функции группирования строк комплектации строки работы должны быть отсортированы по коду номенклатуры. Если строки с одними и теми же номенклатурами не упорядочить одну за другой, они не будут сгруппированы.

## <a name="example"></a>Пример

### <a name="create-picking-work"></a>Создать работы комплектации

Прежде чем вы сможете настроить группировку строк комплектации, необходимо создать некоторые подходящие исходящие работы.

1. Перейдите в раздел **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу**.
1. Выберите **Создать**, чтобы создать заказ на продажу.
1. В поле **Счет клиента** выберите *US-004*.
1. На экспресс-вкладке **Общее** в поле **Склад** выберите *51*.
1. Нажмите **ОК**.
1. На экспресс-вкладке **Строки заказа на продажу** добавьте следующие шесть строк:

    - **Строка 1:** В поле **Код номенклатуры** выберите *M9200*. В поле **Количество** введите *3*.
    - **Строка 2:** В поле **Код номенклатуры** выберите *M9201*. В поле **Количество** введите *3*.
    - **Строка 3:** В поле **Код номенклатуры** выберите *M9202*. В поле **Количество** введите *2*.
    - **Строка 4:** В поле **Код номенклатуры** выберите *M9200*. В поле **Количество** введите *1*.
    - **Строка 5:** В поле **Код номенклатуры** выберите *M9200*. В поле **Количество** введите *3*.
    - **Строка 6:** В поле **Код номенклатуры** выберите *M9202*. В поле **Количество** введите *7*.

    Вот краткое изложение общего количества для каждого элемента:

    - **Номенклатура M9200:** *7* каждой
    - **Номенклатура M9201:** *3* каждой
    - **Номенклатура M9202:** *9* каждой

1. Перед тем, как выпустить заказы на склад, необходимо убедиться, что в местах комплектации достаточно запасов для всех номенклатур по всем заказам. Просмотрите настройку **Директивы места хранения**, чтобы определить, какие ячейки комплектации используются для комплектации заказов на продажу. Если вы используете среду демонстрационных данных Contoso для склада *51*, убедитесь в наличии доступных запасов.

    Теперь необходимо резервировать запасы для каждой строки.

1. На экспресс-вкладке **Строки заказа на продажу** выберите одну из строк, которые необходимо зарезервировать.
1. В меню **Запасы** над сеткой выберите **Резервирование**.
1. На странице **Резервирование** на панели операций выберите **Резервирование лота** для применения резервирования. Затем закройте страницу.
1. Повторите шаги с 8 по 10 для остальных строк, которые должны быть зарезервированы.

    Теперь необходимо выпустить заказ на продажу на склад.

1. На панели операций на вкладке **Склад** выберите вариант **Выпустить на склад**.

    Появится сообщение о том, что была создана отгрузка и волна, и что запись волны была отправлена для выполнения в пакете.

    Когда волна и все нижестоящие задания заполнены, для работы, которая имеет шесть строк, создается код работы. Строки сортируются по коду номенклатуры.

1. Перейдите в раздел **Управление складом \> Работа \> Вся работа** для просмотра созданной работы. Запишите значение **Код работы**, поскольку он потребуется в следующей процедуре.

### <a name="initiate-picking-from-the-mobile-device"></a>Инициация комплектации с мобильного устройства

1. Выполните вход на мобильном устройстве в качестве пользователя, который настроен для склада *51*.
1. На мобильном устройстве выберите меню, включающее новый пункт меню мобильного устройства. Для этого сценария выберите **Исходящие**.
1. Выберите пункт меню **Комплектация строки группы продаж**, чтобы инициировать комплектацию.
1. Введите значения **Код работы**, которое вы записали в предыдущей процедуре.

    Должен отобразиться шаг комплектации, где группируются все строки комплектации для номенклатуры *M9200*, и должна получить инструкцию для комплектации *7* штук номенклатуры *M9200*.

    > [!IMPORTANT]
    > На мобильном устройстве работа по комплектации для трех строк работы комплектации была агрегирована в один шаг комплектации для пользователя.

1. Подтвердите шаг комплектации.
1. Перейдите на страницу работы для кода работы и обратите внимание, что все три строки комплектации для номенклатуры *M9200* были закрыты одновременно.
1. Вернитесь на мобильное устройство и продолжите комплектацию. Должна быть представлена строка работы 4 штук номенклатуры *M9201*. Так как в заказе была только одна строка, агрегировать ничего.
1. Подтвердите шаг комплектации.
1. Последний шаг комплектации на мобильном устройстве агрегирует последние две строки комплектации из заказа на работу.
1. Завершите шаг комплектации для *9* штук номенклатуры *M9202*.
1. Подтвердите шаг размещения и любые дополнительные пары комплектации/размещения для завершения работы.

> [!IMPORTANT]
>
> - Строки работы могут быть сгруппированы только в том случае, если они находятся в последовательности.
> - Следующая функциональность не поддерживается:
>
>   - Номенклатуры, учитываемые в двух единицах измерения
>
>    Если в работе есть какие-либо номенклатуры, учитываемые в двух единицах измерения, вы получаете сообщение об ошибке до начала комплектации.
>
>   - Поштучная комплектация
>   - Строки работы с незавершенной работой пополнения
>   - Комплектация с превышением
>   - Перераспределения номенклатур для недоукомплектованности


[!INCLUDE[footer-include](../../includes/footer-banner.md)]