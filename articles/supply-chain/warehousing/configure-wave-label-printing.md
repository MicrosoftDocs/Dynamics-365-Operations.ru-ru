---
title: Печать этикеток волны
description: В этой теме описывается печать этикеток волны и объясняется, как ее настроить.
author: perlynne
ms.date: 05/01/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSWaveLabel, WHSWaveLabelTemplate, WHSWaveLabelLayoutRow, WHSDocumentRouting, WHSWaveTableListPage, WHSPostMethod, WHSMobileDisplayWaveLabelListLookup, WHSWaveLabelType, WHSWaveLabelTemplateGroup, WHSDocumentRoutingLayout
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: yyyy-mm-dd
ms.dyn365.ops.version: 10.0.0
ms.openlocfilehash: 59c4c100275917f3f9bf489c7d64b276275f1872
ms.sourcegitcommit: 8cb031501a2b2505443599aabffcfece50e01263
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2021
ms.locfileid: "7778091"
---
# <a name="wave-label-printing"></a>Печать этикеток волны

[!include [banner](../includes/banner.md)]

Печать этикеток волны предлагает альтернативный подход к печати этикеток с помощью нового метода шага волны, который позволяет создавать и печатать этикетки непосредственно из шаблона волны при выполнении волны. Поэтому этикетки будут доступны до того, когда работники запускают заказ на работу на мобильном устройстве. Работники могут затем закрепить требуемые этикетки при комплектации, а не после комплектации.

В функции печати этикеток волны используется язык программирования Zebra (ZPL) для создания макета этикеток. Макет этикетки разделяется на три раздела (верхний колонтитул, основной текст и нижний колонтитул), чтобы иметь возможность использовать этикетки с повторяющейся структурой. Шаблоны этикеток волны указывают системе, какую структуру наклеек использовать. Пользователи могут указать используемый принтер. Они также могут печатать этикетки на нескольких принтерах одновременно, по мере необходимости. На странице **История этикеток волны** отображается запись всех этикеток, которые были созданы с помощью этой настройки.

Можно печатать этикетки и разбирать их на основе заголовков работ, можно печатать этикетки-разделители для каждого заголовка работы, а также печатать этикетки содержимого контейнеров, этикетки коробок и другие похожие этикетки.

> [!NOTE]
> Эта функция не заменяет существующие функции печати этикеток на основе маршрутизации документов.

Печать этикеток волны предлагает следующие усовершенствования:

- Печать этикеток в соответствии с количеством упаковок в одной строке работы без использования контейнеризации. ("Упаковка" — это единица измерения, которая указана в строках группы упорядочения единиц.)
- Печать нескольких различных последовательностей этикеток (например, этикеток коробок и палет).
- Включение перечисления этикеток (например, 1/124, 2/124,... 124/124) и указание диапазона перечисления (например, строка работы, строка загрузки или отгрузка).
- Создание и печать кода транспортной накладной на этикетках перед созданием транспортной накладной.
- Создание уникального порядкового кода контейнера отгрузки (SSCC) для каждой упаковки и включение его в каждую этикетку.
- Создание GS1-совместимых номерных серий для кодов транспортных накладных и кодов SSCC.
- Повторная печать этикеток с мобильных устройств и с расширенного клиента.
- Аннулирование этикеток (например, в случае недостатка для комплектации) и их повторная печать.
- Очистите журнал этикеток волны.
- Улучшения в макетах маршрутизации документов являются общими для макетов маршрутизации документов и макетов этикеток волны. (Дополнительные сведения см. в разделе [Макет маршрутизации документов для грузомест](../warehousing/document-routing-layout-for-license-plates.md).)

Эти улучшения повышают эффективность маркировки упаковок перед погрузкой на палеты. Они особенно полезны компаниям, которые осуществляют отгрузку крупным розничным продавцам, которые автоматически подтверждают приемку по заказам путем сканирования каждой упаковки отдельно.

> [!NOTE]
> Сценарии конфигурации, описанные в этом разделе, можно реализовать отдельно или в сочетании, в зависимости от бизнес-требований. Можно разработать несколько шаблонов этикеток волны, которые работают последовательно (как показано в сценарии 3). Например, можно использовать сценарий 1 для печати этикеток и сценарий 2 для печати этикеток палет (если размер и компоновка палет в запасах различаются).

## <a name="turn-on-the-wave-label-printing-feature"></a>Включение функции печати этикеток волны

В Supply Chain Management версии 10.0.21 эта функция является обязательной, поэтому она включается по умолчанию и не может быть отключена снова. Однако эта функция по прежнему указана в области [Управление функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) следующим образом:

- **Модуль:** *Управление складом*
- **Имя функции:** *Печать этикеток волны*

## <a name="scenario-1-wave-label-printing-where-a-single-wave-label-is-generated"></a>Случай 1. Печать этикеток волны, в которой создается одна этикетка волны

В этом сценарии показано, как компания может печатать этикетки отгрузки для крупного розничного продавца, который автоматически подтверждает приемку заказов путем сканирования каждой упаковки отдельно.

В этом сценарии показан сквозной поток.

### <a name="make-demo-data-available"></a>Сделать демонстрационные данные доступными

Для выполнения этого сценария необходимо установить демонстрационные данные, а также необходимо выбрать юридическое лицо **USMF**.

### <a name="make-sure-that-the-wave-label-method-is-available"></a>Убедитесь, что доступен метод этикеток волны

Возможно, придется повторно создать методы обработки волны, чтобы сделать доступным метод печати этикеток волны.

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Методы обработки волн**.
1. Убедитесь, что **waveLabelPrinting** есть в списке. Если его нет, выберите **Повторно создать методы** на панели операций, чтобы добавить его.

### <a name="configure-a-wave-template"></a>Настройка шаблона волны

Шаблоны волн позволяют связывать отдельные экземпляры методов волны с соответствующим шаблоном этикетки волны.

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Шаблоны волны**.
1. Выберите шаблон, например **62 Отгрузка по умолчанию**.
1. На экспресс-вкладке **Методы** переместите метод **Печать этикеток волны** в столбец **Выбранные методы**.
1. В столбце **Выбранные методы** выберите метод **Печать этикеток волны** и задайте для его поля **Код шага волны** значение *PrintLabel*. Дополнительные сведения о кодах шага волны см. в разделе [Коды шагов волны](wave-step-codes.md).

### <a name="create-a-wave-label-layout"></a>Создание макета этикеток волны

Макет этикетки определяет, какая информация печатается на этикетке и как она была размещается. Здесь вводится код ZPL, который отправляется на принтер.

1. Перейдите в раздел **Управление складом \> Настройка \> Маршрутизация документов \> Печать этикеток волны**.
1. Создайте запись со следующими параметрами:

    - **Код макета этикетки:** *Упаковка*
    - **Описание:** *Упаковка (SSCC)*

1. На панели операций выберите **Сохранить**.
1. В области действий выберите **Параметры строки этикетки волны**.

    Будет открыта страница **Параметры строки этикетки волны**. Здесь можно настроить динамическую часть этикетки.

1. Добавьте строку со следующими параметрами:

    - **Код строки:** *WaveLabel*
    - **Имя таблицы строк:** *WHSWaveLabel*
    - **Положение начала строки:** *0*

        В этом поле определяется вертикальная позиция, с которой строка будет начинаться на этикетке.

    - **Высота строки:** *0*

        Это поле определяет высоту каждой строки (в пунктах) в соответствии со стандартом ZPL. Высота строки является положительной для горизонтальных этикеток и отрицательных для вертикальных этикеток. Поскольку в данном примере имеется только одна строка, можно установить значение равным *0* (нулю).

    - **Строк на странице:** *1*

        В этом поле определяется число строк, которое может быть напечатано на каждой этикетке.

        > [!NOTE]
        > Эта настройка приведет к печати отдельной этикетки ZPL для каждой записи в таблице этикеток волны.

1. Закройте страницу.
1. На панели операций выберите **Изменить запрос**.
1. В диалоговом окне редактора запросов на вкладке **Диапазон** добавьте строку со следующими параметрами:

    - **Таблица:** *Строки работ*
    - **Производная таблица:** *Строки работ*
    - **Поле:** *Тип работы*
    - **Критерии:** *Комплектации*

    Этот запрос гарантирует, что в этикетке будут печататься только строки работа типа "Комплектация", а не строки типа "Размещение".

1. Если необходимо распечатать код транспортной накладной, на вкладке **Объединения** выберите таблицу **Строки работ** и присоедините к ней таблицу **Отгрузки**.
1. Закройте диалоговое окно редактора запросов.
1. На экспресс-вкладке **Макет текста принтера** имеется три раздела для написания кода принтера: **Раздел заголовка**, **Раздел текста** и **Раздел нижнего колонтитула**. В разделе **Раздел заголовка** в поле **Заголовок этикетки** введите код для требуемого заголовка. Например, при использовании принтеров Zebra можно использовать следующий код.

    ```plaintext
    CT~~CD,~CC^~CT~
    ^XA~TA000~JSN^LT0^MNW^MTT^PON^PMN^LH0,0^JMA^PR8,8~SD15^JUS^LRN^CI0^XZ
    ^XA
    ^MMT
    ^PW812
    ^LL1218
    ^LS0
    ^FT85,505^A0N,28,28^FH\^FD$WHSShipmentTable.CustomerReq$^FS
    ^FO1,173^GB809,0,1^FS
    ^FO0,391^GB809,0,1^FS
    ^FO3,599^GB809,0,2^FS
    ^FO420,176^GB0,216,1^FS
    ^FO313,3^GB0,169,1^FS
    ^FO0,807^GB809,0,1^FS
    ^FT529,370^A0N,28,26^FH\^FD$WHSShipmentTable.BillOfLadingId$^FS
    ^BY2,3,132^FT25,344^BCN,,N,N
    ^FD>:(420)>38102>63^FS
    ^FT526,315^A0N,28,28^FH\^FD ^FS
    ^FT437,248^A0N,28,28^FH\^FDCARR: $WHSShipmentTable.SCAC$^FS
    ^FT425,201^A0N,23,24^FH\^FDCARRIER:^FS
    ^FT17,68^A0N,20,19^FH\^FDIntershipping, Inc.^FS
    ^FT15,99^A0N,20,19^FH\^FD1000 Shipping Lane^FS
    ^FT16,158^A0N,20,19^FH\^FD ^FS
    ^FT438,368^A0N,28,28^FH\^FDB/L#^FS
    ^FT15,128^A0N,20,19^FH\^FDShelbyville TN 38102^FS
    ^FT19,203^A0N,23,24^FH\^FD(420) SHIP TO POSTAL CODE^FS
    ^FT331,39^A0N,28,28^FH\^FDShip To:^FS
    ^FT14,39^A0N,28,28^FH\^FDShip From:^FS
    ^FT331,67^A0N,23,24^FH\^FDWAL-MART DC 1111A-ABC DIS^FS
    ^FT330,98^A0N,23,24^FH\^FDDEPT 10^FS
    ^FT329,166^A0N,23,24^FH\^FDSpringfield TN 39021^FS
    ^FT330,134^A0N,23,24^FH\^FD100 Main Street^FS
    ^FT19,504^A0N,28,28^FH\^FDPO#:^FS
    ^FT437,316^A0N,28,28^FH\^FDPRO#^FS
    ^FT105,371^A0N,28,28^FB130,1,0,C^FH\^FD(420)39021^FS
    ```

1. В разделе **Раздел текста** в поле **Текст этикетки** введите код ZPL для требуемого текста. Рассмотрим пример:

    ```plaintext
    <Row name="WaveLabel">
    ^FT127,439^A0N,28,28^FH\^FD$WHSWaveLabel.SeqNum$^FS
    ^FT256,439^A0N,28,28^FH\^FD$WHSWaveLabel.NumberOfLabels$^FS
    ^FT17,439^A0N,28,28^FH\^FDCARTON^FS
    ^FT522,422^A0N,23,24^FH\^FDVPN:^FS
    ^FT74,1156^A0N,28,28^FH\^FDSSCC-18^FS
    ^FT21,579^A0N,28,28^FH\^FDItem name:^FS
    ^FT107,580^A0N,28,28^FH\^FD$WHSWaveLabel.LabelItemName$^FS
    ^FT576,423^A0N,23,21^FH\^FD$WHSWaveLabel.LabelItemId$^FS
    ^FT252,1155^A0N,32,31^FH\^FD(00)$WHSWaveLabel.WaveLabelId$^FS
    ^BY4,3,283^FT66,1115^BCN,,N,N
    ^FD>;>800$WHSWaveLabel.WaveLabelId$^FS
    ^FT194,439^A0N,28,28^FH\^FDof^FS
    </Row>
    ```

1. В разделе **Раздел текста** в поле **Нижний колонтитул этикетки** введите код ZPL для требуемого нижнего колонтитула. Рассмотрим пример:

    ```plaintext
    ^PQ1^XZ
    ```

    > [!NOTE]
    > При этой настройке будет напечатана одна копия каждой этикетки. Если требуется больше копий (например, одна копия для каждой из сторон палеты), установите значение **n** для раздела **\^PQn** в нижнем колонтитуле равным требуемому числу копий. Например, чтобы напечатать четыре копии каждой этикетки, укажите **\^PQ4**.

Теперь этикетка готова к использованию.

### <a name="create-a-wave-label-type"></a>Создание типа этикеток волны

Типы этикеток волн используются для связывания шаблонов этикеток волн с единицей в строках группы последовательностей единиц.

1. Перейдите в раздел **Управление складом \> Настройка \> Маршрутизация документов \> Типы этикеток волны**.
1. Добавьте тип этикетки волны со следующими параметрами:

    - **Тип этикетки:** *Упаковка*
    - **Описание:** *Упаковка*

### <a name="set-up-unit-sequence-groups"></a>Настройка групп упорядочения единиц

Затем настройте группу упорядочения единиц для типа этикеток волны.

1. Перейдите в раздел **Управление складом \> Настройка \> Склад \> Группы упорядочения единиц**.
1. Выберите группу **штука, ящик, палета**.
1. Для строки **Ящик** введите в поле **Тип уровня волны** значение *Упаковка*.

### <a name="create-a-wave-label-template"></a>Создание шаблона этикеток волны

Затем создайте шаблон этикетки волны для типа этикеток волн.

1. Перейдите в раздел **Управление складом \> Настройка \> Маршрутизация документов \> Шаблоны этикеток волны**.
1. Добавьте шаблон этикетки волны, затем задайте следующие значения в заголовке:

    - **Наименование шаблона этикетки:** *Этикетки для упаковки*
    - **Описание:** *Этикетки для упаковки*
    - **Код шага волны:** *PrintLabel*
    - **Склад:** *62*

1. На экспресс-вкладке **Общие** задайте в поле **Тип этикетки волны** значение *Упаковка*.
1. На экспресс-вкладке **Сведения шаблона этикетки волны** добавьте новую строку со следующими настройками:

    - **Код макета этикетки:** *Упаковка*
    - **Имя принтера:** выберите подходящий принтер ZPL.
    - **Выполнение запроса:** *Да* (Этот параметр не является обязательным, но рекомендуется для достижения оптимальной производительности.)

1. На панели операций выберите **Сохранить**.
1. Необязательно: если вы настраиваете дизайн этикеток для определенного клиента, необходимо создать запрос, чтобы найти учетную запись клиента. На экспресс-вкладке **Сведения шаблона этикетки волны** выберите **Изменить запрос**. Затем в диалоговом окне редактора запросов на вкладке **Диапазон** добавьте строку со следующими параметрами:

    - **Таблица:** *Отгрузки*
    - **Производная таблица:** *Отгрузки*
    - **Поле:** *Номер учетной записи*
    - **Критерии:** введите соответствующий номер учетной записи клиента.

    После завершения нажмите кнопку **OK**, чтобы закрыть диалоговое окно редактора запросов.

1. На панели операций выберите **Изменить запрос**, чтобы открыть диалоговое окно редактора запросов для всего шаблона этикетки.
1. В диалоговом окне редактора запросов на вкладке **Сортировка** добавьте строку со следующими параметрами:

    - **Таблица:** *Строки работ*
    - **Производная таблица:** *Строки работ*
    - **Поле:** *Код строки загрузки ссылки (ИД записи)*
    - **Направление поиска:** *Восходящее*

1. Выберите **ОК**, чтобы закрыть диалоговое окно редактора запроса.
1. В окне сообщение будет предложено подтвердить операцию сброса группы. Выберите **Да** для продолжения.
1. В области действий выберите **Группа шаблонов этикеток волн**.
1. В диалоговом окне **Группа шаблонов этикеток волн** выберите строку, в которой поле **Имя поля ссылки** имеет значение *Код строки загрузки ссылки*, затем установите флажок **Код сборки этикетки** для этой строки.

    > [!NOTE]
    > Эта настройка создаст одну последовательность этикеток ("Упаковка 1 из X") для каждой строки загрузки в волне, независимо от настройки группировки работ. Эта последовательность этикеток может быть распечатана в макете этикеток.

### <a name="configure-number-sequence-extensions"></a>Настройка расширений номерной серии

Расширения номерных серий управляют GS1-соответствием для определенных номерных серий. Эта настройка не является обязательной для текущего сценария. Дополнительные сведения и инструкции по настройке см. в разделе [Настройка расширений номерных серий](../warehousing/configure-number-sequence-extensions.md).

### <a name="create-a-sales-order-and-release-it-to-the-warehouse"></a>Создание заказа на продажу и выпуск его на склад

1. Перейдите в раздел **Продажи и маркетинг \> Заказ на продажу \> Все заказы на продажу**.
1. Создайте заказ на продажу со следующими параметрами:

    - **Счет клиента:** *US-001*
    - **Склад:** *62*

1. Добавьте две строки заказа на продажу со следующими настройками:

    - Строка заказа на продажу 1:

        - **Код номенклатуры:** *A0001*
        - **Количество:** *9024*
        - **Единица измерения:** *шт.* (9024 шт. = 376 коробок = 47 палет)

    - Строка заказа на продажу 2:

        - **Код номенклатуры:** *A0002*
        - **Количество:** *9016*
        - **Единица измерения:** *шт.* (9016 шт. = 322 коробки = 46 палет)

    > [!NOTE]
    > Представленные здесь номенклатуры и количества являются только примерами. Они должны использовать ранее определенную группу последовательности единиц измерения, подходящие преобразования единиц измерения из *шт.* в *коробки* и в *палеты*, для которых должны быть запасы на складе *62*. Дополнительные сведения см. в разделе [Единицы измерения и политики хранения](unit-measure-stocking-policies.md).

1. Выберите строку заказа на продажу 1. Затем в разделе **Строка заказа на продажу** в меню **Запасы** выберите **Резервирования**.
1. На странице **Резервирование** в области действий выберите **Зарезервировать лот**, затем закройте страницу.
1. Повторите шаги 4 и 5 для строки заказа на продажу 2.
1. На панели операций на вкладке **Склад** выберите вариант **Выпустить на склад**.

    Имеют место следующие события:

    - Система обрабатывает созданную отгрузку, используя шаблон, содержащий шаг печати этикеток. Макет этикетки будет использоваться для определения формата этикетки, а результатом будет этикетка, которая печатается на принтере, выбранном в шаблоне этикетки.
    - Этикетки волны создаются и печатаются. Число этикеток будет равно количеству коробок (в данном примере 376 этикеток коробок для строки 1 и 322 этикетки коробок для строки 2).
    - Для отгрузок создается новый код транспортной накладной. Если настроены расширения номерной серии, коды этикеток волны будут соответствовать формату номера **SSCC-18**. 

На следующих страницах можно просматривать и перепечатывать этикетки волны. На панели операций на каждой странице на вкладке **Отгрузки** в группе **Связанные сведения** выберите **Этикетки волны**.

- Все отгрузки \> Сведения об отгрузках
- Все загрузки \> Сведения о загрузках
- Все волны
- Этикетки волны
- История этикеток волны

## <a name="scenario-2-wave-label-printing-for-containerization-without-wave-label-records"></a>Сценарий 2. Печать этикеток для контейнеризации (без записей этикеток волны)

Этот сценарий позволяет печатать этикетки волны, когда используется контейнеризация для автоматического разбиения номенклатур на коробки и, таким образом, не требуется запись этикеток волны. В этом случае идентификатор контейнера выступает в качестве местозаполнителя для SSCC.

Ниже приведены основные различия между этим сценарием и сценарием 1:

- **Шаблоны этикеток волны:** вы не будете выбирать тип этикеток волны для шаблона волны, и при этом не требуется группирование сборки этикеток. В противном случае будет настроен шаблон этикетки волны и ссылка на шаблон волны аналогично описанию в сценарии 1. Чтобы не допустить создания этикеток волны, необходимо оставить поле типа этикеток волны пустым.
- **Макет этикеток волны:** вы настроите параметры строки макета этикеток волны для строк работы вместо записей этикеток волны. Необходимо настроить параметр строки для макета этикеток, используя таблицу **WHSWorkLine** вместо таблицы **WHSWaveLabel**. Параметр **Строк на странице** определяет количество строк, которое будет иметь раздел текста. 

Эта конфигурация также подходит для бизнес-сценариев, в которых несколько различных номенклатур упаковываются в одну маркированную коробку или на палету, и этот процесс упаковки может быть определен при помощи создания работы (например, работы, сгруппированной по отгрузке).

В этом сценарии показан сквозной поток.

### <a name="make-demo-data-available"></a>Сделать демонстрационные данные доступными

Для выполнения этого сценария необходимо установить демонстрационные данные, а также необходимо выбрать юридическое лицо **USMF**.

### <a name="make-sure-that-the-wave-label-method-is-available"></a>Убедитесь, что доступен метод этикеток волны

Возможно, придется повторно создать методы обработки волны, чтобы сделать доступным метод печати этикеток волны.

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Методы обработки волн**.
1. Убедитесь, что **waveLabelPrinting** есть в списке. Если его нет, выберите **Повторно создать методы** на панели операций, чтобы добавить его.

### <a name="set-up-a-wave-template"></a>Настройка шаблона волны

Шаблоны волн позволяют связывать отдельные экземпляры методов волны с соответствующим шаблоном этикетки волны.

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Шаблоны волны**.
1. Выберите шаблон, например **63 Контейнеризация**.
1. На экспресс-вкладке **Методы** переместите метод **Печать этикеток волны** в столбец **Выбранные методы**.
1. В столбце **Выбранные методы** выберите метод **Печать этикеток волны** и задайте для его поля **Код шага волны** значение *PrintLabel*. Дополнительные сведения о кодах шага волны см. в разделе [Коды шагов волны](wave-step-codes.md).

### <a name="create-a-wave-label-layout"></a>Создание макета этикеток волны

1. Перейдите в раздел **Управление складом \> Настройка \> Маршрутизация документов \> Печать этикеток волны**.
1. Создайте запись со следующими параметрами:

    - **Код макета этикетки:** *Упаковка*
    - **Описание:** *Упаковка (SSCC)*

1. На панели операций выберите **Сохранить**.
1. В области действий выберите **Параметры строки этикетки волны**.

    Будет открыта страница **Параметры строки этикетки волны**. Здесь можно настроить динамическую часть этикетки.

1. Добавьте строку со следующими параметрами:

    - **Код строки:** *WorkLine*
    - **Имя таблицы строк:** *WHSWorkLine*
    - **Положение начала строки:** *500*

        В этом поле определяется вертикальная позиция, с которой строка будет начинаться на этикетке.

    - **Высота строки:** *-50*

        Это поле определяет высоту каждой строки. Высота строки является положительной для горизонтальных этикеток и отрицательных для вертикальных этикеток.

    - **Строк на странице:** *5*

        В этом поле определяется число строк, которое может быть напечатано на каждой этикетке.

        > [!NOTE]
        > При этой настройке будет распечатано несколько этикеток ZPL на работу, где каждая страница может содержать до пяти строк работы. Например, если для контейнера, имеющего 12 строк, печатается этикетка, будут распечатаны три этикетки. Если требуется напечатать отдельную этикетку для каждой строки комплектации, установите значение *1*.

1. Закройте страницу.
1. На панели операций выберите **Изменить запрос**.
1. В диалоговом окне редактора запросов на вкладке **Диапазон** добавьте строку со следующими параметрами:

    - **Таблица:** *Строки работ*
    - **Производная таблица:** *Строки работ*
    - **Поле:** *Тип работы*
    - **Критерии:** *Комплектации*

1. Если необходимо распечатать код транспортной накладной, на вкладке **Объединения** выберите таблицу **Строки работ** и присоедините к ней таблицу **Отгрузки**.
1. Закройте диалоговое окно редактора запросов.
1. На экспресс-вкладке **Макет текста принтера** имеется три раздела для написания кода принтера: **Раздел заголовка**, **Раздел текста** и **Раздел нижнего колонтитула**. В разделе **Раздел заголовка** в поле **Заголовок этикетки** введите код для требуемого заголовка. Например, при использовании принтеров Zebra можно использовать следующий код.

    ```plaintext
    CT~~CD,~CC^~CT~
    ^XA
    ^LH10,10
    ^FO0,0 ^AT ^FD$WHSWorkTable.ContainerId$ ^FS
    ^FO0,75 ^AT ^FD$WHSWorkLine.ShipmentId$ ^FS
    ^FO0,150 ^AT ^FD$WHSShipmentTable.BillOfLadingId$ ^FS
    ```

1. В разделе **Раздел текста** в поле **Текст этикетки** введите код ZPL для требуемого текста. Рассмотрим пример:

    ```plaintext
    <Row name="WorkLine">
    <Heading>
    //Optional heading for section of rows
    </Heading>
    ^FO0,450 ^AT ^FDItem ^FS
    ^FO200,450 ^AT ^FDQuantity ^FS
    ^FO0,[[YPos]] ^AT ^FD$WHSWorkLine.ItemId$ ^FS
    ^FO200,[[YPos]] ^AT ^FD$WHSWorkLine.QtyWork$ ^FS
    </Row>
    ```

1. В разделе **Раздел текста** в поле **Нижний колонтитул этикетки** введите код ZPL для требуемого нижнего колонтитула. Рассмотрим пример:

    ```plaintext
    ^PQ1^XZ
    ```

    > [!NOTE]
    > При этой настройке будет напечатана одна копия каждой этикетки. Если требуется больше копий (например, одна копия для каждой из сторон палеты), установите значение **n** для раздела **\^PQn** в нижнем колонтитуле равным требуемому числу копий. Например, чтобы напечатать четыре копии каждой этикетки, укажите **\^PQ4**.

Теперь этикетка готова к использованию.

### <a name="create-a-wave-label-template"></a>Создание шаблона этикеток волны

1. Перейдите в раздел **Управление складом \> Настройка \> Маршрутизация документов \> Шаблоны этикеток волны**.
1. Добавьте шаблон этикетки волны, затем задайте следующие значения в заголовке:

    - **Наименование шаблона этикетки:** *Этикетки для контейнеров*
    - **Описание:** *Этикетки для контейнеров*
    - **Код шага волны:** *PrintLabel*
    - **Склад:** *63*

1. На экспресс-вкладке **Сведения шаблона этикетки волны** добавьте строку со следующими настройками:

    - **Код макета этикетки:** *Контейнер*
    - **Имя принтера:** выберите подходящий принтер ZPL.
    - **Выполнение запроса:** *Да* (Этот параметр не является обязательным, но рекомендуется для достижения оптимальной производительности.)

1. На панели операций выберите **Сохранить**.
1. Необязательно: если вы настраиваете дизайн этикеток для определенного клиента, необходимо создать запрос, чтобы найти учетную запись клиента. На экспресс-вкладке **Сведения шаблона этикетки волны** выберите **Изменить запрос**. Затем в диалоговом окне редактора запросов на вкладке **Диапазон** добавьте строку со следующими параметрами:

    - **Таблица:** *Отгрузки*
    - **Производная таблица:** *Отгрузки*
    - **Поле:** *Номер учетной записи*
    - **Критерии:** введите соответствующий номер учетной записи клиента.

    После завершения нажмите кнопку **OK**, чтобы закрыть диалоговое окно редактора запросов.

### <a name="configure-number-sequence-extensions"></a>Настройка расширений номерной серии

Расширения номерных серий управляют GS1-соответствием для определенных номерных серий. Эта настройка не является обязательной для текущего сценария. Дополнительные сведения и инструкции по настройке см. в разделе [Настройка расширений номерных серий](../warehousing/configure-number-sequence-extensions.md).

### <a name="create-a-sales-order-and-release-it-to-the-warehouse"></a>Создание заказа на продажу и выпуск его на склад

1. Перейдите в раздел **Продажи и маркетинг \> Заказ на продажу \> Все заказы на продажу**.
1. Создайте заказ на продажу со следующими параметрами:

    - **Счет клиента:** *US-001*
    - **Склад:** *63*

1. Добавьте пять строк заказа на продажу:

    - Строка заказа на продажу 1:

        - **Код номенклатуры:** *A0001*
        - **Количество:** *10*

    - Строка заказа на продажу 2:

        - **Код номенклатуры:** *A0002*
        - **Количество:** *20*

    - Строка заказа на продажу 3:

        - **Код номенклатуры:** *L0006*
        - **Количество:** *20*

    - Строка заказа на продажу 4:

        - **Код номенклатуры:** *L0100*
        - **Количество:** *40*

    - Строка заказа на продажу 5:

        - **Код номенклатуры:** *L0101*
        - **Количество:** *50*

    > [!NOTE]
    > Представленные здесь номенклатуры и количества являются только примерами. Они должны иметь запасы на указанном складе.

1. Выберите строку заказа на продажу 1. Затем в разделе **Строка заказа на продажу** в меню **Запасы** выберите **Резервирования**.
1. На странице **Резервирование** в области действий выберите **Зарезервировать лот**, затем закройте страницу.
1. Повторите шаги 4 и 5 для каждой дополнительной строки заказа на продажу.
1. На панели операций на вкладке **Склад** выберите вариант **Выпустить на склад**.

    Имеют место следующие события:

    - Система обрабатывает созданную отгрузку, используя шаблон, содержащий шаг печати этикеток. Макет этикетки будет использоваться для определения формата этикетки, а конечным результатом будет этикетка, которая содержит пять строк и печатается на принтере, выбранном в шаблоне этикетки.
    - Для отгрузок создается новый код транспортной накладной. Если настроены расширения номерной серии, коды этикеток волны будут соответствовать формату номера **SSCC-18**. 

Эти этикетки волны можно перепечатать, перейдя в раздел **Управление складом \> Запросы и отчеты \> История этикеток волны**.

## <a name="scenario-3-wave-label-printing-for-multi-tiered-labels"></a>Сценарий 3. Печать этикеток волны для многоуровневых этикеток

В этом сценарии показано, как использовать функции печати этикеток волны, когда складские процессы требуют наличия нескольких уровней этикеток отгрузки. Например, может требоваться печатать отдельные этикетки для коробок и палет, а разделительная этикетка должна быть распечатана для всей отгрузки. Разделительные этикетки представляют собой отдельный тип этикетки, который может использоваться в качестве разделителя между рулонами и контейнерами, например этикетки для кода отгрузки и штрихкода, чтобы можно было легко отсортировать этикетки после их печати.

Основное различие между конфигурацией этого сценария и конфигурацией сценария 1, помимо того, что включены разделительные этикетки, состоит в том, что несколько типов этикеток волны должны быть связаны с шаблонами этикеток волны и строками группы последовательности единиц. Для выполнения этой настройки в этом сценарии настраиваются следующие элементы:

- **Методы обработки волн:** вы пометите метод этикеток волны как "повторяемый", добавите его два (или более) раз в шаблон волн и зададите другие коды шагов волны.
- **Шаблоны этикеток волны:** вы настроите шаблоны этикеток волны и свяжите их с шаблоном волны. Каждый шаблон этикетки волны имеет свой собственный тип этикетки волны.
- **Макеты этикеток волны:** будет создано несколько макетов этикеток волны. Для каждого "уровня" этикеток будет использоваться отдельный макет этикеток, а также будет макет разделительной этикетки.

В этом сценарии показан сквозной поток.

### <a name="make-demo-data-available"></a>Сделать демонстрационные данные доступными

Для выполнения этого сценария необходимо установить демонстрационные данные, а также необходимо выбрать юридическое лицо **USMF**.

### <a name="set-up-a-wave-process-method"></a>Настройка метода обработки волны

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Методы обработки волн**.
1. Убедитесь, что **waveLabelPrinting** есть в списке. Если его нет, выберите **Повторно создать методы** на панели операций, чтобы добавить его.
1. Для метода **waveLabelPrinting** установите флажок **Сделать метод повторяемым**.

### <a name="set-up-a-wave-template"></a>Настройка шаблона волны

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Шаблоны волны**.
2. Выберите шаблон, например **62 Отгрузка по умолчанию**.
3. На экспресс-вкладке **Методы** переместите метод **Печать этикеток волны** в столбец **Выбранные методы**.
4. В столбце **Выбранные методы** назначьте значение **Код шага волны**, например *Коробка*, для метода **Печать этикеток волны**. Дополнительные сведения о кодах шага волны см. в разделе [Коды шагов волны](wave-step-codes.md).
5. Переместите метод **Печать этикеток волны** в столбец **Выбранные методы** второй раз.
6. В столбце **Выбранные методы** назначьте другое значение **Код шага волны**, например *Палета*, для второго метода **Печать этикеток волны**. Дополнительные сведения о кодах шага волны см. в разделе [Коды шагов волны](wave-step-codes.md).

### <a name="create-three-wave-label-layouts"></a>Создание трех макетов этикеток волны

1. Перейдите в раздел **Управление складом \> Настройка \> Маршрутизация документов \> Печать этикеток волны**.
1. Создайте запись со следующими параметрами:

    - **Код макета этикетки:** *Упаковка*
    - **Описание:** *Упаковка (SSCC)*

1. На панели операций выберите **Сохранить**.
1. В области действий выберите **Параметры строки этикетки волны**.

    Будет открыта страница **Параметры строки этикетки волны**. Здесь можно настроить динамическую часть этикетки.

1. Добавьте строку со следующими параметрами:

    - **Код строки:** *WaveLabel*
    - **Имя таблицы строк:** *WHSWaveLabel*
    - **Положение начала строки:** *0*

        В этом поле определяется вертикальная позиция, с которой строка будет начинаться на этикетке.

    - **Высота строки:** *0*

        Это поле определяет высоту каждой строки (в пунктах) в соответствии со стандартом ZPL. Высота строки является положительной для горизонтальных этикеток и отрицательных для вертикальных этикеток. Поскольку в данном примере имеется только одна строка, можно установить значение равным *0* (нулю).

    - **Строк на странице:** *1*

        В этом поле определяется число строк, которое может быть напечатано на каждой этикетке.

        > [!NOTE]
        > Эта настройка приведет к печати отдельной этикетки ZPL для каждой записи в таблице этикеток волны.

1. Закройте страницу.
1. На панели операций выберите **Изменить запрос**.
1. В диалоговом окне редактора запросов на вкладке **Диапазон** добавьте строку со следующими параметрами:

    - **Таблица:** *Строки работ*
    - **Производная таблица:** *Строки работ*
    - **Поле:** *Тип работы*
    - **Критерии:** *Комплектации*

    Этот запрос гарантирует, что в этикетке будут печататься только строки работа типа "Комплектация", а не строки типа "Размещение".

1. Если необходимо распечатать код транспортной накладной, на вкладке **Объединения** выберите таблицу **Строки работ** и присоедините к ней таблицу **Отгрузки**. 
1. Закройте диалоговое окно редактора запросов.
1. На экспресс-вкладке **Макет текста принтера** имеется три раздела для написания кода принтера: **Раздел заголовка**, **Раздел текста** и **Раздел нижнего колонтитула**. В разделе **Раздел заголовка** в поле **Заголовок этикетки** введите код для требуемого заголовка. Например, при использовании принтеров Zebra можно использовать следующий код.


    ```plaintext
    CT~~CD,~CC^~CT~
    ^XA~TA000~JSN^LT0^MNW^MTT^PON^PMN^LH0,0^JMA^PR8,8~SD15^JUS^LRN^CI0^XZ
    ^XA
    ^MMT
    ^PW812
    ^LL1218
    ^LS0
    ^FT85,505^A0N,28,28^FH\^FD$WHSShipmentTable.CustomerReq$^FS
    ^FO1,173^GB809,0,1^FS
    ^FO0,391^GB809,0,1^FS
    ^FO3,599^GB809,0,2^FS
    ^FO420,176^GB0,216,1^FS
    ^FO313,3^GB0,169,1^FS
    ^FO0,807^GB809,0,1^FS
    ^FT529,370^A0N,28,26^FH\^FD$WHSShipmentTable.BillOfLadingId$^FS
    ^BY2,3,132^FT25,344^BCN,,N,N
    ^FD>:(420)>38102>63^FS
    ^FT526,315^A0N,28,28^FH\^FD ^FS
    ^FT437,248^A0N,28,28^FH\^FDCARR: $WHSShipmentTable.SCAC$^FS
    ^FT425,201^A0N,23,24^FH\^FDCARRIER:^FS
    ^FT17,68^A0N,20,19^FH\^FDIntershipping, Inc.^FS
    ^FT15,99^A0N,20,19^FH\^FD1000 Shipping Lane^FS
    ^FT16,158^A0N,20,19^FH\^FD ^FS
    ^FT438,368^A0N,28,28^FH\^FDB/L#^FS
    ^FT15,128^A0N,20,19^FH\^FDShelbyville TN 38102^FS
    ^FT19,203^A0N,23,24^FH\^FD(420) SHIP TO POSTAL CODE^FS
    ^FT331,39^A0N,28,28^FH\^FDShip To:^FS
    ^FT14,39^A0N,28,28^FH\^FDShip From:^FS
    ^FT331,67^A0N,23,24^FH\^FDWAL-MART DC 1111A-ABC DIS^FS
    ^FT330,98^A0N,23,24^FH\^FDDEPT 10^FS
    ^FT329,166^A0N,23,24^FH\^FDSpringfield TN 39021^FS
    ^FT330,134^A0N,23,24^FH\^FD100 Main Street^FS
    ^FT19,504^A0N,28,28^FH\^FDPO#:^FS
    ^FT437,316^A0N,28,28^FH\^FDPRO#^FS
    ^FT105,371^A0N,28,28^FB130,1,0,C^FH\^FD(420)39021^FS
    ```

1. В разделе **Раздел текста** в поле **Текст этикетки** введите код ZPL для требуемого текста. Рассмотрим пример:

    ```plaintext
    <Row name="WaveLabel">
    ^FT127,439^A0N,28,28^FH\^FD$WHSWaveLabel.SeqNum$^FS
    ^FT256,439^A0N,28,28^FH\^FD$WHSWaveLabel.NumberOfLabels$^FS
    ^FT17,439^A0N,28,28^FH\^FDCARTON^FS
    ^FT522,422^A0N,23,24^FH\^FDVPN:^FS
    ^FT74,1156^A0N,28,28^FH\^FDSSCC-18^FS
    ^FT21,579^A0N,28,28^FH\^FDItem name:^FS
    ^FT107,580^A0N,28,28^FH\^FD$WHSWaveLabel.LabelItemName$^FS
    ^FT576,423^A0N,23,21^FH\^FD$WHSWaveLabel.LabelItemId$^FS
    ^FT252,1155^A0N,32,31^FH\^FD(00)$WHSWaveLabel.WaveLabelId$^FS
    ^BY4,3,283^FT66,1115^BCN,,N,N
    ^FD>;>800$WHSWaveLabel.WaveLabelId$^FS
    ^FT194,439^A0N,28,28^FH\^FDof^FS
    </Row>
    ```

1. В разделе **Раздел текста** в поле **Нижний колонтитул этикетки** введите код ZPL для требуемого нижнего колонтитула. Рассмотрим пример:

    ```plaintext
    ^PQ1^XZ
    ```

    > [!NOTE]
    > При этой настройке будет напечатана одна копия каждой этикетки. Если требуется больше копий (например, одна копия для каждой из сторон палеты), установите значение **n** для раздела **\^PQn** в нижнем колонтитуле равным требуемому числу копий. Например, чтобы напечатать четыре копии каждой этикетки, укажите **\^PQ4**.

1. Первая этикетка готова к использованию.
1. Создайте вторую запись макета со следующими параметрами:

    - **Код макета этикетки:** *Палета*
    - **Описание:** *Палета*

1. На панели операций выберите **Сохранить**.
1. В области действий выберите **Параметры строки этикетки волны**.

    Будет открыта страница **Параметры строки этикетки волны**. Здесь можно настроить динамическую часть этикетки.

1. Добавьте строку со следующими параметрами:

    - **Код строки:** *WaveLabel*
    - **Имя таблицы строк:** *WHSWaveLabel*
    - **Положение начала строки:** *0*

        В этом поле определяется вертикальная позиция, с которой строка будет начинаться на этикетке.

    - **Высота строки:** *0*

        Это поле определяет высоту каждой строки (в пунктах) в соответствии со стандартом ZPL. Высота строки является положительной для горизонтальных этикеток и отрицательных для вертикальных этикеток. Поскольку в данном примере имеется только одна строка, можно установить значение равным *0* (нулю).

    - **Строк на странице:** *1*

        В этом поле определяется число строк, которое может быть напечатано на каждой этикетке.

        > [!NOTE]
        > Эта настройка приводит к печати отдельной этикетки ZPL для каждой записи в таблице этикеток волны.

1. Закройте страницу.
1. На панели операций выберите **Изменить запрос**.
1. В диалоговом окне редактора запросов на вкладке **Диапазон** добавьте строку со следующими параметрами:

    - **Таблица:** *Строки работ*
    - **Производная таблица:** *Строки работ*
    - **Поле:** *Тип работы*
    - **Критерии:** *Комплектации*

    Этот запрос гарантирует, что в этикетке будут печататься только строки работа типа "Комплектация", а не строки типа "Размещение".

1. Если необходимо распечатать код транспортной накладной, на вкладке **Объединения** выберите таблицу **Строки работ** и присоедините к ней таблицу **Отгрузки**.
1. Закройте диалоговое окно редактора запросов.
1. На экспресс-вкладке **Макет текста принтера** имеется три раздела для написания кода принтера: **Раздел заголовка**, **Раздел текста** и **Раздел нижнего колонтитула**. В разделе **Раздел заголовка** в поле **Заголовок этикетки** введите код для требуемого заголовка. Например, при использовании принтеров Zebra можно использовать следующий код.

    ```plaintext
    CT~~CD,~CC^~CT~
    ^XA
    ^LH10,10
    ^FO0,0 ^AT ^FD$WHSWaveLabel.WaveLabelId$ ^FS
    ^FO0,75 ^AT ^FD$WHSWorkLine.ShipmentId$ ^FS
    ^FO0,150 ^AT ^FD$WHSShipmentTable.BillOfLadingId$ ^FS
    ```

1. В разделе **Раздел текста** в поле **Текст этикетки** введите код ZPL для требуемого текста. Рассмотрим пример:

    ```plaintext
    <Row name="WaveLabel">
    ^FO0,450 ^AT ^FDItem ^FS
    ^FO200,450 ^AT ^FDQuantity ^FS
    ^FO0,[[YPos]] ^AT ^FD$WHSWaveLabel.LabelItemId$ ^FS
    ^FO200,[[YPos]] ^AT ^FD$WHSWaveLabel.QtyWork$ ^FS
    </Row>
    ```

1. В разделе **Раздел текста** в поле **Нижний колонтитул этикетки** введите код ZPL для требуемого нижнего колонтитула. Рассмотрим пример:

    ```plaintext
    ^PQ1^XZ
    ```

    > [!NOTE]
    > При этой настройке будет напечатана одна копия каждой этикетки. Если требуется больше копий (например, одна копия для каждой из сторон палеты), установите значение **n** для раздела **\^PQn** в нижнем колонтитуле равным требуемому числу копий. Например, чтобы напечатать четыре копии каждой этикетки, укажите **\^PQ4**.

1. Вторая этикетка готова к использованию.
1. Создайте третью запись макета со следующими параметрами:

    - **Код макета этикетки:** *Разделитель*
    - **Описание:** *Разделительная этикетка*

1. На панели операций выберите **Сохранить**.
1. На экспресс-вкладке **Макет текста принтера** имеется три раздела для написания кода принтера: **Раздел заголовка**, **Раздел текста** и **Раздел нижнего колонтитула**. В разделе **Раздел заголовка** в поле **Заголовок этикетки** введите код ZPL для требуемого заголовка. Рассмотрим пример:

    ```plaintext
    CT~~CD,~CC^~CT~
    ^XA
    ^LH10,10
    ^FO0,0 ^AT ^FD$WHSWorkLine.ShipmentId$ ^FS
    ```

1. На этот раз текст не требуется. Таким образом, просто введите необходимый текст в раздел **Нижний колонтитул**. Рассмотрим пример:

    ```plaintext
    ^XZ
    ```

    Третья этикетка готова к использованию.

    > [!NOTE]
    > Эта третья этикетка представляет собой разделительную этикетку, которая будет использоваться в качестве разделителя для рулонов этикеток.

### <a name="create-two-wave-label-types"></a>Создание двух типов этикеток волны

1. Перейдите в раздел **Управление складом \> Настройка \> Маршрутизация документов \> Типы этикеток волны**.
1. Создайте запись со следующими параметрами:

    - **Тип этикетки:** *Упаковка*
    - **Описание:** *Упаковка*

1. Создайте вторую запись со следующими параметрами:

    - **Тип этикетки:** *Палета*
    - **Описание:** *Палета*

### <a name="set-up-unit-sequence-groups"></a>Настройка групп упорядочения единиц

1. Перейдите в раздел **Управление складом \> Настройка \> Склад \> Группы упорядочения единиц**.
1. Выберите или создайте группу **шт., коробка, палета**.
1. Для строки **Ящик** введите в поле **Тип уровня волны** значение *Упаковка*.
1. Для строки **Палета** введите в поле **Тип уровня волны** значение *Палета*.

### <a name="create-wave-label-templates"></a>Создание шаблонов этикеток волны

1. Перейдите в раздел **Управление складом \> Настройка \> Маршрутизация документов \> Шаблоны этикеток волны**.
1. Создайте шаблон этикеток со следующими параметрами:

    - **Наименование шаблона этикетки:** *Этикетки для упаковки*
    - **Описание:** *Этикетки для упаковки*
    - **Код шага волны:** *Упаковка*
    - **Склад:** *62*

1. На экспресс-вкладке **Общее** в поле **Тип этикеток волны** выберите значение, например, *Упаковка*.
1. На экспресс-вкладке **Сведения шаблона этикетки волны** добавьте строку со следующими настройками:

    - **Код макета этикетки:** *Упаковка*
    - **Имя принтера:** выберите подходящий принтер ZPL.
    - **Выполнение запроса:** *Да* (Этот параметр не является обязательным, но рекомендуется для достижения оптимальной производительности.)

1. На панели операций выберите **Сохранить**.
1. Необязательно: если вы настраиваете дизайн этикеток для определенного клиента, необходимо создать запрос, чтобы найти учетную запись клиента. На экспресс-вкладке **Сведения шаблона этикетки волны** выберите **Изменить запрос**. Затем в диалоговом окне редактора запросов на вкладке **Диапазон** добавьте строку со следующими параметрами:

    - **Таблица:** *Отгрузки*
    - **Производная таблица:** *Отгрузки*
    - **Поле:** *Номер учетной записи*
    - **Критерии:** введите соответствующий номер учетной записи клиента.

    После завершения нажмите кнопку **OK**, чтобы закрыть диалоговое окно редактора запросов.

1. На панели операций выберите **Изменить запрос**, чтобы открыть диалоговое окно редактора запросов для всего шаблона этикетки.
1. В диалоговом окне редактора запросов на вкладке **Сортировка** добавьте строку со следующими параметрами:

    - **Таблица:** *Строки работ*
    - **Производная таблица:** *Строки работ*
    - **Поле:** *Код строки загрузки ссылки (ИД записи)*
    - **Направление поиска:** *Восходящее*

1. Добавьте вторую строку со следующими параметрами:

    - **Таблица:** *Строки работ*
    - **Производная таблица:** *Строки работ*
    - **Поле:** *Код отгрузки*
    - **Направление поиска:** *Восходящее*

1. Выберите **ОК**, чтобы закрыть диалоговое окно редактора запроса.
1. В окне сообщение будет предложено подтвердить операцию сброса группы. Выберите **Да** для продолжения.
1. В области действий выберите **Группа шаблонов этикеток волн**.
1. В диалоговом окне **Группа шаблонов этикеток волны** для строки, в которой для поля **Имя поля ссылки** указано значение *Код отгрузки*, установите следующие значения:

    - **Печатать разделительную этикетку:** установите этот флажок.
    - **Код макета этикетки:** выберите разделительную этикетку. (Например, выберите макет этикетки *Разделитель*, созданной ранее в этом сценарии.)
    - **Имя принтера:** выберите принтер для разделительной этикетки. (Обычно для задачи разделения рулонов этикеток следует выбирать тот же принтер, что и выбранный на экспресс-вкладка **Сведения о шаблоне этикеток волны**. Однако возможны и другие сценарии.)

1. Для строки, в которой поле **Имя поля ссылки** имеет значение *Код строки загрузки ссылки*, установите флажок **Код сборки этикетки**.

    > [!NOTE]
    > Эта настройка создаст одну последовательность этикеток ("Упаковка 1 из X") для каждой строки загрузки в волне, независимо от настройки группировки работ. Эта последовательность этикеток может быть распечатана в макете этикеток. Кроме того, этикетки для различных отгрузок будут отделены выбранной разделительной этикеткой.

1. Выберите **ОК**, чтобы закрыть диалоговое окно **Группа шаблонов этикеток волны**.
1. Создайте второй шаблон этикеток со следующими параметрами:

    - **Наименование шаблона этикетки:** *Этикетки для палет*
    - **Описание:** *Этикетки для палет*
    - **Код шага волны:** *Палета*
    - **Склад:** *62*

1. На экспресс-вкладке **Общее** в поле **Тип этикеток волны** выберите значение, например, *Палета*.
1. На экспресс-вкладке **Сведения шаблона этикетки волны** добавьте строку со следующими настройками:

    - **Код макета этикетки:** *Палета*
    - **Имя принтера:** выберите подходящий принтер ZPL.
    - **Выполнение запроса:** *Да* (Этот параметр не является обязательным, но рекомендуется для достижения оптимальной производительности.)

1. На панели операций выберите **Сохранить**.
1. Необязательно: если вы настраиваете дизайн этикеток для определенного клиента, необходимо создать запрос, чтобы найти учетную запись клиента. На экспресс-вкладке **Сведения шаблона этикетки волны** выберите **Изменить запрос**. Затем в диалоговом окне редактора запросов на вкладке **Диапазон** добавьте строку со следующими параметрами:

    - **Таблица:** *Отгрузки*
    - **Производная таблица:** *Отгрузки*
    - **Поле:** *Номер учетной записи*
    - **Критерии:** введите соответствующий номер учетной записи клиента.

    После завершения нажмите кнопку **OK**, чтобы закрыть диалоговое окно редактора запросов. 

1. На панели операций выберите **Изменить запрос**, чтобы открыть диалоговое окно редактора запросов для всего шаблона этикетки.
1. В диалоговом окне редактора запросов на вкладке **Сортировка** добавьте строку со следующими параметрами:

    - **Таблица:** *Строки работ*
    - **Производная таблица:** *Строки работ*
    - **Поле:** *Код строки загрузки ссылки (ИД записи)*
    - **Направление поиска:** *Восходящее*

1. Добавьте вторую строку со следующими параметрами:

    - **Таблица:** *Строки работ*
    - **Производная таблица:** *Строки работ*
    - **Поле:** *Код отгрузки*
    - **Направление поиска:** *Восходящее*

1. Выберите **ОК**, чтобы закрыть диалоговое окно редактора запроса.
1. В окне сообщение будет предложено подтвердить операцию сброса группы. Выберите **Да** для продолжения.
1. В области действий выберите **Группа шаблонов этикеток волн**.
1. В диалоговом окне **Группа шаблонов этикеток волны** для строки, в которой для поля **Имя поля ссылки** указано значение *Код отгрузки*, установите следующие значения:

    - **Печатать разделительную этикетку:** установите этот флажок.
    - **Код макета этикетки:** выберите разделительную этикетку. (Например, выберите макет этикетки *Разделитель*, созданной ранее в этом сценарии.)
    - **Имя принтера:** выберите принтер для разделительной этикетки. (Обычно для задачи разделения рулонов этикеток следует выбирать тот же принтер, что и выбранный на экспресс-вкладка **Сведения о шаблоне этикеток волны**. Однако возможны и другие сценарии.)

1. Для строки, в которой поле **Имя поля ссылки** имеет значение *Код строки загрузки ссылки*, установите флажок **Код сборки этикетки**.

    > [!NOTE]
    > Эта настройка создаст одну последовательность этикеток ("Упаковка 1 из X") для каждой строки загрузки в волне, независимо от настройки группировки работ. Эта последовательность этикеток может быть распечатана в макете этикеток. Кроме того, этикетки для различных отгрузок будут отделены выбранной разделительной этикеткой.

### <a name="configure-number-sequence-extensions"></a>Настройка расширений номерной серии

Расширения номерных серий управляют GS1-соответствием для определенных номерных серий. Эта настройка не является обязательной для текущего сценария. Дополнительные сведения и инструкции по настройке см. в разделе [Настройка расширений номерных серий](../warehousing/configure-number-sequence-extensions.md).

### <a name="create-a-sales-order-and-release-it-to-the-warehouse"></a>Создание заказа на продажу и выпуск его на склад

1. Перейдите в раздел **Продажи и маркетинг \> Заказ на продажу \> Все заказы на продажу**.
1. Создайте заказ на продажу со следующими параметрами:

    - **Счет клиента:** *US-001*
    - **Склад:** *62*

1. Добавьте две строки заказа на продажу:

    - Строка заказа на продажу 1:

        - **Код номенклатуры:** *A0001*
        - **Количество:** *9024*
        - **Единица измерения:** *шт.* (9024 шт. = 376 коробок = 47 палет)

    - Строка заказа на продажу 2:

        - **Код номенклатуры:** *A0002*
        - **Количество:** *9016*
        - **Единица измерения:** *шт.* (9016 шт. = 322 коробки = 46 палет)

    > [!NOTE]
    > Представленные здесь номенклатуры и количества являются только примерами. Они должны использовать ранее определенную группу последовательности единиц измерения, подходящие преобразования единиц измерения из *шт.* в *коробки* и в *палеты*, для которых должны быть запасы на складе *62*. Дополнительные сведения см. в разделе [Единицы измерения и политики хранения](unit-measure-stocking-policies.md).

1. Выберите строку заказа на продажу 1. Затем в разделе **Строка заказа на продажу** в меню **Запасы** выберите **Резервирования**.
1. На странице **Резервирование** в области действий выберите **Зарезервировать лот**, затем закройте страницу.
1. Повторите шаги 4 и 5 для строки заказа на продажу 2.
1. На панели операций на вкладке **Склад** выберите вариант **Выпустить на склад**.

    Имеют место следующие события: 

    - Система обрабатывает созданную отгрузку, используя шаблон, содержащий шаг печати этикеток. Макет этикетки будет использоваться для определения формата этикетки, а результатом будет этикетка, которая печатается на принтере, выбранном в шаблоне этикетки.
    - Этикетки волны создаются и печатаются. Число этикеток равно числу коробок (в данном примере 376 этикеток коробок для строки 1, 322 этикетки коробок для строки 2, 47 этикеток палет для строки 1, 47 этикеток палет для строки 2 и две разделительных этикетки с кодом отгрузки).
    - Для отгрузок создается новый код транспортной накладной. Если настроены расширения номерной серии, коды этикеток волны будут соответствовать формату номера **SSCC-18**. 

На следующих страницах можно просматривать и перепечатывать этикетки волны:

- Все отгрузки \> Сведения об отгрузках
- Все загрузки \> Сведения о загрузках
- Все волны
- Этикетки волны
- История этикеток волны

Для большинства из этих страниц можно найти соответствующую функцию, выбрав **Этикетки волны** в группе **Связанные сведения** на вкладке **Отгрузки** в области действий.

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Повторная печать и аннулирование этикеток волны](reprint-and-void-wave-labels.md)
- [График печати этикеток волны во время волны](configure-task-based-wave-label-printing.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
