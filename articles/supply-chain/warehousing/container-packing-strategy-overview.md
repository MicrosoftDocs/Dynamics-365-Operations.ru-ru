---
title: Стратегии упаковки в контейнеры
description: В этой статье описываются различия между стратегиями упаковки контейнеров и даны примеры.
author: GalynaFedorova
ms.date: 08/09/2022
ms.topic: article
ms.search.form: WHSWaveTemplateTable, InventLocationIdLookup, WHSContainerType, WHSContainerGroup, WHSContainerizationTable, WHSContainerizationBreak, WHSCreateContainerBreak, WHSContainerStructure, WHSContainerTable
audience: Application User
ms.reviewer: kamaybac
ms.custom: intro-internal
ms.search.region: Global
ms.author: gfedorova
ms.search.validFrom: 2021-06-11
ms.dyn365.ops.version: 10.0.19
ms.openlocfilehash: 5a9a0066abaa76294faebcb15d5091ba36e8a60d
ms.sourcegitcommit: 203c8bc263f4ab238cc7534d4dd902fd996d2b0f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/23/2022
ms.locfileid: "9335776"
---
# <a name="container-packing-strategies"></a>Стратегии упаковки в контейнеры

[!include [banner](../includes/banner.md)]

*Стратегия упаковки контейнера* является стратегией, которую можно использовать для определения распределений номенклатур между контейнерами. В этой статье объясняется различие между стратегиями *Упаковать во все открытые контейнеры* и *Упаковать только в текущий контейнер*.

- **Упаковать во все открытые контейнеры** — система должна проверить все открытые контейнеры, которые уже были созданы в ходе цикла организации контейнеров, чтобы убедиться, что номенклатура поместится в один из них. Во время упаковки система проверяет каждую номенклатуру, чтобы определить, сможет ли она поместиться в любой из ранее созданных контейнеров. Если номенклатура не помещается в существующий контейнер, система создает новый контейнер и продолжает работу до тех пор, пока он не завершит упаковку всего заказа.

    Например, *n* заказанных номенклатур требуют использования контейнеров. В худшем случае каждый раз, когда система обрабатывает номенклатуру, которая не поместится в какой-либо существующий контейнер, будет выполнена итоговая проверка (\[(*n* – 1) × (*n* + 1)\] ÷ 2), чтобы оценить, помещается ли номенклатура в существующие контейнеры.

- **Упаковать только в текущий контейнер** — система должна проверить только последний созданный контейнер, чтобы убедиться, что номенклатура в него поместится. Во время упаковки система проверяет каждую номенклатуру, чтобы определить, сможет ли она поместиться в последний созданный контейнер. Если номенклатура не помещается в этот контейнер, система создает новый контейнер и продолжает работу до тех пор, пока он не завершит упаковку всего заказа.

    Например, *n* заказанных номенклатур требуют использования контейнеров. В худшем случае система выполнит итоговые проверки (*n* – 1), чтобы определить, помещается ли номенклатура в контейнеры.

## <a name="example-of-the-flow-for-container-packing-strategies"></a>Пример потока для стратегий упаковки контейнера

Для контейнеров настраиваются следующие элементы.

| Номенклатура | Физические размеры (ширина × глубина × высота) | Вес |
|---|---|---|
| Кабель HDMI 6 футов | 1 × 1 × 1 | 1 |
| Кабель HDMI 12 футов | 2 × 1 × 1 | 1 |
| Кабель HDMI 18 футов | 3 × 1 × 1 | 2 |

Кроме того, необходимо настроить следующее поле, которое будет использоваться для упаковки.

| Контейнер | Физические размеры (длина × ширина × высота) | Вес | Объем |
|---|---|---|---|
| Средний ящик | 6 × 3 × 2 | 10 | 100 |

В заключение можно настроить заказ со следующими продуктами и количествами.

| Строка заказа на продажу | Количество |
|---|---|
| Кабель HDMI 12 футов | 9 |
| Кабель HDMI 18 футов | 8 |
| Кабель HDMI 6 футов | 13 |

В следующей таблице приведены сводные данные о том, как работа с контейнерами выполняется при использовании стратегии *Упаковать во все открытые контейнеры* и при использовании стратегии *Упаковать только в текущий контейнер*.

| Упаковать во все открытые контейнеры | Упаковать в текущий контейнер |
|---|---|
| <p>Кабель HDMI 12 футов:</p><ol><li>Создать новый контейнер, CONT0001.</li><li>Поместить 9 шт. в контейнер CONT0001.</li></ol> | <p>Кабель HDMI 12 футов:</p><ol><li>Создать новый контейнер, CONT0001.</li><li>Поместить 9 шт. в контейнер CONT0001.</li></ol> |
| <p>Кабель HDMI 18 футов:</p><ol><li>Проверить, может ли номенклатура поместиться в контейнер CONT0001.</li><li>Создать новый контейнер, CONT0002.</li><li>Поместить 5 шт. в контейнер CONT0002.</li><li>Создать новый контейнер, CONT0003.</li><li>Поместить 3 шт. в контейнер CONT0003.</li></ol> | <p>Кабель HDMI 18 футов:</p><ol><li>Проверить, может ли номенклатура поместиться в контейнер CONT0001.</li><li>Создать новый контейнер, CONT0002.</li><li>Поместить 5 шт. в контейнер CONT0002.</li><li>Создать новый контейнер, CONT0003.</li><li>Поместить 3 шт. в контейнер CONT0003.</li></ol> |
| <p>Кабель HDMI 6 футов:</p><ol><li>Проверить, может ли номенклатура поместиться в контейнер CONT0001.</li><li>Поместить 1 шт. в контейнер CONT0001.</li><li>Проверить, может ли номенклатура поместиться в контейнер CONT0002.</li><li>Проверить, может ли номенклатура поместиться в контейнер CONT0003.</li><li>Поместить 4 шт. в контейнер CONT0003.</li><li>Создать новый контейнер, CONT0004.</li><li>Поместить 8 шт. в контейнер CONT0004.</li></ol> | <p>Кабель HDMI 6 футов:</p><ol><li>Проверить, может ли номенклатура поместиться в контейнер CONT0003.</li><li>Поместить 4 шт. в контейнер CONT0003.</li><li>Создать новый контейнер, CONT0004.</li><li>Поместить 9 шт. в контейнер CONT0004.</li></ol> |

## <a name="example-scenario-pack-single-orders-per-container"></a>Пример сценария: упаковка одиночных заказов на контейнер

В этом разделе представлен сценарий, в котором система настроена для консолидации нескольких заказов в одну отгрузку. Таким образом, контейнер будет выполнен из заказа на продажу для того, чтобы упаковать каждый заказ, содержащий несколько продуктов, в свой собственный контейнер.

Эта функция позволяет обрабатывать сценарии, в которых необходимо упаковать в каждый контейнер только один заказ на продажу, чтобы центр распределения мог выполнить переброску полных контейнеров между розничными магазинами. В дополнение к розничным сценариям (заказ на розничные магазины и отгрузка в центр распределения для кросс-докинга) этот прием также обычно используется в цепочках экономичных поставок (заказ на продажу по строке производства JIT).

Этот сценарий показывает, как можно уменьшить число контейнеров, оцениваемых во время упаковки, используя стратегию *Упаковать только в текущий контейнер* контейнеров.

### <a name="prerequisites"></a>Необходимые условия

#### <a name="turn-on-the-consolidate-shipments-feature-in-your-system"></a>Включите функцию консолидации отгрузок в вашей системе

В этом сценарии используется функция *Консолидировать отгрузки*. В Supply Chain Management версии 10.0.29 эта функция обязательна и не может быть отключена. При запуске версии, более старой, чем 10.0.29, администраторы могут включать или выключать эту функцию путем поиска функции *Консолидация отгрузок* в рабочей области [Управление функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md).

#### <a name="make-demo-data-available"></a>Сделать демонстрационные данные доступными

Этот сценарий ссылается на значения и записи, включенные в стандартные демонстрационные данные, предоставляемые в Microsoft Dynamics 365 Supply Chain Management. Если вы хотите использовать значения, указанные здесь, в ходе выполнения упражнений, убедитесь, что вы работаете в среде, в которой установлены демонстрационные данные, и настройте юридическое лицо на **USMF** перед началом работы.

### <a name="inspect-or-create-container-types"></a>Проверка или создание типов контейнеров

Чтобы проверить типы контейнеров или создать новые типы контейнеров, если это необходимо, выполните следующие действия.

1. Перейдите в раздел **Управление складом** \> **Настройка** \> **Контейнеры** \> **Типы контейнеров**.
1. Убедитесь, что в демонстрационных данных доступен каждый из следующих типов контейнеров. При необходимости измените или создайте типы контейнеров.

    - Тип контейнера 1:

        - **Код типа контейнера:** *Ящик-крупный*
        - **Описание:** *Ящик-крупный*
        - **Максимальный вес нетто:** *100*
        - **Объем:** *400*
        - **Длина:** *4*
        - **Ширина:** *10*
        - **Высота:** *10*

    - Тип контейнера 2:

        - **Код типа контейнера:** *Ящик-средний*
        - **Описание:** *Ящик средний*
        - **Максимальный вес нетто:** *50*
        - **Объем:** *200*
        - **Длина:** *2*
        - **Ширина:** *10*
        - **Высота:** *10*

    - Тип контейнера 3:

        - **Код типа контейнера:** *Ящик-малый*
        - **Описание:** *Ящик малый*
        - **Максимальный вес нетто:** *20*
        - **Объем:** *100*
        - **Длина:** *1*
        - **Ширина:** *10*
        - **Высота:** *10*

### <a name="inspect-or-create-container-groups"></a>Проверка или создание групп контейнеров

Чтобы проверить группы контейнеров или создать новые группы контейнеров, если это необходимо, выполните следующие действия.

1. Перейдите в раздел **Управление складом** \> **Настройка** \> **Контейнеры** \> **Группы контейнеров**.
1. Убедитесь, что в демонстрационных данных доступен каждая из следующих групп контейнеров. Если она недоступна, выберите **Создать**, чтобы создать ее.

    - **Код группы контейнеров:** *Ящики*
    - **Описание:** *Размеры ящиков*

1. Убедитесь, что на экспресс-вкладке **Сведения** для группы контейнеров *Ящики* есть следующие строки. Если нет, выберите **Создать**, чтобы добавить их.

    - Строка 1:

        - **Порядковый номер**: *1*
        - **Тип контейнера:** *Ящик-крупный*
        - **Процент загрузки контейнера:** *100*

    - Строка 2:

        - **Порядковый номер**: *2*
        - **Тип контейнера:** *Ящик-средний*
        - **Процент загрузки контейнера:** *100*

    - Строка 3:

        - **Порядковый номер**: *3*
        - **Тип контейнера:** *Ящик-малый*
        - **Процент загрузки контейнера:** *100*

### <a name="create-a-new-container-build-template"></a>Создайте новый шаблон сборки контейнера

Чтобы создать шаблон сборки контейнера, выполните следующие действия.

1. Перейдите в раздел **Управление складом** \> **Настройка** \> **Контейнеры** \> **Шаблон создания контейнера**.
1. Выберите **Создать**, чтобы создать шаблон сборки контейнера со следующими параметрами:

    - **Порядковый номер**: *1*
    - **Код шаблона контейнера:** *Ящик*
    - **Код группы контейнеров:** *Ящики*
    - **Типы базовых запросов:** *Строка распределения продаж*
    - **Код шага волны:** *234*
    - **Разрешить разделение комплектации:** *Да*
    - **Стратегия упаковки контейнера:** *Упаковать только в текущий контейнер*
    - **Упаковывать по единице директивы:** *Нет*

1. Когда строка для нового шаблона все еще выбрана, выберите **Изменить запрос** на панели операций.
1. Появляется диалоговое стандартного редактора запросов. На вкладке **Сортировка** выберите **Добавить**, чтобы добавить строку со следующими настройками:

    - **Таблица:** *Временные рабочие проводки*
    - **Производная таблица:** *Временные рабочие проводки*
    - **Поле:** *Номер заказа*
    - **Направление поиска:** *Восходящее*

    > [!IMPORTANT]
    > Чтобы избежать циклического переключения всех других открытых контейнеров и ускорения процесса путем проверки одного контейнера за один раз, используйте стратегию *Pack into current container only* в дополнение к сортировке только по номеру заказа. Это сочетание будет работать как перерыв в работе в рабочем шаблоне.

1. Выберите **ОК**, чтобы закрыть диалоговое окно редактора запроса.
1. Пока строка для нового шаблона все еще выбрана, следует выбрать **Ограничения на смешивание контейнера** на панели действий.

    Теперь можно добавить ограничение, которое поместит номенклатуры из одного заказа в один контейнер. Номенклатуры из любого другого заказа будут помещаться в отдельный контейнер.

1. Выберите **Создать**, чтобы создать ограничение смешивания со следующими параметрами:

    - **Таблица:** *Заказы на продажу*
    - **Выберите поле:** *SalesId* (Поле появится в сетке как *Заказ на продажу*.)

1. Нажмите **ОК**, чтобы добавить ограничение.
1. Закройте страницу.

### <a name="set-up-a-wave-template-for-containerization"></a>Настройка шаблона волны для контейнеризации

Чтобы настроить шаблон волны, выполните следующие действия.

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Шаблоны волны**.
1. В панели списка задайте в поле **Тип шаблона волн** значение *Отгрузка*.
1. Выберите шаблон **63 Контейнеризация** в списке.
1. На панели операций выберите **Правка**.
1. На экспресс-вкладке **Методы** в столбце **Выбранные методы** найдите следующую строку:

    - **Имя метода:** *контейнеризация*
    - **Имя:** *Контейнеризация*

1. Задайте в поле **Код этапа волны** для строки значение *234*.

### <a name="set-up-a-work-template"></a>Настройка шаблона работы

Чтобы настроить шаблон работы, выполните следующие действия.

1. Перейдите в раздел **Управление складом \> Настройка \> Работа \> Шаблоны работ**.
1. В поле **Тип заказа на работу** задайте значение *Заказы на продажу*.
1. В сетке **Обзора** найдите и выберите рабочий шаблон, который должен использоваться для упаковки отдельных заказов на контейнер. Для этого сценария выберите шаблон **63 Скомплектовать в контейнер**.
1. На панели операций выберите **Изменить запрос**.
1. Появляется диалоговое стандартного редактора запросов. На вкладке **Сортировка** добавьте следующие строки:

    - Строка 1:

        - **Таблица:** *Временные рабочие проводки*
        - **Производная таблица:** *Временные рабочие проводки*
        - **Поле:** *Код отгрузки*
        - **Направление поиска:** *Восходящее*

    - Строка 2:

        - **Таблица:** *Временные рабочие проводки*
        - **Производная таблица:** *Временные рабочие проводки*
        - **Поле:** *Номер заказа*
        - **Направление поиска:** *Восходящее*

    - Строка 3:

        - **Таблица:** *Временные рабочие проводки*
        - **Производная таблица:** *Временные рабочие проводки*
        - **Поле:** *Код контейнера*
        - **Направление поиска:** *Восходящее*

1. Выберите **ОК**, чтобы закрыть диалоговое окно редактора запроса.
1. Появится следующее сообщение: "Группирование будет сброшено, продолжить?" Выберите **Да** для продолжения.
1. Пока шаблон **63 Скомплектовать в контейнер** еще выбран, в области действий выберите **Разрывы заголовка работы**.

    Теперь будут применены настройки для разбиения работы таким образом, чтобы каждый контейнер в заказе был связан с одним заказом на работу.

1. Установите флажок **Группировать по этому полю** для каждой строки на странице **Разрывы заголовка работы** (**код отгрузки**, **номер заказа** и **код контейнера**).
1. Закройте страницу.

### <a name="set-up-shipment-consolidation-policies"></a>Настройка политик консолидации отгрузок

Чтобы настроить политику консолидации отгрузок, выполните следующие действия.

1. Перейдите на страницу **Управление складом \> Настройка \> Запуск на склад \> политики консолидации отгрузок**.
1. В области списка задайте в поле **Тип политики** значение *Заказы на продажу*.
1. Выберите политику **По умолчанию** в списке.
1. На панели операций выберите **Правка**.
1. На экспресс-вкладке **поля консолидации** в списке **Выбранные поля** выберите строку, где поле **Имя поля** установлено на значение *Номер заказа*.
1. Нажмите кнопку **Удалить** ![ Стрелка влево.](media/backward-button.png) чтобы переместить поле в список **Оставшиеся поля**.
1. На панели операций выберите **Сохранить**.

### <a name="set-up-physical-dimensions-for-the-product"></a>Настрого физических аналитик для продукта

Чтобы настроить физические аналитики для продуктов, которые будут использоваться в этом сценарии, выполните следующие действия.

1. Выберите **Управление сведениями о продукте \> Продукты \> Выпущенные продукты**.
1. Выберите продукт, для которого коле **Код номенклатуры** задано как *A0001*.
1. На панели действий на вкладке **Управление складскими запасами** в группе **Склад** выберите **Физические размеры**.
1. На странице **Физические аналитики** должна отобразиться следующая строка в сетке:

    - **Единица измерения:** *шт*
    - **Вес брутто:** *3,00*
    - **Ширина:** *2,00*
    - **Глубина:** *2,00*
    - **Высота:** *4,00*
    - **Объем:** *16,00*

1. Закройте страницу.
1. Выберите продукт, для которого коле **Код номенклатуры** задано как *A0002*.
1. На панели действий на вкладке **Управление складскими запасами** в группе **Склад** выберите **Физические размеры**.
1. На странице **Физические аналитики** должна отобразиться следующая строка в сетке:

    - **Единица измерения:** *шт*
    - **Вес брутто:** *4,00*
    - **Ширина:** *3,00*
    - **Глубина:** *1,00*
    - **Высота:** *3,00*
    - **Объем:** *9,00*

### <a name="create-sales-order-1"></a>Создание заказа на продажу 1

Чтобы создать заказ на продажу, выполните следующие действия.

1. Перейдите в раздел **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу**.
1. В области действий выберите **Создать**.
1. Появится диалоговое окно для создания нового заказа на продажу. Задайте следующие значения:

    - **Счет клиента:** *US-001*
    - **Склад:** *63*

1. Выберите **ОК**, чтобы создать заказ на продажу и закрыть диалоговое окно.
1. Открывается новый заказ на продажу. На экспресс-вкладке **Строки заказа на продажу** добавьте следующие строки продажи:

    - Строка 1:

        - **Код номенклатуры:** *A0001*
        - **Количество:** *2*

    - Строка 2:

        - **Код номенклатуры:** *A0002*
        - **Количество:** *2*

1. Выберите первую строку, а затем выберите **Запасы \> Резервирование**.
1. На странице **Резервирование** выберите **Зарезервировать лот**. Затем закройте страницу.
1. Повторите предыдущие два шага для второй строки.
1. Закройте страницу.

### <a name="create-sales-order-2"></a>Создание заказа на продажу 2

Выполните эти действия, чтобы создать второй заказ на продажу.

1. Перейдите в раздел **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу**.
1. В области действий выберите **Создать**.
1. Появится диалоговое окно для создания нового заказа на продажу. Задайте следующие значения:

    - **Счет клиента:** *US-001*
    - **Склад:** *63*

1. Выберите **ОК**, чтобы создать заказ на продажу и закрыть диалоговое окно.
1. Открывается новый заказ на продажу. На экспресс-вкладке **Строки заказа на продажу** добавьте следующие строки продажи:

    - Строка 1:

        - **Код номенклатуры:** *A0001*
        - **Количество:** *4*

    - Строка 2:

        - **Код номенклатуры:** *A0002*
        - **Количество:** *4*

1. Выберите первую строку, а затем выберите **Запасы \> Резервирование**.
1. На странице **Резервирование** выберите **Зарезервировать лот**. Затем закройте страницу.
1. Повторите предыдущие два шага для второй строки.
1. Закройте страницу.

### <a name="create-the-load"></a>Создание загрузки

Выполните следующие действия, чтобы создать загрузку для каждого заказа, созданного для этого сценария, а затем выпустить на склад.

1. Перейдите в раздел **Управление складом \> Загрузки \> Рабочее место планирования загрузки**.
1. На вкладке **строки продаж** найдите и выберите все строки заказа на продажу из заказов на продажу, созданных для этого сценария.
1. В области действий на вкладке **Поставки и спрос** в группе **Добавить** выберите **В новую загрузку**. Выбранные строки заказа добавляются к новой загрузке.
1. В диалоговом окне **Назначение шаблона загрузки** в поле **Код шаблона загрузки** выберите шаблон загрузки, например *40-футовый контейнер*.
1. Выберите **OK**, чтобы закрыть диалоговое окно.
1. В разделе **Загрузки** найдите и выберите только что созданную загрузку.
1. Выберите **Выпуск \> Выпуск на склад**.
1. В диалоговом окне **Выпуск на склад** выберите **ОК**, чтобы выпустить выбранную загрузку на склад.

### <a name="verify-the-shipments-and-containers"></a>Проверка отгрузок и контейнеров

Следующая процедура позволяет проверить созданные отгрузки. Используйте ее для просмотра заказа, созданного для этого сценария, чтобы убедиться, что получены ожидаемые результаты.

1. Выберите **Управление складом \> Отгрузки \> Все отгрузки**.
1. Найдите и выберите отгрузку, которая была создана для только что выпущенной загрузки.
1. На панели действий на вкладке **Транспортировка** и выберите **Просмотреть контейнеры**.
1. Убедитесь, что номенклатуры из заказов на продажу были помещены в два разных контейнера.

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Контейнеризация](wave-containerization.md)
