---
title: Настройка переключений для шагов в пунктах меню мобильного устройства
description: В этой статье описывается, как настроить переключения для пунктов меню, чтобы работники могли приостановить выполнение текущей задачи, выполнить другую задачу и вернуться к исходной задаче без потери информации.
author: Mirzaab
ms.date: 09/01/2022
ms.topic: article
ms.search.form: WHSMobileAppFlowStepListPage, WHSMobileAppFlowStepAddDetour,WHSMobileAppFlowStepDetourSelectFields
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-10-15
ms.dyn365.ops.version: 10.0.30
ms.openlocfilehash: d8d3d434077fdb145291e2298055f692b78db3d6
ms.sourcegitcommit: 3d7ae22401b376d2899840b561575e8d5c55658c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/08/2022
ms.locfileid: "9428072"
---
# <a name="configure-detours-for-steps-in-mobile-device-menu-items"></a>Настройка переключений для шагов в пунктах меню мобильного устройства

[!include [banner](../includes/banner.md)]

> [!IMPORTANT]
> Функции, описанные в этой статье, применимы только к новому мобильному приложению Warehouse Management. Они не влияют на старое приложение склада, которое в данное время устарело.

В этой статье описывается, как настроить переключения для пунктов меню, чтобы работники могли приостановить выполнение текущей задачи, выполнить другую задачу и вернуться к исходной задаче без потери информации.

Переключение — это отдельный пункт меню, который можно открыть из шага основной задачи. В конце переключения работники возвращаются в то место, где покинули главную задачу. В процессе настройки вы указываете пункт меню, который должен действовать в качестве переключения. Также можно выбрать, какие значения полей из основной задачи должны автоматически пересылаться (копироваться) в переключение и вводиться там. Поэтому необходимо понять, где в потоке задач следует предусмотреть переключение, чтобы его можно было использовать для работников. Кроме того, необходимо убедиться, что сведения, которые необходимо скопировать в файл переключения, доступны для этого этапа потока задач.

## <a name="enable-detours-in-your-system"></a>Включение переключений в системе

Перед настройкой переключений для шагов в пунктах меню мобильных устройств необходимо выполнить следующую процедуру, чтобы включить необходимые функции и создать необходимые имена полей в мобильном приложении Warehouse Management.

1. Перейдите в раздел **Администрирование системы \> Рабочие области \> Управление функциями**.
1. Убедитесь, что функция *Инструкции для шагов приложения склада* включена в системе. В Supply Chain Management версии 10.0.29 эта функция включена по умолчанию. Дополнительные сведения о функции *Инструкции для шагов приложения склада* см. в разделе [Настройка названий шагов и инструкций для мобильного приложения Warehouse Management](mobile-app-titles-instructions.md). Эта функция является обязательным условием для функции *Переключения приложения Warehouse Management*.
1. Включите следующие функции, которые предоставляют функциональные возможности, описанные в этой статье:
    - *Переключения приложения Warehouse Management*<br>(В Supply Chain Management версии 10.0.29 эта функция включена по умолчанию.)
    - *Многоуровневые переключения для мобильного приложения Warehouse Management*
1. Если функции *Переключения приложения Warehouse Management* и/или *Многоуровневые переключения для мобильного приложения Warehouse Management* еще не включены, обновите имена полей в мобильном приложении Warehouse Management, перейдя в раздел **Управление складом \> Настройка \> Мобильное устройство \> Названия полей приложения склада** и выбрав пункт **Создать настройку по умолчанию**. Дополнительные сведения см. в разделе [Настройка полей мобильного приложения управления складом](configure-app-field-names-priorities-warehouse.md).
1. Повторите предыдущий шаг для каждого юридического лица (компании), где используется мобильное приложение Warehouse Management.

## <a name="configure-a-detour-from-a-menu-specific-override"></a>Настройка переключения из переопределения конкретного меню

Используйте следующую процедуру, чтобы настроить переключение из переопределения конкретного меню.

1. Создайте переопределение конкретного меню для соответствующего меню и шага, как описано в разделе [Настройка названий шагов и инструкций для мобильного приложения Warehouse Management](mobile-app-titles-instructions.md).
1. Найдите комбинацию значений **Код шага** и **Имя пункта меню**, которые необходимо изменить, и выберите значение в столбце **Код шага**.
1. На отображаемой странице, на экспресс-вкладке **Доступные переключения (пункты меню)**, можно указать пункт меню, который должен действовать в качестве переключения. Также можно выбрать, какие значения полей из основной задачи должны автоматически копироваться в переключение и из него. Примеры использования этих параметров см. в сценариях ниже в этой статье.

## <a name="sample-scenario-1-sales-picking-where-a-location-inquiry-acts-as-a-detour"></a>Образец сценария 1. Комплектация продаж, в которой запрос на размещение выступает в качестве переключения

В этом сценарии показано, как настроить запрос местоположения как переключение в потоке задач комплектации продаж, направляемом сотрудниками. Это переключение позволяет сотрудникам искать все грузоместа в местоположении, из которого они комплектуют, и выбирать грузоместо, которое они хотят использовать для завершения комплектации. Этот тип переключения может быть полезен, если штрих-код поврежден и, следовательно, не читается сканером. В качестве альтернативы может быть полезным, если работник должен знать, что действительно указано в системе. Обратите внимание, что этот сценарий применяется только в том случае, если выполняется комплектация из местоположений, контролируемых с помощью грузомест.

### <a name="enable-sample-data"></a>Включение демонстрационных данных

Для использования указанных примеров записей и значений в этом сценарии необходимо использовать систему, в которой установлены стандартные [демонстрационные данные](../../fin-ops-core/fin-ops/get-started/demo-data.md). Перед началом необходимо также выбрать юридическое лицо **USMF**.

### <a name="create-a-menu-specific-override-and-configure-the-detour-for-scenario-1"></a>Создание переопределения конкретного меню и настройка переключения для сценария 1

В этой процедуре будет настроено переключение для пункта меню **Комплектация продаж** на шаге грузоместа.

1. Перейдите в раздел **Управление складом \> Настройка \> Мобильное устройство \> Шаги мобильного устройства**.
1. Найдите и выберите код шага *LicensePlateId*.
1. В панели операций выберите **Добавить конфигурацию шага**.
1. В раскрывающемся диалоговом окне используйте поле **Пункт меню** для поиска и выберите *Комплектация продаж*.
1. Нажмите **ОК**.
1. Отображается страница сведений для переопределения, которое было только что создано. На экспресс-вкладке **Доступные переключения (пункты меню)** выберите **Добавить** на панели инструментов.
1. В диалоговом окне **Добавить переключение** выберите **Запрос местоположения** в качестве переключения, которое будет доступны в мобильном приложении Warehouse Management.
1. Нажмите **ОК**.
1. На экспресс-вкладке **Доступные переключения (пункты меню)** выберите только что добавленное переключение, а затем выберите **Выбрать поля для отправки** на панели инструментов.
1. В диалоговом окне **Выбрать поля для отправки** укажите сведения, которые должны быть отправлены в это переключение и из него. В этом сценарии сотрудникам разрешено использовать местоположение, из которого они должны комплектовать, в качестве входных данных для переключения запроса местоположения. Поэтому в разделе **Отправить из комплектации продаж** выберите **Добавить** на панели инструментов, чтобы добавить строку в сетку. Затем задайте следующие значения для новой строки:

    - **Копировать из комплектации продаж:** *Местоположение*
    - **Вставить в запрос местоположения:** *Местоположение*

1. Так как переключение в этом сценарии настроено на этапе создания грузоместа, оно будет полезно, если работники смогут вернуть грузоместо из запроса обратно в главный поток. Поэтому в разделе **Вернуть из запроса местоположения** выберите **Добавить** на панели инструментов, чтобы добавить строку в сетку. Затем задайте следующие значения для новой строки:

    - **Копировать из запроса местоположения:** *грузоместо*
    - **Вставить в комплектацию продаж:** *грузоместо*

1. Нажмите **ОК**.

Переключение полностью настроено. Кнопка для запуска переключения **Запрос местоположения** будет отображена на шаге грузоместа для пункта меню **Комплектации продажи**.

### <a name="complete-a-sales-pick-on-a-mobile-device-and-use-the-detour"></a>Выполнение комплектации продаж на мобильном устройстве и использование переключения

В ходе этой процедуры будет выполнена комплектация продажи с помощью мобильного приложения Warehouse Management. Будет использоваться переключение, которое был только что настроено для поиска грузоместа, которое будет использоваться для выполнения шага комплектации.

1. В Microsoft Dynamics 365 Supply Chain Management создайте заказ на продажу, для которого потребуется выбрать шаг комплектации из местоположения, которое отслеживается по грузоместу. Затем выпустите заказ на продажу на склад. Запишите созданный код работы.
1. Откройте мобильное приложение Warehouse Management и войдите на склад 24. (В стандартных демонстрационных данных выполните вход,, используя *24* в качестве идентификатора пользователя и *1* в качестве пароля.)
1. Выберите меню **Исходящие**, а затем выберите пункт меню **Комплектация продажи**.
1. Следуйте инструкциям ввода данных на экране, чтобы ввести код работы, созданный на шаге 1.
1. На шаге, содержащем текст, который содержит текст **Сканировать грузоместо**, откройте меню действия. Должна отобразиться новая кнопка с меткой **Запрос местоположения**. Стрелка в верхнем левом углу указывает на то, что кнопка начнет переключение. Выберите **Запрос местоположения**.
1. Будет начато переключение. На следующей странице подтвердите местоположение, которое было скопировано из главного потока.
1. В списке доступных грузомест в местоположении щелкните на грузоместе, которое необходимо скопировать обратно в главный поток. Затем нажмите кнопку **Назад**.
1. Вы возвращаетесь в главный поток комплектации продаж, и грузоместо скопировано обратно в него из переключения. Подтвердите значение, чтобы перейти к следующему шагу.
1. Теперь можно выполнить оставшуюся часть стандартного потока путем ввода запрошенных инструкций по вводу данных.

Работа склада завершена. Сотрудник успешно открыл переключение для выполнения вторичной задачи (запроса местоположения) без потери места в главной задаче и вернул назад сведения, необходимые для выполнения основной задачи.

## <a name="sample-scenario-2-item-inquiry-with-movement-and-adjustment-detours"></a>Пример сценария 2. Запрос номенклатуры с переключениями перемещения и корректировки

В этом сценарии показано, как настроить перемещение и корректировки как несколько переключений в потоке задач запроса местоположения. Эта возможность может быть полезна в ситуациях, когда работник прибывает на склад, обнаруживает, что запасы в местоположении отличаются от зарегистрированных в системе, и поэтому, поэтому, необходимо скорректировать или переместить товары.

Запрос местоположения можно заменить на запрос грузоместа или запрос номенклатуры, как требуется.

### <a name="enable-sample-data"></a>Включение демонстрационных данных

Для использования указанных примеров записей и значений в этом сценарии необходимо использовать систему, в которой установлены стандартные [демонстрационные данные](../../fin-ops-core/fin-ops/get-started/demo-data.md). Перед началом необходимо также выбрать юридическое лицо **USMF**.

### <a name="create-a-menu-specific-override-and-configure-the-detour-for-scenario-2"></a>Создание переопределения конкретного меню и настройка переключения для сценария 2

В этой процедуре будет настроено переключение для пункта меню **Комплектация продаж** на шаге грузоместа.

1. Перейдите в раздел **Управление складом \> Настройка \> Мобильное устройство \> Шаги мобильного устройства**.
1. Найдите и выберите код шага *LocationInquiryList*.

    > [!NOTE]
    > Чтобы использовать запрос номенклатуры вместо запроса местоположения, выберите строку, в которой код шага называется *ItemInquiryList*. Для использования запроса грузоместа выберите строку, в которой идентификатор шага называется *LPInquiryList*.

1. В панели операций выберите **Добавить конфигурацию шага**.
1. В раскрывающемся диалоговом окне используйте поле **Пункт меню** для поиска и выберите *Запрос местоположения*.
1. Нажмите **ОК**.
1. Отображается страница сведений для переопределения, которое было только что создано. На экспресс-вкладке **Доступные переключения (пункты меню)** выберите **Добавить** на панели инструментов.
1. В диалоговом окне **Добавить переключение** выберите **Перемещение** в качестве переключения, которое будет доступны в мобильном приложении Warehouse Management.
1. Нажмите **ОК**.
1. На экспресс-вкладке **Доступные переключения (пункты меню)** выберите только что добавленное переключение, а затем выберите **Выбрать поля для отправки** на панели инструментов.
1. В диалоговом окне **Выбрать поля для отправки** укажите сведения, которые должны быть отправлены в это переключение и из него. В этом случае предполагается, что работники ищут местоположения, контролируемые с помощью грузомест. Таким образом, можно скопировать грузоместо из запроса в переключение **Перемещение**. В разделе **Отправить из комплектации продаж** выберите **Добавить** на панели инструментов, чтобы добавить строку в сетку. Затем задайте следующие значения для новой строки:

    - **Скопировать из запроса местоположения:** *Местоположение*
    - **Вставить в перемещение:** *Loc / LP*

    В этом переключение не предполагается обратного копирования информации, поскольку основной поток был запросом, в котором не требуется выполнять какие-либо дополнительные действия.

1. Нажмите **ОК**.

Переключение полностью настроено. Кнопка для запуска переключения **Перемещение** будет отображена на шаге грузоместа для пункта меню **Запрос местоположения**.

### <a name="do-a-location-inquiry-on-a-mobile-device-and-use-the-detour"></a>Выполнение запроса местоположения на мобильном устройстве и использование переключения

В ходе этой процедуры будет выполнен запрос местоположения с помощью мобильного приложения Warehouse Management. После этого для выполнения перемещения товаров будет использоваться переключение.

1. Откройте мобильное приложение Warehouse Management и войдите на склад 24. (В стандартных демонстрационных данных выполните вход,, используя *24* в качестве идентификатора пользователя и *1* в качестве пароля.)
1. Выберите меню **Запасы**, а затем выберите пункт меню **Запрос местоположения**.
1. Введите местоположение для запроса, например *FL-001*.
1. Когда появится список, коснитесь и удерживайте одну из карточек в нем, чтобы показать доступные переключения.
1. Выберите **Перемещение**.
1. Обратите внимание, что грузоместо копируется из выбранной карточки. Подтвердите значение.
1. Теперь можно выполнить стандартный поток задач, чтобы выполнить перемещение. После завершения работы откройте меню действий и выберите **Отмена**.
1. Вы вернетесь на страницу **Запрос местоположения**. Обратите внимание, что значения не обновляются автоматически. Таким образом, необходимо вручную обновить страницу, чтобы увидеть изменения из переключения перемещения.

> [!NOTE]
> Функция *Многоуровневые переключения для мобильного приложения Warehouse Management* позволяет определить несколько многоуровневых переключений (переключения внутри переключений), которые позволят сотрудникам переходить от существующего переключения ко второму и обратно. Эта функция поддерживает два уровня переключений изначально и, если необходимо, можно настроить систему для поддержки трех или более уровней переключения путем создания расширений кода в таблице `WHSWorkUserSessionState`.
