---
title: Работа с директивами местонахождения
description: В этом разделе описывается, как работать с директивами местоположения. Директивы местонахождения — это определяемые пользователем правила, с помощью которых можно определить местонахождения комплектации и размещения для перемещения запасов.
author: Mirzaab
manager: tfehr
ms.date: 11/13/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSLocDirTable, WHSLocDirHint, WHSLocDirTableUOM, WHSLocDirFailure
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-11-13
ms.dyn365.ops.version: Release 10.0.15
ms.openlocfilehash: f56257fd3f2f681bbd514843d8ddafa2395648d3
ms.sourcegitcommit: 4bf5ae2f2f144a28e431ed574c7e8438dc5935de
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/13/2020
ms.locfileid: "4517484"
---
# <a name="work-with-location-directives"></a>Работа с директивами местонахождения

[!include [banner](../includes/banner.md)]

Директивы для мест хранения — это правила, с помощью которых можно определить места комплектации и размещения для перемещения запасов. Например, в проводке заказа на продажу директива для места хранения определяет места комплектации и размещения номенклатур. Директивы местоположения состоят из заголовка и соответствующих строк. Они создаются для определённых *типов заказов на работу*.

> [!NOTE]
> Этот раздел относится к функциям в модуле **Управление складом**. Она не применяется к функциям в модуле [Управление запасами](../inventory/inventory-home-page.md).

Директивы местонахождения можно использовать для выполнения следующих задач:

- Размещать входящие номенклатуры.
- Комплектовать и подготавливать номенклатуры для исходящих проводок.
- Комплектовать и размещать сырье для производства.
- Пополнять местонахождения.

## <a name="prerequisites"></a>Необходимые условия

Прежде чем можно будет создать директиву местонахождения, необходимо выполнить следующие действия, чтобы убедиться, что необходимые условия выполнены.

1. Убедитесь, что требуемый лицензионный ключ включен. Перейдите к разделу **Администрирование системы \> Настройка \> Конфигурация лицензии**, разверните лицензионный ключ **Торговля**, затем выберите конфигурационный ключ **Управление складом и транспортировкой**. Обратите внимание, что для этого шага необходим административный доступ.
1. Перейдите в раздел **Управление складом \> Настройка \> Склад \> Склады**.
1. Создание склада.
1. На экспресс-вкладке **Склад** задайте параметр **Использовать процессы управления складом** на *Да*.
1. Создание местонахождений, типов местонахождений, профилей местонахождений и форматов местонахождений. Дополнительные сведения см. в [Настройка местонахождений на складе, поддерживающем WMS](https://docs.microsoft.com/dynamics365/supply-chain/warehousing/tasks/configure-locations-wms-enabled-warehouse).
1. Создание сайтов, зон и групп зон. Дополнительные сведения см. в [Настройка складов](https://docs.microsoft.com/dynamics365/commerce/channels-setup-warehouse) и [Настройка местонахождений на складе, поддерживающем WMS](https://docs.microsoft.com/dynamics365/supply-chain/warehousing/tasks/configure-locations-wms-enabled-warehouse).

## <a name="work-order-types-for-location-directives"></a>Типы заказов на работу для директив местоположения

Многие из полей, которые могут быть настроены для директив местоположения, являются общими для всех типов заказов на работу. Однако другие поля относятся только к определенным типам заказов на работу.

![Типы заказов на работу директив местоположения](media/Location_Directives_Work_Order_Types.png "Типы заказов на работу директив местоположения")

> [!NOTE]
> Два типа заказов на работу, *Отмененная работа* и *Цикличный подсчет*, используются только системой. Для таких типов заказов на работу нельзя создать директиву местоположения.

В таблицах в следующих подразделах перечислены общие поля и поля, специфичные для заказов на работу, доступные при настройке директивы местоположения.

### <a name="fields-that-are-common-to-all-work-order-types"></a>Поля, общие для всех типов заказов на работу

В следующей таблице перечислены поля, которые являются общими для всех типов заказов на работу.

| Экспресс-вкладка | Поле |
|---|---|
| Директивы для мест хранения | Тип работы |
| Директивы для мест хранения | Место |
| Директивы для мест хранения | Склад |
| Директивы для мест хранения | Код директивы |
| Директивы для мест хранения | Несколько SKU |
| Линии | Порядковый номер |
| Линии | Количество "От" |
| Линии | Количество "До" |
| Линии | Единица |
| Линии | Найти количество |
| Линии | Ограничить по единице |
| Линии | Округлить вверх до единицы измерения |
| Линии | Найти упакованное количество |
| Линии | Разрешить разделение |
| Действия директивы для места хранения | Порядковый номер |
| Действия директивы для места хранения | Наименование |
| Действия директивы для места хранения | Использование фиксированного местонахождения |
| Действия директивы для места хранения | Разрешить отрицательный запас |
| Действия директивы для места хранения | Партия активна |
| Действия директивы для места хранения | Стратегия |

### <a name="fields-that-are-specific-to-work-order-types"></a><a name="fields-specific-types"></a>Поля, специфичные для конкретных типов заказов на работу

В следующей таблице перечислены поля, которые являются специфичными для конкретных типов заказов на работу.

| Экспресс-вкладка | Поле | Тип заказа на выполнение работ |
|---|---|---|
| Директивы для мест хранения | Найти по | Заказы на покупку |
| Директивы для мест хранения | Применимый код метода обработки | Заказы на покупку |
| Директивы для мест хранения | Код метода обработки | Заказы на покупку |
| Директивы для мест хранения | Применимый код метода обработки | Готовая продукция разгружена |
| Директивы для мест хранения | Код метода обработки | Готовая продукция разгружена |
| Директивы для мест хранения | Применимый код метода обработки | Заказы на возврат |
| Директивы для мест хранения | Код метода обработки | Заказы на возврат |
| Директивы для мест хранения | Применимый код метода обработки | Канбан складирован |
| Директивы для мест хранения | Применимый код метода обработки | Комплектация по канбану |
| Линии | Шаблон немедленного пополнения | Заказы на продажу |
| Линии | Шаблон немедленного пополнения | Комплектация сырья |
| Линии | Шаблон немедленного пополнения | Выдача на перемещение |
| Линии | Шаблон немедленного пополнения | Комплектация по канбану |

## <a name="open-the-location-directives-page"></a>Открытие страницы директивы местоположения

Чтобы открыть страницу **Директивы местоположения**, перейдите к пункту **Управление складом \> Настройка \> Директивы для мест хранения**.

Оттуда можно просматривать, создавать и изменять директивы местоположения с помощью команд на панели операций. Сведения о том, как использовать все поля, доступные на странице, см. в остальных разделах данной темы.

## <a name="action-pane"></a>Панель операций

Панель операций на странице **Директивы местоположения** содержит кнопки, которые можно использовать для создания, изменения и удаления директив (**Правка**, **Создать** и **Удалить**). Она также содержит следующие кнопки, которые позволяют настроить последовательность, в которой обрабатывается директива местоположения, и настроить запрос, определяющий критерии применения директивы местоположения:

- **Переместить вверх** — перемещение выбранной директивы вверх в последовательности. Например, можно переместить ее из порядкового номера 4 в порядковый номер 3.
- **Переместить вниз** — перемещение выбранной директивы вниз в последовательности. Например, можно переместить ее из порядкового номера 4 в порядковый номер 5.
- **Правка запроса** — открывает диалоговое окно, в котором можно определить условия обработки выбранной директивы местоположения. Например, может потребоваться, чтобы она применялась только к конкретному складу.

## <a name="location-directives-header"></a>Заголовок директив местонахождения

Заголовок директивы местоположения содержит следующие поля для порядкового номера и описательного наименования директивы местоположения:

- **Порядковый номер** — в этом поле указывается последовательность, в которой система пытается применить каждую директиву местоположения для выбранного типа рабочего заказа. Первыми применяются младшие значения. Можно изменить последовательность, используя кнопки **Вверх** и **Вниз** на панели операций.
- **Имя** — введите описательное имя для директивы местоположения. Это имя должно помочь в определении общего назначения директивы. Например, введите *Комплектация заказа на продажу на складе 24*.

## <a name="location-directives-fasttab"></a>Экспресс-вкладка директив местонахождения

Поля на экспресс-вкладке **Директивы местоположения** относятся к конкретному типу заказа на работу, выбранному в поле **Тип рабочего заказа** на панели списка.

- **Тип работы** — выберите тип работы, которая должна быть выполнена. Доступные значения зависят от типа проводки по запасам, выбранного в поле **Тип заказа на работу**. Выберите одно из следующих значений:

    - **Размещение** — директива местонахождения попытается найти самое оптимальное место для размещения запасов, поступающих в систему с приемки, производства или в результате корректировки запасов. Может также использоваться для определения размещения в промежуточном месте хранения или в окончательном месте хранения перед отгрузкой (у двери).
    - **Комплектация** — директива местонахождения попытается найти самые оптимальные местонахождения для физического резервирования запасов (т. е., создать работу). Комплектация может быть завершена (строка работы "комплектация" может быть закрыта), даже если работа не выполнена. Пользователь может выполнить физическую комплектацию. В системе это действие является шагом комплектации. Пользователь может затем отменить ее на мобильном устройстве и выполнить работу позднее. Тем не менее заголовок работы сначала закрывается, затем выполняется окончательное размещение.

    > [!IMPORTANT]
    > Остальные значения в поле **Тип работы** не подходят для директив местоположения. Они отображаются только в том случае, если поле не отфильтровано для соответствия выбранному типу рабочего заказа.

- **Сайт** — это обязательное поле, поскольку директива для места хранения должна иметь возможность определить сайт и склад, для которых она действительна.
- **Склад** — это обязательное поле, поскольку директива для места хранения должна иметь возможность определить сайт и склад, для которых она действительна.
- **Код директивы** — выберите код директивы для связи с шаблоном работы или шаблоном пополнения. На странице **Код директивы** можно создавать новые коды, которые могут использоваться для подключения шаблонов работы или шаблонов пополнения к директивам местонахождения. Коды директив также могут использоваться для установления связи между любой строкой шаблона работы и директивой местонахождения (такого как дверь или промежуточное местонахождение).

    > [!TIP]
    > Если этот код директивы задан, система не будет искать директивы местонахождения по порядковому номеру, когда работа должна быть создана. Вместо этого поиск выполняется по коду директивы. Таким образом, можно более конкретно указывать, какой шаблон местонахождения используется для определенного шага в шаблоне работы, например помещение на промежуточное хранение и обработку материалов.

- **Несколько SKU** — задайте этот параметр на *Да*, чтобы включить несколько единиц складского хранения (SKU) для использования в местонахождении. Например, для местоположения двери отсека должно быть включено несколько номеров SKU. Если активировано несколько SKU, местоположение размещения будет указано в работе, как ожидаемое. Однако это местоположение размещения может обрабатывать только размещение нескольких номенклатур (если работа включает разные SKU, которые должны быть скомплектованы и размещены). Оно не сможет обрабатывать размещение с одним SKU, Если для этого параметра установить значение *Нет*, местоположение размещения будет указано только в том случае, если выбранное размещение имеет только один тип SKU.

    > [!IMPORTANT]
    > Для того чтобы иметь возможность выполнять как многономенклатурные размещения, так и размещения с одним SKU, необходимо указать две строки с одинаковой структурой и настройкой, но для параметра **Несколько SKU** необходимо установить значение *Да* для одной строки, и *Нет* — для другой. Таким образом, для операций размещения необходимо иметь две идентичные директивы для мест хранения, даже если вы не делаете различия между одной и несколькими SKU в коде работы. Часто, если не настроить обе эти директивы местоположения, непредвиденные местоположения бизнес-процессов будут поступать из примененной директивы местоположения. Следует использовать аналогичные настройки для директив местоположения, которые имеют **Тип работы** *комплектация*, если необходимо обработать заказы, включающие несколько SKU.

    Используйте параметр **Несколько SKU** для строк работы, обрабатывающих более одного кода номенклатуры. (Код номенклатуры будет пустым в сведениях о работе, и он будет отображаться как **Несколько** на страницах обработки в приложении склада.)

    В обычном примере шаблон работы настраивается таким образом, что в нем имеется более одной пары комплектации/размещения. В этом случае может потребоваться выполнить поиск конкретного промежуточного местоположения для использования в строках с **Типом работы** *Размещение*.

    > [!NOTE]
    > Если для параметра **Несколько SKU** установлено значение *Да*, нельзя выбрать **Изменить запрос** на панели операций, поскольку запрос не может оцениваться на уровне номенклатуры, когда имеется несколько номенклатур. Чтобы убедиться в том, что выбрана нужная директива местоположения, используйте поле **Код директивы** для того, чтобы выбрать директиву местоположения, связанную со строками размещения, в которых код директивы назначен в шаблоне работы.

    Кроме случаев, когда вы всегда работаете с операциями с одной или с несколькими номенклатурами, важно определить две директивы местоположения для типа работы *Размещение*: один, где параметр **Несколько SKU** имеет значение *Да*, и один, где этот параметр имеет значение *Нет*.

- **Применимый код метода обработки** — укажите, должен ли код метода обработки директивы местонахождения соответствовать коду метода обработки, который применяется при получении номенклатуры, или директива местоположения может быть выбрана на основании любого кода метода обработки. Если выбрано значение *Точное совпадение*, а поле **Код метода обработки** не заполнено, только пустые коды метода обработки будут учитываться для данной директивы местонахождения.

    > [!NOTE]
    > Это поле доступно только для выбранных типов заказов на работу, для которых разрешено пополнение. Полный список см. в разделе [Поля, специфичные для конкретных типов заказов на работу](#fields-specific-types) ранее в этой теме.

- **Поиск по** — укажите, должно ли размещаемое количество быть целым количеством на грузоместе, или должно ли оно быть по номенклатурам. Используйте это поле, чтобы убедиться в том, что все содержимое грузоместа помещено в одно местоположение, и что система не предлагает разделять содержимое на несколько местоположений для **предварительного уведомления об отгрузке** (получение грузоместа), получения **смешанных грузомест** и процессов получения **кластеров**. (Процесс получения **Кластер** требует, чтобы *Функция размещения кластера* была включена.) Поведение запроса директивы местоположения, строк и действий директивы местоположения будет разным, в зависимости от выбранного значения. Экспресс-вкладка **Строки** используется только в том случае, если для поля **Поиск по** указано значение *Номенклатура*.

    > [!NOTE]
    > Это поле доступно только для выбранных типов заказов на работу, для которых разрешено пополнение. Полный список см. в разделе [Поля, специфичные для конкретных типов заказов на работу](#fields-specific-types).

- **Код метода обработки** — это поле используется для директив местоположения, которые имеют тип заказа на работу *Заказы на покупку*, *Размещение готовых товаров* или *Заказы на возврат*, а также тип работы *Разместить*. Используйте его для направления потока на использование определенной директивы местоположения, в зависимости от кода метода обработки, выбранного работником в приложении склада. Например, можно направить возвращенные товары в место проведения проверки до того, как они будут возвращены на склад. Код метода обработки может быть связан со статусом запасов. Таким образом, его можно использовать для изменения статуса запасов как части процесса приемки. Например, имеется код метода обработки *QA*, который устанавливает статус запасов на *QA*. Затем можно иметь отдельную директиву местоположения, чтобы переместить запасы в карантинную ячейку.

    > [!NOTE]
    > Это поле доступно только для выбранных типов заказов на работу, для которых разрешено пополнение. Полный список см. в разделе [Поля, специфичные для конкретных типов заказов на работу](#fields-specific-types).

## <a name="lines-fasttab"></a>Экспресс-вкладка Строки

Экспресс-вкладка **Строки** используется для определения условий применения соответствующих действий, указанных на экспресс-вкладке **Действия директивы местоположения**. Для каждой строки можно указать минимальное количество и максимальное количество, к которому должны применяться действия. Также можно указать, что действия следует применять к определенной единице складского учета.

- **Порядковый номер** — введите последовательность, в которой каждая строка директивы местонахождения должна обрабатываться для выбранного типа работ. Можно изменить последовательность требуемым образом, используя кнопки **Вверх** и **Вниз** на панели инструментов.
- **От количества** — указывается начало диапазона количеств, к которому относится строка. Укажите количество в единицах измерения, выбранных в поле **Единица**.
- **До количества** — указывается конец диапазона количеств, к которому относится строка. Укажите количество в единицах измерения, выбранных в поле **Единица**.
- **Единица измерения** — выберите единицу измерения для номенклатур. Можно определить минимальное количество и максимальное количество, к которому должна применяться директива, и можно указать, что директива должна относиться к конкретной единице измерения складского учета. Поле **Единица измерения** используется *только* для оценки количества. Чтобы определить, применяется ли вообще строка директивы местонахождения, система используется количество в единицах измерения, указанных в строке. Каждый раз при достижении строки директивы местонахождения система пытается преобразовать единицу измерения спроса в единицу измерения, указанную в строке. Если пересчет единиц измерения не существует, система переходит в следующую строку.
- **Найти количество** — это поле используется только в процессе попыток разместить или найти номенклатуру на складе. (Поэтому оно применяется только в том случае, если в поле **Тип работы** указано значение *Размещение*.) Выберите одно из следующих значений, чтобы указать количество, используемое для оценки того, попадает ли количество в диапазон **От количества** до **До количества**:

    - **Количество для грузоместа** — количество используется для получаемого грузоместа.
    - **Количество в единицах** — используется количество, используемое в ходе проводки. Например, вы получаете количество 1 000 на складе и разбиваете его на 10 грузомест, каждое из которых имеет количество 100. В этом случае можно использовать количество 1 000 номенклатур вместо количества в грузоместе 100.
    - **Оставшееся количество** — используется количество, которое должно быть еще получено по обрабатываемой строке заказа на покупку.
    - **Ожидаемое количество** — используется общее количество по строке заказа на покупку, независимо от того, что уже было получено.

- **Ограничить по единице измерения** — этот флажок позволяет сделать строку директив местоположения специфической для единицы измерения или для нескольких единиц измерения. Установите его, чтобы ограничить единицы измерения, которые считаются допустимыми критериями выбора для строк директивы местонахождения. Эта функция работает только для директив местоположения, в которых для поля **Тип работы** установлено значение *Комплектация*.

    Например, при резервировании количеств необходимо зарезервировать палеты только из определенного набора местоположений. В этом случае строки будут ограничивать эту последовательность палетами таким образом, что для директивы местоположения не будет выбрано количество, меньшее палеты.

    Обратите внимание, что флажок **Ограничение по единицам** не контролирует единицу измерения или единицы измерения, применяемые в строках работы. Ограничение единицы применяется только к единицам, доступным через группу упорядочения единиц. Например, номенклатура связана с группой упорядочения единиц, которая содержит единицы измерения *палеты* и *шт.*. Единица измерения определена, где 1 палета = 100 шт., а в директиве местонахождения используется функция **Ограничить по единице** только для палет. Кроме того, был определен шаблон работы, который ограничивает создание заголовка работы 50 шт. В этом случае будут созданы строки работы на 50 шт. Чтобы указать единицу измерения для ограничения, выполните следующие действия:

    1. На экспресс-вкладке **Строки** выберите **Ограничить по единицам измерения** на панели инструментов. (Эта кнопка доступна только в том случае, если установлен флажок **Ограничить по единице** в строке, а затем выберите **Сохранить**.)
    1. На странице **Ограничить по единицам измерения** в поле **Единица измерения** выберите единицу измерения, по которой требуется выполнить ограничение для процессов комплектации и размещения.

- **Округлить в большую сторону до единицы измерения** — это поле работает вместе с флажком **Ограничить по единице измерения**. Например, если параметры **Ограничить по единице измерения** и **Округлить в большую сторону до единицы измерения** выбраны в строке директивы для места хранения, работа, создаваемая из директивы для комплектации сырья, должна округляться вверх до кратного одной единице обработки, указанной на странице **Ограничить по единице измерения**.

    > [!NOTE]
    > Это **Округление в большую сторону до единицы измерения** выполняется только для типа заказа на работу *Комплектации сырья* и только для директив местоположения, для которых в поле **Тип работы** установлено значение *Комплектация*.

- **Найти упакованное количество** — если указать упаковочное количество для заказа на продажу, заказа на перемещение или производственного заказа, этот флажок позволяет ограничить систему таким образом, чтобы она могла выбирать только местоположения, имеющие по крайней мере это упаковочное количество.

    > [!NOTE]
    > Эта функция только с директивами для мест хранения типа *Комплектация*.

- **Разрешить разделение** — укажите, разрешено ли директиве для места хранения разбивать принимаемое количество или резервируемое количество между несколькими местами хранения на складе, или же для создания работы все количество должно быть размещено в одном месте хранения или резервироваться из одного места хранения.
- **Шаблон немедленного пополнения** — используйте это поле для создания связи с шаблоном пополнения для немедленного запуска пополнения, если номенклатуры не распределены. Если это поле оставлено пустым, пополнение номенклатуры не запустится, пока не будут обработаны все строки директивы местоположения.

    > [!NOTE]
    > Это поле доступно только для выбранных типов заказов на работу, для которых разрешено пополнение. Полный список см. в разделе [Поля, специфичные для конкретных типов заказов на работу](#fields-specific-types).

## <a name="location-directive-actions-fasttab"></a>Экспресс-вкладка действий директив местонахождения

Можно определить несколько действий директивы для места хранения для каждой строки. Опять же, порядковый номер используется, чтобы определить порядок оценки действий. На этом уровне можно настроить запрос для определения способа поиска оптимального расположения на складе. Для поиска оптимального расположения можно также использовать предопределенные значения **Стратегия**.

- **Порядковый номер** — в этом поле отображается последовательность, в которой будет обрабатываться действия для выбранного типа работ. Можно изменить последовательность, используя кнопки **Вверх** и **Вниз** на панели инструментов.
- **Имя** — введите имя действия директивы местонахождения. Будьте точными, чтобы выполняемое действие было ясно из имени.
- **Использование фиксированного местоположения** — укажите местоположения, которые должны учитываться директивой местоположения. Выберите одно из следующих значений:

    - **Фиксированные и нефиксированные местонахождения** — директива для места хранения будет учитывать все места хранения.
    - **Только фиксированные местонахождения для продукта** — директива для места хранения будет учитывать только фиксированные местонахождения для продуктов.
    - **Только фиксированные местонахождения для варианта продукта** — директива для места хранения будет учитывать только фиксированные местонахождения для вариантов продукта.

- **Разрешить отрицательный запас** — установите этот флажок, чтобы разрешить отрицательный запас в указанном месте хранения в директивах для мест хранения.
- **Партия активна** — установите этот флажок, чтобы использовать стратегии партий для номенклатур с поддержкой партий. Важно установить этот флажок для процессов, которые используют директивы местоположения для поиска местоположений для комплектации номенклатур, отслеживаемых по номеру партии. Таким образом включается поиск местоположений, содержащих номенклатуры, отслеживаемые по номерам партий. Если этот флажок установлен, а в поле **стратегия** установлено значение *нет*, система перейдет к следующей строке действия.
- **Стратегия** — чтобы упростить и ускорить определение действий, которые связаны с каждой строкой директивы местонахождений, можно выбрать одну из предопределенных стратегий:

    - **Нет** — стратегия не используется.
    - **Соответствие упакованному количеству** — эта стратегия проверяет, имеется ли в местонахождении комплектации указанное упаковочное количество. Данная стратегия допустима только в том случае, если в поле **Тип работы** указано значение *Комплектация*.
    - **Консолидировать** — эта стратегия консолидирует номенклатур в определенном местонахождении, если уже доступны аналогичные номенклатуры. Данная стратегия допустима только в том случае, если в поле **Тип работы** указано значение *Размещение*. Стандартная настройка размещения пытается выполнить консолидацию по первой строке действия, а затем во второй строке действия она попытается выполнить размещение без консолидации. Консолидация товаров делает более эффективной последующую комплектацию.
    - **Резервирование партии по FEFO** — эта стратегия использует для резервирования партий принцип "сначала партии, у которых первым истекает срок годности" (FEFO). Используйте ее, когда запасы размещаются по дате окончания срока действия партии и назначаются для резервирования партии. Эту стратегию можно использовать только для номенклатур с поддержкой партий. Она допустима только в том случае, если в поле **Тип работы** указано значение *Комплектация*.
    - **Округлить до полного НЗ и партии FEFO** — эта стратегия объединяет элементы стратегий *резервирования партии FEFO* и *округления до полных НЗ*. Это допустимо только для номенклатур с поддержкой партий и директив местоположения, которые имеют тип работы *Комплектация*. Для использования стратегии *резервирования партий по FEFO* строка должна быть включена для партии, а стратегия *округления до полного НЗ* может использоваться только для пополнения. Если эта стратегия настроена вместе с ограничением складских запасов, это может привести к тому, что выбранное местоположение работы размещения будет переполнено, и пределы запасов будут игнорироваться.
    - **Округлить до полного НЗ** — эта стратегия используется для округления количества запасов до количества по грузоместу, назначенного комплектуемым номенклатурам. Эту стратегию можно использовать только для директив пополнения для мест хранения типа *Комплектация*. Если эта стратегия настроена вместе с ограничением складских запасов, это может привести к тому, что выбранное местоположение работы размещения будет переполнено, и пределы запасов будут игнорироваться.
    - **Управляется по грузоместу** — используйте эту стратегию при выпуске заказа на склад для создания работы комплектации и размещения. Этот подход можно использовать для нескольких грузомест. Эта стратегия будет пытаться зарезервировать и создать работу по комплектации в соответствии с местоположениями, в которых хранятся запрошенные грузоместа, связанные со строками заказа на перемещение. Однако если эти действия не могут быть завершены, но все же необходимо создать работу по комплектации, следует вернуться к другой стратегии для действий директивы местоположения. В зависимости от требований бизнес-процесса может также потребоваться выполнить поиск запасов в другой области склада.
    - **Пустое местонахождение без входящих работ** — используйте эту стратегию для поиска пустых мест хранения. Местонахождение считается пустым если в нем нет физических запасов и ожидаемой входящей работы. Эту стратегию можно использовать только для директив мест хранения, имеющих тип работы *Комплектация*.
    - **Распределение по срокам местонахождения ФИФО** — использование стратегии "первый пришел, первый ушел" (FIFO) для отгрузки как номенклатур с отслеживанием партий, так и номенклатур без отслеживания партий, на основе даты, когда запасы поступили на склад. Эта возможность особенно полезна для запасов без отслеживания партий, когда дата истечения срока недоступна для использования при сортировке. Стратегия ФИФО находит местоположение, которое содержит самую старую дату распределения по срокам, затем распределяет комплектацию на основе этой даты распределения по срокам.
    - **Распределение по срокам местонахождения ЛИФО** — использование стратегии "последний пришел, последний ушел" (LIFO) для отгрузки как номенклатур с отслеживанием партий, так и номенклатур без отслеживания партий, на основе даты, когда запасы поступили на склад. Эта возможность особенно полезна для запасов без отслеживания партий, когда дата истечения срока недоступна для использования при сортировке. Стратегия ФИФО находит местоположение, которое содержит самую новую дату распределения по срокам, затем распределяет комплектацию на основе этой даты распределения по срокам.

## <a name="example-using-location-directives"></a>Пример: использования директив для мест хранения

В этом примере мы рассмотрим процедуру, связанную с заказом на покупку, когда директива для места хранения должна найти на складе свободное место для складируемых номенклатур, которые только что были зарегистрированы в доке приемки. Во-первых, нужно попытаться найти свободное место на складе путем консолидации с существующими запасами в наличии. Если консолидация невозможна, нужно найти пустое место хранения.

Для этого сценария необходимо определить два действия директивы для места хранения. Первое действие в последовательности должно использовать стратегию *Консолидировать*, а второе — *Пустое расположение без входящей работы*. Если не определено третье действие для обработки сценария переполнения, возможны два результата, если места на складе нет: работа будет создана, несмотря на отсутствие определенных мест хранения, либо процесс создания работы завершится сбоем. Результат определяется настройкой страницы **Ошибки указания местонахождения**, где можно определить, нужно ли выбирать параметр **Прекратить работу при сбое директивы местонахождения** для каждого типа заказа на работу.

## <a name="next-step"></a>Далее

После создания директив местонахождения можно связать каждый код директивы с кодом шаблона работы для создания работы. Дополнительные сведения см. в разделе [Контроль работы склада с использованием шаблонов работы и директив местонахождения](https://docs.microsoft.com/dynamics365/supply-chain/warehousing/control-warehouse-location-directives).

## <a name="additional-resources"></a>Дополнительные ресурсы

- Видео: [Подробные сведения о конфигурации управления складом](https://community.dynamics.com/365/b/techtalks/posts/warehouse-management-configuration-deep-dive-october-14-2020)
- Тема справки: [Контроль работы склада с шаблонами работы и директивами для мест хранения](control-warehouse-location-directives.md)
