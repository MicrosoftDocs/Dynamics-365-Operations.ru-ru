---
title: График печати этикеток волны во время волны
description: Эта тема описывает, как настроить и использовать функции для печати меток волны на основе задач.
author: MSFTGarm
ms.date: 06/09/2021
ms.topic: article
ms.search.form: WHSPostMethod, WHSWavePostMethodTaskConfig, WHSWaveTemplateTable, WHSParameters, WHSWaveTableListPage, WHSWorkTableListPage, WHSWorkTable, BatchJobEnhanced, WHSPlannedWorkOrder
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: v-obaranov
ms.search.validFrom: 2021-06-09
ms.dyn365.ops.version: 10.0.16
ms.openlocfilehash: 4883f8a548645436e17b933d87d4ee6330570d48
ms.sourcegitcommit: 8cb031501a2b2505443599aabffcfece50e01263
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2021
ms.locfileid: "7777873"
---
# <a name="schedule-wave-label-printing-during-wave"></a>График печати этикеток волны во время волны

[!include [banner](../../includes/banner.md)]

Используйте функцию *Печать этикеток волны на основе задачи* как часть процесса волны, чтобы повысить эффективность и чтобы система создавала этикетки волны и работала в отдельных задачах.

Процесс настройки печати этикеток волны является сложным и опирается на точную конфигурацию и справочник. Ошибки создания записей этикеток волны случаются, и когда это произойдет, вся обработка волны откатывается назад. Функция *Печать этикеток волны на основе задачи* помогает избежать повторного создания работы и строк работы каждый раз, когда этикетка волны неправильно напечатана.

При использовании функции *Печать этикеток волны на основе задачи* система сначала создает работу и строки работы. Затем она создает и печатает этикетки волны. Наконец, если этикетки волны волны правильно созданы, она выпускает работу и волну для комплектации.

## <a name="turn-on-the-task-based-wave-label-printing-feature-in-feature-management"></a>Включите функцию печати этикеток волны на основе задачи в управлении функциями

Для использования описанных в этой теме функций они должны быть включены в системе. Используйте рабочую область [Управление функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md), чтобы включить следующие функции в следующем порядке:

1. *Печать этикеток волны* — эта функция необходима для включения метода процесса волны для печати этикеток волны.
1. *Блокировка работы для всей организации* — эта функция необходима для ручной и автоматической настройки создания запланированной работы. (В Supply Chain Management версии 10.0.21 эта функция является обязательной, поэтому она включается по умолчанию и не может быть отключена снова.)
1. *Печать этикеток волны на основе задач* — эта функция необходима для разделения печати этикеток волны в отдельную область проводок.

## <a name="manually-enable-the-new-wave-step-method"></a>Вручную включите новый метод шага волны

Сначала создайте новый метод шага волны и включите его для параллельной асинхронной обработки задач.

1. Перейдите в раздел  **Управление складом \> Настройка \> Волны \> Методы обработки волн**.
1. В области операций выберите **Восстановить метод**. Обратите внимание, что *waveLabelPrinting* добавляется в список методов процесса волны, которые можно использовать в шаблонах волны отгрузки.
1. Выберите запись, где поле **Имя метода** задано как *waveLabelPrinting*, а затем на панели действий выберите **Конфигурация задачи**.
1. На панели операций выберите **Создать**, чтобы добавить строку в сетку. Затем задайте следующие поля для новой строки:

    - **Склад** — выберите склад, который будет использоваться для планирования обработки создания работ. (Если вы используете демонстрационные данные для целей тестирования, вы можете выбрать склад *24*.)
    - **Максимальное число пакетных задач** — указывает максимальное число пакетных задач. В большинстве случаев значение должно быть от *8* до *16*. Тем не менее, мы рекомендуем вам поэкспериментировать, чтобы найти оптимальную настройку для ваших сценариев.
    - **Группа пакетов обработки волн** — выберите специальную группу пакетов обработки волн для оптимизации обработки очереди пакетных заданий.

Теперь можно обновить существующий шаблон волны, чтобы он использовал метод обработки волны *Печать этикеток волны*. Кроме того, можно создать новый шаблон волны, который использует его.

1. Перейдите в раздел  **Управление складом \> Настройка \> Волны \> Шаблоны волны**.
1. На панели операций выберите **Правка**.
1. В области списка выберите шаблон волны для обновления. (Если вы используете демонстрационные данные для целей тестирования, вы можете выбрать склад *24 Отгрузка по умолчанию*.)
1. На экспресс-вкладке **Методы** в столбце **Оставшиеся методы** выберите строку, где поле **Имя** установлено на значение *waveLabelPrinting*.
1. Выберите **добавить** (кнопка со стрелкой вправо), чтобы переместить выбранную строку в столбец **Выбранные методы**.
1. В поле **Кода шага волны** введите код шага волны, который будет использоваться для подключения шаблона волны с шаблоном этикетки волны.

## <a name="set-wave-task-processing-threshold-data"></a>Установка пороговых значений обработки задач волны

При первом запуске процесса волны с использованием любой обработки на основе задач система создаст пороговые данные обработки задач волны по умолчанию. Такие данные используются для управления тем, когда обработка волны выполняется асинхронно и должна быть основана на задачах, что позволяет ей параллельно обрабатывать и создавать этикетки волны.

Данные по умолчанию изначально будут использовать пороговое значение *1* для минимального количества идентификаторов работы (`MinimumWorkThresholdForLabelPrinting`). Поэтому, когда система обрабатывает волну, которая имеет более одного идентификатора работ, она будет использовать обработку этикеток волны на основе задачи в отдельной проводке. Эти данные можно вручную вставить или обновить в таблице `WHSWaveTaskProcessingThresholdParameters` в ваших тестовых средах. Чтобы изменить параметр в рабочей среде, необходимо обратиться в службу поддержки Майкрософт, чтобы запросить обновление.

## <a name="changes-to-the-wave-processing-logic-when-task-based-wave-label-printing-is-used"></a>Изменения в логике обработки волны при использовании печати этикеток волны на основе задачи

Если обработка этикеток волны превышает порог обработки задачи волны, инициируется обработка на основе задачи. В следующей обработке волны, которая соответствует шаблону волны, печать этикеток волны будет работать в автономной проводке *ttsbegin*/*ttscommit* сразу после создания работы. Если для шаблона волны настроен автоматический выпуск работы (снятие блокировки), это происходит только после успешного завершения процесса печати этикеток волны.

Если создание этикеток волны заканчивается неуспешно (например, если преобразование количества работы в количество этикеток волны заканчивается ошибкой), произойдет сбой только соответствующей проводки. Работа, которая была создана ранее, остается замороженной. Чтобы исправить ошибки и напечатать этикетки волны, выполните следующие действия.

1. Перейдите в раздел **Управление складом \> Исходящие волны \> Волны отгрузок \> Все волны**.
1. Выберите соответствующую волну в сетке.
1. В области действий на вкладке **Волна** в группе **Печать** выберите **Этикетки волны**.
1. Следуйте инструкциям на экране, чтобы отправить этикетки на печать.
1. В области действий на вкладке **Волна** в группе **Волна** выберите **Выпуск**, чтобы вручную выпустить работу для выбранной волны.

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Печать этикеток волны](configure-wave-label-printing.md)
- [Планирование создания работы во время волны](configure-wave-schedule-work-creation.md)

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
