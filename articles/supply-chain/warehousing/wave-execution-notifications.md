---
title: Уведомления о выполнении волны
description: В этой теме описываются уведомления о выполнении волны и объясняется, как их настроить.
author: mirzaab
ms.date: 04/03/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WhsWaveNotificationPolicy, WHSParameters, WHSWaveTemplateTable, BusinessEventsWorkspace
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-04-01
ms.dyn365.ops.version: 10.0.0
ms.openlocfilehash: 26810f6e21f9c8ba6e92621a8e1ddee17837b6048107b961afb0e428059051af
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "6752592"
---
# <a name="wave-execution-notifications"></a>Уведомления о выполнении волны

[!include [banner](../includes/banner.md)]

Функция *Уведомления о выполнении волны* использует бизнес-события и центр уведомлений для доставки уведомлений, которые относятся к выполнению волн. Она позволяет указать типы событий, создающих уведомления, склады, которые их создают, и пользователей, которые их получают.

Кнопка **Показать сообщения** (символ колокольчика) в правой части панели переходов показывает, что сообщение центра уведомлений доступно текущему пользователю. Пользователь может выбрать кнопку **Показать сообщения**, чтобы открыть центр уведомлений и просмотреть сообщения.

Бизнес-события возникают при выполнении бизнес-процессов. Бизнес-процессы состоят из задач. Во время бизнес-процесса пользователи, участвующие в нем, выполняют бизнес-действия для выполнения этих задач. Бизнес-события обеспечивают механизм, который позволяет внешним системам получать уведомления от приложений Finance and Operations. Таким образом, системы могут выполнять бизнес-действия в ответ на бизнес-события. Дополнительные сведения см. в разделе [Обзор бизнес-событий](../../fin-ops-core/dev-itpro/business-events/home-page.md).

## <a name="turn-on-the-wave-execution-notifications-feature"></a>Включение функции уведомлений о выполнении волны

Прежде чем использовать функцию *Уведомления о выполнении волны*, она должна быть включена в системе. Администраторы могут использовать рабочую область [Управление функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса функции и ее включения, если это требуется. В этом случае функция указана следующим образом:

- **Модуль:** *Управление складом*
- **Имя функции:** *Уведомления о выполнении волны*

## <a name="scenario-send-wave-batch-execution-notifications-to-the-action-center"></a>Сценарий: отправка уведомлений о пакетном выполнении волн в центр уведомлений

Этот сценарий показывает сквозной поток для отправки уведомлений об ошибках пакетного выполнения волны определенной роли через центр уведомлений.

### <a name="make-demo-data-available"></a>Сделать демонстрационные данные доступными

Для выполнения этого сценария необходимо установить демонстрационные данные, а также необходимо выбрать юридическое лицо **USMF**.

### <a name="make-sure-that-waves-are-run-in-batch-mode"></a>Убедитесь, что волны выполняются в пакетном режиме

1. Перейдите в раздел **Управление складом \> Настройка \> Параметры управления складом**.
1. На экспресс-вкладке **Обработка волн** установите для параметра **Обрабатывать волны в партии** значение *Да*.

> [!NOTE]
> Если вы хотите отключить уведомления о пакетном выполнении волн, установите для параметра **Отключить пакетные уведомления об обработке волн** значение *Да*.

### <a name="configure-a-wave-notification-policy"></a>Настройка политики уведомлений о волнах

Политики уведомления о волнах определяют типы отправляемых уведомлений и пользователей, которые получают уведомление.

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Политики уведомления о волнах**.
1. Создайте запись со следующими параметрами:

    - **Политика уведомления о волнах:** *24BatchError*
    - **Описание:** *Ошибка пакетной обработки волны для склада 24*
    - **Отправлять уведомление:** *Только ошибка*
    - **Для роли:** *Системный администратор*

        > [!NOTE]
        > Поскольку в этом сценарии используются демонстрационные данные, роль *Системный администратор* выбрана для простоты. Таким образом, поскольку вы вошли в систему как системный администратор, вы будете получать уведомления. Однако на практике обычно следует выбрать более конкретную роль для уведомления об ошибках пакетного выполнения волн, такую как *Менеджер склада*.

1. На панели операций выберите **Сохранить**.

### <a name="configure-a-wave-template"></a>Настройка шаблона волны

Шаблоны волн позволяют связывать отдельные экземпляры методов волны с соответствующими шаблонами этикетки волны.

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Шаблоны волны**.
1. В области списка задайте для поля **Тип шаблона волны** значение *Отгрузка*, затем выберите шаблон волны *24 Отгрузка по умолчанию* для склада 24.
1. На экспресс-вкладке **Общие** задайте в поле **Политика уведомлений и волне** значение *24BatchError*.

### <a name="configure-a-work-template"></a>Настройка шаблона работы

Шаблоны работы используются во время выполнения волны для создания работы. Для этого сценария выполнение волны должно вызывать ошибку. Задав для запроса шаблона работы использование несуществующего склада, можно гарантировать, что выполнение волны завершиться сбоем и, таким образом, будет отправлено уведомление.

1. Перейдите в раздел **Управление складом \> Настройка \> Работа \> Шаблоны работ**.
1. В области списка задайте для поля **Тип шаблона работы** значение *Заказы на продажу*, затем выберите шаблон работы *24 Этап заказа на продажу* для склада 24.
1. На панели операций выберите **Изменить запрос**.
1. В диалоговом окне редактора запросов на вкладке **Диапазон** измените следующую строку (или добавьте ее, если она не существует):

    - **Таблица:** *Временные рабочие проводки*
    - **Производная таблица:** *Временные рабочие проводки*
    - **Поле:** *Склад*
    - **Критерии:** измените значение с *24* на *Ошибка*.

1. Выберите **ОК** и подтвердите изменение.

### <a name="create-a-sales-order-and-release-it-to-the-warehouse"></a>Создание заказа на продажу и выпуск его на склад

1. Перейдите в раздел **Продажи и маркетинг \> Заказ на продажу \> Все заказы на продажу**.
1. Создайте заказ на продажу со следующими параметрами:

    - **Счет клиента:** *US-001*
    - **Склад:** *24*

1. На экспресс-вкладке **Строки заказа на продажу** добавьте строку заказа на продажу со следующими параметрами:

    - **Код номенклатуры:** *A0001*
    - **Количество:** *10*

    > [!NOTE]
    > Эти номенклатуры и количества являются только примерами. На указанном складе должно быть достаточно запасов.

1. Пока новая строка все еще выбрана на экспресс-вкладке **Строки заказа на продажу**, выберите **Запасы \> Резервирование** на панели инструментов.
1. На странице **Резервирование** в области действий выберите **Зарезервировать лот**. Затем закройте страницу.
1. На панели операций на вкладке **Склад** выберите вариант **Выпустить на склад**.

### <a name="notifications-from-wave-batch-job-execution"></a>Уведомления из выполнения пакетного задания волны

В зависимости от настройки бизнес-событий в конечном итоге вы получите уведомление о сбое выполнения волны. Сообщение центра уведомлений будет выглядеть примерно так, как показано в следующем примере, и будет содержать ссылку на волну со сбоем.

> **Ошибка при выполнении волны**  
> Произошла ошибка при выполнении волны USMF-000000001.  
> Последние сообщения: никакая работа для волны USMF-000000001 не была создана.
>
> **СТАТУС**  
> Активные сотрудники
>
> Открыть сведения о волне

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
