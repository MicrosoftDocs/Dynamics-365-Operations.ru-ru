---
title: Правило выпуска на склад
description: В этой статье приводятся сведения о функции "Правило выпуска на склад", которая обеспечивает гибкость при выпуске на склад. Она добавляет параметр конфигурации, который определяет, разрешает ли система выпуск частично зарезервированных строк заказа.
author: Mirzaab
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSParameters
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: 10.0.7
ms.openlocfilehash: d39ce6e07a789ff4d605a01b1d5053be150d2727
ms.sourcegitcommit: 203c8bc263f4ab238cc7534d4dd902fd996d2b0f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/23/2022
ms.locfileid: "9336256"
---
# <a name="release-to-warehouse-rule"></a>Правило выпуска на склад

[!include [banner](../includes/banner.md)]

Функция *Правило выпуска на склад* обеспечивает гибкие возможности во время выпуска на склад. Она добавляет параметр конфигурации для каждого склада. Этот параметр можно использовать, чтобы указать, могут ли для данного склада выпущены строки частично зарезервированных заказов. Функция работает вместе с расширенной функцией кросс-докинга в ситуациях, когда часть количества в строке заказа помечена для источника поставки, но оставшаяся часть может быть обработана на складе. Таким образом, строка может быть выпущена таким образом, чтобы складская обработка доступного количества запасов могла продолжаться.

## <a name="turn-on-and-initialize-the-release-to-warehouse-rule-feature"></a>Включение и инициализация функции "Правило выпуска на склад"

### <a name="turn-on-the-feature"></a>Включение функции

Прежде чем использовать функцию *Правило выпуска на склад*, она должна быть включена для системы. Администраторы могут использовать параметры [управления компонентами](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса функции и ее включения, если это требуется. В рабочей области **Управление функциями** эта функция перечисляется следующими способами:

- **Модуль:** *Управление складом*
- **Название функции:** *Правило выпуска на склад*

### <a name="initialize-the-feature"></a>Инициализация функции

После включения функции для системы ее необходимо инициализировать, чтобы установить для правила правильное начальное состояние для всех складов.

- Для складов, для которых не активировано управление складом, первоначально для правила установлено значение **Неприменимо**.
- Для складов, для которых активировано управление складом, первоначально для правила установлено значение **Разрешить частичное резервирование**.

Чтобы инициализировать функцию и установить правило выпуска на склад для всех складов, выполните следующие действия.

1. Перейдите в раздел **Управление складом \> Настройка \> Параметры управления складом**.
1. На странице **Параметры управления складом** на вкладке **Общие** в разделе **Сведения о компании** выберите ссылку для правила **Инициализация выпуска на склад**. (Если эта ссылка не отображается, то либо эта функция не включена, либо она уже была инициализирована.)
1. При появлении запроса на подтверждение действия выберите **Да**, чтобы инициализировать функцию.

## <a name="set-the-release-to-warehouse-rule-for-each-warehouse"></a><a name="set-option-warehouse"></a>Настройка правила выпуска на склад для каждого склада

После включения и инициализации функции все склады будут иметь исходную настройку, как описано в предыдущем разделе. Можно изменить эту настройку для отдельных складов, выполнив следующие шаги.

1. Перейдите в раздел **Управление складом \> Настройка \> Склад \> Склады**.
1. Выберите склад для настройки.
1. Выберите **Правка**, чтобы перевести страницу в режим редактирования.
1. На экспресс-вкладке **Склад** в разделе **Резервирования** поле **Требование для резервирования запасов** определяет, разрешены ли частичный выпуск заказов. Выберите одно из следующих значений:

    - **Не применяется** — когда функция впервые включается и инициализируется, это значение автоматически назначается всем складам, для которых не включено управление складом. Это значение нельзя изменить. Это значение недоступно для складов, которые включены для управления складом.
    - **Разрешить частичное резервирование** — заказы могут быть выпущены, когда любое количество зарезервировано. Система выполнит оценку того, следует ли отметить незарезервированное количество для расширенного кросс-докинга, и пометит это количество как требуемое. Если маркировки не существует, система создаст работу только для зарезервированного количества. Когда функция впервые включается и инициализируется, это значение автоматически назначается всем складам, для которых включено управление складом. Это значение недоступно для складов, которые не включены для управления складом.
    - **Требуется полное резервирование** — заказы могут быть выпущены только в том случае, если зарезервировано все количество. Они не могут быть выпущены, если общее количество физически не зарезервировано или запланировано для кросс-докинга. Это значение недоступно для складов, которые не включены для управления складом.

1. Нажмите **Сохранить**.

## <a name="scenarios"></a>Сценарии

В этом разделе представлено два сценария, с помощью которых можно узнать, что делает функция и как ее использовать.

### <a name="make-sample-data-available"></a>Сделать образцы данных доступными

Для работы с этими сценариями с помощью образцов записей и значений, указанных здесь, необходимо использовать систему, в которой установлены стандартные [демонстрационные данные](../../fin-ops-core/fin-ops/get-started/demo-data.md). Дополнительно перед началом необходимо выбрать юридическое лицо **USMF**.

Эти сценарии можно также использовать в качестве руководства по этой функции при работе в производственной системе. Однако в этом случае необходимо подставить собственные значения, и у вас могут отсутствовать некоторые типы необходимых записей, предоставляемых стандартными демонстрационными данными.

### <a name="scenario-1-require-full-release-no-planned-cross-docking"></a><a name="scenario1"></a>Сценарий 1: требуется полный выпуск (без планового кросс-докинга)

Этот сценарий показывает, как функционирует функция для складов, для которых настроено значение **Требуется полное резервирование**.

1. Перейдите в раздел **Управление складом \> Настройка \> Склад \> Склады**.
1. Для склада _62_ настройте для поля **Требование для резервирования запасов** значение **Требуется полное резервирование**, как описано в разделе [Настройка правила выпуска на склад для каждого склада](#set-option-warehouse) ранее в этой статье.
1. Перейдите в раздел **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу**.
1. Выберите **Создать**, чтобы создать заказ на продажу.
1. В диалоговом окне **Создание заказа на продажу** установите следующие значения:

    - На экспресс-вкладке **Клиент** задайте для поля **Счет клиента** значение _US-004_.
    - На экспресс-вкладке **Общее** задайте в поле **Склад** значение _62_.

1. Выберите **ОК**, чтобы создать новый заказ на продажу и закрыть диалоговое окно.
1. Открывается ваш новый заказ на продажу. Он включает пустую строку в сетке в разделе **Строки заказа на продажу**. В этой строке установите следующие значения:

    - **Код номенклатуры:** *A0001*
    - **Количество:** *2*

1. Выберите **Добавить строку**, чтобы добавить новую строку, и установите следующие значения:

    - **Код номенклатуры:** *A0002*
    - **Количество:** *2*

1. Выберите первую строку заказа, затем в меню **Запасы** над сеткой выберите **Резервирование**.
1. На странице **Резервирование** выберите **Резервирование лота**, чтобы зарезервировать полное количество по выбранной строке на складе.
1. Закройте страницу **Резервирование**, чтобы вернуться в заказ на продажу.
1. Не зарезервируйте вторую строку заказа.
1. На панели операций на вкладке **Склад** выберите вариант **Выпустить на склад**.
1. Обратите внимание на то, что вы получаете следующее сообщение об ошибке: "Полное количество должно быть физически зарезервировано". Поэтому система не создает никакой работы, отгрузки или загрузки для заказа.

    > [!NOTE]
    > Такое же сообщение об ошибке будет выводиться, если вторая строка будет только частично зарезервирована.

### <a name="scenario-2-allow-partial-release"></a>Сценарий 2. Разрешить частичный выпуск

Этот сценарий показывает, как функционирует функция для складов, для которых настроено значение **Разрешить частичный выпуск**.

1. Перейдите в раздел **Управление складом \> Настройка \> Склад \> Склады**.
1. Для склада _62_ настройте для поля **Требование для резервирования запасов** значение **Разрешить частичное резервирование**, как описано в разделе [Настройка правила выпуска на склад для каждого склада](#set-option-warehouse) ранее в этой статье.
1. Так же, как и в [предыдущем сценарии](#scenario1), перейдите к пункту **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу** и создайте заказ на продажу для счета клиента _US-004_ со склада _62_. Добавьте следующие две строки заказа:

    - **Строка 1:** задайте в поле **Код номенклатуры** значение _A0001_, в поле **Количество** значение _2_, и в поле **Единицы измерения** значение _шт._
    - **Строка 2:** задайте в поле **Код номенклатуры** значение _A0002_, в поле **Количество** значение _2_, и в поле **Единицы измерения** значение _шт._

1. Как в [предыдущем сценарии](#scenario1), зарезервируйте все количество для строки заказа 1, но не зарезервируйте строку заказа 2.
1. На панели операций на вкладке **Склад** выберите вариант **Выпустить на склад**.
1. Обратите внимание, что сообщение об ошибке не выводится на этот раз. Вместо этого система создает работу, отгрузки и загрузки по мере необходимости и отображает результаты.
1. Для просмотра сведений об отгрузке, загрузке и работе воспользуйтесь параметрами меню **Склад**, расположенным над сеткой:

    - **Строка 1:** доступны три параметра: **Сведения об отгрузке**, **Сведения о загрузке** и **Сведения о работе**. Выберите каждый параметр для просмотра сведений об отгрузке, загрузке и работе, которые были созданы, когда заказ был выпущен на склад.
    - **Строка 2:** доступен только параметр **Сведения о работе**. Выберите его и обратите внимание на то, что работа не была создана, так как запасы не были зарезервированы. Таким образом, отгрузка или загрузка не были созданы также.

> [!NOTE]
> Такой же результат ожидается, когда вторая строка частично зарезервирована. В этом случае будет создана работа для зарезервированного количества по строке, но не для незарезервированного количества.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]