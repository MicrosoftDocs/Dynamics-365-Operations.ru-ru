---
title: Пополнение порога зоны
description: При пополнении на основе зон используется стратегия минимального/максимального пополнения (мин/макс), но она оценивает все складские зоны, а не только отдельные ячейки. Таким образом, менеджеры склада могут быстрее узнать, когда в зоне комплектации требуются дополнительные запасы.
author: Mirzaab
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSReplenishmentTemplates, WHSLocDirHint, WHSLocDirTable, WHSRequestType
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: 10.0.8
ms.openlocfilehash: 44e7dfdbc980c5df6b9426515365611bc0de45c2
ms.sourcegitcommit: 203c8bc263f4ab238cc7534d4dd902fd996d2b0f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/23/2022
ms.locfileid: "9335956"
---
# <a name="zone-threshold-replenishment"></a>Пополнение порога зоны

[!include [banner](../includes/banner.md)]

При пополнении на основе зон используется стратегия минимального/максимального [пополнения](replenishment.md) (мин/макс), но она оценивает все складские зоны, а не только отдельные ячейки. Таким образом, менеджеры склада могут быстрее узнать, когда в зоне комплектации требуются дополнительные запасы.

Настройка для этого компонента напоминает настройку для пополнения на основе местоположения. Однако при настройке шаблона для пополнения мин./макс. можно также указать, следует ли оценивать пороговое значение для каждого местоположения или для каждой зоны. Если настроена оценка на основе зон, необходимо добавить отдельные зоны в запрос выбора зоны.

Как и минимальное/максимальное пополнение на основе местоположения, минимальное/максимальное пополнение на основе зоны основано на настройке минимального порогового значения запасов, которое запускает создание работы пополнения для выбранных номенклатур. Эта работа пополнения приведет к увеличению запаса до указанного максимального порога для зоны.

> [!NOTE]
> Процессы пополнения зоны для вариантов продукта не поддерживаются в текущем выпуске.


В отличие от минимального/максимального пополнения на основе местоположения, минимальное/максимальное пополнение на основе зоны не требует наличия фиксированных местоположений для оценки необходимости хранения определенной номенклатуры в местоположениях. Таким образом, пополнение на основе зон позволяет использовать минимальное/максимальное пополнение, даже если отсутствуют фиксированные местонахождения для каждой номенклатуры или варианта номенклатуры на складе. Если количество в зоне падает ниже указанного минимального значения, создается работа по пополнению запасов. Директивы местоположения определяют, в какое конкретное местоположение следует поместить запасы.

## <a name="turn-on-the-zone-threshold-replenishment-feature"></a>Включение функции пополнения порога зоны

Прежде чем использовать функцию *Пополнение порога зоны*, она должна быть включена для системы. Администраторы могут использовать параметры [управления компонентами](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса функции и ее включения, если это требуется. В рабочей области **Управление функциями** эта функция перечисляется следующими способами:

- **Модуль:** *Управление складом*
- **Имя функции:** *Пополнения порога зоны*

## <a name="set-up-zone-based-replenishment"></a><a name="setup"></a>Настройка пополнения на основе зон

Чтобы настроить пополнение на основе зон, необходимо настроить несколько частей системы. В этом разделе описываются различные параметры и предоставляются значения демонстрационных данных, которые можно ввести, если вы хотите выполнить действия по сценарию в конце этой статьи.

### <a name="set-up-directive-codes"></a>Настройка кодов директив

[Коды директив](control-warehouse-location-directives.md) позволяют более подробно определить шаблон местоположения, используемый в шаблоне работы. Каждый код определяет общее значение, на которое можно ссылаться при настройке каждого типа шаблона.

#### <a name="view-and-edit-directive-codes"></a>Просмотр и редактирование кодов директив

Чтобы просмотреть или изменить коды директив, перейдите к пункту **Управление складом \> Настройка \> Коды директив**.

#### <a name="prepare-demo-data-directive-codes"></a>Подготовка кодов директив демонстрационных данных

В этом примере показано, как подготовить код директивы. Если планируется работа со сценарием в конце этой статьи, используйте приведенные здесь значения демонстрационных данных. В противном случае используйте собственные значения.

1. Выберите юридическое лицо **USMF** для работы с демонстрационными данными.
1. Перейдите в раздел **Управление складом \> Настройка \> Коды директив**.
1. На панели операций выберите **Создать**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Код директивы:** _Пополнение зоны_
    - **Описание директивы:** _Пополнение зоны_

1. Выберите **Сохранить**, чтобы сохранить новый код.

### <a name="set-up-replenishment-templates"></a>Настроить шаблоны пополнения

[Шаблоны пополнения, основанного на минимальном и максимальном количествах](tasks/set-up-min-max-replenishment-process.md), являются основным механизмом для поддержания оптимального уровня в ячейках комплектации. В этих шаблонах необходимо настроить правила, которые будут использоваться для пополнения запасов на складе. Пополнение, для которого можно использовать шаблоны, включает пополнение на основе зон.

#### <a name="view-and-edit-replenishment-templates"></a>Просмотр и редактирование шаблонов пополнения

Шаблон пополнения — это набор правил, определяющих когда и как пополняются местонахождения. Следует выбрать шаблон, определяющий, когда и как выполняется пополнение. Для просмотра или редактирования шаблонов пополнения перейдите в раздел **Управление складом \> Настройка \> Пополнение \> Шаблоны пополнения**.

#### <a name="prepare-a-demo-data-replenishment-template"></a>Подготовка шаблона пополнения для демонстрационных данных

В этом примере показано, как подготовить шаблон пополнения. Если планируется работа со сценарием в конце этой статьи, используйте приведенные здесь значения демонстрационных данных. В противном случае используйте собственные значения.

1. Выберите юридическое лицо **USMF** для работы с демонстрационными данными.
1. Перейдите в раздел **Управление складом \> Настройка \> Пополнение \> Шаблоны пополнения**.
1. Выберите **Правка**, чтобы перевести страницу в режим редактирования.
1. На панели операций выберите **Создать**, чтобы добавить строку в сетку **Обзор**.
1. В новой строке установите следующие значения. Примите для всех остальных полей значения по умолчанию.

    - **Шаблон пополнения:** _Пополнение зоны мин/макс_
    - **Описание:** _Пополнение зоны на основе минимального и максимального значения_
    - **Тип пополнения:** _Минимум или максимум_

1. Нажмите **Сохранить**.
1. Пока новая строка все еще выбрана в сетке **Обзор**, выберите **Создать** выше сетки **Сведения о шаблоне пополнения**, чтобы добавить строку, связанную с шаблоном пополнения *Пополнение зоны мин/макс*, который только что был создан.
1. В новой строке установите следующие значения:

    - **Порядковый номер:** введите _1_.
    - **Описание:** введите _Пополнение зоны комплектации_.
    - **Единица пополнения:** выберите _шт._
    - **Тип запроса:** оставьте это поле пустым.
    - **Код директивы:** это поле связывает шаблон пополнения с директивой местонахождения. Выберите код директивы для демонстрационных данных, созданной ранее (_Пополнение зоны_).
    - **Шаблон работы:** оставьте это поле пустым.
    - **Минимальное количество:** это поле определяет количество, при котором будет запускаться пополнение. Введите _50_.
    - **Максимальное количество:** в этом поле задается максимальное количество номенклатуры, которое может присутствовать в зоне. Созданная работа по пополнению увеличит запасы до этого количества. Введите _150_.
    - **Единица измерения:** это поле определяет единицу измерения для минимального и максимального значений. Выберите _шт._
    - **Приращение спроса:** выберите _Округление вверх_.
    - **Пополнять пустые фиксированные местонахождения:** установите этот флажок.
    - **Пополнять только фиксированные местонахождения:** снимите этот флажок.
    - **Режим запроса продукта:** выберите _Запрос продукта_.
    - **Область порога пополнения:** это поле определяет, должен ли шаблон оцениваться по зоне или по определенному местонахождению. Выберите _Зона_.
    - **Склад:** выберите _61_.

1. Выберите **Выбрать продукты** над сеткой **Сведения шаблона пополнения**.
1. В диалоговом окне **Запрос продукта** на вкладке **Диапазон** выберите **Добавить**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Таблица:** _Номенклатуры_
    - **Производная таблица:** _Номенклатуры_
    - **Поле:** _Код номенклатуры_
    - **Критерии:** _A0001_

1. Выберите **OK**, чтобы сохранить ваш запрос и закрыть это диалоговое окно.
1. Выберите **Выбрать зоны для пополнения** над сеткой **Сведения шаблона пополнения**.
1. В диалоговом окне **Запрос зоны** на вкладке **Диапазон** добавьте строку в сетку.
1. В новой строке установите следующие значения:

    - **Таблица:** _Зона склада_
    - **Производная таблица:** _Зона склада_
    - **Поле:** _Код зоны_
    - **Критерии:** _ЭТАЖ_

1. Выберите **OK**, чтобы сохранить ваш запрос и закрыть это диалоговое окно.

### <a name="set-up-location-directives"></a>Настройка директив для места хранения

В отличие от пополнения мин./макс. на основе местонахождения, пополнение мин./макс. на основе зон требует, чтобы были настроены как директивы местонахождения комплектации, так и директивы местонахождения размещения, поскольку система оценивает всю зону вместо выбора только местоположения комплектации для исходящих работ.

#### <a name="view-and-edit-location-directives"></a>Просмотр и редактирование директив местоположения

Чтобы просмотреть или изменить директивы местоположения, перейдите к пункту **Управление складом \> Настройка \> Директивы для мест хранения**.

Примеры, демонстрирующие использование настроек для создания требуемых директив местоположения комплектации и директив местоположения размещения см. в следующем разделе.

#### <a name="prepare-demo-data-location-directives"></a>Подготовка директив местонахождения для демонстрационных данных

Для подготовки демонстрационных данных, чтобы их можно было использовать в сценарии в конце данной статьи, необходимо создать две директивы местоположения: одну для комплектации и одну для размещения.

##### <a name="create-a-replenishment-pick-directive"></a>Создание директивы комплектации пополнения

1. Выберите юридическое лицо **USMF** для работы с демонстрационными данными.
1. Перейдите в раздел **Управление складом \> Настройка \> Директивы местонахождения**.
1. В левой панели задайте в поле **Тип заказа на работу** значение _Пополнение_.
1. На панели операций выберите **Создать** для создания новой директивы.
1. Задайте следующие значения:

    - **Порядковый номер:** примите значение по умолчанию.
    - **Имя:** введите _Зона комплектация_.
    - **Тип работы:** выберите _Комплектация_.
    - **Сайт:** выберите _6_.
    - **Склад:** выберите _61_.
    - **Код директивы:** оставьте это поле пустым.
    - **Несколько SKU:** для этого параметра установите значение _Нет_.

1. Выберите **Сохранить** для создания директивы, имеющей настройки, заданные на данный момент времени.
1. На экспресс-вкладке **Строки** выберите **Создать**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Порядковый номер:** введите _1_.
    - **Количество "От":** введите _0_.
    - **Количество "До":** введите _10000000_.
    - **Единица измерения:** оставьте это поле пустым.
    - **Найти количество:** выберите _Нет_.
    - **Ограничить по единице:** снимите этот флажок.
    - **Округлить в большую сторону до единицы измерения:** снимите этот флажок.
    - **Найти упакованное количество:** снимите этот флажок.
    - **Разрешить разделение:** выберите этот флажок.

1. Выберите **Сохранить**, чтобы сохранить новую строку.
1. Пока новая строка все еще выбрана, в сетке **Строки** выберите **Создать** на экспресс-вкладке **Действия директивы местоположения**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Порядковый номер:** введите _1_.
    - **Имя:** введите _Комплектация из нефасованной_.
    - **Использование фиксированного местоположения:** выберите _Фиксированные и нефиксированные местонахождения_.
    - **Разрешить отрицательные запасы:** снимите этот флажок.
    - **Пакетная обработка активирована:** снять этот флажок.
    - **Стратегия:** выберите _Нет_.

1. Выберите **Сохранить**, чтобы сохранить новое действие.
1. Пока ваше новое действие все еще выбрано, выберите **Изменить запрос** над сеткой **Действия директивы для места хранения**.
1. Отображается диалоговое окно запроса, в котором можно выбрать местонахождения, из которых выполняется пополнение. На вкладке **Диапазон** выберите **Добавить**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Таблица:** _Местонахождения_
    - **Производная таблица:** _Местонахождения_
    - **Поле:** _Код зоны_
    - **Критерии:** _BULK_

1. Выберите **OK**, чтобы сохранить ваш запрос и закрыть это диалоговое окно.
1. Для сохранения директивы местонахождения выберите **Сохранить**.

##### <a name="create-a-replenishment-put-directive"></a>Создание директивы размещения пополнения

1. На странице **Директивы для мест хранения** в левой области убедитесь, что в поле **Тип заказа на работу** все еще установлено значение _Пополнение_.
1. На панели операций выберите **Создать** для создания другой новой директивы.
1. Задайте следующие значения:

    - **Порядковый номер:** примите значение по умолчанию.
    - **Имя:** введите _Зона размещения_.
    - **Тип заказа на работу:** выберите _Размещение_.
    - **Сайт:** выберите _6_.
    - **Склад:** выберите _61_.
    - **Код директивы:** выберите _Зона пополнения_, чтобы связать эту директиву места хранения с шаблоном пополнения, созданным ранее с помощью ранее созданного кода.
    - **Несколько SKU:** для этого параметра установите значение _Нет_.

1. Выберите **Сохранить** для создания директивы, имеющей настройки, заданные на данный момент времени.
1. На экспресс-вкладке **Строки** выберите **Создать**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Порядковый номер:** введите _1_.
    - **Количество "От":** введите _0_.
    - **Количество "До":** введите _10000000_.
    - **Единица измерения:** оставьте это поле пустым.
    - **Найти количество:** выберите _Нет_.
    - **Ограничить по единице:** снимите этот флажок.
    - **Округлить в большую сторону до единицы измерения:** снимите этот флажок.
    - **Найти упакованное количество:** снимите этот флажок.
    - **Разрешить разделение:** выберите этот флажок.

1. Выберите **Сохранить**, чтобы сохранить новую строку.
1. Пока новая строка все еще выбрана, в сетке **Строки** выберите **Создать** на экспресс-вкладке **Действия директивы местоположения**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Порядковый номер:** введите _1_.
    - **Имя:** введите _Зона размещения_.
    - **Использование фиксированного местоположения:** выберите _Фиксированные и нефиксированные местонахождения_.
    - **Разрешить отрицательные запасы:** снимите этот флажок.
    - **Пакетная обработка активирована:** снять этот флажок.
    - **Стратегия:** выберите _Консолидировать_.

1. Выберите **Сохранить**, чтобы сохранить новое действие.
1. Пока ваше новое действие все еще выбрано, выберите **Изменить запрос** над сеткой **Действия директивы для места хранения**.
1. Отображается диалоговое окно запроса, в котором можно выбрать зону, которую требуется пополнить. Эта зона должна быть той зоной, которая указана в шаблоне пополнения. На вкладке **Диапазон** выберите **Добавить**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Таблица:** _Местонахождения_
    - **Производная таблица:** _Местонахождения_
    - **Поле:** _Код зоны_
    - **Критерии:** _ЭТАЖ_

1. Выберите **OK**, чтобы сохранить ваш запрос и закрыть это диалоговое окно.
1. Для сохранения директивы местонахождения выберите **Сохранить**.

## <a name="scenario"></a>Сценарий

В этом разделе представлен пример сценария, в котором показано, как работать с этой функцией.

### <a name="prepare-the-sample-data-that-is-required-for-the-sample-scenario"></a>Подготовка образца данных, необходимого для примера сценария

Перед началом работы со сценарием необходимо активировать примеры данных и настроить функцию, как описано в этом разделе и в предыдущих разделах этой статьи.

#### <a name="use-the-usmf-legal-entity"></a>Использование юридического лица USMF

Для работы с этим сценарием с помощью образцов записей и значений, указанных здесь, необходимо использовать систему, в которой установлены стандартные [демонстрационные данные](../../fin-ops-core/fin-ops/get-started/demo-data.md). Дополнительно перед началом необходимо выбрать юридическое лицо **USMF**.

#### <a name="prepare-additional-sample-data"></a>Подготовка дополнительных демонстрационных данных

После того , как вы выбрали юридическое лицо **USMF**, добавьте необходимые дополнительные демонстрационные данные, как описано в разделе [Настройка пополнения на основе зон](#setup) ранее в этой статье.

#### <a name="check-your-on-hand-inventory"></a>Проверка запасов в наличии

Выполните следующие действия, чтобы убедиться, что система содержит достаточное количество запасов для поддержки образца сценария.

1. Убедитесь, что имеются запасы в наличии для номенклатуры *A0001* в двух разных местах хранения в зоне комплектации (*ЭТАЖ*), указанной в шаблоне пополнения. Однако итоговые запасы должны быть меньше необходимого минимального количества (*50*), указанного в шаблоне пополнения. Таким образом можно смоделировать, как выполняется расчет для всей зоны, а не только для одного местонахождения. **Для коррекции запасов при необходимости можно использовать любые складские процессы.**
1. Убедитесь, что имеется достаточное количество запасов для номенклатуры *A0001* в сборном месте хранения, которое указано в директиве места хранения зоны комплектации, в которой работа пополнения должна комплектовать номенклатуры из кода зоны *СБОРНАЯ*. Итоговые запасы должны быть больше необходимого максимального количества (*150*), указанного в шаблоне пополнения.
1. Необязательно, но рекомендуется: выполните следующие шаги, чтобы создать журнал корректировки запасов:

    1. Перейдите к пункту **Управление запасами \> Записи журнала \> Номенклатуры \> Корректировка запасов**.
    1. Выберите **Создать**.
    1. В диалоговом окне **Создание журнала запасов** в поле **Склад** выберите *61*.
    1. Нажмите **ОК**.
    1. На экспресс-вкладке **Строки журнала** используйте кнопку **Создать**, чтобы добавить в сетку три строки, и установите следующие значения: После завершения настройки каждой строки выберите **Сохранить**.

        - **Строка 1:**

            - **Код номенклатуры:** *A0001*
            - **Сайт:** *6*
            - **Склад:** *61*
            - **Местонахождение:** *02A01R1S1B*
            - **Грузоместо:** выберите существующее грузоместо в списке или создайте новое грузоместо.
            - **Количество:** *1000*

        - **Строка 2:**

            - **Код номенклатуры:** *A0001*
            - **Сайт:** *6*
            - **Склад:** *61*
            - **Местонахождение:** *07A01R2S1B*
            - **Грузоместо:** выберите существующее грузоместо в списке или создайте новое грузоместо.
            - **Количество:** *15*

        - **Строка 3:**

            - **Код номенклатуры:** *A0001*
            - **Сайт:** *6*
            - **Склад:** *61*
            - **Местонахождение:** *07A01R1S1B*
            - **Грузоместо:** выберите существующее грузоместо в списке или создайте новое грузоместо.
            - **Количество:** *10*

    1. На панели операций выберите **Проверить**. Исправьте все найденные ошибки перед переходом к следующему шагу.
    1. В области действий выберите **Разнести**, чтобы разнести запасы на склад.

### <a name="sample-scenario-run-zone-based-minmax-replenishment"></a>Образец сценария: выполнение пополнения на основе минимального и максимального значений на основе зон

После того, как все необходимые образцы данных будут настроены, можно запустить пополнение, выполнив следующие шаги.

1. Перейдите в раздел **Управление складом \> Пополнение \> Пополнения**.
1. В диалоговом окне **Пополнение** на экспресс-вкладке **Включаемые записи** выберите **Фильтр**.
1. В диалоговом окне **Запрос** на вкладке **Диапазон** измените строку таблицы по умолчанию следующим образом:

    - **Таблица:** выберите _Шаблоны пополнения_.
    - **Производная таблица:** выберите _Шаблоны пополнения_.
    - **Поле:** выберите _Шаблон пополнения_.
    - **Критерии:** выберите _Пополнение мин./макс. зоны_. Этот шаблон пополнения является шаблоном пополнения, созданным при подготовке демонстрационных данных для данного сценария.

1. Выберите **OK**, чтобы сохранить запрос и вернуться в диалоговое окно **Пополнение**.
1. Выберите **ОК**, чтобы выполнить шаблон пополнения.

Работа пополнения теперь создается для комплектации запасов из зоны *СБОРНАЯ* и пополнения ее в зону *ЭТАЖ*.

## <a name="notes-and-tips"></a>Примечания и советы

Вот несколько примечаний и советов по работе с этой функцией:

- Чтобы настроить работу пополнения, которая ведет к нужной зоне, можно связать строки шаблона пополнения и директивы места хранения одним из следующих способов:

    - Измените запрос заголовка директивы места хранения и выполните фильтрацию выбранных строк шаблона пополнения.
    - Используйте код директивы в строке шаблона пополнения и сопоставьте его с директивой размещения в месте хранения.

- Если используются динамические местоположения, работа пополнения будет создана либо для первого доступного местоположения, либо для местоположения, которое уже содержит запасы, если действие директивы места хранения настроено на использование стратегии **Консолидация**.
- При использовании фиксированных местоположений вместо зон следует использовать [стандартное пополнение на основе минимального и максимального значений](tasks/set-up-min-max-replenishment-process.md).


[!INCLUDE[footer-include](../../includes/footer-banner.md)]