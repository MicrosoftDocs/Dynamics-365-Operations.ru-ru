---
title: Привязка
description: В этой теме объясняется, как включить и использовать привязку.
author: GalynaFedorova
ms.date: 07/29/2021
ms.topic: article
ms.search.form: WHSRFMenuItem
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: v-gfedorova
ms.search.validFrom: 2021-07-29
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: a17574cccbdf6f26f0453bda67eabaa16d559cd3
ms.sourcegitcommit: 99bde425ade701ef244c6bca6d411aef94a59b3c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/20/2021
ms.locfileid: "7505598"
---
# <a name="anchoring"></a>Привязка

[!include [banner](../includes/banner.md)]

В этом разделе приводятся сведения о процессе привязки. Здесь описывается необходимая конфигурация и логика, выполняемая, когда работник склада изменяет промежуточное местоположение или местоположение загрузки.

Функция привязки позволяет переопределить промежуточное местоположение или местоположение загрузки. Все открытые размещения затем направляются в новое промежуточное местоположение или местоположение загрузки, указанное вами.

Эта функция может помочь сотрудникам более эффективно работать, когда они отгружают товары. Далее приводятся некоторые примеры.

- Работник, который должен разместить номенклатуры для заказа 1 в промежуточное местонахождение у дебаркадера 1, не может это сделать, поскольку предыдущая загрузка все еще находится в этом местонахождении. Вместо того чтобы ожидать, пока освободится промежуточное местонахождение дебаркадера 1, работник может использовать промежуточное местонахождение дебаркадера 2. Таким образом, работник переопределяет предлагаемое промежуточное местонахождение. Местонахождение размещения для всех остальных номенклатур для работы затем изменится на промежуточное местонахождение дебаркадера 2.
- Работник, который должен выполнить несколько комплектаций для одной и той же поставки, может быть уверен, что все номенклатуры размещения будут собраны в одном и том же месте. Таким образом, для загрузки номенклатур в грузовик требуется меньшее время.

Для настройки привязки элементов меню для мобильных устройств используется параметр **Привязка**. Если для этого параметра задано значение *Да*, можно использовать поле **Привязка**, чтобы указать, хотите ли вы использовать в качестве привязки отгрузку или загрузку. Если в поле **Привязка по** установлено значение *Отгрузка*, последующее открытые размещения будут изменены на новое местоположение для данной отгрузки. Если установлено значение *Загрузка*, последующее открытые размещения будут изменены на новое местоположение для данной загрузки.

> [!IMPORTANT]
> Местоположение для последующих открытых размещений будет изменено только для строк работы, созданных из той же строки шаблона работы. Другими словами, система привязывает строки размещения, поступающие к одной и той же строки шаблона работы.

В этой теме представлен сценарий, показывающий работу привязки. В ходе сценария будут создан набор заказов на продажу, и они будут выпущены на склад. Затем вы переопределите предполагаемое промежуточное местоположение и проверите, что все остальные операции размещения направляются в новое местоположение.

## <a name="scenario-prerequisite-make-demo-data-available"></a>Обязательное условие сценария: сделать доступными демонстрационные данные

Сценарий в этом разделе ссылается на значения и записи, включенные в стандартные демонстрационные данные, предоставляемые в Microsoft Dynamics 365 Supply Chain Management. Если вы хотите использовать значения, указанные здесь, в ходе выполнения упражнений, убедитесь, что вы работаете в среде, в которой установлены демонстрационные данные, и настройте юридическое лицо на *USMF* перед началом работы.

## <a name="scenario-setup"></a>Настройка сценария

Перед началом работы с примером сценария необходимо включить привязку для соответствующего пункта меню мобильного устройства.

### <a name="set-up-a-mobile-device-menu-item-to-enable-anchoring"></a>Настройка пункта меню мобильного устройства для включения привязки

Чтобы включить привязку для пункта меню мобильного устройства, выполните следующие действия.

1. Перейдите в раздел **Управление складом \> Настройка \> Мобильное устройство \> Пункты меню мобильного устройства**.
1. В области списка выберите запись с именем *Комплектация продаж*. Если у существующей записи нет такого названия, создайте ее. Подтвердите или установите следующие значения для данной записи:

    - **Название пункта меню:** *комплектация продаж*
    - **Заголовок:** *комплектация продаж*
    - **Режим:** *Работа*
    - **Использовать существующую работу:** *Да*
    - **Кем управляется:** *Управляется пользователем*
    - **Привязка:** *Да*

        Эта настройка заставляет систему привязать сразу несколько строк заказа на работу во время комплектации продаж.

    - **Привязка по:** *Загрузка*

        Эта настройка приводит к тому, что система выполняет привязку по загрузке.

    - **Переопределить целевое грузоместо:** *Да*
    - **Переопределение грузоместа во время размещения:** *Да*
    - **Сохранить работу заблокированной пользователем:** *Да*
    - **Разрешить комплектацию с превышением:** *Да*

### <a name="set-up-a-work-template-to-enable-staging"></a>Настройка шаблона работы для включения промежуточного хранения

Выполните следующие действия, чтобы настроить шаблон работы для включения промежуточного хранения. Эта конфигурация обеспечит поддержку сценария, в котором работник помещает номенклатуры для заказа в промежуточное местоположение.

1. Перейдите в раздел **Управление складом \> Настройка \> Работа \> Шаблоны работ**.
1. В поле **Тип заказа на работу** выберите *Заказы на продажу*.
1. В сетке выберите шаблон работы **61 Этап заказа на продажу**.
1. В разделе **Сведения о шаблоне работы** убедитесь, что следующие строки присутствуют и настроены так, как показано ниже:

    - Строка 1:

        - **Тип работы:** *Комплектация*
        - **Обязательно:** выбрано (= *Да*)
        - **Код класса работы:** *Комплектация заказа на продажу*

    - Строка 2:

        - **Тип работы:** *Размещение*
        - **Обязательно:** выбрано (= *Да*)
        - **Код директивы:** *Промежуточное хранение*
        - **Код класса работы:** *Комплектация заказа на продажу*

    - Строка 3:

        - **Тип работы:** *Комплектация*
        - **Обязательно:** выбрано (= *Да*)
        - **Остановить работу:** *Да*
        - **Код класса работы:** *Загрузка заказа на продажу*

    - Строка 4:

        - **Тип работы:** *Размещение*
        - **Обязательно:** выбрано (= *Да*)
        - **Код директивы:** *Дверь отсека*
        - **Код класса работы:** *Загрузка заказа на продажу*

1. На панели операций выберите **Изменить запрос**, чтобы открыть редактор запросов.
1. На вкладке **Диапазон** убедитесь, что имеется следующая строка:

    - **Таблица:** *Временные рабочие проводки*
    - **Производная таблица:** *Временные рабочие проводки*
    - **Поле:** *Склад*
    - **Критерий:** *61*

1. На вкладке **Сортировка** убедитесь, что имеется следующая строка:

    - **Таблица:** *Временные рабочие проводки*
    - **Производная таблица:** *Временные рабочие проводки*
    - **Поле:** *Код отгрузки*
    - **Направление поиска:** *Восходящее*

1. Выберите **ОК**, чтобы применить настройки и закрыть редактор запросов. При появлении запроса примите изменения.
1. В панели операций выберите **Разрывы заголовка работы**.
1. В строке, где в поле **Имя поля** указано значение *Код отгрузки*, убедитесь, что флажок **Группировать по этому полю** выбран.

### <a name="set-up-license-plates-locations-and-inventory"></a>Настройка грузомест, местоположений и запасов

Перед созданием заказов на продажу и отгрузок необходимо убедиться, что имеются необходимые местоположения, грузоместа и запасы.

1. Перейдите в раздел **Управление складом \> Настройка \> Склад \> Грузоместа** и создайте два грузоместа:

    - MyLP1
    - MyLP2

1. Перейдите в раздел **Управление складом \> Настройка \> Склад \> Местоположения** и создайте следующие местоположения, если их еще нет.

    | Склад | Расположение   | Код профиля местонахождения | Код зоны   |
    |-----------|------------|---------------------|-----------|
    | 61        | 06A01R2S1B | PICK-06             | ЭТАЖ     |
    | 61        | 06A01R3S1B | PICK-06             | ЭТАЖ     |
    | 61        | STAGE01    | ПРОМЕЖУТОЧНОЕ РАЗМЕЩЕНИЕ               | *(Пусто)* |
    | 61        | STAGE02    | ПРОМЕЖУТОЧНОЕ РАЗМЕЩЕНИЕ               | *(Пусто)* |
    | 61        | STAGE03    | ПРОМЕЖУТОЧНОЕ РАЗМЕЩЕНИЕ               | *(Пусто)* |
    | 61        | STAGE04    | ПРОМЕЖУТОЧНОЕ РАЗМЕЩЕНИЕ               | *(Пусто)* |

1. Убедитесь, что доступны следующие запасы. Если необходимо скорректировать запасы, можно создать ручные перемещения, воспользуйтесь пополнением или используйте любой другой поток.

    | Номер номенклатуры | Количество | Склад | Расположение   | Грузоместо |
    |-------------|----------|-----------|------------|---------------|
    | A0001       | 100      | 61        | 06A01R2S1B | MyLP1         |
    | A0002       | 100      | 61        | 06A01R3S1B | MyLP2         |

### <a name="create-demand"></a>Создание спроса

Прежде чем попробовать функцию привязки, необходимо создать некоторый спрос. Для этого сценария вы создадите три заказа на продажу для одного и того же клиента.

1. Перейдите в раздел **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу**.
1. Выберите **Создать**, чтобы создать первый заказ на продажу.
1. В диалоговом окне **Создание заказа на продажу** установите следующие значения:

    - **Счет клиента:** *US-001*
    - **Склад:** *61*

1. Нажмите **ОК**.
1. Открывается новый заказ на продажу. Он включает пустую строку на экспресс-вкладке **Строки заказа на продажу**. Установите следующие значения для этой строки:

    - **Код номенклатуры:** *A0001*
    - **Количество:** *1*

1. На панели инструментов выберите **Добавить строку**, чтобы добавить вторую строку заказа на покупку, и установите следующие значения для нее:

    - **Код номенклатуры:** *A0002*
    - **Количество:** *1*

1. Выполните следующие шаги для каждой строки продажи в заказе, чтобы зарезервировать для нее запасы:

    1. На экспресс-вкладке **Строки заказа на продажу** выберите строку заказа на продажу.
    1. На панели инструментов выберите **Запасы \> Резервирование**.
    1. На странице **Резервирование** выберите **Зарезервировать лот**, затем закройте страницу.
    1. На панели операций выберите **Сохранить**.

1. Повторите шаги со 2 по 6 для создания второго заказа на продажу. Установите следующие значения для нее:

    - В диалоговом окне **Создать заказ на продажу**:

        - **Счет клиента:** *US-001*
        - **Склад:** *61*

    - В строке заказа на продажу 1:

        - **Код номенклатуры:** *A0001*
        - **Количество:** *2*

    - В строке заказа на продажу 2:

        - **Код номенклатуры:** *A0002*
        - **Количество:** *2*

1. Повторите шаг 7, чтобы зарезервировать каждую строку заказа на продажу 2.
1. Повторите шаги со 2 по 6 для создания третьего заказа на продажу. Установите следующие значения для нее:

    - В диалоговом окне **Создать заказ на продажу**:

        - **Счет клиента:** *US-001*
        - **Склад:** *61*

    - В строке заказа на продажу 1:

        - **Код номенклатуры:** *A0001*
        - **Количество:** *3*

    - В строке заказа на продажу 2:

        - **Код номенклатуры:** *A0002*
        - **Количество:** *3*

1. Повторите шаг 7, чтобы зарезервировать каждую строку заказа на продажу 3.

### <a name="use-the-load-planning-workbench-to-create-a-load-and-release-it-to-the-warehouse"></a>Использование рабочего места планирования загрузки для создания загрузки и ее выпуска на склад

Выполните следующие действия, чтобы создать загрузку для заказов, созданных для этого сценария, а затем выпустить ее на склад.

1. Перейдите в раздел **Управление складом \> Загрузки \> Рабочее место планирования загрузки**.
1. На вкладке **Строки продаж** найдите и выберите все строки заказа на продажу для заказа на продажу 1 и заказа на продажу 2.
1. В области действий на вкладке **Поставки и спрос** в группе **Добавить** выберите **В новую загрузку**.
1. В диалоговом окне **Назначение шаблона загрузки** в поле **Код шаблона загрузки** выберите шаблон загрузки, например *Stnd Load Template*.
1. Выберите **OK**, чтобы закрыть диалоговое окно.
1. В разделе **Загрузки** найдите и выберите созданную загрузку.
1. На панели инструментов выберите **Выпуск \> Выпуск на склад**.
1. В диалоговом окне **Выпуск загрузки на склад** выберите **ОК**, чтобы выпустить выбранную загрузку на склад.
1. Перейдите в раздел **Управление складом \> Работа \> Вся работа** для просмотра созданной работы. Вы должны найти два новых кода работ, по одному для каждой отгрузки. У каждого кода работы есть строки комплектации и размещения, которые помещают запасы из местоположений комплектации в промежуточное местоположение и из промежуточного местоположения к дверям отсека. Запишите значение **Код работы** для первой отгрузки, поскольку он потребуется в следующей процедуре.

### <a name="sales-order-picking-to-the-staging-location-for-the-first-shipment"></a>Комплектация заказа на продажу в промежуточном местоположении для первой отгрузки

1. Выполните вход в мобильное приложение Warehouse Management как работник склада *61*. (В стандартных демонстрационных данных можно выполнить вход,, используя _61_ в качестве идентификатора пользователя и _1_ в качестве пароля.)
1. В главном меню выберите **Исходящее**.
1. В меню **Исходящее** выберите **Комплектация продаж**.
1. Выберите поле **Код**, затем введите код работы для первой отгрузки.
1. Подтвердите ввод.
1. В поле **Грузоместо** введите номер грузоместа для первой номенклатуры (*MyLP1*).
1. Подтвердите ввод.
1. В поле **Целевое грузоместо** введите любое число (целевое грузоместо не обязательно должно уже существовать).

    Вы скомплектуете все строки, созданные из обработанной волны, на одно и то же конечное грузоместо.

1. Подтвердите ввод.
1. В поле **Грузоместо** введите номер грузоместа для второй номенклатуры (*MyLP2*).
1. Подтвердите ввод.

    Представьте, что работник собрал заказ, но когда он пришел в промежуточное местоположение, указанное в работе, он обнаружил, что пространство уже занято. Однако работник видит, что другое местоположение рядом (*STAGE03*) свободно. Таким образом, он запросит изменение промежуточного расположения. Поскольку функция привязки включена, система автоматически обновляет промежуточное расположение для этой и всех связанных работ.

1. Выберите **Переопределить местоположение**, чтобы переопределить предлагаемое промежуточное местоположение.
1. В поле **Исключения работы** укажите *Изменено промежуточное местоположение*.
1. В поле **Местоположение** введите новое промежуточное местоположение (*STAGE03*).
1. Подтвердите ввод. Вы получите сообщение "Работа завершена".
1. Перейдите в раздел **Управление складом \> Работа \> Все работы**.
1. Откройте код работы для первой отгрузки. Убедитесь, что промежуточное расположение было обновлено на новое местоположение (*STAGE03*), которое было определено с помощью мобильного устройства.
1. Откройте код работы для второй отгрузки. Убедитесь, что промежуточное расположение было обновлено на новое промежуточное местоположение (*STAGE03*) из-за настройки привязки.

> [!NOTE]
> Местоположение для всех оставшихся открытых строк работы размещения, имеющих одно и то же промежуточное местоположение и созданных из одной и той же строки шаблона работы, будет обновлено на новое местоположение.

### <a name="use-the-load-planning-workbench-to-add-the-new-sales-order-to-the-existing-load"></a>С помощью рабочего места планирования загрузки добавьте новый заказ на продажу в существующую загрузку

Выполните следующие действия, чтобы добавить заказ к загрузке, затем выпустите его на склад.

1. Перейдите в раздел **Управление складом \> Загрузки \> Рабочее место планирования загрузки**.
1. На вкладке **Строки продаж** найдите и выберите все строки заказа на продажу для заказа на продажу 3.
1. На панели операций на вкладке **Поставка и спрос** в группе **Добавить** выберите **В существующую загрузку**, чтобы добавить выбранные строки заказа в существующую загрузку.
1. Выберите **OK**, чтобы закрыть диалоговое окно.
1. В разделе **Загрузки** найдите и выберите загрузку из предыдущих шагов.
1. Выберите **Выпуск \> Выпуск на склад**.
1. В диалоговом окне **Выпуск загрузки на склад** выберите **ОК**, чтобы выпустить выбранную загрузку на склад.
1. Перейдите в раздел **Управление складом \> Работа \> Вся работа** для просмотра созданной работы. Запишите значение **Код работы**, поскольку он потребуется в следующей процедуре.

### <a name="sales-order-picking-to-the-staging-location-for-the-third-shipment"></a>Комплектация заказа на продажу в промежуточном местоположении для третьей отгрузки

1. Выполните вход в мобильное приложение как работник на складе *61*.
1. В главном меню выберите **Исходящее**.
1. В меню **Исходящее** выберите **Комплектация продаж**.
1. Выберите поле **Код**, затем введите код работы для третьей отгрузки.
1. Подтвердите ввод.
1. В поле **Грузоместо** введите номер грузоместа для первой номенклатуры (*MyLP1*).
1. Подтвердите ввод.
1. В поле **Целевое грузоместо** введите любое число (целевое грузоместо не обязательно должно уже существовать).
1. Подтвердите ввод.
1. В поле **Грузоместо** введите номер грузоместа для второй номенклатуры (*MyLP2*).
1. Подтвердите ввод.

    Как и для первой загрузки, представьте, что работник обнаруживает, что указанное промежуточное местоположение недоступно. Поэтому он хочет использовать другое промежуточное местоположение (*STAGE04*).

1. Выберите **Переопределить местоположение**, чтобы переопределить предлагаемое промежуточное местоположение.
1. В поле **Исключения работы** укажите *Изменено промежуточное местоположение*.
1. В поле **Местоположение** введите новое промежуточное местоположение (*STAGE04*).
1. Подтвердите ввод. Вы получите сообщение "Работа завершена".
1. Перейдите в раздел **Управление складом \> Работа \> Все работы**.
1. Откройте код работы для первой отгрузки. Убедитесь, что промежуточное расположение не было обновлено на новое промежуточное местоположение (*STAGE04*), так как оставшаяся открытая строка размещения не соответствует строке шаблона работы завершенной строки размещения.
1. Откройте код работы для второй отгрузки. Убедитесь, что промежуточное расположение не было обновлено на новое промежуточное местоположение (*STAGE04*), так как это промежуточное местоположение не соответствует промежуточному местоположению завершенной строки размещения. Другими словами, строка завершенной работы размещения и оставшаяся открытая строка работы имеют разные промежуточные местоположения, и в этом случае обновляются только строки с одинаковыми промежуточными местоположениями.
1. Откройте код работы для третьей отгрузки. Убедитесь, что промежуточное расположение было обновлено на новое промежуточное местоположение (*STAGE04*).

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
