---
title: Создание и обработка волны
description: В этой статье описывается, как создать, обработать и выпустить волну, чтобы создать работу комплектации для загрузки, отгрузки, производственного заказа или заказа канбана.
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSWaveTemplateTable, WHSParameters, whswavetablecreatenew, WHSWaveTable, WHSWaveAttributes, WHSKanbanWaveTable, WHSWaveTableListPage, WHSKanbanWaveTableListPage, WHSProdWaveTable
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: 10.0.18
ms.openlocfilehash: 60bf4ab6944bd982e022ead6431adae417ddfb43
ms.sourcegitcommit: cfe8fbc202c3eb05d894076fdf99e46704f17365
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2022
ms.locfileid: "9014629"
---
# <a name="wave-creation-and-processing"></a>Создание и обработка волны

[!include [banner](../includes/banner.md)]

В этой статье описывается, как создать, обработать и выпустить волну, чтобы создать работу комплектации для загрузки, отгрузки, производственного заказа или заказа канбана. Волны можно создать для следующих типов заказов:

- **Заказы на продажу** — используйте волны отгрузки, чтобы включить строки из заказов на продажу. Когда заказ на продажу выпускается на склад, строки заказа на продажу можно включить в волну.
- **Производственные заказы** — используйте волны производства, чтобы включить строки из спецификации (BOM) для продукта.
- **Заказы канбана** — волны канбана включают строки листа комплектации из заказов канбана.

Для заказов на продажу и заказов канбана необходимо зарезервировать запасы до выпуска заказа на склад. В противном случае номенклатуры или строки распределения нельзя обрабатывать в волне. Однако производственные заказы немного более гибкие. Для производственных заказов можно выбрать один из следующих вариантов:

- Указать, чтобы все материалы резервировались перед выпуском заказа на склад.
- Разрешить выпуск производственных заказов на склад, даже хотя невозможно зарезервировать все материалы. При выборе этого параметра необходимо вручную повторить процесс выпуска на склад, когда станут доступны дополнительные материалы. Например, это полезно, если имеются материалы, которые необходимы для запуска производства, и можно подождать, пока станут доступны дополнительные материалы.

Можно указать, какой из этих параметров производственного заказа будет использоваться по умолчанию, используя поле **Требование по резервированию материалов** на странице **Параметры управления производством**. Однако эту настройку можно изменить для каждого определенного производственного заказа по мере необходимости. Дополнительные сведения см. в разделе [Складские параметры для обработки волны](wave-warehouse-parameters.md).

## <a name="create-and-process-a-wave"></a>Создание и обработка волны

На следующей схеме показан поток создания, обработки и запуска волн отгрузки. Номера соответствуют разделам далее в этом разделе.

![Процесс создания волны.](media/wave-processing-diagram.png "Процесс создания волны")

### <a name="prerequisites"></a>Необходимые условия

Перед началом должен быть доступен шаблон волны для типа волны, которую требуется создать (отгрузка, производство или канбан). Шаблон волны создает множество параметров для создания и обработки волны, включая шаги, которые должны выполняться вручную, и которые выполняются автоматически. Дополнительные сведения см. в разделе [Шаблоны волн](wave-templates.md).

### <a name="create-a-wave"></a>Создать волну

#### <a name="automatically-create-waves-based-on-warehouse-and-order-type"></a>Автоматическое создание волн на основе склада и типа заказа

Для автоматического создания волн настройте [шаблоны волн](wave-templates.md), которые применяются для каждого соответствующего типа заказа и склада. Убедитесь, что для каждого шаблона для параметра **Автоматическое создание волны** установлено значение *Да*.

#### <a name="manually-create-waves"></a>Создание волн вручную

Чтобы создать волну вручную, выполните следующие действия:

1. Убедитесь, что для соответствующих [шаблонов волны](wave-templates.md) не настроено автоматическое создание волны для склада и типов заказов, в которых необходимо сделать это вручную.
1. В зависимости от типа волны, которую требуется создать, выполните одно из следующих действий:

    - Перейдите в раздел **Управление складом** \> **Исходящие волны** \> **Волны отгрузок** \> **Все волны**. На панели операций выберите **Волна**.
    - Перейдите в раздел **Управление складом** \> **Исходящие волны** \> **Волны производства** \> **Все волны производства**. На панели операций выберите **Волна производства**.
    - Перейдите в раздел **Управление складом** \> **Исходящие волны** \> **Волны канбана** \> **Все волны канбана**. На панели операций выберите **Создать волну**.

1. В поле **Описание** введите краткое описание волны. Из него должно быть видно, что обрабатывается в волне.

1. В поле **Имя шаблона волны** выберите шаблон волны для типа создаваемой волны. Шаблон волны содержит методы волны, которые будут выполнять действия, такие как создание работы для волны. Например, шаблон волны для отгрузки может содержать методы для создания загрузок, распределения строк по волнам, пополнения и создания работы комплектации для волны.

1. Если требуется использовать атрибуты в качестве дополнительных критериев запроса волны, выберите атрибуты в полях **Атрибуты волны**.

### <a name="specify-what-to-include-in-a-wave"></a>Указание того, что нужно включить в волну

После создания волны можно приступить к добавлению в нее содержимого.

> [!NOTE]
> При необходимости можно добавлять строки в волну даже после того, как она была обработана, пока она не была выпущена.

#### <a name="automatically-specify-what-to-include-in-a-wave"></a>Автоматическое указание того, что нужно включить в волну

Для автоматического создания волн настройте [шаблоны волн](wave-templates.md), которые применяются для каждого соответствующего типа заказа и склада. Убедитесь, что для каждого шаблона для параметра **Автоматическое создание волны** установлено значение *Да*. Кроме того, шаблон может также автоматически назначать строки для любой подходящей открытой волны, если параметр **Назначить открытым волнам** имеет значение *Да*.

#### <a name="manually-specify-what-to-include-in-a-wave"></a>Указание того, что нужно включить в волну, вручную

Когда волна была создана, но еще не выпущена, можно вручную указать, что следует включить в нее. Чтобы добавить строки в волну вручную:

1. В зависимости от типа волны, в которую добавляются строки, выполните одно из следующих действий:

    - Перейдите в раздел **Управление складом** \> **Исходящие волны** \> **Волны отгрузок** \> **Все волны**. На панели операций выберите **Волна**.
    - Перейдите в раздел **Управление складом** \> **Исходящие волны** \> **Волны производства** \> **Все волны производства**. На панели операций выберите **Волна производства**.
    - Перейдите в раздел **Управление складом** \> **Исходящие волны** \> **Волны канбана** \> **Все волны канбана**. На панели операций выберите **Создать волну**.

1. Выберите волну. В области действий выберите одно из следующих действий:

      - **Ведение отгрузок**
      - **Ведение производств**
      - **Ведение сборочных листов для задания канбана**

1. В верхней части окна выберите строку для добавления в волну, затем выберите **Добавить в волну**. Строка переместится на экспресс-вкладку **Строки волны**.

    Повторите этот шаг для каждой строки, которую требуется добавить. Чтобы добавить все строки, выберите **Добавить все**.

    > [!TIP]
    > Для волн отгрузки можно быстро найти конкретный заказ, выбрав пользовательский фильтр в поле **Код фильтра волны**. Коды фильтров волн содержат критерии запроса для отгрузок, которые созданы в форме **Фильтры волны**. Это поле недоступно для волн производства или канбана.
    > Зеленый флажок в столбце **В волне** указывает, что отгрузка добавлена в волну.

### <a name="process-the-wave-to-create-the-picking-work"></a>Обработка волны для создания работы комплектации

После того как волна создана и содержит все необходимые строки, можно приступать к ее обработке для создания соответствующей работы по комплектации.

#### <a name="automatically-process-a-wave"></a>Автоматическая обработка волны

Для автоматической обработки волны настройте соответствующие [шаблоны волны](wave-templates.md), используя необходимые параметры автоматической обработки.

#### <a name="manually-process-a-wave"></a>Обработка волны вручную

Волну можно обрабатывать, только если параметр **Статус волны** имеет значение *Создана*. После обработки волны значение параметра **Статус волны** изменится на *На удержании*.

Чтобы вручную обработать волну, содержащую все необходимое содержимое, выполните следующие действия:

1. В зависимости от типа обрабатываемой волны выберите один из следующих параметров:

    - Выберите **Управление складом** \> **Исходящие волны** \> **Волны отгрузок** \> **Все волны**. На панели операций выберите **Волна**.
    - Выберите **Управление складом** \> **Исходящие волны** \> **Волны производства** \> **Все волны производства**. На панели операций выберите **Волна производства**.
    - Выберите **Управление складом** \> **Исходящие волны** \> **Волны канбана** \> **Все волны канбана**. На панели операций выберите **Создать волну**.

1. Выберите волну для обработки. В области панели операций выберите **Обработать**.

### <a name="release-the-wave-to-the-warehouse-to-start-picking-and-packing"></a>Выпуск волны на склад для начала комплектации и упаковки

Чтобы волну можно было выпустить, ее необходимо обработать. При выпуске волны на складе становится доступна работа комплектации. Можно отменить волну после ее выпуска и добавить дополнительные строки, но невозможно изменить строки.

#### <a name="automatically-release-a-wave"></a>Автоматический выпуск волны

Для автоматической обработки волны настройте соответствующие [шаблоны волны](wave-templates.md), используя необходимые параметры автоматической обработки.

#### <a name="manually-release-a-wave"></a>Выпуск волны вручную

Чтобы выпустить волну вручную, выполните следующие действия:

1. В зависимости от типа выпускаемой волны выберите один из следующих параметров:

      - Выберите **Управление складом** \> **Исходящие волны** \> **Волны отгрузок** \> **Все волны**. На панели операций выберите **Волна**.
      - Выберите **Управление складом** \> **Исходящие волны** \> **Волны производства** \> **Все волны производства**. На панели операций выберите **Волна производства**.
      - Выберите **Управление складом** \> **Исходящие волны** \> **Волны канбана** \> **Все волны канбана**. На панели операций выберите **Создать волну**.

1. Выберите волну, которую требуется выпустить. На панели операций выберите **Запуск волны**.

## <a name="containerize-a-wave"></a>Контейнеризация волны

Автоматизированная контейнеризация создает контейнеры и работу комплектации для отгрузок при обработке волны. Подробные сведения о настройке см. в разделе [Контейнеризация](wave-containerization.md).

## <a name="work-with-the-scheduled-work-creation"></a>Работа с запланированным созданием работ

Когда функция *Планирование создания работ* активирована, при обработке волн создается запланированная работа, которая в конечном итоге будет использоваться в новом процессе создания работы. Во время создания работы эта работа будет заблокирована с помощью функции *Блокировка работы для всей организации*. Дополнительные сведения см. в разделе [Планирование создания работы во время волны](configure-wave-schedule-work-creation.md).

В следующей блок-схеме показано, как создается запланированная работа во время обработки волны.

![Запланировать создание работы.](media/schedule-work-creation-process.png)

### <a name="planned-work"></a>Запланированная работа

Страница **Сведения о запланированной работе** (**Управление складом \> Работа \> Сведения о запланированной работе**) отображает сведения о запланированной работе, которая первоначально создается во время обработки волны. Доступны следующие значения **Статус процесса**:

- **В очереди** — запланированная работа ожидает использования для создания работы.
- **Завершено** — запланированная работа была использована для создания работы.
- **Сбой** — обработка волны завершилась с ошибкой. Обратите внимание, что запланированная работа может находиться в состоянии **Сбой** с соответствующей фактический работой или без нее. Когда процесс создания фактической работы заканчивается сбоем, фактическая работа остается в состоянии *Отменено*.

### <a name="batch-job-for-the-work-creation-process"></a>Пакетное задание для процесса создания работы

Для просмотра пакетных заданий для обработки волн выберите **Пакетные задания** на панели операций на странице **Все волны**.

Отсюда можно просмотреть все подробные сведения о пакетной задаче для каждого из кодов пакетных заданий.

## <a name="cancel-a-wave"></a>Отмена волны

При необходимости можно отменить обработанную волну. Чтобы отменить волну и созданную работу комплектации, выполните следующие действия:

1. В зависимости от типа отменяемой волны выберите один из следующих параметров:

      - Перейдите в раздел **Управление складом** \> **Исходящие волны** \> **Волны отгрузок** \> **Все волны**.
      - Перейдите в раздел **Управление складом** \> **Исходящие волны** \> **Волны производства** \> **Все волны производства**.
      - Перейдите в раздел **Управление складом** \> **Исходящие волны** \> **Волны канбана** \> **Все волны канбана**.

1. Выберите волну для отмены. На панели операций откройте вкладку **Работа** и выберите **Отмена**.

## <a name="review-wave-batch-job-details"></a>Просмотр сведений о пакетном задании волны

Страница **Сведения о пакетных заданиях волны** служит для просмотра пакетных заданий и связанных задач, связанных с любой волной. Это особенно полезно при устранении неполадок в волне, которая дала сбой. Без этой функции только администраторы обычно будут иметь доступ к сведениям пакетного задания. Страница **Сведения о пакетных заданиях волны** может быть предоставлена пользователям, не являющимся администраторами, и предоставляет доступ только для чтения к пакетным заданиям и соответствующим задачам.

### <a name="turn-the-wave-batch-job-details-page-on-or-off"></a>Включение или отключение страницы сведений о пакетных заданиях волны

В Supply Chain Management версии 10.0.25 страница **Сведения о пакетных заданиях волны** включена по умолчанию. Администраторы могут включать и выключать эту функцию, выполнив поиск функции *Сведения о пакетных заданиях волны* в рабочей области [Управление функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md).

### <a name="use-the-wave-batch-job-details-page"></a>Использование страницы сведений о пакетных заданиях волны

Страница **Сведения о пакетных заданиях волны** объединяет пакетные задания и задачи пакетных заданий, что позволяет исследовать все шаги по волнам, не требуя перемещения вперед и назад между пакетным заданием и списком пакетных задач. Страница также предоставляет доступ к журналу пакетных заданий и, если имеются необходимые разрешения, предоставляет ссылку на страницу **Пакетные задания**.

Чтобы открыть эту страницу, выберите волну на одной из нескольких разных страниц волн, затем выберите **Сведения о пакетных заданиях волны** на панели операций.

## <a name="review-load-validation-and-error-messages"></a>Просмотр сообщений о проверке загрузки и ошибках

Во время обработки волны система проверяет и отображает статус каждой строки загрузки в волне. Если предупреждения не возникают, выполняется переход на следующий этап волны. При возникновении предупреждений вместо этого отображается следующая ошибка после завершения проверки всей волны:

> В волне обнаружены недопустимые строки загрузки. Удалите неправильные строки загрузки.

После этого можно будет просмотреть окончательный статус каждой строки загрузки в волне и исправить все предупреждения перед повторением попытки. Это позволяет устранить все предупреждения сразу, до повторной обработки волны. (В предыдущих выпусках система останавливала обработку волны после первого предупреждения, поэтому можно только исправить предупреждения только по одному за раз.)

Способ отображения сообщений о состоянии обработки волны в системе зависит от того, как было настроено значение параметра **Создать журнал истории обработки волн** на странице **Параметры управления складом**.

- Когда для параметра **Создать журнал истории обработки волн** установлено значение *Нет*, сообщения о статусе строки загрузки отображаются в окне **Infolog**.
- Когда для параметра **Создать журнал истории обработки волн** установлено значение *Да*, сообщения о статусе строки загрузки отображаются на странице **Журнал истории обработки волн**. Для просмотра журнала перейдите в раздел **Управление складом \> Исходящие волны \> Журнал истории обработки волн**.

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Пример настройки обработки волн](tasks/configure-wave-processing.md)
- [Шаблоны волны](wave-templates.md)
- [Контейнеризация](wave-containerization.md)