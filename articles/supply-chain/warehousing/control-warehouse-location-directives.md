---
title: Контроль работы склада с шаблонами работы и директивами для мест хранения
description: В этой теме рассматривается, как использовать шаблоны работы и директивы для мест хранения для определения того, как и где выполняется работа на складе.
author: perlynne
ms.date: 10/20/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSLocDirFailure, WHSLocDirHint, WHSLocDirTable, WHSLocDirTableUOM, WHSRFMenuItem, WHSWork, WHSWorkClass, WHSWorkPool, WHSWorkTemplateTable
audience: Application User
ms.reviewer: kamaybac
ms.custom: 72921
ms.assetid: 377ab8af-5b0c-4b5e-a387-06ac1e1820c0
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2020-10-09
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 36471cf76615e22c2ca80163756e2fd05aaf6a0f
ms.sourcegitcommit: bef7bd2aac00d7eb837fd275d383b7a5c3f1c1ee
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/19/2021
ms.locfileid: "5911280"
---
# <a name="control-warehouse-work-by-using-work-templates-and-location-directives"></a>Контроль работы склада с шаблонами работы и директивами для мест хранения

[!include [banner](../includes/banner.md)]

В этой теме рассматривается, как использовать шаблоны работы и директивы для мест хранения для определения того, как и где выполняется работа на складе.

Инструкции, которые работники склада получают на мобильное устройство, определяются рабочими шаблонами Dynamics 365 Supply Chain Management, которые вы настраиваете, чтобы определить разные процессы и задачи склад. Шаблоны работы определяют, как работа выполнена для каждого процесса склада. Связывая директиву для места хранения с шаблонами работы, можно гарантировать, что работа выполняется в определенных физических областях склада.

## <a name="work-templates"></a>Шаблоны работ

На странице **Рабочие шаблоны** можно определить рабочие операции, которые должны быть выполнены на складе. Как правило, рабочие операции склада состоят из пары действий: рабочий склада комплектует запасы в наличии в одном расположении и помещает скомплектованные запасы в другом расположении. 

Рабочие шаблоны состоят из заголовка и связанных строк. Каждый рабочий шаблон предназначен для определенного *типа заказа на работу*. Многие типы заказов на работу связаны с исходными документами, например заказами на покупку или продажу. Тем не менее другие типы заказов на работу представляют отдельные складские процессы, например подсчет циклов. *ИД пула работ* позволяет организовать работу по группам. 

Используйте параметры в определении заголовка работы, чтобы определить, когда создавать новый элемент работы. Например, можно задать максимальное число строк комплектования и максимальное ожидаемое время комплектования. Затем, если работа по процессу комплектования заказа на продажу превышает какое-либо из этих значений, эта работа разделяется на два компонента.

Используйте кнопку **Разрывы заголовков работ**, чтобы определить, когда система должна создавать новые заголовки работ. Например, чтобы создать заголовок работы для каждого _номера заказа_, выберите **Изменить запрос** на панели операций, а затем добавьте поле **Номер заказа** на вкладку **Сортировка** редактора запросов. Поля, добавленные на вкладку **Сортировка**, доступны для выбора в качестве *полей группировки*. Для задания полей группировки выберите **Разрывы заголовков работ** на панели операций, а затем для каждого поля, которое хотите использовать в качестве поля группировки, установите флажок в столбце **Группировать по этому столбцу**.

Строки работы представляют физические задачи, которые необходимы для обработки работы. Например, для исходящего складского процесса может существовать одна строка для комплектования номенклатур на складе, и другая строка для размещения этих номенклатур в зоне ожидания. Кроме того, может существовать дополнительная строка для комплектования номенклатур из зоны ожидания, и еще одна строка для размещения номенклатур в грузовом автомобиле в процессе погрузки. Можно задать *директивный код* в строках рабочего шаблона. Директивный код связан с директивой для места хранения и помогает обеспечить, что складская работа обрабатывается в правильном расположении склада.

Можно задать запрос, чтобы контролировать время использования определенного рабочего шаблона. Например, можно задать ограничение, чтобы определенный шаблон можно было использовать только для работы на определенном складе. Кроме того, может иметься несколько шаблонов для создания работы для исходящей обработки заказов на продажу в зависимости от источника продаж. Система использует поле **Порядковый номер**, чтобы определить порядок оценки доступных рабочих шаблонов. Следовательно, при наличии очень конкретного запроса для определенного рабочего шаблона нужно присвоить ему низкий порядковый номер. В этом случае запрос будет оцениваться раньше, чем другие, более общие запросы.

> [!NOTE]
> Чтобы система не выполняла автоматическую перезапись *порядковых номеров* шаблонов работы после удаления шаблона, включите функцию *Сохранять порядковые номера шаблонов работы при удалении* в разделе [Управление функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md).

Чтобы остановить или приостановить рабочий процесс, можно воспользоваться параметром **Остановить работу** в строке работы. В таком случае работник, выполняющий работу, не получит запрос на выполнение следующего этапа в строке работы. Чтобы перейти к следующему шагу, этот или другой работник должен выбрать работу снова. Можно разделить задачи в пределах элемента работы, воспользовавшись другим *ИД рабочего класса* в строках рабочего шаблона.

## <a name="location-directives"></a>Директивы для мест хранения

Директивы для мест хранения — это правила, с помощью которых можно определить места комплектации и размещения для перемещения запасов. Например, в проводке заказа на продажу директива для места хранения определяет места комплектации и размещения номенклатур. Директивы для мест хранения состоят из заголовка и сопутствующих строк и создаются на странице **Директивы для мест хранения**.

В заголовке каждая директива для места хранения должна быть связана с *типом заказа на работу*, определяющим тип проводки по запасам, для которой будет использоваться директива, такой как заказы на продажу, пополнение или комплектация сырья. *Тип работы* определяет, будет ли директива для места хранения использоваться для комплектации или размещения работы, а также для других складских процессов, например расчета или изменения состояния запасов. Необходимо также задать *объект* и *склад*. *Код директивы*, который вы определяете в заголовке, можно использовать, чтобы связать директиву для места хранения с одним или несколькими шаблонами работы. 

Что касается шаблонов работы, можно настроить запрос и определить, когда используется конкретная директива для места хранения. Например, можно задать, что если электронная коммерция является источником заказа на продажу, запасы должны комплектоваться из специальной области склада. Система использует поле **Порядковый номер** для идентификации порядка, в котором оцениваются доступные директивы для мест хранения.

Строки директив для места хранения задают дополнительные ограничения на применение правил поиска места хранения. Можно определить минимальное количество и максимальное количество, к которому должна применяться директива, и можно указать, что директива должна относиться к конкретной единице измерения складского учета. Например, если единицей измерения является палета, в определенном местонахождении можно разместить номенклатуры в палетах. Можно также определить, может ли количество разделяться между несколькими расположениями. Как и заголовок директивы для места хранения, каждая строка директивы для места хранения имеет порядковый номер, определяющий порядок, в котором оцениваются строки.

Директивы для мест хранения имеют один дополнительный уровень детализации: *действия директивы для места хранения*. Можно определить несколько действий директивы для места хранения для каждой строки. Опять же, порядковый номер используется, чтобы определить порядок оценки действий. На этом уровне можно настроить запрос для определения способа поиска оптимального расположения на складе. Для поиска оптимального расположения можно также использовать предопределенные параметры **Стратегия**.

Дополнительные сведения о создании и настройке директив местонахождения см. в разделе [Создание директивы местонахождения](create-location-directive.md).

### <a name="how-location-directives-work"></a>Принцип работы директив местонахождения

Директивы местоположения определяют, *где* номенклатуры должны комплектоваться и *где* они должны быть размещены. Система оценивает директиву местоположения по каждой строке работы, а затем выбирает местоположение на основе сведений о строке работы. Система сначала находит все директивы местоположения, соответствующие определенной строке работы (например, они относятся к правильному складу и соответствуют запросу). Затем последовательно выполняются найденные директивы.

> [!NOTE]
> Существуют особые случаи, когда местоположение комплектации или местоположение размещения заранее выбраны. Например, во время _регистрации покупки_ первая комплектация всегда берется из местоположения, где происходит регистрация. Другим примером является *перемещение запасов по шаблону*, где работник склада выбирает местоположение комплектации, и только местоположения размещения ищутся с помощью директив местоположения.

## <a name="additional-resources"></a>Дополнительные ресурсы

- Видео: [Подробные сведения о конфигурации управления складом](https://community.dynamics.com/365/b/techtalks/posts/warehouse-management-configuration-deep-dive-october-14-2020)
- Тема справки: [Работа с директивами местонахождения](create-location-directive.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]