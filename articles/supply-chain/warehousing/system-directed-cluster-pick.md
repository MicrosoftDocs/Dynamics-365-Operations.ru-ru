---
title: Комплектация кластера, управляемая системой
description: Эта тема содержит обзор комплектации кластера под управлением системы в Microsoft Dynamics 365 Supply Chain Management.
author: Mirzaab
manager: tfehr
ms.date: 05/26/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSWorkCluster, WHSClusterProfile
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2019-12-31
ms.dyn365.ops.version: 10.0.1
ms.openlocfilehash: dca006ca00e7ff5aa3681daac713f1e93187cd9c
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/15/2021
ms.locfileid: "5239211"
---
# <a name="system-directed-cluster-picking"></a>Комплектация кластера, управляемая системой

[!include [banner](../includes/banner.md)]

Комплектации кластера — это процесс выбора номенклатур, который позволяет комплектовать номенклатуры для нескольких заказов одновременно путем кластеризации их в кластеры комплектации. Затем вы должны посетить местонахождение комплектации только один раз. Как правило, эта функциональность используется при небольшой комплектации заказов или при количествах, которые меньше количества обращений.

При настройке комплектации кластера под управлением системы можно создавать заголовки работ комплектации по кластеру на основе создаваемого системой кластера. Система осуществляет комплектацию по кластерам для заказов до числа позиций, указанных в профиле кластера. Таким образом, можно комплектовать несколько заказов одновременно без необходимости вручную создавать кластер.

Комплектация кластера под управлением системы является альтернативой ручного создания кластеров, где для создания кластера используется профиль кластеров. Перед использованием в профиле кластера следует определить некоторые связанные с настройкой строки:

- **Число штатных единиц** — количество заказов, которые будут помещены в кластер. Таким образом, это соответствует количеству общего.
- **Разделить кластер** определяет необходимость разделения кластера.
- **Создать идентификатор кластера** управляет, будет код кластера создан системой или введен пользователем.
- **Тип проверки сортировки** определяет, требуется ли проверка позиции.

Новый пункт меню мобильного устройства используется для комплектации кластеров под управлением системы. **Код профиля кластера** должен быть указан для выбранного параметра **Кем управляется**. Кроме того, запросы последовательности под управлением системы могут группировать заказы на основе конкретных критериев компании. Таким образом, можно дополнительно оптимизировать назначение заказов на работу, указав настроенные критерии сортировки в запросах последовательности под управлением системы.

Когда комплектация кластера под управлением системы включена, работникам складов предоставляется кластер, в котором заказы комплектации уже заданы для позиций кластера. Таким образом, работники могут начать комплектацию номенклатуры для нескольких заказов на работу, посетив место комплектации только один раз. Процесс комплектации кластера под управлением системы такой же, как и процесс комплектации кластера под управлением пользователя.

## <a name="enable-the-system-directed-cluster-picking-feature"></a>Включение функции комплектации кластера под управлением системы

Прежде чем использовать эту функцию, необходимо включить ее в системе. Администраторы могут использовать страницу [управления функциями](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса компонента и включения их при необходимости. В этой статье функция указана следующим образом:

- **Модуль** — Управление складом
- **Имя функции** — комплектация кластера под управлением системы

Эта функция также требует включения зависимой функции. Зависимая функция:

- **Модуль** — Управление складом
- **Имя функции** — последовательность работы под управлением системы во всей организации

## <a name="set-up-system-directed-cluster-picking"></a>Настройка комплектации кластера, управляемой системой

### <a name="create-cluster-profiles"></a>Создание профилей кластеров

Профили кластеров управляют, как система создает каждый кластер. Если необходимы разные кластеры, для каждого пункта меню мобильного устройства должен быть создан другой профиль кластера.

1. Перейдите **Управление складом \> Настройка \> Мобильное устройство \> Профили кластера**.
2. Выберите **Создать**.
3. В поле **Код профиля кластера** введите **Позиция 2**.
4. В поле **Имя** введите **Позиция 2**.
5. На экспресс-вкладке **Общие** введите следующие сведения:

    - **Создать код кластера** — выберите **Да**. Этот параметр определяет, автоматически ли код кластера создается системой или же пользователь создаст его в начале комплектации. 
    - **Активировать должности** — выберите **Да**. Этот параметр определяет, автоматически ли создаются имена позиций на основе настройки имени позиции. Если параметр задан **Нет**, используется код грузоместа для позиции.
    - **Число штатных единиц** — выберите **2**. Это поле определяет максимальное количество позиций, которые может иметь кластер (т.е. максимальное количество коробок, общего и так далее).
    - **Имя позиции** — выберите **числовые**, чтобы позиции были названы с помощью непрерывных чисел. Если вы выберете **алфавит**,то позиции будут названы в алфавитном порядке.
    - **Разделить кластер в** — выберите **Разместить**. Это поле определяет, когда кластер разделяется. 
    - **Тип проверки сортировки** — выберите **Скан позиции**. Это поле определяет, проверяется ли шаг размещения должности.
        
6. На экспресс-вкладке **Сортировка кластера** можно определить критерии сортировки, создав новую строку и указав следующую информацию:

    - **Номерная серия** — выберите **1**. Это поле определяет последовательность, по которой сортирует система. Значение вводится автоматически, но вы можете изменить его при необходимости.
    - **Имя поля** — введите **WMSLocationId**. Это поле определяет поле, которое строка использует для критериев сортировки.
    - **Сортировка** — выберите **Восходящий**. Это поле определяет, осуществляется ли сортировка в восходящем или убывающем порядке.

### <a name="create-a-mobile-device-menu-item"></a>Создание элемента меню мобильного устройства

Чтобы создать новый пункт меню мобильного устройства для комплектации кластера под управлением системы и связать код профиля кластера с пунктом меню мобильного устройства, выполните эти действия.

1. Перейдите в раздел **Управление складом > Настройка > Мобильное устройство > Пункты меню мобильного устройства**.
1. Выберите **Создать**.
1. В разделе заголовка введите следующие сведения:
    - **Имя пункта меню** — кластер SD
    - **Заголовок** — кластер SD
    - **Режим** — Работа
    - **Использовать существующую работу** — Да

1. На экспресс-вкладке **Общие** введите следующие сведения:
    - **Кем управляется** — Комплектация кластера, управляемая системой
    - **Создать грузоместо** — Да
    - **Код профиля кластера** — позиция 2

1. На экспресс-вкладке **Классы работы** настройте допустимый класс работы для этого пункта меню мобильного устройства, задав следующие поля:
    - **Код класса работы** — Продажи
    - **Тип заказа на работу** — Заказы на продажу

1. В области действий **Пункты меню мобильного устройства** выберите **Запросы последовательности работы под управлением системы** и выполните следующие действия, чтобы указать новый запрос последовательности работы под управлением системы:
    - Выберите **Создать** на панели действий.
    - **Порядковый номер** — 1
    - **Описание** — приоритет работы — код работы

1. На панели операций выберите **Изменить запрос**.
1. Выберите вкладку **Сортировка**.
1. Выберите **Добавить**, чтобы добавить новую строку, а затем введите следующее:
    - **Таблица** — Работа
    - **Производная таблица** — Работа
    - **Поле** — Приоритет работы
    - **Направление поиска** — Восходящий
1. Выберите **Добавить**, чтобы добавить вторую строку, а затем введите следующее:
    - **Таблица** — Работа
    - **Производная таблица** — Работа
    - **Поле** — Код работы
    - **Направление поиска** — Восходящий

1. Теперь система будет сортировать коды работы в кластере, сначала по приоритету работы, а затем по коду работы.

### <a name="set-up-a-mobile-device-menu"></a>Настройка меню мобильного устройства

1. Перейдите в раздел **Управление складом > Настройка > Мобильное устройство > Меню мобильного устройства**.
1. Добавьте элемент меню **Кластер SD**, который только что создан, в меню "Мобильное устройство".
1. Выберите меню **Исходящий**.
1. На панели действий выберите **Правка**.
1. Найдите **Кластер SD**.
1. Выберите **Кластер SD**, стрелка, указывающая на список **Структура меню**, будет включена.
1. Нажмите кнопку **со стрелкой**, чтобы переместить элемент меню **Кластер SD** в структуру меню **Исходящий**.
1. Выберите **Кластер SD** в списке **Структура меню**, затем выберите стрелки **ВВЕРХ** или **ВНИЗ**, чтобы переместить пункт меню в нужную позицию меню мобильного устройства.

## <a name="scenario"></a>Сценарий

### <a name="create-picking-work"></a>Создать работы комплектации

Прежде чем вы сможете настроить комплектацию кластера под управлением системы, необходимо создать подходящие исходящие работы. Профиль кластера, созданный ранее, определяет две позиции кластера. Таким образом, необходимо создать как минимум два кода работы. В этом сценарии вы создадите два заказа на продажу, резервирование запасов, выпуск заказов на продажу на склад, а затем вручную обработаете волну.

1. Перейдите в раздел **Продажи и маркетинг > Заказы на продажу > Все заказы на продажу**.
1. Выберите **Создать** на панели действий, чтобы создать первый заказ на продажу.
    - Откроется меню **Создать заказ на продажу**, введите следующие сведения:
        - На экспресс-вкладке **Клиент** введите **Счет клиента** - **US-004**.
        - На экспресс-вкладке **Общие** введите **Склад** - **62**.
        - Выберите **ОК**, чтобы закрыть меню и создать заказ на продажу.
    - На экспресс-вкладке **Строки заказа на продажу** выберите **Добавить строку**, если новая строка не добавляется автоматически, и введите следующее:
        - **Код номенклатуры** — A0001
        - **Количество** — 1
        - Выберите **Добавить строку**, чтобы добавить вторую строку.
        - **Код номенклатуры** — A0002
        - **Количество** — 3
    - Резервирование запасов для обеих строк, которые только что были созданы.
        - Выберите **Строка 1**.
        - На панели действий **Строки заказа на продажу** выберите **Запасы** и выберите **Резервирование** в списке.
        - В форме **Резервирование** выберите **Зарезервировать лот**, чтобы зарезервировать запасы.
        - Закройте форму **Резервирование** после завершения резервирования.
        - Повторите эти шаги для резервирования запасов для **Строка 2**.
1. Выберите **Создать** на панели действий, чтобы создать второй заказ на продажу.
    - Откроется меню **Создать заказ на продажу**, введите следующие сведения:
        - На экспресс-вкладке **Клиент** введите **Счет клиента** - **US-005**.
        - На экспресс-вкладке **Общие** введите **Склад** - **62**.
        - Выберите **ОК**, чтобы закрыть меню и создать заказ на продажу.
    - На экспресс-вкладке **Строки заказа на продажу** выберите **Добавить строку**, если новая строка не добавляется автоматически, и введите следующие сведения:
        - **Код номенклатуры** — A0001
        - **Количество** — 4
        - Выберите **Добавить строку**, чтобы добавить вторую строку.
        - **Код номенклатуры** — A0002
        - **Количество** — 2
    - Резервирование запасов для обеих строк, которые только что были созданы.
        - Выберите **Строка 1**.
        - На панели действий **Строки заказа на продажу** выберите **Запасы** и выберите **Резервирование** в списке.
        - В форме **Резервирование** выберите **Зарезервировать лот**, чтобы зарезервировать запасы.
        - Закройте форму **Резервирование** после завершения резервирования.
        - Повторите эти шаги для резервирования запасов для **Строка 2**.
    - Закройте заказ на продажу и вернитесь на страницу списка **Все заказы на продажу**.
1. Найдите два только что созданных заказа на продажу (возможно, потребуется обновить страницу). В таблице выберите оба заказа на продажу, используя флажок раздела.
    - В области действий **Все заказы на продажу** выберите вкладку **Склад**.
    - В группе **Действия** выберите **Выпуск на склад**, чтобы выпустить оба заказа на продажу на склад.
1. После завершения процесса выпуска на склад появится информационное сообщение.
    - Отгрузки будут создаваться для каждого заказа на продажу.
    - Будет создана волна, которой будут назначены обе отгрузки. Запишите **Код волны**.
1. Перейдите в раздел **Управление складом > Исходящие волны > Волны отгрузок > Все волны**.
    - В списке **Все волны** найдите и выберите **Код волны**, созданный на предыдущем шаге.
    - В области действий выберите вкладку **Волна**.
    - В группе **Волна** выберите **Процесс**, чтобы обработать волну и создать **Работу**.
    - Информационные сообщения будут создаваться после завершения обработки, указывая, что работа была создана и волна была разнесена.
1. **Необязательно**: перейдите **Управление складом > Работа > Сведения о работе** для просмотра созданной работы. Создаются два разных кода работы. Каждый код работы имеет две строки комплектации.

### <a name="run-the-mobile-device-flow"></a>Запуск потока мобильных устройств

1. Выполните вход на мобильном устройстве для пользователя на складе **62**.
1. В **главном меню** выберите **Исходящее**.
1. В меню **Исходящее** выберите **Кластер SD** и инициируйте комплектацию.
    - Создается кластер, и прикрепляются два кода работы, созданные ранее. Если вы создали более двух кодов работы, в кластер добавляются только первые два. Обратите внимание, что коды работы добавляются в кластер в порядке возрастания, как вы указали в настройке запроса.

    > [!NOTE]
    > Новый кластер автоматически создается только в том случае, если ранее было создано достаточное количество дополнительных кодов работы. В противном случае отображается следующее сообщение: «Для кластера не найдено достаточно работы».

    - После выбора меню появляется первый экран комплектации. Система агрегирует все соответствующие строки комплектации из двух кодов работы и направляет вас посетить место комплектации один раз, так что вы можете выполнить оба заказа с помощью одной комплектации. Этот процесс выполняется так же, как и процесс комплектации кластера под управлением пользователя.

1. Подтвердите первую ячейку комплектации и номенклатуру, нажав **ОК**.
    - Количество комплектации будет равно сумме номенклатуры, которая отображается в заказах на продажу в кластере.
1. Введите имя название позиции (в числовом или алфавитном формате), чтобы подтвердить, что скомплектованное количество номенклатуры для данной позиции было помещено в правильную позицию.
1. Повторите этот процесс до тех пор, пока все количества номенклатур не будут выбраны и помещены в правильную позицию.
1. Последним шагом на мобильном устройстве является **размещение** кластера в окончательной позиции. Нажмите **ОК**.
    - Когда операция размещения подтверждена, кластер закрывается и разбивается в зависимости от значения, которое устанавливается для поля **Разделить кластер в** в профиле кластера. Коды работы также закрыты.
1. На мобильном устройстве отображается сообщение "Кластер готов".


[!INCLUDE[footer-include](../../includes/footer-banner.md)]