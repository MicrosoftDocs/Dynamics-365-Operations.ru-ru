---
title: Подтвердить и перенести
description: В этой теме объясняется, как использовать функцию подтверждения и переноса, которая позволяет пользователям отгружать загрузки со склада до выполнения всех работ, связанных с этими загрузками.
author: mirzaab
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSLoadTemplate,WHSWorkTemplateTable,WHSLoadPlanningWorkbench
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: Release 10.0.8
ms.openlocfilehash: 2ab2d720f7f0425f0c2fd5d79d684a02b452e4d7
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2021
ms.locfileid: "5828426"
---
# <a name="confirm-and-transfer"></a>Подтвердить и перенести

[!include [banner](../includes/banner.md)]

В этой теме объясняется, как использовать функцию *Подтвердить и перенести*, которая позволяет пользователям отгружать загрузки со склада до выполнения всех работ, связанных с этими загрузками. Когда получена отгрузка, включающая строки загрузки, которые не были полностью скомплектованы, подтверждающий пользователь получает запрос на разбиение оставшихся количеств на новую загрузку или на отмену неполных количеств.

Системы, настроенные для разрешения разбиения загрузки, поддерживают сценарии, в которых необходимо адаптировать планируемые и частично загруженные загрузки из-за новых или измененных обстоятельств.

Клиент включает логику, позволяющую закрывать частично загруженную загрузку и подтверждать ее отгрузку. Все оставшиеся отгрузки и строки загрузки (включая полные или частичные количества по строкам) переносятся на вновь созданную загрузку и отгрузку, если этот перенос является требуется и разрешен в настройке. Новые отгрузки и загрузки создаются автоматически на основе исходных критериев создания отгрузки и загрузки, и их основные атрибуты остаются неизменными. Кроме того, имеется возможность автоматически отменять оставшиеся количества, если заказ на работу еще не создан, и пользователь считает эту отмену необходимой.

Эта функция поддерживает сценарии, в которых полная загрузка не помещается на одном грузовике или если некоторая часть загрузки должна покинуть склад, прежде чем оставшаяся часть загрузки будет готова к отгрузке. В этих сценариях оставшиеся продукты могут быть перенесены в новую загрузку и, таким образом, на новый грузовик. Так как эта функция может использоваться с загрузками, которые в противном случае требовали бы полной отгрузки, она обеспечивает дополнительную гибкость, позволяющую менеджерам транспорта решать нестандартные или непредвиденные ситуации.

При разбиении загрузки функция *Подтвердить и перенести* выполняет следующие действия:

- Создаются новые загрузки и отгрузки по мере необходимости. Каждая загрузка или отгрузка будет иметь большую часть тех же атрибутов, что и исходная загрузка или отгрузка. Исключением является статус загрузки, который будет пересчитан на основе состояния работы.
- Пользователь информируется о том, что была создана новая загрузка. Пользователь также получает уведомление о коде новой загрузки.
- Строки загрузки, заголовки работ и строки работ, которые были разбиты, обновляются с учетом новых сведений о загрузке и отгрузке.
- Если выполняется разбиение всей отгрузки, отгрузка сохраняется, и обновляются только ссылки на загрузку. Если отгрузка должна быть разделена, создается новая отгрузка.

Когда отменяются оставшиеся количества, любые количества по строке загрузки, которые еще не были скомплектованы и с которыми не связана неотмененная работа, удаляются из загрузки. Если какая-то работа выполняется, пользователь может только разбить загрузку. Оставшиеся количества не могут быть отменены.

Можно разбить только загрузки, соответствующие следующим критериям:

- Одна или несколько строк загрузки содержат скомплектованные количества.
- Статус загрузки меньше, чем загружено.
- Данные строки загрузки отсутствуют. (Эти данные создаются в ходе консолидации грузоместа в промежуточном расположении, и функция *Подтвердить и перенести* не поддерживает консолидацию грузоместа.)
- Никакие запасы в данный момент не ожидают упаковки в местонахождении упаковки. (Функция *Подтвердить и перенести* не поддерживает запасы, скомплектованные на посту упаковки, но еще не упакованные.)

> [!NOTE]
> Эта функция отличается от функции транспортной загрузки, которая должна использоваться в складах, которые никогда не могут планировать и создавать загрузки до комплектации, но которые вместо этого загружают доступное пространство транспортировки после завершения комплектации.
>
> Функция *Подтвердить и перенести* используется в ситуациях, когда загрузка обычно планируется и создается заранее, но когда иногда возникают исключения, при которых загрузка не помещается в доступный транспорт (например, грузовик).

## <a name="turn-on-confirm-and-transfer"></a>Включение подтверждения и переноса

Прежде чем использовать функцию *Подтвердить и перенести*, она должна быть включена в системе. Администраторы могут использовать параметры [управления компонентами](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса функции и ее включения, если это требуется. В рабочей области **Управление функциями** эта функция перечисляется следующими способами:

- **Модуль:** *Управление складом*
- **Название функции:** *Подтвердить и переместить*

## <a name="set-up-confirm-and-transfer"></a>Настройка подтверждения и переноса

Для использования функции *Подтвердить и перенести* необходимо включить ее в каждом соответствующем шаблоне загрузки. Кроме того, в зависимости от потребностей может возникнуть необходимость в подготовке шаблонов работы для поддержки этой функции. Если вы хотите работать с примером сценария, который приведен ниже в этом разделе, настройте систему, как описано в этом разделе. (Этот сценарий основан на демонстрационных данных **USMF**.)

### <a name="prepare-your-load-templates"></a>Подготовка шаблонов загрузки

1. Перейдите в раздел **Управление складом \> Настройка \> Загрузка \> Шаблоны загрузки**.
1. В области действий выберите **Правка**, чтобы перевести страницу в режим редактирования.
1. Установите флажок **Разрешить разбивку загрузки во время подтверждения отгрузки** для каждого существующего шаблона, в котором необходимо включить эту функцию. Или выберите **Создать**, чтобы создать новый шаблон, и настройте его нужным образом. Каждая загрузка, создаваемой с помощью этого шаблона, будет наследовать эту функциональность. (При работе с демонстрационными данными **USMF** включите функцию для шаблона загрузки **Контейнер 20 футов**.)

### <a name="prepare-your-work-templates"></a>Подготовка шаблонов работы

Эта настройка не является обязательной для всех ситуаций. Показанный здесь пример гарантирует, что работа может быть прервана отгрузкой для поддержки примера сценария, приведенного ниже в этом разделе. Кроме того, существуют другие способы достижения этого результата.

1. Перейдите в раздел **Управление складом \> Настройка \> Работа \> Шаблоны работ**.
1. В сетке в верхней части страницы выберите существующий шаблон работы, для которого необходимо настроить функцию *Подтвердить и перенести*. (При работе с демонстрационными данными **USMF** выберите шаблон **51 Скомплектовать для стадии**.) Или создайте новый шаблон работы.
1. На панели операций выберите **Изменить запрос**, чтобы открыть диалоговое окно **Продажи**.
1. В диалоговом окне **Продажи** на вкладке **Сортировка** выберите **Добавить**, чтобы добавить строку в сетку.
1. В новой строке установите следующие значения:

    - **Таблица:** *Временные рабочие проводки*
    - **Производная таблица:** *Временные рабочие проводки*
    - **Поле:** *Код отгрузки*
    - **Направление поиска:** *Восходящее*

1. Выберите **ОК**, чтобы сохранить настройки и закрыть диалоговое окно **Продажи**.
1. Если получено сообщение о том, что группирование будет сброшено, для продолжения выберите **Да**.
1. В сетке в верхней части страницы **Шаблоны работы** выберите шаблон, который только что был изменен, а затем в области действий выберите **Разрывы заголовка работы**.
1. В области действий выберите **Правка**, чтобы перевести страницу в режим редактирования.
1. В сетке установите следующие значения:

    - **Имя таблицы:** *Временные рабочие проводки*
    - **Имя поля:** *Код отгрузки*
    - **Группировать по этому полю:** установите этот флажок.

1. На панели операций выберите **Сохранить**.
1. Закройте страницу.

## <a name="scenario"></a>Сценарий

В этом сценарии показан пример, в котором процесс комплектации еще не завершен, но номенклатуры, которые были скомплектованы на данный момент, должны быть загружены на грузовик и отгружены в любом случае. Поэтому пользователь может разбить строки неукомплектованной загрузки на новую загрузку. После этого все отношения данных будут автоматически обновлены.

> [!NOTE]
> Конкретные значения, которые описаны в этом сценарии, основаны на демонстрационных данных **USMF**. Рекомендуется использовать эти демонстрационные данные во время демонстрации или изучения порядка использования этой функции. Если демонстрационные данные **USMF** не используются, при необходимости подставьте собственные значения.

### <a name="step-1-create-a-load-that-has-multiple-load-lines"></a>Шаг 1. Создайте загрузку с несколькими строками загрузки

Прежде чем можно будет использовать эту функциональность, необходимо иметь загрузку с несколькими строками загрузки. Необходимо также убедиться, что в местах комплектации достаточно запасов для всех номенклатур по всем заказам на продажу, которые вы создадите. Просмотрите настройку директивы местонахождения (**Управление складом \> Настройка \> Директивы местонахождения**) и запишите местонахождения комплектации, используемые для комплектации заказа на продажу. Если необходимо скорректировать запасы, создайте ручные перемещения, воспользуйтесь пополнением или используйте любой другой поток, как необходимо.

Чтобы создать соответствующую загрузку, сначала создайте три заказа на продажу, выполнив следующие шаги.

1. Перейдите в раздел **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу**.
1. На панели операций выберите **Создать**, чтобы открыть диалоговое окно **Создание заказа на продажу**.
1. В диалоговом окне **Создание заказа на продажу** установите следующие значения (как минимум):

    - На экспресс-вкладке **Клиент** задайте для поля **Счет клиента** значение *US-004* (*Cave Wholesales*).
    - На экспресс-вкладке **Общее** задайте в поле **Склад** значение *51*.

1. Выберите **ОК**, чтобы создать новый заказ на продажу и закрыть диалоговое окно **Создание заказа на продажу**.
1. Открывается ваш новый заказ на продажу. В сетке **Строки заказа на продажу** добавьте строку со следующими значениями:

    - **Код номенклатуры:** *M9200*
    - **Количество:** *40*
    - **Ед. изм:** *шт.*

1. В меню **Запасы** над сеткой выберите **Резервирование**.
1. В области действий выберите **Зарезервировать лот**, чтобы открыть страницу **Резервирование**.
1. Зарезервируйте запасы в строке продаж, затем закройте страницу **Резервирование**.
1. Повторите шаги с 1 по 4, чтобы добавить второй заказ на продажу для этого же клиента и склада.
1. Добавьте две строки продаж со следующими значениями. После добавления каждой строки зарезервируйте для нее складские запасы, как описано в шагах с 6 по 8.

    - **Строка 1:** задайте в поле **Код номенклатуры** значение *M9200*, в поле **Количество** значение *30*, и в поле **Единицы измерения** значение *шт.*.
    - **Строка 2:** задайте в поле **Код номенклатуры** значение *M9201*, в поле **Количество** значение *20*, и в поле **Единицы измерения** значение *шт.*.

1. Повторите шаги с 1 по 4, чтобы добавить третий заказ на продажу для этого же клиента и склада.
1. Добавьте две строки продаж со следующими значениями. После добавления каждой строки зарезервируйте для нее складские запасы, как описано в шагах с 6 по 8.

    - **Строка 1:** задайте в поле **Код номенклатуры** значение *M9201*, в поле **Количество** значение *20*, и в поле **Единицы измерения** значение *шт.*.
    - **Строка 2:** задайте в поле **Код номенклатуры** значение *M9202*, в поле **Количество** значение *60*, и в поле **Единицы измерения** значение *шт.*.

#### <a name="load-planning-workbench"></a>Рабочее место планирования загрузки

Рабочее место планирования загрузки будет использовать код шаблона загрузки, чтобы создавать отгрузки и выпускать строки заказа на продажу на склад.

1. Перейдите в раздел **Управление складом \> Загрузки \> Рабочее место планирования загрузки**.
1. В поле **Склад** выберите *51*.

    Теперь вам предстоит построить загрузку для только что созданных заказов на продажу.

1. На вкладке **Строки продаж** в сетке выберите строки продаж для новых заказов на продажу.
1. В области действий на вкладке **Поставки и спрос** в группе **Добавить** выберите **В новую загрузку**.
1. В диалоговом окне **Назначение шаблона загрузки** выберите в поле **Код шаблона загрузки** значение *Контейнер 20 футов*.
1. Нажмите **ОК**.
1. В разделе **Загрузки** страницы **Рабочее место планирования загрузки** в сетке найдите только что созданный код загрузки для склада *51*. Прокрутите вправо до тех пор, пока не увидите столбец **Разрешать разбиение загрузки при подтверждении отгрузки**. Для загрузки должен быть установлен этот флажок.
1. Выберите загрузку.
1. В меню **Выпуск** над сеткой выберите **Выпустить на склад**, чтобы создать работу.
1. В диалоговом окне **Выпустить загрузку на склад** убедитесь, что на экспресс-вкладке **Записи для добавления** отображается код загрузки.
1. Нажмите **ОК**.

    Вы можете получить сообщение "Обработка операции", пока система создает отправки и работу.

1. В разделе **Загрузки** страницы **Рабочее место планирования загрузки** ваша загрузка теперь должна иметь статус *Разделено по волнам*. Выберите загрузку, затем в меню **Связанные сведения** над сеткой выберите **Сведения о волне** для просмотра созданных кодов отгрузки. По окончании закройте страницу **Волны**.
1. В разделе **Загрузки** страницы **Рабочее место планирования загрузки** выберите загрузку, затем в меню **Связанные сведения** над сеткой выберите **Сведения о работе**, чтобы просмотреть работу, созданную для заказов на продажу.
1. Запишите созданные коды работы. Возможно, придется выполнить прокрутку вправо для просмотра номера заказа на продажу и кода отгрузки, связанного с этим кодом работы.

### <a name="step-2-set-up-the-execution-flow-for-mobile-devices"></a>Шаг 2. Настройка потока выполнения для мобильных устройств

Для задач мобильного устройства потребуется пользовательский ввод информации, такой как идентификатор работы или идентификатор грузоместа. В полях эта информация обычно предоставляется пользователям складов в форме штрих-кодов, которые находятся в документации, упаковке или на стойке. Чтобы выполнить шаги мобильного устройства для сценариев, убедитесь, что для проводок были указаны коды работ, а также коды грузомест для номенклатуры и местоположения в проводках.

1. Выполните вход на мобильное устройство, используя идентификатор пользователя и пароль для склада *51*.
1. Выберите **Исходящие**.
1. Выберите **Комплектация продаж**.
1. Имеется возможность ввести код работы или код грузоместа. Введите код работы для первого заказа на продажу, затем выберите **ВВОД**.
1. В поле **Местонахождение** введите местонахождение, которое отображается для подтверждения местонахождения комплектации. Затем выберите **ВВОД**.
1. В поле **Грузоместо** введите код грузоместа. Код грузоместа должен совпадать с номенклатурой, складом и местоположением номенклатуры, которая комплектуется из выбранного местоположения. Закончив, выберите **ВВОД**.
1. В поле **Номенклатура** введите код номенклатуры для подтверждения комплектуемой номенклатуры, а затем выберите **ВВОД**.
1. В поле **Количество** введите количество номенклатуры комплектуемой номенклатуры, затем выберите **ВВОД**.
1. В поле **Целевое грузоместо** введите код целевого грузоместа. Целевые грузоместа определяются пользователем. Обязательно введите код грузоместа, который вы запомните. Рекомендуется использовать в качестве формата текущую дату плюс две цифры (ГГММДД\#\#), например *19112301*. Закончив, выберите **ВВОД**.
1. Проверьте отображаемые сведения. Эти сведения представляют собой сведения *Комплектация*, которые теперь станут данными *Поместить* для проводки размещения. Закончив, выберите **ВВОД**.

    - Будет получено сообщение **Работа завершена**.

1. Повторите шаги с 4 по 10 для кода работы второго заказа на продажу.

Следующий шаг состоит в загрузке двух скомплектованных грузомест на грузовик.

1. Выполните вход на мобильное устройство, используя идентификатор пользователя и пароль для склада *51*.
1. Выберите **Исходящие**.
1. Выберите **Загрузка продаж**.
1. Введите определяемый пользователем код целевого грузоместа, созданный для кода первой работы в предыдущей процедуре. Затем выберите **ВВОД**, чтобы поместить целевое грузоместо в местоположение **ПРОМЕЖУТОЧНОЕ РАЗМЕЩЕНИЕ**.
1. Снова введите код целевого грузоместа, затем выберите **ВВОД**, чтобы поместить грузоместо в местоположение **ПОДЪЕМНАЯ ДВЕРЬ**.
1. Повторите шаги с 4 по 5 для кода целевого грузоместа, созданного для кода второй работы.

Два кода работы будут закрыты (загружены).

### <a name="step-3-confirm-the-outbound-shipment"></a>Шаг 3. Подтвердите исходящую отгрузку

На этом шаге необходимо подтвердить два заказа на продажу и работу, которые были выполнены для загрузки, чтобы отгрузить скомплектованные номенклатуры и создать новую загрузку для неукомплектованных номенклатур. Подтверждение исходящей отгрузки должно выполняться на странице **Сведения о загрузке**.

1. Перейдите в раздел **Управление складом \> Загрузки \> Рабочее место планирования загрузки**.
1. В разделе **Загрузки** в сетке выберите строку для созданного кода загрузки.
1. Выберите ссылку кода загрузки, чтобы открыть страницу **Сведения о загрузке**.
1. На странице **Сведения о загрузке** на панели операций на вкладке **Отгрузка и получение** в группе **Подтверждение** выберите **Исходящая отгрузка**, чтобы начать подтверждение.
1. В диалоговом окне **Подтверждение отгрузки** в поле **Способ разбиения загрузки во время подтверждения отгрузки** выберите *Разбить количество с созданием новой загрузки*.
1. Нажмите **ОК**.

    Может быть получено сообщение "Обработка операции".

    Вы получаете информационные сообщения с указанием о том, что отгрузка для загрузки подтверждена, и что новая загрузка была создана из разбиения на части.

Обновите страницу **Рабочее место планирования загрузки**, чтобы увидеть только что созданную загрузку.

Кроме того, можно убедиться, что связи проводок обновлены следующими способами:

- Оставшиеся (необработанные) отгрузки и строки отгрузки обновлены с новым кодом загрузки.
- Заказ на продажу связан с новым кодом загрузки.
- Исходная загрузка не включает оставшиеся строки загрузки.
- Оставшаяся работа была обновлена с новым кодом загрузки.
- Волна остается той же самой.
- Статус новой загрузки обновлен правильно. (Если состояние работы — _В работе_, статус загрузки также должен быть _В работе_ .)

## <a name="notes-and-tips"></a>Примечания и советы

- Кроме того, можно включить параметр **Разрешить разбиение загрузки во время подтверждения отгрузки** после создания загрузки с отключенным параметром **Шаблон загрузки**, но до начала процесса загрузки. Перейдите к нужной загрузке, затем в представлении заголовка включите параметр.
- Параметр **Разбить количество с созданием новой загрузки** работает также в том случае, когда некоторые оставшиеся заголовки работ имеют статус *В работе*. Таким образом, можно продолжать использовать эту функциональную возможность даже в том случае, если работники уже выполняют заказы на комплектацию.
- Если выбрать **Отменить невыполненное количество** при наличии оставшейся работы, имеющей статус *Открыто* или *Выполняется*, будет выведено следующее сообщение об ошибке: "Не удается отменить оставшееся количество для загрузки. Для загрузки существует работа".
- Если выбрать **Отменить невыполненное количество**, когда не останется оставшейся работы, но в загрузке имеются невыпущенные строки загрузки, появится следующее сообщение об ошибке: "Не удалось подтвердить отгрузку для загрузки, поскольку количество для номенклатуры превышает процент, определенный для недопоставки". Чтобы избежать эту ошибку, можно установить значение в процентах **Недопоставки** на невыпущенной строке загрузки равным 100 процентам. Невыпущенные строки не будут перемещены в новую загрузку, но текущая загрузка будет подтверждена с недопоставкой. В этом случае вы не сможете повторно выпустить исходный заказ. Таким образом, вам придется обрабатывать его каким-то другим способом.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]