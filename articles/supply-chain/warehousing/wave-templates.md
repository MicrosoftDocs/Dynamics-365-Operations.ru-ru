---
title: Шаблоны волны
description: В этом разделе описывается, как настроить критерии, определяющие способ обработки волн (вручную или автоматически), и работу, создаваемую при обработке волны.
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: 10.0.18
ms.openlocfilehash: a606f413bf3660a89270c0751b2656fab07cd80d
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/29/2021
ms.locfileid: "7576000"
---
# <a name="wave-templates"></a>Шаблоны волны

[!include [banner](../includes/banner.md)]

В этом разделе описывается, как настроить критерии, определяющие способ обработки волн (вручную или автоматически), и работу, создаваемую при обработке волны. Чтобы определить критерии, настройте шаблоны и запросы волн, которые соответствуют волне с запущенными в производство строками в заказах на продажу, производственных заказах и канбанах.

## <a name="settings-for-wave-templates"></a>Параметры шаблонов волн

При настройке шаблона волны необходимо определить следующее:

- **Сайт** и **Cклад**, для которого шаблон создает работу.
- Порядок, в котором будет выполняться оценка шаблонов. Последовательность, в которой шаблоны сопоставляются с запущенными в производство строками в заказах на продажу, производственных заказах и канбанах. Когда выпускается строка, система применяет первый шаблон волны, для которого строка соответствует критериям. Чем шире критерии, тем выше вероятность, что строка будет удовлетворять критериям, поэтому следует поместить шаблоны с наиболее конкретным критериями в верхней части списка. Используйте кнопки **Вверх** и **Вниз** на панели действий, чтобы упорядочить шаблоны в списке.
- Действия, выполняемые каждым шаблоном. **Методы** волны выполняют действия, которые созданы шаблоном, например создание или распределение работы для каждого типа шаблона волны.
- Атрибуты волны (фильтры), которые должны применяться к используемому шаблону волны.

> [!NOTE]
> При необходимости разработчик может создать дополнительные методы. Полный список методов можно просмотреть на странице **Методы процесса волны**.

Некоторые параметры представляют стратегические решения для обработки волны, как показано ниже.

- Если шаблон используется для отгрузки номенклатур для заказов на продажу и заказов на перемещение или используется для перемещения номенклатур в производство для производственных заказов или канбанов.
- Если волна обрабатывается вручную или автоматически следующим образом:

  - **Обработка вручную** — строка добавляется в волну, запасы резервируются, однако необходимо выбрать **Обработать** на странице списка **Все полны**, чтобы создать работу комплектации для заказа.
  - **Автоматическая обработка** — можно полностью или частично автоматизировать обработку волны. При полной автоматизации обработки волны создается волна, которая включает строку из заказа на продажу, производственного заказа или канбана при создании заказа на продажу, производственного заказа или канбана. Номенклатуры вычитаются из запасов в наличии, и создается работа комплектации. При частичной автоматизации обработки волны можно указать значения, которые будут запускать обработку волны. Например, можно указать максимальный вес отгрузок, достижение которого запустит обработку волны, если общий вес в строках волны достигнет этого значения.

- При назначении отгрузок открытой волне. Например, если пообещать клиентам, что заказ, размещенный до 12:00, будет отгружен в течение 24 часов, можно настроить шаблон волны таким образом, чтобы автоматически назначить строки заказа открытой волне до 12:00. В это время волна будет обрабатываться автоматически.

При обработке волны создаваемая работа комплектации основывается на шаблоне работы и директиве местонахождения, которая определена для склада. Шаблон работы определяет способ создания работы комплектации, а директива местонахождения определяет местонахождения комплектации и размещения.

## <a name="create-a-wave-template"></a>Создание шаблона волны

Чтобы настроить шаблон волны, выполните следующие действия.

1. Перейдите в раздел **Управление складом** \> **Настройка** \> **Волны** \> **Шаблоны волны**.
1. Выберите **Создать** для создания нового шаблона волны.
1. В поле **Тип шаблона волны** выберите один из следующих вариантов:

    - *Отгрузка* — используйте шаблон волны, чтобы отгрузить номенклатуры для заказов на продажу и заказов на перемещение.
    - *Производственные заказы* — используйте шаблон волны, чтобы переместить номенклатуры для производственных заказов.
    - *Канбан* — используйте шаблон волны, чтобы переместить номенклатуры для заказов канбана.

1. В полях **Имя шаблона волны** и **Описание шаблона волны** введите имя и описание шаблона волны.

    > [!NOTE]
    > Если для склада создано несколько шаблонов, номер в поле **Последовательность шаблонов волны** указывает положение шаблона в последовательности, в которой применяются шаблоны при соответствии критериям шаблона. Можно выбрать **Переместить вверх** или **Переместить вниз**, чтобы изменить последовательность шаблонов.

1. В полях **Сайт** и **Склад** выберите сайт и склад, для которых шаблон волны создаст волны и работу комплектации.
1. Если требуется автоматизировать обработку волны, внесите необходимые изменения в следующие настройки:

    - **Создавать волны автоматически** —установите для этого параметра значение *Да* для автоматического создания волны при выпуске заказа на продажу, производственного заказа или канбана на склад.
    - **Назначить открытым волнам** — установите для этого параметра значение *Да*, чтобы автоматически назначать строки открытой волне при выпуске строк. Строки назначаются волнам на основе фильтра запроса для шаблона волны.
    - **Обрабатывать волну перед запуском на склад** — установите значение *Да*, чтобы автоматически обрабатывать волну и создавать работу, когда строка выпускается на склад.
    - **Автоматически обрабатывать волну на пороге** — установите для этого параметра значение *Да* для автоматической обработки волны, когда ее значения достигают пороговых значений веса, отгрузки и строк, указанных в группе полей **Пороги волн**. Этот параметр активен, только если в поле **Тип шаблона волны** выбрано значение *Отгрузка*.
    - **Автоматический запуск волны** — установите значение *Да*, чтобы автоматически выпускать волну. Работа комплектации создается и становится доступна на мобильных устройствах.
    - **Автоматизировать выпуск работы пополнения** — установите этот параметр как *Да*, чтобы создать работу пополнения на основе запроса и автоматически запустить ее в производство. Необходимо добавить метод волны пополнения в шаблон волны и создать шаблон пополнения, используя тип *Спрос волны*. Настройте шаблон пополнения на странице **Шаблоны пополнения**. Для этого требуется добавить метод пополнения в шаблон волны.
    - **Продолжить обработку волны при сбое создания работы** — если для этого параметра задано значение *Да*, система будет использовать пустое местонахождение, если ей не удается зарезервировать запасы в местонахождении, предлагаемом директивой местонахождения (например из-за того, что запасов больше нет в наличии). Если для этого параметра задано значение *Нет*, волна завершится сбоем, если системе не удается зарезервировать запасы.

1. Установите необходимые значения для группы полей **Пороговые значения волны**:
    - **Пороговый вес волны** — введите максимальный вес, который может содержаться в волне.
    - **Порог отгрузки** — введите максимальное число отгрузок, которые могут быть включены в волну.
    - **Порог строк** — введите максимальное число строк, которые могут быть включены в волну.

1. В группе полей **Значения по умолчанию** выберите атрибуты волны для использования в качестве дополнительных критериев шаблона волны. Атрибуты волны полезны при назначении дополнительных критериев, таких как имя клиента, шаблону волны. Эти атрибуты создаются на странице **Атрибуты волны**. 

1. Установите в поле **Политика уведомлений волны** политику, которую необходимо использовать для создания уведомлений, связанных с волнами, использующими этот шаблон. Пример политики уведомлений волны см. в разделе [Уведомления о выполнении волн](wave-execution-notifications.md).

1. На экспресс-вкладке **Методы** в области **Выбранные методы** перечислены методы для выбранного шаблона волны. Методы волны выполняют действия, которые созданы шаблоном, например создание или распределение работы. Эти действия также называются этапами волны. Методы волн предопределены для каждого типа шаблона волны. Невозможно удалить предопределенные методы волны, однако можно изменить порядок методов и добавить дополнительные методы. Например, при создании шаблона волны для отгрузки можно добавить методы для пополнения и контейнеризации. Контейнеризацию волны можно добавить в последовательность методов волны, чтобы определить контейнеризацию строк, обрабатываемых в шаблоне волны. Чтобы добавить дополнительный метод, выполните следующие действия.

    - Выберите метод в области **Остальные методы**, затем выберите стрелку **Влево**, чтобы добавить его в область **Выбранные методы**.
    - Чтобы изменить последовательность, выберите метод и выберите стрелку **Вверх** или **Вниз**.

    > [!NOTE]
    > При добавлении метода он автоматически указывается в соответствующем местоположении в последовательности этапов.

1. Чтобы настроить запрос, который будет сопоставлять выпущенные строки с соответствующей волной, выберите **Изменить запрос** на панели операций.
1. Чтобы проверить правильность параметров шаблона волны, выберите **Проверить шаблон**.
