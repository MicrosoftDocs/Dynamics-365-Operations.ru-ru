---
title: Группировка шаблонов волны
description: Группировка шаблонов волны позволяет системе использовать настройки шаблона волн, чтобы определить в зависимости от того, какие критерии были определены, как разбить выпущенные строки и назначить их новым или существующим волнам. Эта функция может быть полезной на складах, где волны создаются на основе определённых критериев, но где менеджеры предпочитают создавать волны автоматически, а не вручную.
author: Mirzaab
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSWaveTableListPage, WHSWaveTemplateTable
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: 10.0.8
ms.openlocfilehash: 0f0419f1a109f043cb1af6a575704c24420639f1
ms.sourcegitcommit: c98d55a4a6e27239ae6b317872332f01cbe8b875
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/02/2022
ms.locfileid: "9218925"
---
# <a name="wave-template-grouping"></a>Группировка шаблонов волны

[!include [banner](../includes/banner.md)]

Группировка шаблонов волны позволяет системе использовать настройки [шаблона волн](tasks/configure-wave-processing.md), чтобы определить в зависимости от того, какие критерии были определены, как разбить выпущенные строки и назначить их новым или существующим волнам. Эта функция может быть полезной на складах, где волны создаются на основе определённых критериев, но где менеджеры предпочитают создавать волны автоматически, а не вручную. Она позволяет системе добавлять каждую вновь выпущенную отгрузку в первую волну, которую она найдет с соответствующими значениями полей группировки. Если совпадений не найдено, система создает новую волну для новой отгрузки.

> [!IMPORTANT]
> Группировка шаблона волны не поддерживается для типов работ *комплектацией сырья для производства* или *комплектации канбана*. Это объясняется тем, что группировка волны базируется на отгрузках, а эти типы работ не используют отгрузки.

## <a name="turn-on-the-wave-template-grouping-feature"></a>Включение функции группировки шаблонов волн

Прежде чем использовать функцию *Группировка шаблонов волн*, она должна быть включена в системе. Администраторы могут использовать параметры [управления компонентами](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса функции и ее включения, если это требуется. В рабочей области **Управление функциями** эта функция перечисляется следующими способами:

- **Модуль:** *Управление складом*
- **Имя функции:** *Группировка шаблонов волн*

## <a name="set-a-wave-template-to-use-wave-template-grouping"></a><a name="set-up-template"></a>Настройка шаблона волн для использования группировки шаблонов волн

Чтобы сделать группировку шаблонов волн доступной, выполните следующие действия, чтобы настроить [шаблон волны](tasks/configure-wave-processing.md).

1. Перейдите в раздел **Управление складом \> Настройка \> Волны \> Шаблоны волны**.
1. В левой области выберите шаблон волны для настройки. При подготовке к работе с сценарием далее в этой статье с использованием демонстрационных данных выберите шаблон **62 Отгрузка по умолчанию**.
1. Выберите **Правка**, чтобы перевести страницу в режим редактирования.
1. На экспресс-вкладке **Общие** установите следующие значения.

    - **Создавать волны автоматически:** *Да*
    - **Назначить открытым волнам:** *Да*
    - **Обрабатывать волну перед запуском на склад:** *Нет*

1. На панели операций выберите **Изменить запрос**, чтобы открыть диалоговое окно запроса.
1. В диалоговом окне запроса на вкладке **Сортировка** проверьте критерии сортировки и убедитесь, что имеется правило, включающее поле, которое должно использоваться для группировки волн.

    При подготовке к работе с помощью сценария с использованием демонстрационных данных добавьте строку со следующими значениями:

    - **Таблица:** *Отгрузки*
    - **Производная таблица:** *Отгрузки*
    - **Поле:** *Услуга перевозчика*

        > [!NOTE]
        > После выбора этого значения может появиться следующее сообщение: "Поле услуги перевозчика не является индексным полем. Хотите добавить сортировку по нему?" Чтобы добавить сортировку, выберите **Да**.

    - **Направление поиска:** *Восходящее*

1. Выберите **ОК**, чтобы сохранить изменения и закрыть диалоговое окно запроса.
1. В области действий выберите **Группировка шаблонов волн**.
1. На странице **Группировка шаблонов волн** установите флажок **Группировать по** для каждой строки, которую необходимо использовать для группировки строк заказа в волны. При подготовке к работе в сценарии с использованием демонстрационных данных выберите флажок **Группировать по** для строки *Услуга перевозчика*.
1. Нажмите **Сохранить**.
1. Закройте страницу **Группировка шаблонов волн**.
1. Выберите **Сохранить** для сохранения шаблона.

## <a name="scenario"></a>Сценарий

В этом разделе представлен скрипт, с помощью которого можно узнать, что делает эта функция и как работать с ней.

### <a name="make-sample-data-available"></a>Сделать образцы данных доступными

Для работы с этим сценарием с помощью образцов записей и значений, указанных здесь, необходимо использовать систему, в которой установлены стандартные [демонстрационные данные](../../fin-ops-core/fin-ops/get-started/demo-data.md). Дополнительно перед началом необходимо выбрать юридическое лицо **USMF**.

Этот сценарий можно также использовать в качестве руководства по использованию этой функции при работе в производственной системе. Однако в этом случае необходимо подставить собственные значения, и у вас могут отсутствовать некоторые типы необходимых записей, предоставляемых стандартными демонстрационными данными.

### <a name="scenario-wave-template-grouping"></a>Сценарий: группировка шаблонов волны

В этом сценарии показано, как использовать группировку шаблонов волн для автоматического создания нескольких волн на основе критериев группировки, определенных в шаблоне волны. В этом сценарии шаблон волны настраивается в системе для создания одной волны на каждого перевозчика.

Прежде чем начать, подготовьте шаблон волны, как описано в разделе [Настройка шаблона волны для использования группировки шаблонов волн](#set-up-template) ранее в этой статье. Если вы будете работать с демонстрационными данными для этого сценария, убедитесь, что используются значения демонстрационных данных, предлагаемые в этой процедуре. Эта настройка будет группировать волны в соответствии со службой перевозчика, которая настроена для каждого заказа на продажу.

#### <a name="create-sales-order-1"></a>Создание заказа на продажу 1

1. Перейдите в раздел **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу**.
1. Выберите **Создать**, чтобы создать заказ на продажу.
1. В диалоговом окне **Создание заказа на продажу** установите следующие значения:

    - На экспресс-вкладке **Клиент** задайте для поля **Счет клиента** значение *US-004*.
    - На экспресс-вкладке **Общее** задайте в поле **Склад** значение *62*.

1. Выберите **ОК**, чтобы создать новый заказ на продажу и закрыть диалоговое окно **Создание заказа на продажу**.
1. Новый заказ на продажу открывается в представлении **Строки**. Запишите номер заказа на продажу.
1. Перейдите к представлению **Заголовок**.
1. На Экспресс-вкладке **Доставка** в разделе **Транспортировка** установите следующие значения:

    - **Перевозчик, осуществляющий доставку:** *Воздушный грузовой*
    - **Услуга перевозчика:** *Air*

1. Перейдите обратно в представление **Строки**.
1. В разделе **Строки заказа на продажу** выберите **Добавить строку** для добавления строки к сетке.
1. В новой строке установите следующие значения:

    - **Код номенклатуры:** *A0002*
    - **Количество:** *2*

1. Выберите новую строку заказа, затем в меню **Запасы** над сеткой выберите **Резервирование**.
1. На странице **Резервирование** на панели операций выберите **Резервирование лота**, чтобы зарезервировать полное количество выбранной строки на складе.
1. Закройте страницу **Резервирование**, чтобы вернуться в заказ на продажу.
1. На панели операций на вкладке **Склад** в группе **Действия** выберите вариант **Запуск на склад**.
1. Вы получаете информационное сообщение, в котором отображаются отгрузка и волна для данного заказа. Запишите номер кода волны и номера кодов отгрузки.

#### <a name="view-the-wave-that-was-created-from-sales-order-1"></a>Просмотрите волну, созданную из заказа на продажу 1

1. Перейдите в раздел **Управление складом \> Исходящие волны \> Волны отгрузок \> Все волны**.
1. Выберите код волны, созданной из заказа на продажу.
1. Выберите ссылку кода волны, чтобы открыть страницу сведений о волне.
1. Обратите внимание, что отгрузка была добавлена на экспресс-вкладку **Строки волны**.

#### <a name="create-sales-order-2"></a>Создание заказа на продажу 2

1. Перейдите в раздел **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу**.
1. Выберите **Создать**, чтобы создать заказ на продажу.
1. В диалоговом окне **Создание заказа на продажу** установите следующие значения:

    - На экспресс-вкладке **Клиент** задайте для поля **Счет клиента** значение *US-005*.
    - На экспресс-вкладке **Общее** задайте в поле **Склад** значение *62*.

1. Выберите **ОК**, чтобы создать новый заказ на продажу и закрыть диалоговое окно **Создание заказа на продажу**.
1. Новый заказ на продажу открывается в представлении **Строки**. Запишите номер заказа на продажу.
1. Перейдите к представлению **Заголовок**.
1. На Экспресс-вкладке **Доставка** в разделе **Транспортировка** установите следующие значения:

    - **Перевозчик, осуществляющий доставку:** *Перевозка цветов*
    - **Услуга перевозчика:** *Стандартная*

1. Перейдите обратно в представление **Строки**.
1. В разделе **Строки заказа на продажу** выберите **Добавить строку** для добавления строки к сетке.
1. В новой строке установите следующие значения:

    - **Код номенклатуры:** *A0001*
    - **Количество:** *1*

1. Выберите новую строку заказа, затем в меню **Запасы** над сеткой выберите **Резервирование**.
1. На странице **Резервирование** на панели операций выберите **Резервирование лота**, чтобы зарезервировать полное количество выбранной строки на складе.
1. Закройте страницу **Резервирование**, чтобы вернуться в заказ на продажу.
1. На панели операций на вкладке **Склад** в группе **Действия** выберите вариант **Запуск на склад**.
1. Вы получаете информационное сообщение, в котором отображаются отгрузка и волна для данного заказа. Запишите номер кода волны и номера кодов отгрузки. Обратите внимание, что код волны отличается от кода волны первого заказа на продажу.

#### <a name="view-the-wave-that-was-created-from-sales-order-2"></a>Просмотрите волну, созданную из заказа на продажу 2

1. Перейдите в раздел **Управление складом \> Исходящие волны \> Волны отгрузок \> Все волны**.
1. Выберите код волны, созданной из второго заказа на продажу.
1. Выберите ссылку кода волны, чтобы открыть страницу сведений о волне.
1. Обратите внимание, что отгрузка была добавлена на экспресс-вкладку **Строки волны**.

Для этой отгрузки была создана новая волна, так как в ней используется другая услуга перевозчика, отличная в первом заказе на продажу.

#### <a name="create-sales-order-3"></a>Создание заказа на продажу 3

1. Перейдите в раздел **Продажи и маркетинг \> Заказы на продажу \> Все заказы на продажу**.
1. Выберите **Создать**, чтобы создать заказ на продажу.
1. В диалоговом окне **Создание заказа на продажу** установите следующие значения:

    - На экспресс-вкладке **Клиент** задайте для поля **Счет клиента** значение *US-006*.
    - На экспресс-вкладке **Общее** задайте в поле **Склад** значение *62*.

1. Выберите **ОК**, чтобы создать новый заказ на продажу и закрыть диалоговое окно **Создание заказа на продажу**.
1. Новый заказ на продажу открывается в представлении **Строки**. Запишите номер заказа на продажу.
1. Перейдите к представлению **Заголовок**.
1. На Экспресс-вкладке **Доставка** в разделе **Транспортировка** установите следующие значения:

    - **Перевозчик, осуществляющий доставку:** *Воздушный грузовой*
    - **Услуга перевозчика:** *Air*

1. Перейдите обратно в представление **Строки**.
1. В разделе **Строки заказа на продажу** выберите **Добавить строку** для добавления строки к сетке.
1. В новой строке установите следующие значения:

    - **Код номенклатуры:** *A0001*
    - **Количество:** *1*

1. Выберите новую строку заказа, затем в меню **Запасы** над сеткой выберите **Резервирование**.
1. На странице **Резервирование** на панели операций выберите **Резервирование лота**, чтобы зарезервировать полное количество выбранной строки на складе.
1. Закройте страницу **Резервирование**, чтобы вернуться в заказ на продажу.
1. На панели операций на вкладке **Склад** в группе **Действия** выберите вариант **Запуск на склад**.
1. Вы получаете информационное сообщение, в котором отображаются отгрузка и волна для данного заказа. Запишите номер кода волны и номера кодов отгрузки. Отгрузка была назначена существующей волне из первого заказа на продажу.

#### <a name="view-the-wave-for-sales-orders-1-and-3"></a>Просмотр волны для заказов на продажу 1 и 3

1. Перейдите в раздел **Управление складом \> Исходящие волны \> Волны отгрузок \> Все волны**.
1. Выберите код волны, созданной из третьего заказа на продажу.
1. Выберите ссылку кода волны, чтобы открыть страницу сведений о волне.
1. Обратите внимание, что отгрузка была добавлена на экспресс-вкладку **Строки волны** вместе с отгрузкой по первому заказу на продажу.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]