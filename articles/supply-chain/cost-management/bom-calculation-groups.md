---
title: Группы расчета спецификаций
description: Эта статья содержит сведения о группах расчета для спецификаций и их настройке. Для выполнения расчета спецификации необходимо либо настроить группы расчета и назначить их отдельным номенклатурам, либо задать группу расчета по умолчанию. Параметры расчета из группы расчета используются в качестве значений по умолчанию на странице "Расчет спецификации" во время расчета спецификации.
author: AndersGirke
manager: tfehr
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: BOMCalcGroup, BOMCalcTable, BOMCalcTrans, InventItemPrice
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 94063
ms.assetid: 63e1b7dc-c2c5-41b0-81ed-e3e02d1b39e0
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: kamaybac
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 6e4f53401d604ce3c8308ed475a0b6147805cb78
ms.sourcegitcommit: 199848e78df5cb7c439b001bdbe1ece963593cdb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2020
ms.locfileid: "4436244"
---
# <a name="bom-calculations-groups"></a>Группы расчета спецификаций

[!include [banner](../includes/banner.md)]

Эта статья содержит сведения о группах расчета для спецификаций и их настройке. Для выполнения расчета спецификации необходимо либо настроить группы расчета и назначить их отдельным номенклатурам, либо задать группу расчета по умолчанию. Параметры расчета из группы расчета используются в качестве значений по умолчанию на странице "Расчет спецификации" во время расчета спецификации. 

Группа расчета по умолчанию необходима на странице **Параметры модуля "Управление запасами и складами"** либо группа расчета конкретного продукта необходима на странице **Сведения о выпущенном продукте**. Система сначала ищет настройки группы расчета на странице **Сведения о выпущенном продукте**. Если группа расчета отсутствует, она выполняет поиск на странице **Параметры модуля "Управление запасами и складами"**. Если системе не удается найти группу расчета, пользователь получает сообщение об ошибке во время расчета. Группа расчета содержит политики для модели себестоимость, модели цены продажи и контрольных списков предупреждений. Параметры расчета из группы расчета используются в качестве значений по умолчанию на странице **Расчет спецификации** во время расчета спецификации.

## <a name="purposes-of-bom-calculation-groups"></a>Цели групп расчета спецификаций
Группа расчета спецификации назначается номенклатурам по нескольким причинам:

-   Задавая значение в поле **Модель себестоимости**, вы указываете источник данных о доле затрат приобретенного компонента в расчете запланированных затрат произведенной номенклатуры. Некоторые производители рассчитывают плановые расходы, используя торговые соглашения о цене покупки для закупаемых компонентов или на иной основе, например на записях цены покупки в версии цены.
-   Задавая значение в поле **Модель цены продажи**, вы указываете способ использования данных номенклатуры в расчете предложенной цены продажи. Можно указать либо цену продажи номенклатуры, либо группу затрат. Некоторые производители хотят рассчитать предложенную цену продаж для изготовленных номенклатур. Расчетная цена продажи может отражать метод совокупной цены, основанный на записи цены продажи компонента. Либо расчетная цена продажи может отражать метод затраты плюс наценка, основанный на себестоимости компонента и применимом проценте прибыли, который связан с группой затрат номенклатуры.
-   С помощью поля **Остановка развертывания** вы указываете необходимость обработки произведенной номенклатуры как приобретенной для целей свертки затрат во время расчета спецификации. Обычные сценарии включают ситуации, когда приобретаемая номенклатура иногда изготавливается самостоятельно или когда произведенную номенклатуру начали закупать. Первоначально номенклатура указывается как произведенная номенклатура, чтобы определить спецификацию и данные маршрута и поддержать производственные заказы на номенклатуру. Однако флаг **Остановка развертывания** не дает использовать спецификацию и маршрут номенклатуры в расчете затрат. Вместо этого в расчете спецификации используются заданные затраты номенклатуры.

## <a name="calculation-groups"></a>Группы расчета
Группы расчета определяются в разделе **Настройка политик заранее определенных затрат** в модуле "Управление затратами". Группы расчета, назначенные номенклатурам, позволяют указать, откуда берутся затраты или цена продажи компонентов для расчета согласно группе расчета. На странице **Группы расчета** можно определить модель себестоимости, альтернативную модель себестоимости, модель цены продажи и предупреждения.

### <a name="cost-price-model"></a>Модель себестоимости

Существует четыре параметра в поле **Модель себестоимости**:

-   **Себестоимость номенклатуры** — используется себестоимость из таблицы **Выпущенный продукт** или комбинация номенклатурных аналитик используется как себестоимость.
-   **Цена покупки номенклатуры** — используется цена покупки из поля **Себестоимость** на вкладке **Покупка** страницы **Список выпущенных продуктов**.
-   **Коммерческие соглашения** — можно настроить коммерческие соглашения для конкретных комбинаций номенклатур и поставщиков или для определенных сайтов. Затем при выборе параметра **Коммерческие соглашения** будут использоваться созданные коммерческие соглашения для цены покупки вместе с номенклатурой и сайтом.
-   **Цена запасов** — используется текущая стоимость запасов для номенклатуры для расчета себестоимости единицы измерения при расчете спецификации. Себестоимость единицы измерения рассчитывается, только если разнесенное количество и физическое количество больше 0 (нуля).

### <a name="alternative-cost-price"></a>Альтернативная себестоимость

В поле **Альтернативная себестоимость** доступны те же параметры, что и в поле **Модель себестоимости**. Однако это поле используется, только когда невозможно найти цену в исходной модели себестоимости.

### <a name="sales-price-model"></a>Модель цены продажи

Существует два параметра для расчета поля **Цены продажи**:

-   **Группа затрат** — если выбран этот параметр, цена продажи рассчитывается на основании себестоимости и процента прибыли из группы затрат.
-   **Цена продажи номенклатуры** — если выбран этот параметр, используется цена продажи на экспресс-вкладке **Продажа** в таблице "Выпущенный продукт".

### <a name="stop-explosion"></a>Остановка развертывания

Флажок **Остановка развертывания** используется для указания того, когда произведенную номенклатуру следует рассматривать как номенклатуру покупки. Как правило, флажок **Остановка развертывания** снят. Устанавливая этот флажок, вы указываете, что произведенную номенклатуру следует рассматривать как компонент покупки, а не произведенный компонент, для целей расчета спецификации. В зависимости от сайта стоимость номенклатуры можно по-прежнему вычислять с помощью расчетов спецификации. Развертывание спланированных заказов на покупку и производственных заказов останавливается в спецификациях, компоненты которых связаны с группой расчета, в которых установлен флажок **Остановка развертывания**. Сводное планирование создает спланированные заказы в самой спецификации, а не в номенклатурах, содержащихся в спецификации. По сути, устанавливая этот флажок, вы указываете, что стоимость не будет добавляться в расчет спецификации для номенклатур, содержащих в данной группе расчета.

### <a name="warnings"></a>Предупреждения

На экспресс-вкладке **Предупреждения** выберите параметры для всех предупреждающих сообщений, которые должны получать пользователи при расчетах спецификации. 

Например, если установить флажок **Нет спецификации**, пользователь получает предупреждение, если не найдена активная версия спецификации для одного из компонентов или родительской номенклатуры, для которой выполняется расчет спецификации. Если установить флажок **Нет маршрута**, пользователь получает предупреждение, если не найдена активная версия маршрута. При использовании ресурсов в маршрутах и операциях можно указать системе проверять эти ресурсы. Затем, если ресурс не найден в каждой строке в активном маршруте, пользователь получает предупреждение. 

Также можно проверить и просмотреть потребление. Потребление — это количество в конкретном маршруте. Как правило, оно представляет интервал времени, необходимый для выполнения определенной операции в производственном процессе. Можно проверить, имеет ли номенклатура себестоимость. Если для номенклатуры не указана активная себестоимость, стоимость не добавляется в расчет спецификации. 

Также можно проверить и просмотреть срок себестоимости. Например, введите **60**, чтобы указать, что стоимость единицы должна вычисляться повторно через 60 дней. По достижении этого лимита система создает предупреждение. Например, себестоимость была введен для номенклатуры в январе этого года. Если сейчас август, что составляет более 60 дней после ввода себестоимости, пользователь получает предупреждение при выполнении расчета спецификации. Ввести процент можно в поле **Минимальная маржинальная прибыль**. Это значение указывает точку, начиная с которой не достигается минимальная маржинальная прибыль. Если маржинальная прибыль для конкретного компонента не достигается, пользователь получает предупреждение. Таким образом, это поле помогает гарантировать, что вы не урезаете расходы и дополнительные затраты на хранение, которые могут потребоваться для номенклатур.

### <a name="default-setup-in-inventory-and-warehouse-management-parameters"></a>Настройка параметров по умолчанию в модуле "Управление запасами и складами"

Поскольку группы расчета необходимы для выполнения расчетов, необходимо настроить группу расчета по умолчанию в параметрах модуля "Управление запасами". Эта настройка позволяет компаниям иметь группу стандартных затрат и параметры прибыли для всех номенклатур. Затем, если определенная номенклатура имеет специальные требования к расчету, пользователь может назначить другую группу расчета этой номенклатуре. Как правило, группы расчета можно задать в номенклатурах компонентов спецификации вместо номенклатур спецификации. Однако, если отображаются предупреждающие сообщения, можно применить группы расчета. Группа расчета, назначенная номенклатурам, переопределяет значение по умолчанию, заданное в параметрах модуля "Управление запасами". 

Параметр по умолчанию можно настроить в разделе **Управление затратами** &gt; **Настройка учетных политик запасов** &gt; **Параметры** &gt; **Учет запасов** &gt; **Группа расчета**. Настроив конфигурационную группу по умолчанию, вы также можете настроить условия предупреждений, который получает пользователь в процессе расчета спецификации, если выбранные компоненты могут вызвать ошибки в расчетах.

### <a name="view-warning-messages-on-the-complete-page"></a>Просмотр предупреждающих сообщений на странице "Завершено"

Расчет спецификации создает предупреждающие сообщения. Можно просмотреть предупреждения о выбранной номенклатуре. Например, в модуле "Продажи и маркетинг" создайте новый заказ на продажу для номенклатуры D0001. Затем в строке заказа на продажу в меню **Обновить строку** щелкните **Рассчитать на основе спецификации/формулы** для просмотра сведений о расчете и предупреждений. Также можно просмотреть результаты расчета спецификации на странице **Завершено**. Что касается предупреждающих сообщений, существует только два условия включения предупреждения для произведенных номенклатур и четыре условия включения предупреждения для любой номенклатуры:
-   Выявление отсутствия активной спецификации у произведенной номенклатуры.
-   Выявление отсутствия активного маршрута у произведенной номенклатуры.
-   Выявление ситуации, когда номенклатура в строке спецификации имеет 0 (нулевое) количество.
-   Выявление ситуации, когда номенклатура в строке спецификации имеет 0 (нулевую) себестоимость или когда отсутствует запись по стоимости.
-   Выявление ситуации, когда у номенклатуры в строке спецификации устаревшая стоимость. Предупреждение отражает сравнение даты вычисления с указанными датами на максимальную давность затрат.
-   Выявление ситуации, когда номенклатура в строке спецификации имеет процент прибыли ниже желаемого.

Можно определить несколько групп расчета спецификаций в зависимости от требований к различным предупреждающим сообщениям. Например, может быть достаточно одной группы расчета спецификации с условиями предупреждения об активной спецификации, нулевом количестве компонента и нулевой себестоимости компонента. При запуске расчета спецификации можно переопределить условия предупреждения, связанные с группой расчета спецификации. Можно также добавить или удалить условия предупреждения. Например, если конкретная ситуация не затрагивает данных маршрутизации, можно удалить условие предупреждения об активном маршруте. **Примечание.** Модуль "Посещаемость и время присутствия" включает страницу **Группы расчета**, но эта страница не имеет отношения к группам расчета спецификации. В модуле "Посещаемость и время присутствия" работники могут назначаться группам расчета, которые отражают группировку работников, связанных с одним и тем же супервизором или менеджером. Расчет регистраций работников может быть сделан автоматически или вручную супервизором или менеджером.



