---
title: Сценарий статуса оборудования
description: В этой статье описывается сценарий статуса оборудования, который позволяет использовать данные датчика для отслеживания доступности аппаратуры.
author: johanhoffmann
ms.date: 09/02/2022
ms.topic: article
ms.search.form: IoTIntCoreScenarioManagement, IoTIntCoreNotification, IoTIntMfgResourceStatusConfiguration, IoTIntMfgResourceStatus
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2022-09-02
ms.dyn365.ops.version: 10.0.30
ms.openlocfilehash: 30fdfb898384aea4c1f8cb2f36f9e104cd316f90
ms.sourcegitcommit: 3e04f7e4bc0c29c936dc177d5fa11761a58e9a02
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2022
ms.locfileid: "9689648"
---
# <a name="the-machine-status-scenario"></a>Сценарий статуса оборудования

[!include [banner](../includes/banner.md)]
[!INCLUDE [preview-banner](../includes/preview-banner.md)]
<!-- KFM: Preview until further notice -->

Сценарий *статуса оборудования* позволяет использовать данные датчика для отслеживания доступности аппаратуры. Если вы настроили датчик, отправляющий сигнал, когда производственная задача на оборудовании создает выходные данные, но в течение указанного интервала сигнал датчика не поступает, на панели мониторинга администратора отображается уведомление.

## <a name="scenario-dependencies"></a>Зависимости сценария

Сценарий *статус оборудования* имеет следующие зависимости:

- Уведомление может быть запущено только в том случае, если производственное задание выполняется на сопоставленном оборудовании.
- Сигнал, представляющий сигнал *деталь выпущена*, должен быть отправлен в центр Интернета вещей.

## <a name="prepare-demo-data-for-the-machine-status-scenario"></a>Подготовка демонстрационных данных для сценария статуса оборудования

Если вы хотите использовать демонстрационную систему для проверки сценария *статуса оборудования*, используйте систему, на которой установлены [демонстрационные данные](../../fin-ops-core/fin-ops/get-started/demo-data.md), выберите *USMF* юридического лица (компании) и подготовьте дополнительные демонстрационные данные, как описано в этом разделе. Если вы используете собственные датчики и данные, вы можете пропустить этот раздел.

### <a name="set-up-a-sensor-simulator"></a>Настройка симулятора датчика

Если вы хотите попробовать этот сценарий без физического датчика, можно настроить симулятор для создания требуемых сигналов. Дополнительные сведения см. в разделе [Настройка симулятора датчика для тестирования](sdi-set-up-simulated-sensor.md).

### <a name="verify-that-resource-3118-is-used-for-product-p0111"></a>Убедитесь, что ресурс 3118 используется для продукта P0111

Производственный заказ будет запланирован и выпущен. Таким образом, производственное задание выпускается для ресурса *3118* (*Станок для резки пористого материала*). Выполните следующие действия, чтобы проверить, что в ваших демонстрационных данных для продукта *P0111* используется ресурс *3118*.

1. Выберите **Управление сведениями о продукте \> Продукты \> Выпущенные продукты**.
1. Найдите и выберите продукт, для которого в поле **Код номенклатуры** задано значение *P0111*.
1. В области действий на вкладке **Инженер** в группе **Вид** выберите **Маршрут**.
1. На странице **Маршрут** на вкладке **Обзор** в нижней части страницы выберите строку, где в поле **Номер операции** установлено значение *30*.
1. На вкладке **Потребности в ресурсах** в нижней части страницы убедитесь, что ресурс *3118* (*Станок для резки пористого материала*) связан с операцией.

### <a name="create-and-release-a-production-order-for-product-p0111"></a>Создание и выпуск производственного заказа на продукт P0111

Выполните следующие действия, чтобы создать и выпустить производственный заказ на продукт *P0111*.

1. Перейдите в раздел **Управление производством \> Производственные заказы \> Все производственные заказы**.
1. На странице **Все производственные заказы** в области действий выберите **Новый заказ партии**.
1. В диалоговом окне **Создать партию** задайте следующие значения:

    - **Код номенклатуры:** *P0111*
    - **Количество:** *10*

1. Выберите **Создать**,чтобы создать заказ, и вернитесь на страницу **Все производственные заказы**.
1. Используйте поле **Фильтр** для поиска производственных заказов, для которых в поле **Код номенклатуры** задано значение *P0111*. Затем найдите и выберите производственный заказ, который вы только что создали.
1. В области действий на вкладке **Производственный заказ** в группе **Процесс** выберите **Оценка**.
1. В диалоговом окне **Оценка** выберите **ОК**, чтобы выполнить оценку.
1. В области действий на вкладке **Производственный заказ** в группе **Процесс** выберите **Выпуск**.
1. В диалоговом окне **Выпуск** запомните номер только что созданного заказа партии.
1. Выберите **ОК**, чтобы выпустить заказ.

### <a name="configure-the-production-floor-execution-interface"></a><a name="config-pfe"></a>Настройка интерфейса выполнения производственного цеха

Для запуска задания, которое было запланировано и запущено для кода номенклатуры *P0111* в предыдущем разделе, используется интерфейс выполнения производственного цеха. Выполните следующие действия для настройки интерфейса выполнения производственного цеха.

1. Перейдите в раздел **Управление производством \> Выполнение производства \> Выполнение производственного цеха**.
1. Если интерфейс не был настроен ранее, отображается страница регистрация. Введите свои учетные данные.
1. На начальной странице выберите **Настроить**, чтобы открыть мастер **Настройка устройства**.
1. На странице **Настройка устройства — Шаг 1 — Выбор конфигурации** выберите конфигурацию *По умолчанию*.
1. Выберите **Далее**.
1. На странице **Настройка устройства — Шаг 2 — Определение площади производственного цеха** установите в поле **Ресурс** значение *3118*.
1. Нажмите **ОК**.

### <a name="enable-the-search-option-in-the-production-floor-execution-interface"></a><a name="enable-pfe-search"></a>Включение функции поиска в интерфейсе выполнения производственного цеха

Чтобы упростить поиск производственного задания для производственного заказа, который был выпущен ранее, выполните следующие действия, чтобы включить функцию поиска в интерфейсе выполнения производственного цеха.

1. Перейдите в раздел **Управление производством \> Настройка \> Выполнение производства \> Настройка выполнения производственного цеха**.
1. Выберите конфигурацию *По умолчанию*.
1. На панели операций выберите **Правка**.
1. На экспресс-вкладке **Общее** задайте для параметра **Включить поиск** значение *Да*.
1. Закройте страницу.

### <a name="start-the-first-job-in-the-batch-order"></a>Запустите первое задание в заказе партии

Выполните следующие действия, чтобы запустить задание, запланированное на ресурсе *3118*.

1. Перейдите в раздел **Управление производством \> Выполнение производства \> Выполнение производственного цеха**.
1. В поле **Код пропуска** введите *123*. Затем выберите **Войти**.
1. Если будет предложено указать причину отсутствия, выберите одну из карточек для отсутствия, а затем нажмите **ОК**.
1. В поле **Поиск** введите номер заказа партии, который вы ранее запомнили. Затем нажмите клавишу **Возврат**.
1. Выберите заказ, затем выберите **Запуск задания**.
1. В диалоговом окне **Запуск задания** нажмите кнопку **Запуск**.

## <a name="set-up-the-machine-status-scenario"></a>Настройка сценария статуса оборудования

Чтобы настроить сценарий *статуса оборудования* в Supply Chain Management, выполните следующие действия.

1. Выберите **Управление производством \> Настройка \> Аналитика данных датчиков \> Сценарии**.
1. В поле сценария **Состояние оборудования** выберите **Настройка**, чтобы открыть мастер настройки для этого сценария.
1. На странице **Датчики** на панели операций выберите **Создать**, чтобы добавить датчик в сетку. Затем задайте следующие поля для него:

    - **ИД датчика** — введите идентификатор используемого датчика. (Если используется интерактивный модулятор Raspberry PI Интернета вещей Azure, настроенный согласно описанию в разделе [Настройка симулятора датчика для тестирования](sdi-set-up-simulated-sensor.md) введите *MachineStatus*.)
    - **Описание датчика** — введите описание датчика.

1. Повторите предыдущий шаг для каждого дополнительного датчика, который необходимо добавить сейчас. В любое время можно вернуться и добавить дополнительные датчики.
1. Выберите **Далее**.
1. На странице **Сопоставление бизнес-записей** в разделе **Датчики** выберите запись для одного из только что добавленных датчиков.
1. В разделе **Сопоставление бизнес-записей** выберите **Создать**, чтобы добавить строку в сетку.
1. В новой строке задайте в поле **Бизнес-запись** ресурс, используемый для контроля выбранным датчиком. (При использовании демонстрационных данных, созданных ранее в этой статье, установите в этом поле значение *3118, Станок для резки пористого материала*).
1. Выберите **Далее**.
1. На странице **Порог статуса оборудования** определите, сколько времени после последнего сигнала *деталь выпущена* система должна отправлять уведомление о статусе оборудования. Существует два способа задать пороговое значение:

    - **Порог по умолчанию (минуты)** — задайте значение в этом поле, чтобы определить пороговое значение по умолчанию. Затем это значение применяется ко всем ресурсам, для которых в поле **Пороговое значение, определяющее отсутствие ответа оборудования (в минутах)** установлено значение в две минуты или меньше. Минимальное значение составляет *2* (минуты).
    - **Пороговое значение, определяющее отсутствие ответа оборудования (в минутах)** — для каждого ресурса в сети, для которого не требуется использовать порог по умолчанию, введите переопределяющее значение в этом поле. Для ресурсов, которые настроены на использование порогового значения, равного двум минутам или менее, вместо этого используется настройка **Порог по умолчанию (минуты)**.

    > [!NOTE]
    > Обычно для отслеживания статуса оборудования используется сигнал *деталь выпущена*. Таким образом, следует убедиться в том, что пороговое значение для каждого из ресурсов оборудования превышает время, требуемое для создания каждой детали.

1. Выберите **Далее**.
1. На странице **Активировать датчики** в сетке выберите добавленный датчик и нажмите кнопку **Активировать**. Для каждого активированного датчика в сетке в столбце **Активен** появляется галочка.
1. Выберите **Готово**.

## <a name="work-with-the-machine-status-scenario"></a>Работа со сценарием статуса оборудования

После установки датчиков и настройки сценария можно просматривать события статуса оборудования в Supply Chain Management. В этом разделе описывается, где и как просматривать эту информацию.

### <a name="view-machine-status-data-on-the-resource-status-page"></a>Просмотр данных о статусе оборудования на странице Статус ресурса

На странице **Статус ресурса** руководители могут видеть временные показатели сигнала *деталь выпущена*, получаемого от датчиков, которые сопоставлены с каждым из ресурсов оборудования. Выполните следующие действия, чтобы настроить временную шкалу.

1. Перейдите в раздел **Управление производством \> Выполнение производственного процесса \> Статус ресурса**.
1. В диалоговом окне **Настройка** задайте следующие поля:

    - **Ресурс** — выберите ресурс, за которым необходимо наблюдать. (При работе с демонстрационными данными выберите *3118*.)
    - **Временной ряд 1** — выберите запись (ключ метрики), имеющую следующий формат имени: *MachineReportingStatus:&lt;датчик&gt;*
    - **Отображаемое имя** — введите *сигнал деталь выпущена*.

На следующем рисунке показан пример данных о статусе оборудования на странице **Статус ресурса** в ходе нормальной работы.

![Данные о статусе оборудования на странице Статус ресурса во время нормальной работы.](media/sdi-resource-status-downtime-up.png "Данные о статусе оборудования на странице Статус ресурса во время нормальной работы")

На следующем рисунке показан пример данных о статусе оборудования при обнаружении простоев.

![Данные о статусе оборудования на странице Статус ресурса при обнаружении простоев.](media/sdi-resource-status-downtime-down.png "Данные о статусе оборудования на странице Статус ресурса при обнаружении простоев")

### <a name="view-machine-status-on-the-notifications-page"></a>Просмотр статуса оборудования на странице Уведомления

На странице **Уведомления** руководители могут просматривать уведомления, которые создаются при превышении значения времени, прошедшего с момента последнего сигнала *деталь выпущена*. Каждое уведомление предоставляет обзор производственного задания, на которое влияет простой, и дает возможность переназначить это задание другому ресурсу.

Чтобы открыть страницу **Уведомление**, перейдите в раздел **Управление производством \> Запросы и отчеты \> Аналитика данных датчиков \> Уведомления**.

На следующей иллюстрации показан пример уведомления о статусе оборудования.

![Пример уведомлений о статусе оборудования.](media/sdi-resource-status-downtime-notification.png "Пример уведомлений о статусе оборудования")
