---
title: Сценарий задержек производства
description: В этой статье рассматривается сценарий задержки производства, который создает уведомление, если выработка производства падает ниже заданного порогового значения.
author: johanhoffmann
ms.date: 09/02/2022
ms.topic: article
ms.search.form: IoTIntCoreScenarioManagement, IoTIntCoreScenarioConfigurationWizardV2, IoTIntMfgResourceStatusConfiguration, IoTIntMfgResourceStatus
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2022-09-02
ms.dyn365.ops.version: 10.0.30
ms.openlocfilehash: 25ccbda1628544f14dc32d9bea3f2162ad47d79e
ms.sourcegitcommit: 3e04f7e4bc0c29c936dc177d5fa11761a58e9a02
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2022
ms.locfileid: "9690030"
---
# <a name="the-production-delays-scenario"></a>Сценарий задержек производства

[!include [banner](../includes/banner.md)]
[!INCLUDE [preview-banner](../includes/preview-banner.md)]
<!-- KFM: Preview until further notice -->

Сценарий *задержки производства* создает уведомление, если пропускная способность производства падает ниже заданного порогового значения. В этом сценарии сигнал *деталь выпущена* для каждой произведенной единицы номенклатуры направляется в Центр Интернета вещей Microsoft Azure. В Dynamics 365 Supply Chain Management задержка заказа рассчитывается на основе количества времени, в течение которого запланировано выполнение производственного заказа, количество номенклатур, которые должны быть произведены, количество времени, в течение которого было запущено задание, а также количества полученных сигналов *деталь выпущена*. Уведомление о задержке создается, если число сигналов *деталь выпущена* для задания оказывается ниже порогового значения.

## <a name="scenario-dependencies"></a>Зависимости сценария

В сценарии *задержки производства* имеются следующие зависимости:

- Оповещение может быть запущено только в том случае, если производственный заказ запущен на сопоставленном оборудовании.
- Сигнал, представляющий сигнал *деталь выпущена* сопоставленного оборудования, должен быть отправлен в Центр Интернета вещей, и уникальное имя свойства должно быть включено.
- Свойство UNIX timestamp, значение которого выражается в миллисекундах (мс), должно присутствовать в сообщении Центра Интернета вещей Azure.

## <a name="prepare-demo-data-for-the-product-delays-scenario"></a>Подготовка демонстрационных данных для сценария задержки производства

Если вы хотите использовать демонстрационную систему для проверки сценария *задержки производства*, используйте систему, на которой установлены [демонстрационные данные](../../fin-ops-core/fin-ops/get-started/demo-data.md), выберите *USMF* юридического лица (компании) и подготовьте дополнительные демонстрационные данные, как описано в этом разделе. Если вы используете собственные датчики и данные, вы можете пропустить этот раздел.

### <a name="set-up-sensor-simulator"></a>Настройка симулятора датчика

Если вы хотите попробовать этот сценарий без физического датчика, можно настроить симулятор для создания требуемых сигналов. Дополнительные сведения см. в разделе [Настройка симулятора датчика для тестирования](sdi-set-up-simulated-sensor.md).

### <a name="verify-that-resource-3118-is-used-for-product-p0111"></a>Убедитесь, что ресурс 3118 используется для продукта P0111

Производственный заказ будет запланирован и выпущен. Таким образом, производственное задание выпускается для ресурса *3118* (*Станок для резки пористого материала*). Выполните следующие действия, чтобы проверить, что в ваших демонстрационных данных для продукта *P0111* используется ресурс *3118*.

1. Выберите **Управление сведениями о продукте \> Продукты \> Выпущенные продукты**.
1. Найдите и выберите продукт, для которого в поле **Код номенклатуры** задано значение *P0111*.
1. В области действий на вкладке **Инженер** в группе **Вид** выберите **Маршрут**.
1. На странице **Маршрут** на вкладке **Обзор** в нижней части страницы выберите строку, где в поле **Номер операции** установлено значение *30*.
1. На вкладке **Потребности в ресурсах** в нижней части страницы убедитесь, что ресурс *3118* (*Станок для резки пористого материала*) связан с операцией.

### <a name="create-and-release-a-production-order-for-product-p0111"></a>Создание и выпуск производственного заказа на продукт P0111

Выполните следующие действия, чтобы создать и выпустить производственный заказ на продукт *P0111*.

1. Перейдите в раздел **Управление производством \> Производственные заказы \> Все производственные заказы**.
1. На странице **Все производственные заказы** в области действий выберите **Новый заказ партии**.
1. В диалоговом окне **Создать партию** задайте следующие значения:

    - **Код номенклатуры:** *P0111*
    - **Количество:** *10*

1. Выберите **Создать**,чтобы создать заказ, и вернитесь на страницу **Все производственные заказы**.
1. Используйте поле **Фильтр** для поиска производственных заказов, для которых в поле **Код номенклатуры** задано значение *P0111*. Затем найдите и выберите производственный заказ, который вы только что создали.
1. В области действий на вкладке **Производственный заказ** в группе **Процесс** выберите **Оценка**.
1. В диалоговом окне **Оценка** выберите **ОК**, чтобы выполнить оценку.
1. В области действий на вкладке **Производственный заказ** в группе **Процесс** выберите **Выпуск**.
1. В диалоговом окне **Выпуск** запомните номер только что созданного заказа партии.
1. Выберите **ОК**, чтобы выпустить заказ.

### <a name="configure-the-production-floor-execution-interface"></a>Настройка интерфейса выполнения производственного цеха

Если это еще не сделано, настройте интерфейс выполнения производственного цеха для отображения заданий, назначенных ресурсу *3118* (*Станок для резки пористого материала*). Инструкции см. в следующих разделах:

- [Настройка интерфейса выполнения производственного цеха](sdi-scenario-equipment-downtime.md#config-pfe)
- [Включение функции поиска в интерфейсе выполнения производственного цеха](sdi-scenario-equipment-downtime.md#enable-pfe-search)

### <a name="start-the-first-job-in-the-batch-order"></a>Запустите первое задание в заказе партии

Выполните следующие действия, чтобы запустить первое задание в заказе партии.

1. Перейдите в раздел **Управление производством \> Выполнение производства \> Выполнение производственного цеха**.
1. В поле **Код пропуска** введите *123*. Затем выберите **Войти**.
1. Если будет предложено указать причину отсутствия, выберите одну из карточек для отсутствия, а затем нажмите **ОК**.
1. В поле **Поиск** введите номер заказа партии, который вы ранее запомнили. Затем нажмите клавишу **Возврат**.
1. Выберите заказ, затем выберите **Запуск задания**.
1. В диалоговом окне **Запуск задания** нажмите кнопку **Запуск**.

## <a name="set-up-the-production-delays-scenario"></a>Настройка сценария задержек производства

Чтобы настроить сценарий *задержек производства* в Supply Chain Management, выполните следующие действия.

1. Выберите **Управление производством \> Настройка \> Аналитика данных датчиков \> Сценарии**.
1. В поле сценария **Задержки производства** выберите **Настройка**, чтобы открыть мастер настройки для этого сценария.
1. На странице **Датчики** на панели операций выберите **Создать**, чтобы добавить датчик в сетку. Затем задайте следующие поля для него:

    - **ИД датчика** — введите идентификатор используемого датчика. (Если используется интерактивный модулятор Raspberry PI Интернета вещей Azure, настроенный согласно описанию в разделе [Настройка симулятора датчика для тестирования](sdi-set-up-simulated-sensor.md) введите *ProductionDelay*.)
    - **Описание датчика** — введите описание датчика.

1. Повторите предыдущий шаг для каждого дополнительного датчика, который необходимо добавить сейчас. В любое время можно вернуться и добавить дополнительные датчики.
1. Выберите **Далее**.
1. На странице **Сопоставление бизнес-записей** в разделе **Датчики** выберите запись для одного из только что добавленных датчиков.
1. В разделе **Сопоставление бизнес-записей** выберите **Создать**, чтобы добавить строку в сетку.
1. В новой строке задайте в поле **Бизнес-запись** ресурс, используемый для контроля выбранным датчиком. (При использовании демонстрационных данных, созданных ранее в этой статье, установите здесь значение *3118, Станок для резки пористого материала*).
1. Выберите **Далее**.
1. На странице **Порог отклонения для задержки производства**, если используются демонстрационные данные, созданные ранее в этой статье, выполните следующие действия:

    1. Выберите заголовок столбца **Связь номенклатуры**, чтобы открыть раскрывающееся диалоговое окно, включающее фильтры поиска для столбца. В поле поиска введите *P0111*, а затем выберите **Применить**.
    2. Выберите строку, в которой в поле **Работа** указано значение *Обрезка/резка*. Задайте в поле **Порог уведомления для задержки (%)** пороговое значение (в процентах), при превышении которого должно отправляться уведомление.

1. Выберите **Далее**.
1. На странице **Активировать датчики** в сетке выберите добавленный датчик и нажмите кнопку **Активировать**. Для каждого активированного датчика в сетке в столбце **Активен** появляется галочка.
1. Выберите **Готово**.

## <a name="work-with-the-production-delays-scenario"></a>Работа со сценарием задержек производства

### <a name="view-production-delay-data-on-the-resource-status-page"></a>Просмотр данных о задержке производства на странице Статус ресурса

На странице **Статус ресурса** руководители могут видеть временные показатели сигналов, получаемых от датчиков, которые сопоставлены с каждым из ресурсов оборудования. Выполните следующие действия, чтобы настроить временную шкалу.

1. Перейдите в раздел **Управление производством \> Выполнение производственного процесса \> Статус ресурса**.
1. В диалоговом окне **Настройка** задайте следующие поля:

    - **Ресурс** — выберите ресурс, за которым необходимо наблюдать. (При работе с демонстрационными данными выберите *3118*.)
    - **Временной ряд 1** — выберите запись (ключ метрики), имеющую следующий формат имени: *ProductionJobDelayed:ActualQuantity:&lt;JobId&gt;*
    - **Отображаемое имя** — введите *сигнал деталь выпущена*.
