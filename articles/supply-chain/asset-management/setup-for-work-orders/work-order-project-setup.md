---
title: Настройка заказа на работу по проекту
description: В этом разделе описываются настройка проекта заказа на работу в управлении активами.
author: josaw1
manager: tfehr
ms.date: 08/13/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: EntAssetWorkOrderProjectSetup
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: mkirknel
ms.search.validFrom: 2019-08-30
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: a51837275203dc2d4f31dc4dec9bf970a7ebeba7
ms.sourcegitcommit: c986d5234b81d31cc6d054298be6f6ec92c1754c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/25/2020
ms.locfileid: "3889322"
---
# <a name="work-order-project-setup"></a><span data-ttu-id="74af1-103">Настройка заказа на работу по проекту</span><span class="sxs-lookup"><span data-stu-id="74af1-103">Work order project setup</span></span>

[!include [banner](../../includes/banner.md)]

 

<span data-ttu-id="74af1-104">В модуле **Управление активами** связь проекта необходима для каждого задания заказа на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-104">In the **Asset management** module, a project relation is required for every work order job.</span></span> <span data-ttu-id="74af1-105">Проект, связанный с заданием заказа на выполнение, позволяет отслеживать затраты по различным проектам, связанным с управлением активами, таким как проекты внутреннего обслуживания, проекты сервисного обслуживания и инвестиционные проекты.</span><span class="sxs-lookup"><span data-stu-id="74af1-105">The project that is associated with a work order job lets you track costs on various projects that are related to Asset Management, such as internal maintenance projects, service management projects, and investment projects.</span></span> 

## <a name="project-setup-for-a-work-order-job"></a><span data-ttu-id="74af1-106">Настройка проекта для задания заказа на работу</span><span class="sxs-lookup"><span data-stu-id="74af1-106">Project setup for a work order job</span></span>

<span data-ttu-id="74af1-107">Когда создается задание заказа на работу в заказе на работу, настройка проекта в модуле **Управление и учет по проектам** и настройка проекта заказ на работу в модуле **Управление активами** определяют, как проекты могут использоваться для управления затратами по активу, выбранному в задании заказа на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-107">When you create a work order job on a work order, the project setup in the **Project management and accounting** module and the work order project setup in the **Asset management** module determine how projects can be used for cost control on the asset that is selected on that work order job.</span></span> <span data-ttu-id="74af1-108">В этом разделе описываются следующие части настройки проекта, которые используются для заказа на работу: родительский проект (код проекта), тип проекта, проектные мероприятия и финансовые аналитики:</span><span class="sxs-lookup"><span data-stu-id="74af1-108">This section describes the following parts of the project setup that is used for a work order: the parent project (project ID), project type, project activities, and financial dimensions:</span></span>

- <span data-ttu-id="74af1-109">При создании задания заказа на работу в заказе на работу для него автоматически создаются уникальный код проекта и соответствующее мероприятие по проекту.</span><span class="sxs-lookup"><span data-stu-id="74af1-109">When you create a work order job on a work order, a unique project ID and a related project activity are automatically created for it.</span></span> <span data-ttu-id="74af1-110">Однако если несколько заданий заказа на работу в заказе на работу включают один и тот же актив, для них используется один и тот же код проекта.</span><span class="sxs-lookup"><span data-stu-id="74af1-110">However, if several work order jobs on a work order include the same asset, the same project ID is used for them.</span></span> <span data-ttu-id="74af1-111">Другими словами, один код проекта создается для каждого актива в заказе на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-111">In other words, one project ID is created for every asset on a work order.</span></span>

    - <span data-ttu-id="74af1-112">Родительский проект (код проекта) для задания заказа на работу находится в настройке родительского проекта.</span><span class="sxs-lookup"><span data-stu-id="74af1-112">The parent project (project ID) for a work order job is found in the parent project setup.</span></span> <span data-ttu-id="74af1-113">(Дополнительные сведения о настройке родительского проекта см. в следующем разделе.) Например, если связать клиента или функциональное местоположение с отдельным родительским проектом, родительский проект будет использоваться каждый раз при создании заказов на работу для данного клиента или для данного функционального местоположения.</span><span class="sxs-lookup"><span data-stu-id="74af1-113">(For more information about the parent project setup, see the next section.) For example, if you associate a customer or a functional location with a specific parent project, the parent project is used every time that you create work orders for that customer or that functional location.</span></span> <span data-ttu-id="74af1-114">Если не связать конкретный код проекта с, например, функциональным местоположением, используется следующий соответствующий родительский проект в настройке проекта заказа на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-114">If you don't relate a specific project ID to, for example, a functional location, the next relevant parent project in the work order project setup is used.</span></span>
    - <span data-ttu-id="74af1-115">Тип проекта обязателен для каждого кода проекта.</span><span class="sxs-lookup"><span data-stu-id="74af1-115">A project type is required for every project ID.</span></span> <span data-ttu-id="74af1-116">Тип проекта находится в настройке настройки группы проектов.</span><span class="sxs-lookup"><span data-stu-id="74af1-116">The project type is found in the setup of the project group setup.</span></span> <span data-ttu-id="74af1-117">(Дополнительные сведения о настройке группы проектов см. в следующем разделе.) Если в настройке группы проектов не найдено соответствие, используется настройка группы проектов в родительском проекте.</span><span class="sxs-lookup"><span data-stu-id="74af1-117">(For more information about the project group setup, see the next section.) If no match is found in the project group setup, the project group setup on the parent project is used.</span></span>
    - <span data-ttu-id="74af1-118">Настройка для требующихся мероприятий по проекту по прогнозам и журналам копируется из родительского проекта в проект заказа на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-118">The setup for requiring project activities on forecasts and journals is copied from the parent project to the work order project.</span></span> <span data-ttu-id="74af1-119">Если параметры **Час**, **Расход** и **Номенклатура** имеют значение **Да** для проекта, который используется как родительский проект, мероприятие проекта является обязательным для прогнозов и журналов.</span><span class="sxs-lookup"><span data-stu-id="74af1-119">If the **Hour**, **Expense**, and **Item** options are set to **Yes** for the project that is used as a parent project, a project activity is mandatory on forecasts and journals.</span></span> <span data-ttu-id="74af1-120">(Для доступа к этим параметрам выберите проекты **Управление и учет по проектам** \> **Проекты** \> **Все проекты**, затем выберите проект, который используется как родительский проект.</span><span class="sxs-lookup"><span data-stu-id="74af1-120">(To access these options, select **Project management and accounting** \> **Projects** \> **All Projects**, and then select the project that is used as a parent project.</span></span> <span data-ttu-id="74af1-121">Эти параметры находятся в разделе **Затребовать мероприятие по журналам** на экспресс-вкладке **Настройка**.)</span><span class="sxs-lookup"><span data-stu-id="74af1-121">The options are in the **Require activity on journals** section on the **Setup** FastTab.)</span></span>

- <span data-ttu-id="74af1-122">Финансовые аналитики копируются из актива и объединяются с родительским проектом.</span><span class="sxs-lookup"><span data-stu-id="74af1-122">Financial dimensions are copied from the asset and merged with the parent project.</span></span>

<span data-ttu-id="74af1-123">В следующем разделе объясняется, как настроить родительские проекты и группы проектов.</span><span class="sxs-lookup"><span data-stu-id="74af1-123">The next section explains how to set up parent projects and project groups.</span></span> <span data-ttu-id="74af1-124">Родительский проект и родительские группы используются для управления заказами на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-124">Parent project and parent groups are used to control work orders.</span></span> <span data-ttu-id="74af1-125">Они также используются для отчетности о заказах на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-125">They are also used for reporting about work orders.</span></span>

## <a name="set-up-work-order-projects"></a><span data-ttu-id="74af1-126">Настройка проектов заказа на работу</span><span class="sxs-lookup"><span data-stu-id="74af1-126">Set up work order projects</span></span>

<span data-ttu-id="74af1-127">Перед началом создания заказов на работу необходимо настроить проекты заказов на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-127">Before you start to create work orders, you must set up work order projects.</span></span> <span data-ttu-id="74af1-128">Страница **Настройка заказа на работу по проекту** (**Управление активами** \> **Настройка** \> **Заказы на работу** \> **Настройка проектов**) содержит две вкладки: **Родительский проект** и **Группа проектов**.</span><span class="sxs-lookup"><span data-stu-id="74af1-128">The **Work order project setup** page (**Asset management** \> **Setup** \> **Work orders** \> **Project setup**) contains two tabs: **Parent project** and **Project group**.</span></span>

<span data-ttu-id="74af1-129">На вкладке **Родительский проект** можно настроить связи проектов, которые могут использоваться, если для актива, выбранного в задании заказа на работу, не настроен никакой проект.</span><span class="sxs-lookup"><span data-stu-id="74af1-129">On the **Parent project** tab, you can set up project relations that can be used if no project is set up on the asset that is selected on the work order job.</span></span> <span data-ttu-id="74af1-130">Настройка родительского проекта не является обязательной, если ваша компания использует проекты активов.</span><span class="sxs-lookup"><span data-stu-id="74af1-130">A parent project setup isn't required if your company uses asset projects.</span></span> <span data-ttu-id="74af1-131">Это уместно, только если требуется использовать проекты заказов на работу вместо проектов активов.</span><span class="sxs-lookup"><span data-stu-id="74af1-131">It's relevant only if you want to use work order projects instead of asset projects.</span></span> <span data-ttu-id="74af1-132">В этом случае необходимо настроить по крайней мере один родительский проект.</span><span class="sxs-lookup"><span data-stu-id="74af1-132">In that case, you must set up at least one parent project.</span></span>

<span data-ttu-id="74af1-133">На вкладке **Группа проектов** можно настроить группы проектов, которые могут быть связаны с типами заказов на работу, типами активов и активами.</span><span class="sxs-lookup"><span data-stu-id="74af1-133">On the **Project group** tab, you can set up project groups that can be associated with work order types, asset types, and assets.</span></span>

<span data-ttu-id="74af1-134">Группы проектов могут использоваться для создания определенных категорий (групп), используемых для управления затратами.</span><span class="sxs-lookup"><span data-stu-id="74af1-134">Project groups can be used to create specific categories (groups) that are used for cost control.</span></span> <span data-ttu-id="74af1-135">Например, создавая группы проектов для определённых типов активов или типов заказов на работу, можно подробно отслеживать расходы на обслуживание по типам.</span><span class="sxs-lookup"><span data-stu-id="74af1-135">For example, by creating project groups for specific asset types or work order types, you can do detailed tracking of maintenance costs by type.</span></span>

<span data-ttu-id="74af1-136">Группы проектов не являются обязательными.</span><span class="sxs-lookup"><span data-stu-id="74af1-136">Project groups aren't mandatory.</span></span> <span data-ttu-id="74af1-137">Если вы не настраиваете группы проектов, родительский проект используется для определения группы проектов, а дочерний проект создается из группы проектов родительского проекта.</span><span class="sxs-lookup"><span data-stu-id="74af1-137">If you don't set up project groups, the parent project is used to determine the project group, and a child project is created from the parent project's project group.</span></span>

<span data-ttu-id="74af1-138">Настройка обеспечивает полную интеграцию с модулем **Управление и учет по проектам**.</span><span class="sxs-lookup"><span data-stu-id="74af1-138">The setup allows for complete integration with the **Project management and accounting** module.</span></span> <span data-ttu-id="74af1-139">Таким образом, можно отслеживать затраты, которые относятся к заказам на работу в соответствующих проектах.</span><span class="sxs-lookup"><span data-stu-id="74af1-139">Therefore, you can track the costs that are related to work orders in the related projects.</span></span> <span data-ttu-id="74af1-140">Следующая процедура описывает настройку для проектов заказов на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-140">The following procedure describes the setup for work order projects.</span></span>

1. <span data-ttu-id="74af1-141">Выберите **Управление активами** \> **Настройка** \> **Заказы на работу** \> **Настройки проектов**.</span><span class="sxs-lookup"><span data-stu-id="74af1-141">Select **Asset management** \> **Setup** \> **Work orders** \> **Project setup**.</span></span>
2. <span data-ttu-id="74af1-142">На вкладке **Родительский проект** выберите **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="74af1-142">On the **Parent project** tab, select **Add**.</span></span>
3. <span data-ttu-id="74af1-143">В полях **Тип заказа на работу**, **Функциональное местоположение**, **Тип актива** и **Актив** выберите нужные значения.</span><span class="sxs-lookup"><span data-stu-id="74af1-143">In the **Work order type**, **Functional location**, **Asset type**, and **Asset** fields, select values as you require.</span></span> <span data-ttu-id="74af1-144">Для каждой добавляемой строки можно задать только одно поле или несколько полей.</span><span class="sxs-lookup"><span data-stu-id="74af1-144">For each line that you add, you can set just one field or multiple fields.</span></span> <span data-ttu-id="74af1-145">Количество заданных полей определяет комбинацию, которая используется, когда код проекта выбран в управлении активами.</span><span class="sxs-lookup"><span data-stu-id="74af1-145">The number of fields that you set determines the combination that is used when a project ID is selected in Asset Management.</span></span> 

    <span data-ttu-id="74af1-146">Если выбрано функциональное местоположение, связанные дочерние местоположения включаются автоматически.</span><span class="sxs-lookup"><span data-stu-id="74af1-146">If you select a functional location, the related child locations are automatically included.</span></span> <span data-ttu-id="74af1-147">Если выбран актив, можно создать дополнительные строки настройки проекта заказа на работу для того же актива, но можно выбрать разные проекты для этого актива.</span><span class="sxs-lookup"><span data-stu-id="74af1-147">If you select an asset, you can create more work order project setup lines for the same asset, but you can select different projects for that asset.</span></span>

4. <span data-ttu-id="74af1-148">В поле **Код проекта** выберите проект, который должен быть связан с настройкой, созданной на шаге 3.</span><span class="sxs-lookup"><span data-stu-id="74af1-148">In the **Project ID** field, select the project that should be related to the setup that you created in step 3.</span></span>
5. <span data-ttu-id="74af1-149">Если настройка проекта должна быть действительна только в течение ограничения периода времени, выберите конечную дату в поле **Дата окончания**.</span><span class="sxs-lookup"><span data-stu-id="74af1-149">If the project setup should be valid for only a limited period, select an end date in the **End date** field.</span></span> <span data-ttu-id="74af1-150">В противном случае выберите **Нет**.</span><span class="sxs-lookup"><span data-stu-id="74af1-150">Otherwise, select **None**.</span></span>

    <span data-ttu-id="74af1-151">По умолчанию датой начала является дата добавления проекта заказа на работу на страницу.</span><span class="sxs-lookup"><span data-stu-id="74af1-151">By default, the start date is the date when you add the work order project to the page.</span></span> <span data-ttu-id="74af1-152">Она управляется значением поля **Действительно с**, которое по умолчанию является скрытым.</span><span class="sxs-lookup"><span data-stu-id="74af1-152">It's controlled by the **Valid from** field, which is hidden by default.</span></span> <span data-ttu-id="74af1-153">Для отображения поля **Действительно с** выберите **Просмотреть** \> **Все**.</span><span class="sxs-lookup"><span data-stu-id="74af1-153">To show the **Valid from** field, select **View** \> **All**.</span></span> <span data-ttu-id="74af1-154">Затем можно использовать поле **Действительно с** вместе с полем **Дата окончания** для настройки ограничения срока действия для проекта заказа на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-154">You can then use the **Valid from** field together with the **End date** field to set up a limited period of validity for the work order project.</span></span>

    ![Страница настройки заказов на работу по проекту](media/17-setup-for-work-orders.png)

6. <span data-ttu-id="74af1-156">На вкладке **Группа проектов** выберите **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="74af1-156">On the **Project group** tab, select **Add**.</span></span>
7. <span data-ttu-id="74af1-157">В поле **Тип заказа на выполнение работ** выберите тип заказа на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-157">In the **Work order type** field, select a work order type.</span></span>
8. <span data-ttu-id="74af1-158">Если нужно, чтобы связь группы проектов была более специфической, выберите тип актива в поле **Тип актива** или актив в поле **Актив**.</span><span class="sxs-lookup"><span data-stu-id="74af1-158">If you want the project group association to be more specific, select an asset type in the **Asset type** field or an asset in the **Asset** field.</span></span>
9. <span data-ttu-id="74af1-159">В поле **Группа проектов** выберите группу проектов, которая должна быть связана с типом заказа на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-159">In the **Project group** field, select the project group that should be related to the work order type.</span></span> <span data-ttu-id="74af1-160">Например, тип заказа на работу с именем **Профилактическое обслуживание** может быть связан с группой проектов с названием **Профилактическое обслуживание** или **Внутренняя**.</span><span class="sxs-lookup"><span data-stu-id="74af1-160">For example, a work order type that is named **Preventive maintenance** might be associated with a project group that is named **Prev Maint** or **Internal**.</span></span> <span data-ttu-id="74af1-161">В качестве альтернативы тип заказа на работу **Инвестиция**, который используется для заказов на работу, относящемуся к инвестициям и основным средствам, может быть связан с группой проектов, имеющей имя **Инвестиция** или **Инвестирование**.</span><span class="sxs-lookup"><span data-stu-id="74af1-161">Alternatively, an **Investment** work order type that is used for work orders that are related to investments and fixed assets might be associated with a project group that is named **Invest** or **Investment**.</span></span>
10. <span data-ttu-id="74af1-162">Нажмите **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="74af1-162">Select **Save**.</span></span>

![Страница настройки проекта "заказы на работу", добавление заказа на работу](media/18-setup-for-work-orders.png)

> [!NOTE]
> <span data-ttu-id="74af1-164">Каждый раз, когда создается строка заказа на работу, управление активами выполняет поиск группы проектов, которая должна быть связана с проектом задания заказа на работу.</span><span class="sxs-lookup"><span data-stu-id="74af1-164">Every time that a work order line is created, Asset Management searches for a project group that should be related to the work order job project.</span></span> <span data-ttu-id="74af1-165">Поиск осуществляется на основе настройки, описанной в данном разделе.</span><span class="sxs-lookup"><span data-stu-id="74af1-165">The search is based on the setup that is described in this topic.</span></span> <span data-ttu-id="74af1-166">Каждая группа проектов имеет связанный тип проекта.</span><span class="sxs-lookup"><span data-stu-id="74af1-166">Every project group has a related project type.</span></span> <span data-ttu-id="74af1-167">Группы проектов, имеющие тип проекта **Время и расходы** или **Фиксированная цена**, действуют только для активов, которые связаны со счетом клиента.</span><span class="sxs-lookup"><span data-stu-id="74af1-167">Project groups that have the **Time and material** or **Fixed-price** project type are valid only for assets that are related to a customer account.</span></span>
>
> <span data-ttu-id="74af1-168">Для родительских проектов и групп проектов при выборе системой доступного проекта или группы проектов заказов на работу выбор осуществляется на основе записей, созданных с помощью предыдущей процедуры.</span><span class="sxs-lookup"><span data-stu-id="74af1-168">For parent projects and project groups, when the system selects the available work order project or project group, the selection is based on the records that you created by using the preceding procedure.</span></span> <span data-ttu-id="74af1-169">Управление активами перебирает записи, которые связаны с проектом заказа на работу для проверки наличия возможных соответствий.</span><span class="sxs-lookup"><span data-stu-id="74af1-169">Asset Management goes through records that are related to the work order project to check for a possible match.</span></span> <span data-ttu-id="74af1-170">Она всегда проверяет наиболее конкретные комбинации в первую очередь.</span><span class="sxs-lookup"><span data-stu-id="74af1-170">It always checks the most specific combination first.</span></span> <span data-ttu-id="74af1-171">Другими словами, для родительского проекта заказа на работу "Управление активами" сначала проверяет возможное соответствие для поля **Актив**.</span><span class="sxs-lookup"><span data-stu-id="74af1-171">In other words, for the work order parent project, Asset Management first checks for a possible match for the **Asset** field.</span></span> <span data-ttu-id="74af1-172">Если совпадение не найдено, оно проверяет на совпадение поле **Тип актива**.</span><span class="sxs-lookup"><span data-stu-id="74af1-172">If no match is found, it checks for a match for the **Asset type** field.</span></span> <span data-ttu-id="74af1-173">Если совпадение не найдено, оно проверяет на совпадение поле **Функциональное местоположение** и т. д.</span><span class="sxs-lookup"><span data-stu-id="74af1-173">If no match is found, it checks for a match for the **Functional location** field, and so on.</span></span> <span data-ttu-id="74af1-174">Как вы можете видеть в макете страницы **Настройка заказа на работу по проекту**, это поведение означает, что, чтобы найти наиболее конкретную комбинацию, "Управление активами" проверяет каждую запись справа налево на совпадение.</span><span class="sxs-lookup"><span data-stu-id="74af1-174">As you can see in the layout of the **Work order project setup** page, this behavior means that, to find the most specific combination, Asset Management checks each record from right to left for a match.</span></span> <span data-ttu-id="74af1-175">Если совпадений не найдено, используется запись по умолчанию, в которой выбран только код проекта.</span><span class="sxs-lookup"><span data-stu-id="74af1-175">If no match is found, the default record where only a project ID is selected is used.</span></span> <span data-ttu-id="74af1-176">Процесс поиска связанной группы проектов аналогичен.</span><span class="sxs-lookup"><span data-stu-id="74af1-176">The process for finding the related project group is similar.</span></span> <span data-ttu-id="74af1-177">Управление активами сначала проверяет возможное соответствие для поля **Актив**, затем поле **Тип актива**, затем поле **Тип заказа на работу**.</span><span class="sxs-lookup"><span data-stu-id="74af1-177">Asset Management first checks for a possible match for the **Asset** field, then the **Asset type** field, and then the **Work order type** field.</span></span> <span data-ttu-id="74af1-178">Если совпадений не найдено, используется запись по умолчанию, в которой выбрана только группа проектов.</span><span class="sxs-lookup"><span data-stu-id="74af1-178">If no match is found, the default record where only a project group is selected is used.</span></span>
