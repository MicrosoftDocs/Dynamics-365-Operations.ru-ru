---
title: Выставление счетов за обслуживание принадлежащих заказчику активов
description: В этой статье описан порядок создания, обработки и выставления счетов за работу по обслуживанию, выполненную с активами, принадлежащими клиентам.
author: johanhoffmann
ms.date: 01/28/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ProjProjectContractsListPage, ProjInvoiceTable, ProjProjectsListPage, ProjTable, EntAssetWorkOrderType, EntAssetWorkOrderProjectSetup, EntAssetObjectTable, EntAssetWorkOrderTable
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2021-01-28
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: c0d067ec4f2110b1c146ef0229b90e309578eaa7
ms.sourcegitcommit: 203c8bc263f4ab238cc7534d4dd902fd996d2b0f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/23/2022
ms.locfileid: "9335086"
---
# <a name="bill-for-maintenance-on-customer-owned-assets"></a>Выставление счетов за обслуживание принадлежащих заказчику активов

[!include [banner](../../includes/banner.md)]

Функция *Выставление счетов за заказы на работу* позволяет создавать и выставлять счета за работу по обслуживанию, выполненную для активов, принадлежащих клиентам. Эта функция позволяют выполнять следующие задачи:

- Свяжите клиентов с активами, которыми они владеют.
- Выберите клиента и просмотрите активы, которыми владеет клиент, при создании заказа на работу.
- Настройте родительский проект для каждого клиента.
- Зарегистрируйте часы, номенклатуры, расходы и сборы по заказу на работу, затем создайте предложение по накладной для клиента позже.

Кроме того, эта функция предоставляет следующие функциональные возможности:

- Контракт по проекту из родительского проекта клиента автоматически копируется в соответствующий проект заказа на работу.
- Управление активами может теперь использовать тип проводки по проекту *сборы* как по прогнозам заказов на работу, так и по журналам заказов на работу.

## <a name="turn-on-the-customer-billing-feature"></a>Включение функции выставления счетов клиенту

Прежде чем использовать эту функцию, ее необходимо включить для системы. Администраторы могут использовать параметры [управления компонентами](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) для проверки статуса функции и ее включения. В рабочей области **Управление функциями** эта функция перечисляется следующими способами:

- **Модуль:** *Управление и учет по проектам*
- **Название функции:** *Выставление счетов по заказу на работу*

## <a name="example-scenario"></a>Пример сценария

Чтобы узнать, как работает эта функция, обработайте следующий пример сценария.

Для работы с этим сценарием с помощью образцов записей и значений, указанных здесь, необходимо использовать систему, в которой установлены стандартные [демонстрационные данные](../../../fin-ops-core/fin-ops/get-started/demo-data.md). Перед началом необходимо выбрать юридическое лицо **USMF**.

Этот сценарий можно также использовать в качестве руководства по использованию этой функции при работе в производственной системе. Однако в этом случае необходимо подставить собственные значения, и у вас могут отсутствовать некоторые типы необходимых записей, предоставляемых стандартными демонстрационными данными.

### <a name="step-1-create-a-new-project-contract-for-the-customer"></a>Шаг 1. Создайте новый контракт по проекту для клиента

1. Перейдите в раздел **Управление и учет по проектам \> Проекты \> Контракты по проектам**.
1. В области действий выберите **Создать**.
1. В открывшемся диалоговом окне **Создать контракт по проекту** задайте следующие значения:

    - **Имя:** *Pelican Wholesales*
    - **Тип финансирования:** *Клиент*
    - **Источник финансирования:** *US-013* (*Pelican Wholesales*)

1. Нажмите **ОК**.

### <a name="step-2-create-a-new-parent-project-for-the-customer"></a>Шаг 2. Создайте новый родительский проект для клиента

Родительский проект, созданный здесь, будет использоваться при создании заказов на работу для клиента.

1. Перейдите в раздел **Управление и учет по проектам \> Проекты \> Все проекты**.
1. В области действий выберите **Создать**.
1. В диалоговом окне **Создать проект** задайте следующие значения:

    - **Тип проекта:** *Время и расходы*
    - **Название проекта:** *Заказы на работу Pelican Wholesales*
    - **Группа проектов:** *TM*
    - **Код контракта по проекту:** *Pelican Wholesales* (созданный ранее контракт)
    - **Дата начала:** выберите сегодняшнюю дату.

1. Выберите **Создать проект**.
1. Открывается новый проект. Запишите значение **Код проекта**. Потребуется ввести его позже.

### <a name="step-3-create-a-new-work-order-type-in-asset-management"></a>Шаг 3. Создайте новый тип заказа на работу в управлении активами

1. Перейдите в раздел **Управление активами \> Настройка \> Заказ на работу \> Типы заказов на работу**.
1. В области действий выберите **Создать**.
1. В список добавляется новая запись. Установите следующие значения для нее:

    - **Тип заказа на работу:** *Сервис*
    - **Название:** *Сервисные заказы на работу*
    - **Состояние жизненного цикла заказа на работу:** *Стандартное*

### <a name="step-4-link-the-customer-account-to-the-parent-project"></a>Шаг 4. Свяжите учетную запись клиента с родительским проектом

Теперь учетную запись клиента необходимо связать с родительским проектом в настройке проекта в модуле "Управление активами".

1. Перейдите в раздел **Управление активами \> Настройка \> Заказы на работу \> Настройки проектов**.
1. На вкладке **Родительский проект** выберите **Добавить**, чтобы добавить строку.
1. В новой строке установите следующие значения:

    - **Учетная запись клиента:** *US-013* (*Pelican Wholesales*)
    - **Код проекта:** введите код проекта, который вы записали ранее.

### <a name="step-5-link-the-project-group-and-type-to-the-work-order-project"></a>Шаг 5. Свяжите группу проектов и тип с проектом заказа на работу

Вы по-прежнему должны находиться на странице **Настройка проекта** (**Управление активами \> Настройка \> Заказы на работу \> Настройка проекта**).

1. На вкладке **Группа проектов** выберите **Добавить**, чтобы добавить строку.
1. В новой строке установите следующие значения:

    - **Тип заказа на работу:** *Сервис* (тип заказа на работу, который был создан ранее)
    - **Группа проектов:** *TM*

> [!NOTE]
> Контракт по проекту в проекте заказа на работу всегда наследуется из родительского проекта.

### <a name="step-6-link-an-asset-to-the-customer-id"></a>Шаг 6. Свяжите актив с кодом клиента

1. Перейдите к пункту **Управление активами \> Активы \> Активные активы**.
1. В поле **Фильтр** введите *VE-102* и выберите фильтрацию по параметру **Актив**.
1. Выберите актив, чтобы открыть его настройки.
1. На экспресс-вкладке **Клиент** задайте для поля **Счет клиента** значение *US-013* (*Pelican Wholesales*).

    Поле **Имя** автоматически обновляется на *Pelican Wholesales*.

### <a name="step-7-create-a-new-work-order-on-the-asset"></a>Шаг 7. Создайте новый заказ на работу для актива

1. Перейдите в раздел **Управление активами \> Заказы на работу \> Активные заказы на работу**.
1. В области действий выберите **Создать**.
1. В диалоговом окне **Создание заказа на работу** установите следующие значения:

    - **Тип заказа на работу:** *Сервис*
    - **Описание:** *Ремонт грузовика*
    - **Учетная запись клиента:** *US-013* (*Pelican Wholesales*)
    - **Актив:** *VE-102*

        > [!NOTE]
        > В подстановке отображаются только те активы, которые связаны с выбранной учетной записью клиента.

    - **Типа задания по обслуживанию:** *Ремонт*
    - **Специальность:** *Механик*
    - **Уровень сервиса:** *4*

1. Нажмите **ОК**.

### <a name="step-8-review-the-work-order-and-start-to-work-on-it"></a>Шаг 8. Проверьте заказ на работу и начните работать с ним

В этом разделе вы будете работать с заказом на работу, который был создан в предыдущем разделе.

1. Выполните следующие действия, чтобы убедиться, что родительский проект является проектом *Заказ на работу для Pelican Wholesales*:

    1. В разделе **Задания на обслуживание из заказа на работу** выберите строку.
    1. На экспресс-вкладке **Сведения по строке** проверьте значение **Код проекта**. Он должен быть числом с дефисом в форме *\<Parent-Project-ID\>-\<Project-ID\>*. Это значение является ссылкой.
    1. Выберите ссылку на код проекта, чтобы открыть страницу, на которой можно просмотреть родительский проект и имена проектов.

1. В области действий на вкладке **Заказ на работу** в группе **Состояние жизненного цикла** выберите **Обновить состояние заказа на работу**.
1. В диалоговом окне **Обновление состояния заказа на работу** в столбце **Выбор** установите флажок рядом со строкой, для которой в поле **Состояние жизненного цикла** указано значение *Выполняется*.
1. Нажмите **ОК**.
1. В диалоговом окне **Состояние жизненного цикла: выполняется** выберите **ОК**.

### <a name="step-9-post-the-hours-that-were-spent-on-the-work-order-and-create-a-new-invoice-proposal"></a>Шаг 9. Разноска часов, затраченных на заказ на работу, и создание нового предложения по накладной

В этом разделе вы продолжите работать с заказом на работу, с которым работали в предыдущем разделе.

1. В области действий на вкладке **Заказ на работу** в группе **Проект** выберите **Журналы**.

    Отображается страница **Журнал заказов на работу**. Здесь можно зарегистрировать время, потраченное на заказ на работу.

1. На экспресс-вкладке **Часы** выберите **Добавить строку**.
1. В новой строке задайте в поле **Часы** значение *4*.
1. На панели операций выберите **Разнести журналы**.
1. Закройте страницу **Журналы заказов на работу**, чтобы вернуться к рабочему заказу.
1. На панели операций откройте вкладку **Выставление счетов** и выберите **Создать предложение по накладной**.
1. В диалоговом окне **Создать предложение по накладной** в разделе **Проводки по проекту** установите флажок **Выбрать** для каждой строки, для которой необходимо выставить накладную.
1. Выберите **ОК**, чтобы закрыть диалоговое окно и просмотреть новое предложение по накладным.


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]