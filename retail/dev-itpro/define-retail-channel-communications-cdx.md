---
title: "Определение коммуникаций канала розничной торговли (Commerce Data Exchange)"
description: "Эта статья содержит обзор Commerce Data Exchange и его компонентов. Она объясняет роль, которую каждый компонент играет в перемещении данных между Microsoft Dynamics 365 for Retail и каналами розничной торговли."
author: josaw1
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-365-retail
ms.technology: 
audience: Application User
ms.search.scope: AX 7.0.0, Operations, Core, Retail
ms.custom: 27021
ms.assetid: 179b1629-ac90-4cfb-b46a-5bda56c4f451
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.translationtype: Human Translation
ms.sourcegitcommit: 298ac47e2253f8add1aa3938dda15afe186afbeb
ms.openlocfilehash: 68252e52da47b89166627edbf2aa530e762354c6
ms.contentlocale: ru-ru
ms.lasthandoff: 06/20/2017


---

# <a name="define-retail-channel-communications-commerce-data-exchange"></a>Определение коммуникаций канала розничной торговли (Commerce Data Exchange)

[!include[banner](../includes/banner.md)]


Эта статья содержит обзор Commerce Data Exchange и его компонентов. Она объясняет роль, которую каждый компонент играет в перемещении данных между Microsoft Dynamics 365 for Retail и каналами розничной торговли.

<a name="overview"></a>Обзор
--------

Commerce Data Exchange — это система, которая передает данные между Dynamics 365 for Retail и розничными каналами, такими как интернет-магазины или традиционные магазины. База данных, в которой хранятся данные канала розничного торговли, отделена от базы данных Dynamics 365 for Retail. База данных канала содержит только данные, которые необходимы для проводок розничной торговли. Справочник настраивается в Dynamics 365 for Retail и распределяется по каналам. Данные проводок создаются в системе POS или интернет-магазине, а затем отправляются в Dynamics 365 for Retail. Распределение данных асинхронно. Другими словами, процесс сбора и упаковки данных в источнике происходит отдельно от процесса получения и применения данных в месте назначения. В некоторых сценариях, таких как поиск цены и запасов, данные необходимо извлекать в реальном времени. Для поддержки таких сценариев Commerce Data Exchange также включает службу, которая включает обмен данными между Dynamics 365 for Retail и каналом в реальном времени. 

[![обновленный-рисунок-розничной-торговли](./media/updated-retail-graphic.png)](./media/updated-retail-graphic.png)  

## <a name="async-service"></a>Асинхронная служба
Отслеживание изменений Microsoft SQL Server в базе данных Dynamics 365 for Retail используется для определения изменений данных, которые необходимо отправить в каналы. На основании графика распределения Dynamics 365 for Retail упаковывает эти данные и сохраняет их в центральном хранилище (хранилище BLOB-объектов Azure). Отдельный процесс пакетной обработки использует Commerce Data Exchange: библиотеку Async Client для того, чтобы вставить этот пакет данных в базу данных канала. 

[![Асинхронная служба](./media/async-300x239.png)](./media/async.png)

### <a name="retail-scheduler"></a>Розничная сеть - Планировщик

Задания планировщика представляют собой механизм распределения данных в местоположения и из них. Задания состоят из подзаданий, которые указывают таблицы и поля таблиц, содержащие данные для распределения. Dynamics 365 for Retail включает предопределенные задания и подзадания планировщика, которые отвечают требованиям репликации большинства организаций. Созданы следующие типы предопределенных заданий:

-   **Задания загрузки** — задания загрузки отправляют измененные данные из Dynamics 365 for Retail в базы данных канала. Изменения в записях отслеживаются с помощью отслеживания изменений SQL Server.
-   **Задания отправки (задания Р)** — задания отправки извлекают проводки по продажам из каналов в базу данных Dynamics 365 for Retail. Задания Р отправляют данные с приращением. Когда задание Р выполняется, библиотека Async Client проверяет счетчик репликаций для записей, которые уже были получены из расположения. Запись отправляется, только если ее счетчик репликаций больше чем самое большое найденное значение. Задания Р не обновляют данные, отправленные ранее.

График распределения используется для выполнения передачи данных либо вручную, либо путем планирования пакетного задания в Dynamics 365 for Retail. График распределения может содержать одну или несколько групп данных каналов и одно или несколько заданий планировщика.

## <a name="realtime-service"></a>Служба Real-time Service
Служба Commerce Data Exchange: Real-time Service — это интегрированная служба, которая обеспечивает взаимодействие в реальном времени между Dynamics 365 for Retail и каналами розничной торговли. Служба Real-time Service в реальном времени позволяет отдельным компьютерам POS и интернет-магазинам извлекать определенные данные из Dynamics 365 for Retail в реальном времени. Хотя большинство ключевых операций можно выполнить в локальной базе данных канала, следующие сценарии требуют прямого доступа к данным, которые хранятся в Dynamics 365 for Retail:

-   Выпуск и погашение подарочный карт.
-   Погашение баллов по программе лояльности.
-   Выпуск и погашение кредитовых авизо.
-   Создание и обновление записей клиентов.
-   Создание, обновление и завершение заказов на продажу.
-   Получение запасов по заказу на покупку или заказу на перемещение.
-   Выполнение складского учета.
-   Извлечение проводок по продажам из магазинов и выполнение проводок по возврату.

[![Служба Real-time Service](./media/rts.png)](./media/rts.png) 

Создается предопределенный профиль Real-time Service.




