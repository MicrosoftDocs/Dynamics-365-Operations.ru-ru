---
title: "Имитатор периферийных устройств для розничной торговли"
description: "Описывается средство имитатор периферийных устройств, поставляемым с Microsoft Dynamics 365 for Operations - розничной торговли."
author: josaw1
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User
ms.search.scope: AX 7.0.0, Operations, Core
ms.custom: 266544
ms.assetid: 16f31e70-15fc-441e-9727-e6a31c3a48f5
ms.search.region: global
ms.search.industry: Retail
ms.author: rubendel
ms.search.validFrom: 2016-05-31
ms.dyn365.ops.version: AX 7.0.1
translationtype: Human Translation
ms.sourcegitcommit: 42dc414ff2bb6359b47d89c3bd3c510e4258f816
ms.openlocfilehash: b2229466040351d8c2b9494b30b4c928651820b8
ms.lasthandoff: 03/31/2017


---

# <a name="retail-peripheral-simulator"></a>Имитатор периферийных устройств для розничной торговли

Описывается средство имитатор периферийных устройств, поставляемым с Microsoft Dynamics 365 for Operations - розничной торговли.

<a name="overview"></a>Обзор
--------

Microsoft Dynamics 365 для операций - имитатор периферийных устройств розничной торговли является средством, которое помогает настроить, тестирование и устранение неполадок периферийных устройств, которые используются в среде розничной торговли. Имитатор периферийных устройств можно использовать для упрощения тестирования периферийных устройств розничной торговли и выявить проблемы, вызванные неправильная настройка или неисправности драйвера устройств. Системная программа, функциям версий виртуальных устройств, Dynamics 365 для операций включает в себя имитатор периферийных устройств - поддерживает розничной торговли. Раздел для каждого виртуального устройства показано взаимодействие между устройством и точку розничной продажи (POS). Его также можно использовать для обеспечения ввода, который является действительным для различных сценариях POS. Имитатор периферийных устройств поддерживает взаимодействие между POS и следующих виртуальных устройств:

-   **Принтер** – периферийные имитатор может показать приходы, которые настроены для принтера POS.
-   **Отображение строки** — можно настроить виртуальный дисплей выводить мероприятия на дисплее физическую строку.
-   **Считыватель магнитных карт (MSR)** — из периферийных устройств имитатор смоделированных магнитных событий можно отправить через терминал.
-   **Лоток** — можно смоделировать физических кассовый лоток.
-   **Лоток 2** — путем настройки второй денежного ящика в имитатор периферийных устройств, можно смоделировать сценариях, которые включают одной ККМ POS с активной в две смены.
-   **Сканер** — сканер виртуальной штрих-кода, который поддерживает периферийные имитатор может выдавать событий сканирования штрих-кода.
-   **Масштаб** — виртуальный которого можно моделировать взаимодействие взвешенной номенклатуры с POS.
-   **Цифровая клавиатура (PIN) персональный идентификационный** — можно моделировать операции клавиатура для набора ПИН-кода. **Примечание:** необходимо реализовать поддержку физического ввода ПИН-кодов через соединитель платежей.
-   **Считывание рукописных подписей** – периферийные имитатор включает в себя устройство записи виртуальной подписи, можно настроить на выдачу запроса для подписей, которые требуются для некоторых платежные средства, такие как платежей клиента.

Можно также использовать для моделирования сектору события клавиатуры, которые создаются из сканер штрих-кодов и MSR имитатор периферийных устройств. Для устройств с Retail POS (OPOS) виртуальной имитатор периферийных устройств специально поддерживает связывание и внедрение объектов.

## <a name="key-scenarios"></a>Основные сценарии
### <a name="troubleshooting"></a>Устранение неполадок

Имитатор периферийных устройств можно использовать для устранения неполадок установки устройства. При отсутствии имитатор периферийных устройств или второе устройство того же класса, может быть трудно определить, где создаются проблемы. Тем не менее при наличии имитатор периферийных устройств, можно настроить виртуальные устройства и запуска же ветвей кода и бизнес-логики, которые используются для физических устройств. С точки зрения имитатор периферийных устройств основное различие между виртуальных и физических устройств является объект службы или драйвера устройства. Для физических устройств объект обслуживания поставляется изготовителем оборудования. Напротив для имитатор периферийных устройств, как часть периферийных устройств имитатор предоставляются объектов обслуживания. Когда имитатор периферийных устройств работает правильно, если устройство не работает неправильно после изменения имени фактического устройства имя устройства в профиле оборудования, можно предположить, что имеется проблема с объектом обслуживания, предоставляемыми изготовителем.

### <a name="training"></a>Обучение

Имитатор периферийных устройств можно использовать для добавления реалистичные слоя, чтобы кассиру Обучение недоступно при настройке физического оборудования. При периферийных устройств имитатор включено в сценариях обучения, кассир может взаимодействовать с POS, более эффективно, предоставляя входных данных, например продукции штрих-кода последовательностей и подарочных карт вставляет и определить, какие чеки печатаются для конкретной операции.

### <a name="testing"></a>Тестирование

Имитатор периферийных устройств можно использовать для проверки штрих-кодов продуктов, форматов чеков и т. д., без физического оборудования в виртуальной среде развертывания. Физическое оборудование не требуется, и нет необходимости развертывания POS клиента на станцию оборудования или физический компьютер, можно проверить изменения, внесенные в бэк-офиса быстрее.

## <a name="set-up-the-peripheral-simulator"></a>Настройка имитатора периферийных устройств
### <a name="set-up-a-hardware-profile"></a>Настройка профилей оборудования

1.  Чтобы настроить имитатор периферийных устройств, перейдите к **розничной торговли и электронной коммерции**&gt;**настройку канала**&gt;**настройки POS**&gt;**профилей POS**&gt;**профили оборудования**.
2.  Чтобы создать новый профиль, нажмите кнопку **создать**.
3.  Введите значения в **номер профиля** и **описание** поля.
4.  Воспользуйтесь следующей таблицей, чтобы настроить виртуальные устройства, которые подлежат проверке. Ниже приведено описание столбцов в таблице.
    -   **Устройство** — этот столбец содержит имя экспресс-вкладку, которая расширения для настройки устройства.
    -   **Тип устройства** — этот столбец предоставляет значение, выбранное в поле, которое обозначается имя устройства.
    -   **Имя устройства** – в этом столбце показаны точное значение, которое вводится для имени устройства. **Важно:** имена устройств, которые Здесь задается являются обязательными, поскольку станции оборудования использует эти конкретные имена для устранения устройств. Если не используется этим специальным именами, нельзя использовать устройство.

    | Устройство            | Тип устройства | Наименование устройства              |
    |-------------------|-------------|--------------------------|
    | Принтер           | OPOS        | MockOPOSPrinter          |
    | Строковый дисплей      | OPOS        | MockOPOSLineDisplay      |
    | MSR / считыватель магнитных карт               | OPOS        | MockOPOSMSR              |
    | Трассант            | OPOS        | MockOPOSDrawer1          |
    | Drawer2           | OPOS        | MockOPOSDrawers          |
    | Сканер           | OPOS        | MockOPOSScanner          |
    | Шкала             | OPOS        | MockOPOSScale            |
    | Клавиатура для набора ПИН-кода           | OPOS        | MockOPOSPinPad           |
    | Считывание рукописных подписей | OPOS        | MockOPOSSignatureCapture |

**Примечание:** требуется определенная настройка в профиле оборудования для моделирования события клавиатуры сектору из сканер штрих-кодов и MSR.

### <a name="assign-the-hardware-profile-to-a-register"></a>Назначение профиля оборудования кассе

1.  После создания профиля оборудования, перейдите к **розничной торговли и электронной коммерции**&gt;**настройку канала**&gt;**настройки POS**&gt;**регистрирует**.
2.  В **ККМ POS**, щелкните ссылку в **номер регистра** поле регистра, следует использовать имитатор периферийных устройств.
3.  Выберите **Изменить**.
4.  В **профилей** в разделе **профиль оборудования** выберите профиль оборудования, который вы создали для виртуальной периферийных устройств.
5.  Click **Save**.

### <a name="synchronize-changes-to-the-channel-database"></a>Синхронизировать изменения в базе данных канала

1.  Последовательно выберите пункты **розничной торговли и электронной коммерции**&gt;**Retail ИТ**&gt;**график распределения**.
2.  Выберите **1090** график распределения.
3.  Щелкните **запустить сейчас** для синхронизации изменений в POS.

После синхронизации данных нового профиля оборудования и изменения на ККМ доступны в базе данных канала.

## <a name="install-the-peripheral-simulator"></a>Установка имитатор периферийных устройств
1.  Последовательно выберите пункты **розничной торговли и электронной коммерции**&gt;**настройку канала**&gt;**настройки POS**&gt;**профилей POS**&gt;**профили оборудования**.
2.  Щелкните **загрузки**, а затем щелкните **PeripheralSimulator**. **Примечание:** необходимо отключить всплывающих перед загрузкой имитатор периферийных устройств.
3.  После завершения загрузки, откройте **загружает** папки и дважды щелкните **VirtualPeripherals.msi** Чтобы запустить установщик.
4.  Установите имитатор периферийных устройств, используя параметры по умолчанию.

В дополнение к имитатор периферийных устройств необходимо установить компонент common control objects из Monroe консультационных услуг. В противном случае имитатор периферийных устройств будет работать неправильно. Чтобы загрузить компонент common control objects, перейдите к <http://monroecs.com/oposccos_current.htm>.

## <a name="using-the-peripheral-simulator"></a>С помощью имитатор периферийных устройств
Чтобы начать имитатор периферийных устройств, щелкните **начать** на локальном компьютере, введите **имитатор периферийных устройств розничной торговли**и выберите приложение, когда он отображается в результатах поиска. После запуска имитатор периферийных устройств, щелкните имя устройства на поддерживаемых устройствах см. Эти устройства будут перечислены в виде вкладок в левой части окна. Для просмотра конкретного устройства, перейдите на вкладку для этого устройства.

### <a name="line-display-capabilities"></a>Возможности отображения строки

Отображение строк является первым устройством, которое указано в имитатор периферийных устройств. Во время настройки виртуальной строковый дисплей показывает номенклатуры строки как они учитываются в проводке POS. В дополнение к позиций на экране отобразится общая сумма, причитающуюся при выборе платежного средства на POS. Она также показывает сальдо, которая должна быть выплачена, если вводится платежного средства, но баланса по-прежнему оплаты для проводки. Если POS не используется, чтобы указать, что кассы закрыто могут отображаться сообщение. Необходимо настроить в сообщении **отображения строки** экспресс-в профиле оборудования.

### <a name="cash-drawer-capabilities"></a>Возможности денежного ящика

Денежный ящик является вторым устройством, перечисленного в имитатор периферийных устройств. При настройке в профиле оборудования для использования виртуального денежные ящики POS открывает кассовый лоток для смены активного в ответ на денежный ящик операций, таких как деклараций платежных средств, и, в котором кассир может внести изменения или депонирования денежных средств во время стандартного cash-and-carry проводок. Виртуальные денежные ящики подписями **основной лоток** и **дополнительный лоток**. Эти метки представляют ящика и лоток 2 в профиле оборудования, соответственно. При закрытии ящика, отображается изображение закрытых кассовом лотке, и кнопка на закрытые денежный ящик обозначается **Открыть денежный ящик**. При нажатии этой кнопки открывает кассовый лоток, означающий, что ящик открыть изображение заменяется изображение. Кнопка на открытие денежного ящика помечена как **Закройте лоток**. Несколько операций на POS может привести к для открытия денежного ящика. Большинство операций невозможно продолжить, пока открыт в кассовом лотке. Исключение составляют некоторые процедуры на конец дня. Если POS пользователь получает сообщение об ошибке о том, что операция не может быть выполнена при открытом денежный ящик, пользователь должен закрыть виртуальных или физических денежный ящик для продолжения. Если денежного ящика помечен как **Shared** в профиле оборудования система не гарантирует, что ящик закрыт перед выполнением операции. Операция продолжается как обычно, даже если открыт в кассовом лотке. Это поведение поддерживает сценарии, денежные ящики, совместно используются торговых партнеров, а один связать использует кассового лотка, а другой сотрудник выполняет Несвязанные задачи на устройстве POS свой собственный. Изменения, вносимые в кассовый лоток не очевидно, пока текущая Смена закрывается и открывается новая Смена.

### <a name="msr-capabilities"></a>MSR возможности

Имитатор периферийных устройств поддерживает надежных виртуальных MSR операций при работе в режиме OPOS или режиме сектору клавиатуры. Режим OPOS требуется, MSR был настроен в профиле оборудования для работы в качестве устройства OPOS. Режим сектору клавиатуры просто отправляет события данных сектору клавиатуры Microsoft Windows. Помимо различий в настройке OPOS и клавиатуры режимы сектору отличаются следующими способами:

-   Клиент POS позволяет магнитных КАРТ OPOS устройств для конкретных сценариев, таких как сценарии, позволяющие магнитных карт сведения о программе лояльности или записи подарочных карт.
-   В режиме сектору клавиатуры периферийные имитатор отправляет данные клавиатуры сектору поля, является активным при отправке данных. Это поведение аналогично, происходит, если данные, введенные с помощью клавиатуры. Для использования в качестве клавиатуры сектору MSR, пользователь должен переключить для розничной торговли современное POS (MPOS) чтобы убедиться в том, что получения нужного поля данных. Таким образом задержка, можно настроить так, чтобы пользователь имел время, чтобы убедиться в том, что данные будут отправлены на правильное поле.

#### <a name="testing-gift-and-payment-card-swipes"></a>Тестирование вставляет карты подарков и оплаты

Виртуальные MSR, периферийные Имитатор предоставляет также можно настроить конкретные данные MSR для проверки сценариев для оплаты в отношении подарков и вставляет карты. Чтобы создать карточку, щелкните знак "плюс" (**+**) и выберите тип карты. Затем укажите номер карточки или отслеживания данных, в которой должен быть передан через терминал вместе с Заключительный месяц и год, заданных карты. Значение, выбранное в **тип карты** поле является просто меткой, которая может быть сопоставлен карточки. Эта метка помогает выявлять карт при их считывании номером через имитатор периферийных устройств. Можно выбрать карт, которые были настроены в имитатор периферийных устройств, используя стрелки влево (**&lt;**) и вправо (**&gt;**) кнопки над изображением карты. Можно редактировать и удалять карты, используя **редактирование** и **удаление** кнопки рядом с знак "плюс" (**+**) кнопки.

### <a name="pin-pad"></a>Клавиатура для набора ПИН-кода

Можно настроить имитатор клавиатура для набора ПИН-кода для моделирования клавиатура для набора ПИН-кода OPOS. Когда создается проводка система электронных платежей электронных платежей будет выполняться на POS и требует ввода ПИН-кода, станции оборудования вызывает КОНТАКТНОЕ устройство запрашивать ПИН. Чтобы начать работу, в имитатор периферийных устройств ввода ПИН-кодов требуется поддержка connector платежа электронных ПЛАТЕЖЕЙ.

### <a name="printer"></a>Принтер

Виртуального периферийных устройств принтера только показывает приходы напечатанных через торговый Терминал. Если операция печати создает несколько приходов, можно просмотреть приходы.

#### <a name="configure-receipt-printing"></a>Настройка печати чеков

1.  Последовательно выберите пункты **розничной торговли и электронной коммерции**&gt;**настройку канала**&gt;**настройки POS**&gt;**профилей POS**&gt;**профили оборудования**.
2.  Выберите профиль оборудования, который вы создали для виртуальной периферийных устройств.
3.  На **принтера** экспресс-щелкните **редактирование**.
4.  В **код профиля чеков** выберите профиль чеков.
5.  Click **Save**.

### <a name="scale"></a>Шкала

Когда продукт шкалы добавляется к проводке на POS и масштаб настроен, вес POS загружается из шкалы. Для обоих виртуальных и физических шкалы продукта или вес должен быть указан перед добавлением продукта в проводку. Прежде чем добавить масштабировать продукт в проводку, перейти шкалы в имитатор периферийных устройств и используйте знак "плюс" (**+**) и "минус" (**–**) кнопки, чтобы скорректировать веса, которой должна отчитываться шкалы. Можно также ввести непосредственно в нужной вес **текущее значение** поле. Единицы измерения веса масштаба можно настроить с помощью знак "плюс" (**+**), **редактирование**, и **удаление** кнопки. Таким образом единицы измерения могут быть указаны на основе продуктов, которые являются взвесить или языкового стандарта, в которых используется масштаб.

#### <a name="configure-a-scale-product"></a>Настройка шкалы продукта

1.  Последовательно выберите пункты **розничной торговли и****commerce**&gt;**продукты и категории**&gt;**выпущенные продукты по категориям**.
2.  Открытие записи продукта.
3.  Выберите продукт, чтобы взвесить.
4.  На **Retail** установить экспресс- **масштабировать продукт** параметра из **нет** для **Да**.

#### <a name="synchronize-changes-to-the-channel-database"></a>Синхронизировать изменения в базе данных канала

1.  Последовательно выберите пункты **розничной торговли и электронной коммерции**&gt;**Retail ИТ**&gt;**график распределения**.
2.  Выберите **1040** график распределения.
3.  Щелкните **запустить сейчас** для синхронизации изменений в POS.

После синхронизации данных, при добавлении продукта шкалы проводок POS, POS будут проверены Масштаб веса.

### <a name="signature-capture"></a>Считывание рукописных подписей

Устройство записи виртуальной подписи пользователю уведомить подпись на панели записи виртуальной подписи платежного средства, который используется требуется подпись. Пользователь может подтвердить подпись, чтобы отобразить его на POS. Кассир может затем принимать подписи. Подпись затем сохраняется вместе с платежного средства и синхронизируется бэк-офиса вместе с остальных данных.

#### <a name="set-up-a-tender-to-require-a-signature"></a>Настройка платежного средства требовать подпись

1.  Последовательно выберите пункты **розничной торговли и электронной коммерции**&gt;**каналов**&gt;**розничные магазины**&gt;**все розничные магазины**.
2.  Выбор розничного магазина.
3.  Выберите **Изменить**.
4.  Щелкните **Настройка**, а затем в **Настройка** щелкните ссылку **способы оплаты**.
5.  Выберите **Изменить**.
6.  Выберите метод оплаты, который требует подписи.
7.  В **Общие** в разделе **захватить подписи**, установите **использовать устройство записи подписи** параметр для **Да**.
8.  В **минимальную сумму записи подписи** введите минимальную сумму, которое должно запускать записи подписи.

#### <a name="synchronize-changes-to-the-channel-database"></a>Синхронизировать изменения в базе данных канала

1.  Последовательно выберите пункты **розничной торговли и электронной коммерции**&gt;**Retail ИТ**&gt;**график распределения**.
2.  Выберите **1070** график распределения.
3.  Щелкните **запустить сейчас** для синхронизации изменений в POS.

После синхронизации данных, когда используется платежного средства, требующего подписи и сумма порогу подписи, подписи на устройстве записи виртуальной подпись предлагает POS.

## <a name="additional-configuration"></a>Дополнительная настройка
Пользователь может изменять файл конфигурации периферийных устройств имитатор более соответствующим образом для обращения к сценариям, тестировании. Можно найти файл конфигурации в C:\\Program Files (x86)\\Microsoft Dynamics 365\\70\\VirtualPeripherals\\Microsoft.Dynamics.Commerce.VirtualPeripherals.Client.exe.config. Файл конфигурации определяет единицы измерения, доступные для испытания шкалы, доступных для тестирования типов карт и типов штрих-кода. Например изменяя текстовые значения в файле конфигурации, можно добавить новый тип карты или единицы измерения, которые могут быть выбраны во время выполнения. Новые значения будут отображаться после перезапуска приложения.

## <a name="troubleshooting"></a>Устранение неполадок
Действия для периферийных устройств имитатор регистрируются в рамках имитатор периферийных устройств. Журнал можно найти на C:\\Program Files (x86)\\Microsoft Dynamics 365\\70\\VirtualPeripherals\\Microsoft.Dynamics.Commerce.VirtualPeripherals.Client.exe.config. Имитатор периферийных устройств также сообщает о проблемах в журнал событий Windows, к которому можно получить в **приложений и журналы служб**&gt;**Microsoft**&gt;**DynamicsAX**. Если изменения, внесенные в профиле оборудования или других областей не очевидно при использовании MPOS или имитатор периферийных устройств, проверьте распределения задания планировщика, которые используется для синхронизации данных в базе данных канала. Если изменения были синхронизированы, но все еще не очевидно на POS, перезапустите клиент POS. Изменения сконфигурированной денежные ящики не вступления в силу, пока создается новая Смена. Таким образом при внесении изменений в денежные ящики, убедитесь, что всегда закрывать существующую смену, чтобы проверить новую настройку денежного ящика. В некоторых случаях от изготовителя драйвера после компонент common control objects из Monroe консультационных услуг, драйвер может вызвать компонент common control objects работает неправильно. В этом случае необходимо переустановить компонент common control objects.

<a name="see-also"></a>См. также
--------

[Retail peripherals overview](retail-peripherals-overview.md)


