---
title: "Сброс финансовой отчетности киоска данных после восстановления базы данных"
description: "В этом разделе описывается сброс финансовой отчетности киоска данных после восстановления Microsoft Dynamics 365 для операций базы данных."
author: twheeloc
manager: AnnBe
ms.date: 2016-12-08 16 - 20 - 13
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User, IT Pro
ms.search.scope: Operations, Core
ms.custom: 261824
ms.assetid: d0784b2c-fe10-428d-8d07-fd474ca50fcc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
translationtype: Human Translation
ms.sourcegitcommit: 4d6cf88788dcc5e982e509137aa444a020137a5e
ms.openlocfilehash: 3967cbb869fbb23d5d7716f619e4c22b4a273921
ms.lasthandoff: 03/29/2017


---

# <a name="reset-the-financial-reporting-data-mart-after-restoring-a-database"></a>Сброс финансовой отчетности киоска данных после восстановления базы данных

В этом разделе описывается сброс финансовой отчетности киоска данных после восстановления Microsoft Dynamics 365 для операций базы данных. 

Существует несколько сценариев, в которых может потребоваться восстановление данных Dynamics 365 для операций базы данных из резервной копии или копии базы данных из другой среды. В этом случае необходимо также выполните соответствующие действия, чтобы убедиться, что финансовой отчетности киоска данных правильно использует восстановленной Dynamics 365 для операций базы данных. При наличии вопросов о сбросе финансовой отчетности киоска данных по причине за пределами восстановление Dynamics 365 для операций базы данных, см. в [Сброс киоска данных Management Reporter](https://blogs.msdn.microsoft.com/dynamics_financial_reporting/2016/06/28/resetting-the-management-reporter-data-mart/) для получения дополнительных сведений. Шаги в этом процессе, поддерживаются для Dynamics 365 для операции май 2016 выпуска (приложение 7.0.1265.23014 и финансовой отчетности построения 7.0.10000.4) и более новые версии. Если имеется более ранней версии Dynamics 365 для операций, обратитесь к специалисту службы поддержки за помощью.

## <a name="export-report-definitions"></a>Экспорт определения отчетов
Во-первых экспортируйте макеты отчетов, расположенный в конструкторе отчетов, выполнив следующие действия:

1.  В конструкторе отчетов перейдите к **компании**&gt;**группы шаблонов**.
2.  Выберите группу шаблонов, который требуется экспортировать и нажмите кнопку **Экспорт**. **Примечание:** Dynamics 365 for Operations, поддерживается только одной группы шаблонов, **по умолчанию**.
3.  Выбор определения отчетов для экспорта:
    -   Для того, чтобы экспортировать все ваши определения отчета и связанные строительные блоки, щелкните **Выбрать все**.
    -   Чтобы экспортировать определенные отчеты, строки, столбцы, деревья или наборы аналитик, щелкните соответствующую вкладку и выберите элементы для экспорта. Нажмите и удерживайте нажатой клавишу CTRL, чтобы выбрать многочисленные элементы на вкладке. При выборе отчетов для экспорта выбраны соответствующие строки, столбцы, деревья и наборы аналитик.

4.  Щелкните **Экспорт**.
5.  Введите имя файла и выберите безопасном месте, где требуется сохранить экспортированные определения отчетов.
6.  Click **Save**.

Файл можно копировать или загружена в безопасном месте, что позволяет импортировать в данный момент в другой среде. Сведения об использовании учетной записи Microsoft Azure хранения данных можно найти в [переноса данных с помощью служебной программы командной строки AzCopy](https://docs.microsoft.com/en-gb/azure/storage/storage-use-azcopy). **Примечание:** Корпорация Майкрософт не предоставляет учетную запись хранилища как часть данных Dynamics 365 для операций соглашения. Необходимо приобрести учетную запись хранилища или использовать учетную запись хранилища из отдельных Azure подписки. **Важно:** знать поведение диска D в Azure виртуальных машин. Не следует хранить ваших группах экспортированные стандартный блок без возможности восстановления. Дополнительные сведения о временные диски см. в разделе [понимание временного диска на Windows Azure виртуальные машины](https://blogs.msdn.microsoft.com/mast/2013/12/06/understanding-the-temporary-drive-on-windows-azure-virtual-machines/).

## <a name="stop-services"></a>Остановка служб
Использование удаленного рабочего стола для подключения всех компьютеров в среде и остановите следующие службы Windows с помощью services.msc:

-   Веб-публикации службы (на все компьютеры AOS)
-   Microsoft Dynamics 365 для службы управления пакетных операций (открытой AOS только на компьютерах)
-   Управление 2012 служба процессов (бизнес-Аналитики только на компьютерах)

Эти службы будут иметь доступ Dynamics 365 для операций базы данных.

## <a name="reset"></a>Сброс
#### <a name="locate-the-latest-dataupgradezip-package"></a>Найдите последнюю версию пакета DataUpgrade.zip

Найдите последний пакет DataUpgrade.zip с помощью инструкции в [загрузку сценария DataUpgrade.zip](..\migration-upgrade\upgrade-data-to-latest-update.md). Инструкции показывают, как находить правильную версию пакета обновления данных для существующей среды.

#### <a name="execute-scripts-against-dynamics-365-for-operations-database"></a>Выполнить сценарий на основе Dynamics 365 для операций базы данных

Следующие сценарии выполняются Dynamics 365 для операций базы данных (не для финансовых базы данных отчетов).

-   DataUpgrade.zip\\AosService\\сценариев\\ConfigureAxReportingIntegration.sql
-   DataUpgrade.zip\\AosService\\сценариев\\GrantAzViewChangeTracking.sql

Эти скрипты Проверьте правильность пользователи, роли и параметры отслеживания изменений.

#### <a name="execute-powershell-command-to-reset-database"></a>Выполнение команды PowerShell, чтобы восстановить базу данных

Выполните следующую команду, непосредственно на компьютере с сервером AOS, чтобы сбросить интеграции Dynamics 365 для операций и финансовых отчетов:

1.  Открыть Windows PowerShell от имени администратора.
2.  Выполнение: е.
3.  Выполнение: компакт-диска F:\\MRApplicationService\\MRInstallDirectory
4.  Выполнение: Импорт модуль. \\Сервера\\MRDeploy\\MRDeploy.psd1
5.  Выполнение: Сброс DatamartIntegration-другие причины - ReasonDetail»&lt;Мои причину Сброс&gt;»
    -   Будет предложено ввести «Y», чтобы подтвердить.

Объяснение параметров:

-   Допустимые значения - причин являются: ОБСЛУЖИВАНИЯ, BADDATA, OTHER.
-   Параметр - ReasonDetail является произвольным текстом.
-   Причина и reasonDetail будут записаны в мониторинг телеметрии/среде.

## <a name="start-services"></a>Запуск служб
Используйте services.msc, чтобы перезапустить службы, остановленные ранее:

-   Веб-публикации службы (на все компьютеры AOS)
-   Microsoft Dynamics 365 для службы управления пакетных операций (открытой AOS только на компьютерах)
-   Управление 2012 служба процессов (бизнес-Аналитики только на компьютерах)

## <a name="import-report-definitions"></a>Импорт определений отчетов
Импортируйте проект отчета из конструктора отчетов, используя файл, созданный во время экспорта:

1.  В конструкторе отчетов перейдите к **компании**&gt;**группы шаблонов**.
2.  Выберите группу шаблонов, который требуется экспортировать и нажмите кнопку **Экспорт**. **Примечание:** Dynamics 365 for Operations, поддерживается только одной группы шаблонов, **по умолчанию**.
3.  Выберите **по умолчанию** создания шаблонов и нажмите кнопку **импорта**.
4.  Выберите файл, содержащий определения экспортируемого отчета и нажмите кнопку **откройте**.
5.  В диалоговом окнеИмпорт, выберите определения отчета для того, чтобы импортировать:
    -   Чтобы импортировать все определения отчетов и поддерживающие строительные блоки, щелкните **Выбрать все**.
    -   Для того, чтобы импортировать специфические отчеты, строки, столбцы, деревья, или Наборы аналитик, выбирают отчеты, строки, столбцы, деревья, или Наборы аналитик, которые импортировать.

6.  Click **Import**.



