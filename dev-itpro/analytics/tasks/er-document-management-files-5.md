--- 
title: "Изменение и выполнение формата для использования файлов управления документами в выходных форматах для электронной отчетности (ER)"
description: "В следующих шагах поясняется, как пользователь, которому назначена роль системного администратора или разработчика электронной отчетности, может настроить формат электронной отчетности (ER) для использования файлов управления документами (вложений) в выходных данных электронной отчетности."
author: NickSelin
manager: AnnBe
ms.date: 10/31/2016
ms.topic: business-process
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: f01d88149074b37517d00f03d8f55e1199a5198f
ms.openlocfilehash: b6e98c6b5bdbc637045676e7bfa2dcbf7383fe66
ms.contentlocale: ru-ru
ms.lasthandoff: 07/27/2017

---
# <a name="modify-and-run-format-to-use-document-management-files-in-format-outputs-for-electronic-reporting-er"></a>Изменение и выполнение формата для использования файлов управления документами в выходных форматах для электронной отчетности (ER)

[!include[task guide banner](../../includes/task-guide-banner.md)]

В следующих шагах поясняется, как пользователь, которому назначена роль системного администратора или разработчика электронной отчетности, может настроить формат электронной отчетности (ER) для использования файлов управления документами (вложений) в выходных данных электронной отчетности. Эти шаги можно выполнить в компании DEMF.

Для выполнения этих действий необходимо сначала выполнить шаги в процедуре "Электронная отчетность — Использование файлов управления документами в выходных данных формата (Часть 4. Выполнение формата)".

Эта процедура предназначена для функции, которая была добавлена в версии 1611 Dynamics 365 for Operations.


## <a name="modify-the-format-to-populate-attachments-into-generating-messages-in-binary-format"></a>Изменение формата для заполнения вложений при создании сообщений в двоичном формате
1. Перейдите в раздел "Управление организацией" > "Электронная отчетность" > "Конфигурации".
2. В дереве разверните "Модель накладной клиента".
3. В дереве разверните узел "Модель накладной клиента\Модель накладной клиента (настраиваемая)".
4. В дереве выберите "Модель накладной клиента\Модель накладной клиента (настраиваемая)\Пример сообщения электронной накладной".
5. Выберите Конструктор.
    * Вы заполните сообщение накладной при создании выходных данных в виде XML-файла с использованием кодировку UNICODE.  
6. Щелкните "Добавить корень", чтобы открыть раскрывающееся диалоговое окно.
7. В дереве выберите "Общее\Файл".
8. В поле "Имя" введите "XML-сообщение".
    * XML-сообщение  
9. В поле "Кодировка" введите "UTF-8".
    * UTF-8  
10. Нажмите кнопку "OК".
    * Настройте создание выходных данных в виде ZIP-файла.  
11. Щелкните "Добавить корень", чтобы открыть раскрывающееся диалоговое окно.
12. В дереве выберите "Общее\Папка".
13. В поле "Имя" введите "Выходные данные ZIP".
    * Выходные данные ZIP  
14. Нажмите кнопку "OК".
15. В дереве выберите "Выходные данные ZIP".
    * Добавьте вложения в созданный ZIP-файл в виде файлов с исходными именами и расширениями.  
16. Щелкните "Добавить", чтобы открыть раскрывающееся диалоговое окно.
17. В дереве выберите "Общее\Файл".
18. В поле "Имя" введите "Вложенный файл".
    * Прикрепленный файл  
19. Нажмите кнопку "OК".
20. В дереве выберите "Выходные данные ZIP\Вложенный файл".
21. Щелкните "Добавить", чтобы открыть раскрывающееся диалоговое окно.
22. В дереве выберите "Текст\Base64".
23. Нажмите кнопку "OК".

## <a name="map-new-format-elements-to-data-model"></a>Сопоставление новых элементов формата с моделью данных
1. Перейдите на вкладку "Сопоставление".
2. В дереве разверните узел "model".
3. В дереве разверните "модель\Вложения накладной".
4. В дереве выберите "Выходные данные ZIP\Вложенный файл\Base64".
5. В дереве выберите "модель\Вложения накладной\Содержимое файла".
6. Щелкните "Связать".
7. В дереве выберите "Выходные данные ZIP\Вложенный файл".
8. Щелкните "Изменить имя файла".
9. В дереве разверните узел "model".
10. В дереве разверните "модель\Вложения накладной".
11. В дереве выберите "модель\Вложения накладной\Имя файла".
12. Щелкните "Добавить источник данных".
13. Нажмите кнопку Сохранить.
14. Закройте страницу.
15. В дереве выберите "модель\Вложения накладной".
16. Щелкните "Связать".
17. Нажмите кнопку "Сохранить".
18. Закройте страницу.

## <a name="run-the-designed-report-for-the-selected-invoice"></a>Выполните разработанный отчет для выбранной накладной
1. Щелкните "Выполнить".
2. Разверните раздел "Записи для добавления ()".
3. Щелкните "Фильтр".
4. Выберите строку журнала накладных клиента и поле "Заказ на продажу".
5. В поле "Критерии". В поле "Заказ на продажу" критериев введите номер заказа 000148.
    * 000148  
6. Нажмите кнопку "OК".
7. Нажмите кнопку "OК".
    * Просмотрите созданные выходные данные. Обратите внимание, что помимо сообщения накладной в XML-формате отдельный файл был создан для каждого вложения. Файлы вложений заполняются сжатыми выходными данными ZIP в двоичном формате.  


