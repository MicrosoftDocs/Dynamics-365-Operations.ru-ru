---
title: "Советы и рекомендации для импорта операций с помощью объекта общего журнала"
description: "В этом разделе содержатся советы по импорту данных в общий журнал, с помощью общих журнала объекта."
author: twheeloc
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User
ms.search.scope: AX 7.0.0, Operations, Core
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
translationtype: Human Translation
ms.sourcegitcommit: 4d6cf88788dcc5e982e509137aa444a020137a5e
ms.openlocfilehash: 81a52acd1d9baa12fcfe9d848441901894fa5682
ms.lasthandoff: 03/31/2017


---

# <a name="best-practices-for-importing-vouchers-using-the-general-journal-entity"></a>Советы и рекомендации для импорта операций с помощью объекта общего журнала

В этом разделе содержатся советы по импорту данных в общий журнал, с помощью общих журнала объекта.  

Объект общего журнала можно использовать для импорта операций, счет или корреспондентский счет типом **главной книги, клиента, поставщика или банковского**. Операции вводится в виде одной строки, используя оба **учетной записи** поле и **корр. счет** поле или как несколько строк операции, где только **учетной записи** поле используется (и **корр. счет** остается пустым на каждой строке). Общий журнал объекта не поддерживает каждый тип учетной записи. Вместо этого существуют другие объекты для сценариев, в которых требуются различные комбинации типов счетов. Чтобы импортировать проводки по проекту, используется, например, сущность журнала расходов проекта. Каждая сущность предназначена для поддержки конкретных сценариев, что означает, что дополнительные поля могут быть доступны в сущности для тех случаев, но не в сущности для различных сценариев.

## <a name="setup"></a>Настройка
Прежде чем импортировать с помощью объекта финансового журнала, проверка следующие настройки:

-   **Настройка номерных серий для номера партии журнала** - по умолчанию при импорте с помощью объекта общего журнала, в журнал номеров используется партии номерной серии, которая определяется в параметрах главной книги. Если задать для номерной серии номера пакета журнала значение **Вручную**, номер по умолчанию не применяется. Эта настройка не поддерживается.
-   **Финансовая аналитика конфигурации** -все организации необходимо определить порядок финансовые аналитики, когда объекты используются для импорта проводок. Определяется порядок для **аналитик ГК, интеграции** формата, в **главной книги**&gt;**план счетов**&gt;**аналитики**&gt;**конфигурация финансовой аналитики для интеграции приложений**&gt;**выберите сущностей данных**. Сегменты счета ГК, который импортируется, должны иметь тот же порядок. В противном случае произойдет ошибка во время импорта.

## <a name="general-journal-entity-setup"></a>Настройка объекта "Общий журнал"
Двух параметров управления данными влияют на способ применения номер партии журнала по умолчанию или код операции:

-   **Обработки на основе наборов** (на объекте данных)
-   **Создан** (на сопоставление полей)

В следующих разделах описывается влияние этих параметров и объясняется, как создаются номера партий журналов и номера ваучеров.

### <a name="journal-batch-number"></a>Номер партии журнала

-   Параметр **Обработка на основе набора** в объекте "Общий журнал" не влияет на способ создания номеров партий журналов.
-   Если в поле **Номер партии журнала** задано значение **Сгенерировано автоматически**, новый номер партии журнала создается для каждой импортируемой строки. Это поведение не рекомендуется. Параметр **Сгенерировано автоматически** расположен в проекте импорта в разделе **Просмотр карты** на вкладке **Сведения о сопоставлении**.
-   Если в поле **Номер партии журнала** не задано значение **Сгенерировано автоматически**, номер партии журнала создается следующим образом:
    -   Если номер партии журнала, которая определена в импортируемом файле совпадает с существующей, но не разнесенные ежедневный журнал в Microsoft Dynamics 365 для операций, все строки, имеющие соответствующий номер партии журнала импортируются в существующий журнал. Строки не импортируются в номер партии разнесенного журнала. Вместо этого создается новый номер.
    -   Если номер партии журнала, которая определена в импортируемом файле не соответствует существующей, но не разнесенные ежедневный журнал в Dynamics 365 для операций, в новый журнал группируются все строки, имеющие одинаковый номер партии. Например, все строки, имеющие номер партии журнала 1, импортируются в новый журнал, и все строки, имеющие номер партии журнала 2, импортируются во второй новый журнал. Номер партии журнала создается с помощью номерной серии, определенной в параметрах главной книги.

### <a name="voucher-number"></a>Номер ваучера

-   При использовании параметра **Обработка на основе набора** в объекте "Общий журнал" номер ваучера должен быть предоставлен в импортируемом файле. Каждой проводке в общем журнале назначается номер ваучера, который предоставляется в импортируемом файле, даже если ваучер не сбалансирован. Если вы хотите использовать для обработки на основе наборов, но также можно использовать номерную серию, определенный для кодов операций в Dynamics 365 для операций, исправление будет предоставлена для от февраля 2016 г. Исправление имеет номер 3170316 и доступно для загрузки в Lifecycle Services (LCS). Дополнительные сведения см. в разделе [Загрузка исправлений из Lifecycle Services](..\migration-upgrade\download-hotfix-lcs.md).
    -   Чтобы включить эту функцию для имени журнала, который используется для импорта в Dynamics 365 для операций, установите **распределение кодов в процессе разноски** для **Да**.
    -   Номер ваучера по-прежнему должен быть определен в файле импорта. Это число временных и заменяется Dynamics 365 для кода операции операций при разноске журнала. Убедитесь, что строки журнала сгруппированы правильно по временному номеру ваучера. Например в процессе разноски три строки найденные, временный код ваучера 1. Временные ваучера все три строки, перезаписывается следующего номера в номерной серии. Если эти три строки не являются сбалансированным объектом, ваучер не разносится. Затем, если найдены строки, имеющие временный номер ваучера 2, этот номер заменяется следующим номером ваучера в номерной серии и т. д.

<!-- -->

-   Когда не используется **обработки на основе наборов** установки, нет необходимости номер операции в импортируемом файле. Номера ваучеров создаются во время импорта на основе настройки имени журнала (**Только один ваучер**, **В связи с сальдо** и так далее). Например, если имя журнала определяется как **В связи с сальдо**, первая строка получает новый номер ваучера по умолчанию. Затем система оценивает строку, чтобы определить, равны ли дебеты кредитам. Если существует корр. счет в строке, следующая импортируемая строка получает новый номер ваучера. Если корр. счет не существует, система оценивает, равны ли дебеты кредитам при импорте каждой новой строки.
-   Если в поле **Номер ваучера** задано значение **Сгенерировано автоматически**, импорт завершится ошибкой. Параметр **Сгенерировано автоматически** для поля **Номер ваучера** не поддерживается.

По умолчанию объект "Общий журнал" использует обработку на основе набора. После оценки бизнес-требований организации можно изменить параметр **Обработка на основе набора**, щелкнув **Информационные объекты** в рабочей области **Управление данными**. Обработка на основе набора позволяет ускорить процесс импорта. Если вы не используете обработку на основе набора, импорт объекта "Общий журнал" будет проходить медленнее.


