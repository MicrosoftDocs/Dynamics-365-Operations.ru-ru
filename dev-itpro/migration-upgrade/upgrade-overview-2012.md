---
title: "Обновление Dynamics AX 2012 до Dynamics 365 for Finance and Operations, Enterprise edition"
description: "В этой теме описывается процесс, посредством которого клиенты, которые в настоящее время работают с Microsoft Dynamics AX 2012, могут перенести свои данные и код в Microsoft Dynamics 365 for Finance and Operations, Enterprise edition."
author: tariqbell
manager: AnnBe
ms.date: 06/16/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Developer, IT Pro
ms.reviewer: margoc
ms.search.scope: Operations Platform
ms.search.region: Global
ms.author: tabell
ms.search.validFrom: 2017-06-16
ms.dyn365.ops.version: Platform update 8
ms.translationtype: Human Translation
ms.sourcegitcommit: 6816e3820ab77c71bbf9bde4a068375448331671
ms.openlocfilehash: 13507fcf9c0d626709aeb4e00a8632411204c20f
ms.contentlocale: ru-ru
ms.lasthandoff: 06/15/2017

---

# <a name="upgrade-microsoft-dynamics-ax-2012-to-microsoft-dynamics-365-for-finance-and-operations-enterprise-edition"></a>Обновление Microsoft Dynamics AX 2012 до Microsoft Dynamics 365 for Finance and Operations, Enterprise edition

[!include[banner](../includes/banner.md)]

В обновлении платформы 8, Microsoft Dynamics 365 for Finance and Operations, Enterprise edition предусмотрен путь обновления, посредством которого клиенты, которые в настоящее время работают с Microsoft Dynamics AX 2012, могут перенести свои данные и код в Finance and Operations. Процесс обновления строится на следующих элементах:

- Инструменты, которые помогут вам перенести существующий пользовательский код приложения из AX 2012.
- Процесс обновления данных, который позволяет перенести базу данных. Это даст возможность обновить всю вашу историю проводок.

## <a name="overview"></a>Обзор

В целом процесс обновления можно представить в виде трех общих стадий: анализ, выполнение и проверка.

На следующей схеме показан процесс обновления начала до конца, а также мероприятия, которые мы считаем частью каждого этапа. 

![Процесс обновления](./media/upgrade-process.png)

## <a name="analyze"></a>Анализировать

Мероприятия на стадии "Анализ" позволяют оценить объем усилий, необходимых для обновления. Они также позволяют подготовить план проекта. Эти мероприятия можно выполнить перед покупкой Finance and Operations. Они помогут принять обоснованное решение в отношении покупки, поскольку у вас будет представление об усилиях и ресурсах, которые вам потребуются.

### <a name="sign-up-for-a-public-preview-in-lcs"></a>Регистрация для доступа к общедоступной предварительной версии в LCS

Чтобы выполнить мероприятия стадии "Анализ", прежде чем приобрести Finance and Operations, можно зарегистрироваться для получения доступа к общедоступной предварительной версии. Общедоступная предварительная версия позволяет вам развертывать свои собственные среды Finance and Operations. Она также обеспечивает доступ к средствам в Microsoft Dynamics Lifecycle Services (LCS), которые можно использовать для оценки вашей среды AX 2012 и вашего существующего пользовательского кода.

Если у вас есть существующий проект LCS для AX 2012, для оценки Finance and Operations все равно необходимо зарегистрироваться для создания дополнительного нового проекта.

О том, как получить доступ к общедоступной предварительной версии для клиентов, можно узнать здесь: https://mbs.microsoft.com/customersource/global/AX/news-events/news/Microsoft_Dynamics_AX_Public_Preview.

О том, как получить доступ к общедоступной предварительной версии для партнеров, можно узнать здесь: https://mbs.microsoft.com/partnersource/global/news-events/news/Microsoft_Dynamics_AX_Public_Preview.

Примите к сведению, что эта общедоступная предварительная версия отличается от [30-дневной пробной версии](https://aka.ms/D365OperationTrials). 30 дневная пробная версия позволяет получить развернутый экземпляр Finance and Operations, который можно использовать для изучения и оценки приложения. Однако мероприятия стадии "Анализ" требуют полного доступа к средствам в LCS.

### <a name="select-the-upgrade-methodology"></a>Выбор методологии обновления
В новом проекте LCS установите в качестве методологии проекта **Обновление AX 2012 до Dynamics 365 for Operations**. Эта методология предназначена специально для пользователей AX 2012, выполняющих обновление. В ней подробно описываются три стадии и приводятся ссылки на всю сопутствующую документацию по процессу.

![Методология обновления(./media/methodology.png)
 
### <a name="run-the-upgrade-analyzer"></a>Запуск средства анализа обновления
Средство анализа обновления выполняется применительно к вашей среде AX 2012 и определяет задачи, которые вам следует выполнить для подготовки среды AX 2012, чтобы обновление прошло без проблем и с минимальными затратами:

- **Очистка данных** — этот процесс поможет определить данные, которые можно удалить без потери функциональности. Средство анализа определяет различные типы данных, объем которых можно уменьшить путем запуска процесса очистки. Для каждого типа данных приводится пояснение о последствиях очистки. После этого вы можете решить, запускать ли процесс очистки. Часть стоимости подписки на Finance and Operations зависит от размера базы данных. Следовательно, путем уменьшения размера можно уменьшить этот компонент стоимости подписки, а также сократить длительность процесса ввода в эксплуатацию при обновлении. Меньший размер базы данных позволяет гарантировать более быстрое обновление.
- **Конфигурация SQL** — этот процесс анализирует конфигурацию SQL и предлагает рекомендации по оптимизации. За счет обеспечения оптимальной работы SQL этот процесс помогает сократить длительность процесса ввода в эксплуатацию при обновлении.
- **Устаревшие функции** — этот процесс определяет функции, которые вы используете в настоящее время, но которые не будут доступны в Finance and Operations. Тем самым этот процесс помогает вам выявить пробелы в функциональности на ранних этапах. Также он предлагает возможные альтернативы.

Кроме того, в ходе этого шага необходимо установить KBXXXXXXX в среде AX 2012. Это исправление представляет собой контрольный список подготовки к обновлению. В среде AX 2012 этот контрольный список можно использовать для ввода данных, необходимых для процедуры обновления. Например, одна из задач контрольного списка — это указание учетных сведений Microsoft Azure Active Directory (Azure AD) для каждого текущего пользователя AX 2012, чтобы каждый из пользователей имел возможность входа в Finance and Operations.

Результат этого шага становится рабочим потоком в плане проекта обновления для ваших системных администраторов AX 2012.

Дополнительные сведения см. в разделе [Анализ — использование средства анализа обновления для планирования работ по миграции](upgrade-analyzer-tool.md).

### <a name="run-the-code-upgrade-estimation-tools"></a>Запуск средства оценки обновления кода
Средство оценки обновления кода берет ваш код из AX 2012, преобразует его в новый формат и предоставляет обратную связь о конфликтах, которые разработчик позднее должен разрешить. Этот шаг является основанием для оценки затрат на обновление вашего кода.

Чтобы выполнить этот шаг, необходимо экспортировать ваш код из AX 2012 в качестве экспорта хранилища моделей и отправить его в средство обновления кода в LCS. В результате работы средства обновления кода вы получите обновленную версию своего кода и отчет об оставшихся конфликтах, которые необходимо устранить. Ваш разработчик затем сможет просмотреть и обновленный код, и отчет, чтобы определить объем усилий, необходимых для обновления вашей базы кода.

Результат этого шага представляет собой рабочий поток в плане проекта обновления для ваших разработчиков Microsoft Dynamics AX.

Дополнительные сведения см. в разделе [Анализ — оценка трудозатрат по обновлению кода](analyze-code-upgrade.md).

### <a name="deploy-a-demo-environment"></a>Развертывание демонстрационной среды
Демонстрационная среда — это стандартная среда, содержащая ознакомительные данные (не ваши данные) и стандартный код (без настроек). Мы рекомендуем развернуть демонстрационную среду для оценки новых функций, а также для выполнения базового анализа пробелов в стандартных процессах, которые используются в AX 2012, но могли измениться в Finance and Operations. Вы можете либо развернуть эти демонстрационные среды в Azure, либо загрузить их в качестве виртуальной машины (VM), запускаемой на вашем оборудовании. При их развертывании в Azure вы должны предоставить свою подписку Azure, поскольку вы все еще используете проект ознакомления с общедоступной предварительной версией и пока не приобрели подписку на Finance and Operations.

Результат этого шага представляет собой рабочий поток в плане проекта обновления для ваших функциональных пользователей или бизнес-пользователей.

Дополнительные сведения см. в разделе [Анализ — развертывание в песочнице](analysis-sandbox.md)

### <a name="create-a-project-plan"></a>Создание плана проекта
Шаблон плана проекта входит в состав методологии обновления. На этом шаге результаты предыдущих шагов стадии "Анализ" используется для заполнения плана проекта для проекта обновления. План проекта также будет содержать все сведения о тестировании: тестировании обновления данных, тестировании переключения, итерациях функциональных текстов, а также о ресурсах, назначаемых этим задачам.

На этом этапе план проекта представляет собой ориентир, который поможет вам получить представление о затратах времени и трудозатратах, связанных с обновлением до Finance and Operations.

## <a name="execute"></a>Выполнение
На стадии "Выполнения" вам предстоит выполнить задачи, спланированные на стадии "Анализ". Для перехода на этап "Выполнение" необходимо приобрести Finance and Operations; кроме того, у вас должны быть ресурсы, которые смогут заниматься обновлением.

### <a name="switch-to-the-lcs-implementation-project"></a>Переход к проекту реализации в LCS
Проект ознакомления с общедоступной версией, который вы использовали на стадии "Анализ", выполнил свое предназначение. Теперь его можно удалить. Для оставшихся действия вам потребуется только план проекта, который вы создали на последнем шаге стадии "Анализ".

При покупке подписки на Finance and Operations вы получите подробные сведения о том, как зарегистрироваться на новый проект LCS. Этот проект называется проектом реализации и будет постоянным проектом LCS для вашей подписки в течение всего времени пользования этой подпиской. От проекта ознакомления с общедоступной версией он отличается тем, что управление им осуществляет корпорация Майкрософт. Поэтому этот проект имеет следующие характеристики:

- Все среды в проекте размещены в Azure.
- Управление подпиской Azure, связанной с проектом, осуществляется корпорацией Майкрософт. Следовательно, отдельные счета за пользование Azure не выставляются. Эти затраты покрываются вашей подпиской на Finance and Operations.
- Обслуживанием рабочей среды в проекте занимается корпорация Майкрософт. Следовательно, развертывание кода, обновления и обслуживание инфраструктуры осуществляется непосредственно корпорацией Майкрософт, а не вашими сотрудниками. 

### <a name="perform-the-ax-2012-preparation-tasks"></a>Выполнение задач подготовки в AX 2012
Выполните задачи, выявленные средством анализа обновления и задокументированные в плане проекта обновления. Выполнять эти задачи должны ваши системный администратор Microsoft Dynamics AX и администратор базы данных (DBA).

[Обновление данных AX 2012 для Dynamics 365 for Operations — контрольный список подготовки к обновлению в AX 2012](prepare-data-upgrade.md)

### <a name="perform-code-upgrade"></a>Выполнение обновления кода
Выполните задачи, которые были запланированы на шаге оценки обновления кода на стадии "Анализ". Выполнять эти задачи должны ваши разработчики.

После этого момента изменения кода в AX 2012 должны быть заморожены. В AX 2012 должны быть разрешены только экстренные изменения кода. При внесении изменения его необходимо вручную перенести на новую базу кода.

### <a name="develop-new-code"></a>Разработка нового кода
Выполните задачи, определенные в ходе анализа пробелов на шаге "Развертывание демонстрационной среды" стадии "Анализ". Эти задачи, вероятно, будет представлять собой набор функциональных задачи, определяющих конфигурирование и разработку для реализации пользовательских настроек, связанных с новыми функциями.

### <a name="data-upgrade-development-environment"></a>Обновление данных (среда разработки)
После выполнения задач по обновлению кода можно провести первое обновление вашей базы данных AX 2012 до Finance and Operations. Это первое обновление происходит в среде разработки, чтобы вам легче было исправить или отладить возможные проблемы, обнаруженные на этом этапе. В среде разработки проблему можно сразу же отладить, внести корректировки в код и через считаные минуты заново запустить обновление. Более масштабные среды-песочницы не обладают подобной гибкостью, и на отладку и устранение проблем, обновление кода, развертывание обновленного кода и повторный запуск обновления будет уходить как минимум несколько часов.

Следующий рисунок иллюстрирует процесс. Просто создайте резервную копию базы данных AX 2012, отправьте ее в Azure, восстановите ее в среде Finance and Operations, а затем выполните обновление данных.

![Обновление данных в среде разработки](./media/data-upgrade-dev.png)
 
Обновление данных осуществляется с помощью специального готового к развертыванию пакета. Этот же механизм используется для развертывания нового кода Finance and Operations из одной среды в другой среде.

Базовая инфраструктура, используемая для преобразования данных в базе данных в ходе этого процесса, во многом аналогична инфраструктуре обновления в AX 2012, основанной на пакетных заданиях X++, запускающих классы **ReleaseUpdatexxx**.

Дополнительные сведения см. в разделе [Обновление данных AX 2012 для Dynamics 365 for Operations в среде разработки](data-upgrade-2012.md).

### <a name="data-upgrade-sandbox-environments"></a>Обновление данных (среды-песочницы)
По завершении обновления данных в среде разработки аналогичный процесс можно выполнить в песочнице. Песочница — это среда, в которой бизнес-пользователи и члены функциональной группы могут заниматься тестированием бизнес-процессов с использованием обновленных данных AX 2012 и кода.

На следующем рисунке показан процесс обновления данных в песочнице. Различие состоит в том, что вместо традиционной резервной копии SQL используется средство для создания BACPAC-файлов. Это средство необходимо для преобразования между Microsoft SQL Server и базой данных SQL Azure. Это стандартное средство SQL, не относящееся исключительно к Finance and Operations.

![Обновление данных в песочнице](./media/data-upgrade-sandbox.png)

Дополнительные сведения см. в разделе [Обновление данных AX 2012 для Dynamics 365 for Operations в песочнице](upgrade-data-sandbox.md).
 
## <a name="validate"></a>Проверить
На момент перехода на стадию "Проверка" у вас будут среды, куда входит ваш обновленный пользовательский код и обновленные данные. Эта стадия представляет собой процесс тестирования и проверки обновленной среды на предмет того, что она работает желаемым образом. Кроме того, она включает в себя процесс подготовки к вводу в эксплуатацию.

### <a name="perform-cutover-testing-and-create-a-cutover-plan"></a>Тестирование переключения и создание плана переключения
Под термином _переключение_ здесь понимается окончательный процесс ввода новой системы в эксплуатацию. Этот процесс состоит из задач, имеющих место после выключения AX 2012 и до включения Finance and Operations. 

Целью тестирования является обработка процесса переключение. Это позволяет гарантировать отсутствие проблем для всех, кто будет участвовать в фактическом переключении в рамках ввода в эксплуатацию.

Существует два основных рабочих потока:

- **Технический рабочий поток** — это рабочий поток представляет собой процесс выполнения обновления данных. Ваша компания установит ограничение на допустимую длительность простоя. Простой означает, что ни AX 2012, ни Finance and Operations не будут доступны. Техническому рабочему потоку может потребоваться откорректировать свою процедуру обновления данных в соответствии с установленным компанией ограничением на длительность простоя. 
- **Функциональный рабочий поток** — после обновления данных потребуется выполнить несколько задач по конфигурированию в среде Finance and Operations. Все эти задачи должны быть документированы и оценены количественно, и им должен быть назначен ресурс, поскольку они должны вместе с техническими задачами уложиться в ограничение по простою, установленное компанией.

Дополнительные сведения см. в разделах 
- [Проверка — тестирование переключения](upgrade-cutover-testing.md)
- [Проверка — процесс проверки приложения](app-validation-process.md)

### <a name="functional-test-pass"></a>Проход функционального тестирования
Выполните полный проход функционального тестирования всех бизнес-процессов. Этот проход тестирования должен представлять собой обширное повторное тестирование всех бизнес-процессов, в которых фигурирует Finance and Operations. Эти бизнес-процессы включают в себя как старые процессы, перенесенные из AX 2012, так и новые процессы, в которых задействованы новые функции, впервые реализуемые в Finance and Operations. 

В зависимости от качества кода, устранения проблем и повторного тестирования может потребоваться несколько итераций функционального тестирования. После устранения какой-либо проблемы обязательно протестируйте заново все процессы, которые с ней связаны, чтобы гарантировать, что изменение на затрагивает вышестоящие или нижестоящие процессы.

Дополнительные сведения см. в разделе [Проверка — функциональное тестирование](upgrade-functional-validation.md).

### <a name="pre-go-live-checklist"></a>Контрольный список перед вводом в эксплуатацию
Контрольный список перед вводом в эксплуатацию — это рекомендуемая процедура, способная снизить вероятность ошибок во время окончательного переключения для ввода в эксплуатацию. За неделю до запланированного ввода в эксплуатацию прекратите вносить изменения в конфигурацию AX 2012 (т.е. на странице \<модуль\>\Настройка). Это ограничение на внесение изменений в конфигурации является исключительно процедурным. Системные администраторы Microsoft Dynamics AX просто соглашаются с этого момента откладывать подобные изменения.

Рекомендуем также заморозить изменения кода в базе кода Finance and Operations. Дальнейшие изменения допускать не следует, если они не были проверены и не было установлено, что они не будут блокировать ввод в эксплуатацию.  

После ввода ограничений на изменение конфигурации и заморозки кода следует последний раз провести обновление данных перед переключением. Так вы можете убедиться в том, что все работает должным образом. 

Дополнительные сведения см. в разделе [Проверка — подготовка к вводу в эксплуатацию](upgrade-go-live-prep.md).



### <a name="supported-upgrade-paths"></a>Поддерживаемые пути обновления
По состоянию на июнь 2017 г. поддерживается обновление с Microsoft Dynamics AX 2012 R3 до Microsoft Dynamics 365 for Finance and Operations, Enterprise edition, версия 0617. Поддерживаются все накопительные обновления AX 2012 R3.

Microsoft Dynamics AX 2012 R2 и Microsoft Dynamics AX 2012 RTM в настоящее время не поддерживаются. Эта поддержка будет добавлена позднее в 2017 г.

Поддерживается только обновление до развернутой в облаке версии Finance and Operations. Обновление до локальной версии не поддерживается. Поддержка обновления до локальной версии будет добавлена позднее в 2017 г.

